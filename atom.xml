<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¤œé›¨å£°çƒ¦</title>
  
  <subtitle>Rainvex</subtitle>
  <link href="http://rainvex.com/atom.xml" rel="self"/>
  
  <link href="http://rainvex.com/"/>
  <updated>2022-09-11T07:20:23.000Z</updated>
  <id>http://rainvex.com/</id>
  
  <author>
    <name>å¤œé›¨å£°çƒ¦</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç½®é¡¶</title>
    <link href="http://rainvex.com/categories/%E7%BD%AE%E9%A1%B6/%E7%BD%AE%E9%A1%B6.html"/>
    <id>http://rainvex.com/categories/%E7%BD%AE%E9%A1%B6/%E7%BD%AE%E9%A1%B6.html</id>
    <published>2022-08-22T15:28:01.000Z</published>
    <updated>2022-09-11T07:20:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¿ƒè¡€æ¥æ½®æ–°æ¢äº†ä¸€ä¸ªä¸»é¢˜ï¼Œå¯¹ç€å®˜æ–¹æ–‡æ¡£å’Œä¸€äº›å¤§ä½¬åšçš„æˆå“è¿›è¡Œæ¨¡ä»¿å’Œæ”¹åŠ¨ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šä¸»é¢˜é›†æˆçš„åŠŸèƒ½æ²¡å®Œå–„é…ç½®ï¼Œä¹Ÿæœ‰å¾ˆå¤šæƒ³åŠ ä¸Šçš„é¡µé¢è¿˜æ²¡æœ‰åšï¼Œå¹¶ä¸”å› ä¸ºè¿™ä¸ªä¸»é¢˜æ‰€éœ€è¦è¯·æ±‚çš„èµ„æºæ¯”è¾ƒå¤šï¼Œè®¿é—®èµ·æ¥æ¯”è¾ƒæ…¢ï¼Œè€ƒè™‘åˆ°æ—¶é—´åŸå› åªèƒ½å…ˆåšè¿™ä¹ˆå¤šï¼Œå‹‰å‹‰å¼ºå¼ºèƒ½ç”¨å§ï¼ˆå¤ªç®€é™‹äº†ğŸ˜­ï¼‰ï¼Œä»¥åå†æ…¢æ…¢å®Œå–„ã€‚</p><p>è¯„è®ºç³»ç»Ÿçš„ä½¿ç”¨è¯´æ˜ï¼šè¯„è®ºåŠŸèƒ½ä¾æ‰˜äº<a href="https://twikoo.js.org/">twikoo</a>æä¾›çš„ç›¸å…³æœåŠ¡ï¼Œåœ¨å‘è¡¨è¯„è®ºå‰è¯·å…ˆè¾“å…¥æ˜µç§°å’Œé‚®ç®±ï¼Œè¯„è®ºç³»ç»Ÿä¼šæ ¹æ®è¾“å…¥çš„é‚®ç®±æ˜¾ç¤ºä½ çš„å¤´åƒã€‚å½“ç„¶ï¼Œå¦‚æœä½ ä¸æƒ³è¾“å…¥ä¸ªäººä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥è¾“å…¥ä¸€ä¸ªç¬¦åˆæ ¼å¼çš„é‚®ç®±å³å¯ï¼ˆå¦‚ï¼Œ<a href="mailto:&#x78;&#x78;&#x78;&#64;&#113;&#x71;&#x2e;&#99;&#111;&#x6d;">&#x78;&#x78;&#x78;&#64;&#113;&#x71;&#x2e;&#99;&#111;&#x6d;</a>ï¼‰ï¼Œä»¥æ­¤é€šè¿‡åŒ¿åçš„æ–¹å¼å‘è¡¨è¯„è®ºï¼Œä½†ä¹Ÿè¯·è§„èŒƒå‘è¨€ï¼Œåˆ‡å‹¿å‘å¸ƒå¹¿å‘Šæˆ–æ¶æ„å†…å®¹ç­‰ä¿¡æ¯ï¼Œå¸Œæœ›äº’ç›¸å°Šé‡ã€‚ç”±äºè¯„è®ºç³»ç»Ÿæ˜¯éƒ¨ç½²åœ¨å›½å¤–çš„æ‰˜ç®¡ç½‘ç«™ä¸Šï¼Œåœ¨å›½å†…è®¿é—®èµ·æ¥å¾ˆæ…¢ï¼Œæ¯”è¾ƒå½±å“æ­£å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥è‹¥æƒ³è¯„è®ºè¯·å…ˆç§‘å­¦ä¸Šç½‘ä¸€ä¸‹ä¸‹ğŸ™„ï¼Œç­‰ä»¥åæœ‰é’±äº†å†éƒ¨ç½²åˆ°å›½å†…ï¼Œè°¢è°¢ç†è§£ğŸ˜¶</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¿ƒè¡€æ¥æ½®æ–°æ¢äº†ä¸€ä¸ªä¸»é¢˜ï¼Œå¯¹ç€å®˜æ–¹æ–‡æ¡£å’Œä¸€äº›å¤§ä½¬åšçš„æˆå“è¿›è¡Œæ¨¡ä»¿å’Œæ”¹åŠ¨ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šä¸»é¢˜é›†æˆçš„åŠŸèƒ½æ²¡å®Œå–„é…ç½®ï¼Œä¹Ÿæœ‰å¾ˆå¤šæƒ³åŠ ä¸Šçš„é¡µé¢è¿˜æ²¡æœ‰åšï¼Œå¹¶ä¸”å› ä¸ºè¿™ä¸ªä¸»é¢˜æ‰€éœ€è¦è¯·æ±‚çš„èµ„æºæ¯”è¾ƒå¤šï¼Œè®¿é—®èµ·æ¥æ¯”è¾ƒæ…¢ï¼Œè€ƒè™‘åˆ°æ—¶é—´åŸå› åªèƒ½å…ˆåšè¿™ä¹ˆå¤šï¼Œå‹‰å‹‰å¼ºå¼ºèƒ½ç”¨å§ï¼ˆå¤ªç®€é™‹äº†ğŸ˜­ï¼‰ï¼Œä»¥åå†æ…¢æ…¢å®Œå–„ã€‚&lt;</summary>
      
    
    
    
    <category term="ç½®é¡¶" scheme="http://rainvex.com/categories/%E7%BD%AE%E9%A1%B6/"/>
    
    
    <category term="ç½®é¡¶" scheme="http://rainvex.com/tags/%E7%BD%AE%E9%A1%B6/"/>
    
  </entry>
  
  <entry>
    <title>Mybatis-pluså­¦ä¹ ç¬”è®°</title>
    <link href="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Mybatis-plus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Mybatis-plus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-07-05T07:00:35.000Z</published>
    <updated>2022-07-05T07:00:35.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mybatis-pluså­¦ä¹ ç¬”è®°"><a href="#Mybatis-pluså­¦ä¹ ç¬”è®°" class="headerlink" title="Mybatis-pluså­¦ä¹ ç¬”è®°"></a>Mybatis-pluså­¦ä¹ ç¬”è®°</h1><h2 id="ä¸€ã€å…¥é—¨æ¡ˆä¾‹"><a href="#ä¸€ã€å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="ä¸€ã€å…¥é—¨æ¡ˆä¾‹"></a>ä¸€ã€å…¥é—¨æ¡ˆä¾‹</h2><h3 id="1-1-åˆå§‹åŒ–é¡¹ç›®"><a href="#1-1-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1.1 åˆå§‹åŒ–é¡¹ç›®"></a>1.1 åˆå§‹åŒ–é¡¹ç›®</h3><h4 id="1-åˆ›å»ºæ–°é¡¹ç›®"><a href="#1-åˆ›å»ºæ–°é¡¹ç›®" class="headerlink" title="1.åˆ›å»ºæ–°é¡¹ç›®"></a>1.åˆ›å»ºæ–°é¡¹ç›®</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031603695.png' data-fancybox='default' data-caption='image-20220703160345161'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031603695.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031603695.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220703160345161"></a><span class='image-caption'>image-20220703160345161</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031606981.png' data-fancybox='default' data-caption='image-20220703160636682'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031606981.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031606981.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220703160636682"></a><span class='image-caption'>image-20220703160636682</span></div></div><h4 id="2-å¯¼å…¥éœ€è¦çš„ä¾èµ–"><a href="#2-å¯¼å…¥éœ€è¦çš„ä¾èµ–" class="headerlink" title="2.å¯¼å…¥éœ€è¦çš„ä¾èµ–"></a>2.å¯¼å…¥éœ€è¦çš„ä¾èµ–</h4><pre><code class="xml">&lt;!--mybatis-plus--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;    &lt;version&gt;3.5.2&lt;/version&gt;&lt;/dependency&gt;&lt;!--lombok--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;    &lt;artifactId&gt;lombok&lt;/artifactId&gt;    &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;!--mysqlé©±åŠ¨--&gt;&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;version&gt;8.0.29&lt;/version&gt;    &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--druidæ•°æ®æº--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;    &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;1.2.11&lt;/version&gt;&lt;/dependency&gt;</code></pre><h4 id="3-ç¼–å†™é…ç½®æ–‡ä»¶"><a href="#3-ç¼–å†™é…ç½®æ–‡ä»¶" class="headerlink" title="3.ç¼–å†™é…ç½®æ–‡ä»¶"></a>3.ç¼–å†™é…ç½®æ–‡ä»¶</h4><p>é¦–å…ˆæŠŠé¡¹ç›®ä¸­çš„<code>resources</code>ç›®å½•ä¸‹çš„<code>application.properties</code>æ–‡ä»¶é‡å‘½åä¸º<code>application.yaml</code>ï¼ˆå¯é€‰ï¼Œçœ‹è‡ªå·±å¯¹é…ç½®æ–‡ä»¶æ ¼å¼çš„å–œå¥½ï¼‰</p><p>ç„¶ååœ¨<code>application.yaml</code>æ–‡ä»¶ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®</p><pre><code class="yaml">spring:  # é…ç½®æ•°æ®æº  datasource:    type: com.alibaba.druid.pool.DruidDataSource    driver-class-name: com.mysql.cj.jdbc.Driver    url: jdbc:mysql://localhost:3306/mybatisplus?characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC    username: root    password: rootmybatis-plus:  # mybatis-plusæ—¥å¿—é…ç½®  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # mybatis-plusæ˜ å°„æ–‡ä»¶ä½ç½®é…ç½®ï¼Œå³å½“æˆ‘ä»¬éœ€è¦å†™è¾ƒå¤æ‚çš„sqlè¯­å¥æ—¶éœ€è¦åœ¨resoucesç›®å½•ä¸‹çš„xxMapper.xmlä¸­è¿›è¡Œï¼Œè¿™ä¸ªé…ç½®å°±æ˜¯æŒ‡å®šå…¶ä½ç½®  mapper-locations: classpath*:/mapper/**/*.xml</code></pre><p>ç®€è¦ä»‹ç»ï¼š</p><blockquote><p>1ã€typeï¼šæŒ‡å®šæ•°æ®æºçš„ç±»å‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯é˜¿é‡Œå·´å·´çš„druidæ•°æ®æº</p><p>2ã€é©±åŠ¨ç±»driver-class-nameï¼š<br>    spring boot 2.0ï¼ˆå†…ç½®jdbc5é©±åŠ¨ï¼‰ï¼Œé©±åŠ¨ç±»ä½¿ç”¨-&gt;driver-class-name: com.mysql.jdbc.Driver<br>    spring boot 2.1åŠä»¥ä¸Šï¼ˆå†…ç½®jdbc8é©±åŠ¨ï¼‰ï¼Œé©±åŠ¨ç±»ä½¿ç”¨-&gt;driver-class-name: com.mysql.cj.jdbc.Driver<br>    å¦åˆ™è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™ä¼šæœ‰ WARN ä¿¡æ¯</p><p>3ã€è¿æ¥åœ°å€url<br>    MySQL5.7ç‰ˆæœ¬çš„urlï¼šjdbc:mysql://localhost:3306/mybatisplus?characterEncoding=utf-8&amp;useSSL=false<br>    MySQL8.0ç‰ˆæœ¬çš„urlï¼šjdbc:mysql://localhost:3306/mybatisplus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false<br>    å¦åˆ™è¿è¡Œæµ‹è¯•ç”¨ä¾‹æŠ¥å‘Šå¦‚ä¸‹é”™è¯¯ï¼š<br>    java.sql.SQLException: The server time zone value â€˜Ã–ÃÂ¹ÃºÂ±ÃªÃ—Â¼ÃŠÂ±Â¼Ã¤â€™ is unrecognized or represents more</p></blockquote><h3 id="1-2-åˆ›å»ºæ•°æ®åº“"><a href="#1-2-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="1.2 åˆ›å»ºæ•°æ®åº“"></a>1.2 åˆ›å»ºæ•°æ®åº“</h3><h4 id="1-åˆ›å»ºæ•°æ®åº“å’Œè¡¨"><a href="#1-åˆ›å»ºæ•°æ®åº“å’Œè¡¨" class="headerlink" title="1.åˆ›å»ºæ•°æ®åº“å’Œè¡¨"></a>1.åˆ›å»ºæ•°æ®åº“å’Œè¡¨</h4><pre><code class="mysql">CREATE DATABASE `mybatis_plus`use `mybatis_plus`;CREATE TABLE `user` (`id` bigint(20) NOT NULL COMMENT &#39;ä¸»é”®ID&#39;,`name` varchar(30) DEFAULT NULL COMMENT &#39;å§“å&#39;,`age` int(11) DEFAULT NULL COMMENT &#39;å¹´é¾„&#39;,`email` varchar(50) DEFAULT NULL COMMENT &#39;é‚®ç®±&#39;,PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre><h4 id="2-å¯¼å…¥æµ‹è¯•æ•°æ®"><a href="#2-å¯¼å…¥æµ‹è¯•æ•°æ®" class="headerlink" title="2.å¯¼å…¥æµ‹è¯•æ•°æ®"></a>2.å¯¼å…¥æµ‹è¯•æ•°æ®</h4><pre><code class="mysql">INSERT INTO user (id, name, age, email) VALUES(1, &#39;Jone&#39;, 18, &#39;test1@baomidou.com&#39;),(2, &#39;Jack&#39;, 20, &#39;test2@baomidou.com&#39;),(3, &#39;Tom&#39;, 28, &#39;test3@baomidou.com&#39;),(4, &#39;Sandy&#39;, 21, &#39;test4@baomidou.com&#39;),(5, &#39;Billie&#39;, 24, &#39;test5@baomidou.com&#39;);</code></pre><h3 id="1-3-æ„å»ºé¡¹ç›®ç»“æ„"><a href="#1-3-æ„å»ºé¡¹ç›®ç»“æ„" class="headerlink" title="1.3 æ„å»ºé¡¹ç›®ç»“æ„"></a>1.3 æ„å»ºé¡¹ç›®ç»“æ„</h3><h4 id="1-æ–°å»ºåŒ…ã€å®ä½“ç±»å’Œmapperæ¥å£"><a href="#1-æ–°å»ºåŒ…ã€å®ä½“ç±»å’Œmapperæ¥å£" class="headerlink" title="1.æ–°å»ºåŒ…ã€å®ä½“ç±»å’Œmapperæ¥å£"></a>1.æ–°å»ºåŒ…ã€å®ä½“ç±»å’Œmapperæ¥å£</h4><p>ï¼ˆ1ï¼‰åœ¨é¡¹ç›®ä¸­æ–°å»ºåŒ…entityå’Œmapperï¼Œåˆ†åˆ«ç”¨äºå­˜æ”¾å®ä½“ç±»å’Œmapperæ¥å£ç±»</p><p>ï¼ˆ2ï¼‰åœ¨entityåŒ…ä¸­æ–°å»ºä¸€ä¸ªç±»ä¸º``User`ï¼Œå¦‚ä¸‹</p><pre><code class="java">//ä»¥ä¸‹ä¸‰ä¸ªæ³¨è§£çš†æ˜¯lombokæ’ä»¶ä¸­çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨è‡ªå·±ç”Ÿæˆgetterã€setterã€toStringç­‰æ–¹æ³•@Data@AllArgsConstructor@NoArgsConstructorpublic class User &#123;    private Long id;    private String name;    private Integer age;    private String email;&#125;</code></pre><p>é€šè¿‡ç‚¹å‡»å·¦ä¸‹è§’çš„Structureå³å¯æŸ¥çœ‹è¯¥Userç±»çš„ç»“æ„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031638116.png' data-fancybox='default' data-caption='image-20220703163818969'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031638116.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031638116.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220703163818969"></a><span class='image-caption'>image-20220703163818969</span></div></div><p>ï¼ˆ3ï¼‰åœ¨mapperåŒ…ä¸‹æ–°å»ºä¸€ä¸ªæ¥å£ç±»ä¸º``UserMapper<code>ï¼Œä½¿å…¶ç»§æ‰¿</code>BaseMapper`</p><pre><code class="java">//BaseMapperæ˜¯MyBatis-Plusæä¾›çš„æ¨¡æ¿mapperï¼Œå…¶ä¸­åŒ…å«äº†åŸºæœ¬çš„CRUDæ–¹æ³•ï¼Œæ³›å‹ä¸ºæ“ä½œçš„å®ä½“ç±»å‹//å½“ç»§æ‰¿äº†BaseMapperï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¯¥mapperæ¥å£å¯¹è±¡å®ç°å¯¹å•è¡¨çš„åŸºæœ¬CRUDæ“ä½œpublic interface UserMapper extends BaseMapper&lt;User&gt; &#123;&#125;</code></pre><h4 id="2-é…ç½®å¯åŠ¨ç±»"><a href="#2-é…ç½®å¯åŠ¨ç±»" class="headerlink" title="2.é…ç½®å¯åŠ¨ç±»"></a>2.é…ç½®å¯åŠ¨ç±»</h4><p>åœ¨SpringBootå·¥ç¨‹çš„å¯åŠ¨ç±»å³<code>xxxApplication</code>ç¨‹åºä¸Šæ–¹æ·»åŠ æ³¨è§£<code>@MaperScan(&quot;mapperåŒ…çš„è·¯å¾„&quot;)</code>ï¼Œç›®çš„æ˜¯æŒ‡å®šmapperæ‰€åœ¨ä½ç½®ï¼Œè®©Springå®¹å™¨åœ¨è‡ªåŠ¨æ³¨å…¥æ—¶èƒ½å¤Ÿæ‰«æåˆ°mapperæ¥å£ç±»ï¼Œä¸‹æ–¹è¿™ä¸ª<code>com.xk.mybatisplus.mapper</code>å°±æ˜¯åˆšåˆšæˆ‘ä»¬åˆ›å»ºçš„mapperåŒ…</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031641019.png' data-fancybox='default' data-caption='image-20220703164124904'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031641019.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031641019.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220703164124904"></a><span class='image-caption'>image-20220703164124904</span></div></div><p>æ­å»ºå¥½çš„ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031705834.png' data-fancybox='default' data-caption='image-20220703170536716'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031705834.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207031705834.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220703170536716"></a><span class='image-caption'>image-20220703170536716</span></div></div><h3 id="1-4-æµ‹è¯•"><a href="#1-4-æµ‹è¯•" class="headerlink" title="1.4 æµ‹è¯•"></a>1.4 æµ‹è¯•</h3><p>åœ¨Testç›®å½•ä¸­å¯ä»¥æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œç¼–å†™å¥½æµ‹è¯•æ–¹å¼è¿›è¡Œæµ‹è¯•</p><pre><code class="java">@SpringBootTestclass MybatisPlusApplicationTests &#123;    //è¿™å„¿å®ƒä¼šçˆ†çº¢ï¼Œå› ä¸ºæ‰¾ä¸åˆ°æ³¨å…¥çš„å¯¹è±¡ï¼Œå› ä¸ºç±»æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œä½†æ˜¯ç¨‹åºå¯ä»¥æ­£ç¡®çš„æ‰§è¡Œã€‚ä¸ºäº†é¿å…æŠ¥é”™ï¼Œå¯ä»¥åœ¨mapperæ¥å£ä¸Šæ·»åŠ  @Repository æ³¨è§£    @Autowired    private UserMapper userMapper;    @Test    void testSelectList() &#123;        //selectList()æ–¹å¼æ˜¯æ ¹æ®MPå†…ç½®çš„æ¡ä»¶æ„é€ å™¨QueryWrapperæŸ¥è¯¢ä¸€ä¸ªlisté›†åˆï¼Œnullè¡¨ç¤ºæ²¡æœ‰æ¡ä»¶ï¼Œå³æŸ¥è¯¢æ‰€æœ‰        //ç„¶åéå†é›†åˆé€ä¸ªæ‰“å°        userMapper.selectList(null).forEach(System.out::println);    &#125;&#125;</code></pre><p>æµ‹è¯•ç»“æœï¼š</p><pre><code class="java">User(id=1, name=Jone, age=18, email=test1@baomidou.com)User(id=2, name=Jack, age=20, email=test2@baomidou.com)User(id=3, name=Tom, age=28, email=test3@baomidou.com)User(id=4, name=Sandy, age=21, email=test4@baomidou.com)User(id=5, name=Billie, age=24, email=test5@baomidou.com)</code></pre><p>ç”±äºæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†mybatis-plusçš„æ—¥å¿—æ‰“å°åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨æ§åˆ¶å°å¯ä»¥çœ‹è§æ‰§è¡Œè¯¥æµ‹è¯•ç¨‹åºåŠ¨æ€ç”Ÿæˆçš„sqlè¯­å¥ï¼š</p><pre><code class="java">==&gt;  Preparing: SELECT id,name,age,email FROM user==&gt; Parameters: &lt;==    Columns: id, name, age, email&lt;==        Row: 1, Jone, 18, test1@baomidou.com&lt;==        Row: 2, Jack, 20, test2@baomidou.com&lt;==        Row: 3, Tom, 28, test3@baomidou.com&lt;==        Row: 4, Sandy, 21, test4@baomidou.com&lt;==        Row: 5, Billie, 24, test5@baomidou.com&lt;==      Total: 5</code></pre><h2 id="äºŒã€åŸºæœ¬CRUD"><a href="#äºŒã€åŸºæœ¬CRUD" class="headerlink" title="äºŒã€åŸºæœ¬CRUD"></a>äºŒã€åŸºæœ¬CRUD</h2><h3 id="2-1-BaseMapperæ–¹æ³•ä½¿ç”¨ä»‹ç»"><a href="#2-1-BaseMapperæ–¹æ³•ä½¿ç”¨ä»‹ç»" class="headerlink" title="2.1 BaseMapperæ–¹æ³•ä½¿ç”¨ä»‹ç»"></a>2.1 BaseMapperæ–¹æ³•ä½¿ç”¨ä»‹ç»</h3><pre><code class="java">public interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt; &#123;    /**    * æ’å…¥ä¸€æ¡è®°å½•    * @param entity å®ä½“å¯¹è±¡    */    int insert(T entity);    /**    * æ ¹æ® ID åˆ é™¤    * @param id ä¸»é”®ID    */    int deleteById(Serializable id);    /**    * æ ¹æ®å®ä½“(ID)åˆ é™¤    * @param entity å®ä½“å¯¹è±¡    * @since 3.4.4    */    int deleteById(T entity);    /**    * æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•    * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡    */    int deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);    /**    * æ ¹æ® entity æ¡ä»¶ï¼Œåˆ é™¤è®°å½•    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º null,é‡Œé¢çš„ entity ç”¨äºç”Ÿæˆ whereè¯­å¥ï¼‰    */    int delete(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * åˆ é™¤ï¼ˆæ ¹æ®ID æ‰¹é‡åˆ é™¤ï¼‰    * @param idList ä¸»é”®IDåˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)    */    int deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);    /**    * æ ¹æ® ID ä¿®æ”¹    * @param entity å®ä½“å¯¹è±¡    */    int updateById(@Param(Constants.ENTITY) T entity);    /**    * æ ¹æ® whereEntity æ¡ä»¶ï¼Œæ›´æ–°è®°å½•    * @param entity å®ä½“å¯¹è±¡ (set æ¡ä»¶å€¼,å¯ä»¥ä¸º null)    * @param updateWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º null,é‡Œé¢çš„ entity ç”¨äºç”Ÿæˆwhere è¯­å¥ï¼‰    */    int update(@Param(Constants.ENTITY) T entity, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; updateWrapper);    /**    * æ ¹æ® ID æŸ¥è¯¢    * @param id ä¸»é”®ID    */    T selectById(Serializable id);    /**    * æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰    * @param idList ä¸»é”®IDåˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)    */    List&lt;T&gt; selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);    /**    * æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰    * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡    */    List&lt;T&gt; selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);    /**    * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•    * æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä¾‹å¦‚ qw.last(&quot;limit 1&quot;) é™åˆ¶å–ä¸€æ¡è®°å½•, æ³¨æ„ï¼šå¤šæ¡æ•°æ®ä¼šæŠ¥å¼‚å¸¸    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    default T selectOne(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper) &#123;        List&lt;T&gt; ts = this.selectList(queryWrapper);        if (CollectionUtils.isNotEmpty(ts)) &#123;            if (ts.size() != 1) &#123;                throw ExceptionUtils.mpe(&quot;One record is expected, but the query result is multiple records&quot;);            &#125;else&#123;                return ts.get(0);            &#125;        &#125;else&#123;            return null;        &#125;    &#125;    /**    * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢è®°å½•æ•°æ˜¯å¦å­˜åœ¨    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    default boolean exists(Wrapper&lt;T&gt; queryWrapper) &#123;        Long count = this.selectCount(queryWrapper);        return null != count &amp;&amp; count &gt; 0L;    &#125;    /**    * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢æ€»è®°å½•æ•°    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    Long selectCount(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    List&lt;T&gt; selectList(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•    * æ³¨æ„ï¼š åªè¿”å›ç¬¬ä¸€ä¸ªå­—æ®µçš„å€¼    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    List&lt;Object&gt; selectObjs(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰    * @param page åˆ†é¡µæŸ¥è¯¢æ¡ä»¶ï¼ˆå¯ä»¥ä¸º RowBounds.DEFAULTï¼‰    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰    */    &lt;P extends IPage&lt;T&gt;&gt; P selectPage(P page, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);    /**    * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰    * @param page åˆ†é¡µæŸ¥è¯¢æ¡ä»¶    * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»    */    &lt;P extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; P selectMapsPage(P page,@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);&#125;</code></pre><p>é€šè¿‡ä»¥ä¸Šæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¿«çš„å¯¹<strong>å•è¡¨</strong>æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¹¶ä¸”æ— éœ€è‡ªå·±å†™ä¸€å¥sql</p><h3 id="2-2-æ’å…¥"><a href="#2-2-æ’å…¥" class="headerlink" title="2.2 æ’å…¥"></a>2.2 æ’å…¥</h3><p>åœ¨åˆšåˆšå…¥é—¨æ¡ˆä¾‹æ­å»ºå¥½çš„é¡¹ç›®ç»“æ„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•ç±»ä¸­ç¼–å†™æµ‹è¯•ä»£ç å¯¹CRUDè¿›è¡Œæµ‹è¯•</p><pre><code class="java">@Testvoid testInsert()&#123;    User user = new User(null, &quot;å¼ ä¸‰&quot;, 23, &quot;zhangsan@qq.com&quot;);    //insertæ–¹æ³•ç­‰ä»·äºINSERT INTO user ( id, name, age, email ) VALUES ( ?, ?, ?, ? )    //æ’å…¥æˆåŠŸåMybatis-Plusä¼šè¿”å›å—å½±å“è¡Œæ•°ï¼Œå¹¶å°†è¯¥å¯¹è±¡æ’å…¥åçš„å¯¹åº”æ•°æ®çš„idèµ‹å€¼åˆ°å¯¹è±¡ä¸Š    int result = userMapper.insert(user);    //result = 1    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result);    //id=1543529939734368257ï¼Œè¿™æ˜¯MyBatis-Plusåœ¨å®ç°æ•°æ®æ’å…¥æ—¶ï¼Œé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•ç­–ç•¥ç”Ÿæˆçš„idï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­çš„idå­—æ®µç±»å‹è®¾ç½®ä¸ºäº†bigintï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨è¿™ç§æ–¹å¼ç”Ÿæˆidï¼Œè€Œæ˜¯åœ¨å¯¹è±¡çš„idå±æ€§ä¸ŠåŠ ä¸Š@TableIdæ³¨è§£å°†idçš„ç”Ÿæˆæ–¹å¼è®¾ç½®ä¸ºè‡ªå¢ï¼Œè¿™ä¸ªå°±åé¢å†è¯´æ˜    System.out.println(&quot;idè‡ªåŠ¨è·å–ï¼š&quot; + user.getId());&#125;</code></pre><p>æ‰§è¡Œå®Œååœ¨æ•°æ®åº“userè¡¨ä¸­è¿›è¡ŒæŸ¥çœ‹ï¼Œå¯å‘ç°æ–°å¢çš„è®°å½•</p><h3 id="2-3-åˆ é™¤"><a href="#2-3-åˆ é™¤" class="headerlink" title="2.3 åˆ é™¤"></a>2.3 åˆ é™¤</h3><h4 id="2-3-1-é€šè¿‡idåˆ é™¤"><a href="#2-3-1-é€šè¿‡idåˆ é™¤" class="headerlink" title="2.3.1 é€šè¿‡idåˆ é™¤"></a>2.3.1 é€šè¿‡idåˆ é™¤</h4><pre><code class="java">@Testvoid testDelete()&#123;    //é€šè¿‡idåˆ é™¤ç”¨æˆ·ä¿¡æ¯    //DELETE FROM user WHERE id=?    int result = userMapper.deleteById(1543529939734368257L);    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result); //1&#125;</code></pre><p>æ‰§è¡Œåï¼Œidä¸º1543529939734368257çš„æ•°æ®è¢«åˆ é™¤</p><h4 id="2-3-2-é€šè¿‡idæ‰¹é‡åˆ é™¤"><a href="#2-3-2-é€šè¿‡idæ‰¹é‡åˆ é™¤" class="headerlink" title="2.3.2 é€šè¿‡idæ‰¹é‡åˆ é™¤"></a>2.3.2 é€šè¿‡idæ‰¹é‡åˆ é™¤</h4><pre><code class="java">@Testvoid testDelete()&#123;    //é€šè¿‡å¤šä¸ªidæ‰¹é‡åˆ é™¤    //DELETE FROM user WHERE id IN ( ? , ? , ? )    List&lt;Long&gt; idList = Arrays.asList(1L, 2L, 3L);    int result = userMapper.deleteBatchIds(idList);    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result); //1&#125;</code></pre><p>æ‰§è¡Œåï¼Œidä¸º1ã€2ã€3çš„æ•°æ®è¢«åˆ é™¤</p><h4 id="2-3-3-é€šè¿‡mapæ¡ä»¶é›†åˆåˆ é™¤"><a href="#2-3-3-é€šè¿‡mapæ¡ä»¶é›†åˆåˆ é™¤" class="headerlink" title="2.3.3 é€šè¿‡mapæ¡ä»¶é›†åˆåˆ é™¤"></a>2.3.3 é€šè¿‡mapæ¡ä»¶é›†åˆåˆ é™¤</h4><pre><code class="java">@Testvoid testDelete()&#123;    //æ ¹æ®mapé›†åˆä¸­æ‰€è®¾ç½®çš„æ¡ä»¶åˆ é™¤è®°å½•    //DELETE FROM user WHERE name = ? AND age = ?    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();    map.put(&quot;name&quot;, &quot;Sandy&quot;);    map.put(&quot;age&quot;, 21);    int result = userMapper.deleteByMap(map);    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result); //1&#125;</code></pre><p>æ‰§è¡Œåï¼Œnameä¸ºSandyä¸”ageä¸º21çš„æ•°æ®è¢«åˆ é™¤</p><p><strong>ä»2.1å¯çŸ¥ï¼ŒBaseMapperè¿˜æä¾›äº†é€šè¿‡æ¡ä»¶æ„é€ å™¨çš„æ–¹å¼è¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•çš„æµ‹è¯•å°±ç•™åˆ°æ¡ä»¶æ„é€ å™¨è®²è§£éƒ¨åˆ†å†è¿›è¡Œ</strong></p><p>ä¸ºäº†åç»­æµ‹è¯•ï¼Œæˆ‘ä»¬é‡æ–°æ·»åŠ ä¸€äº›æ•°æ®åˆ°æ•°æ®è¡¨ä¸­</p><h3 id="2-4-ä¿®æ”¹"><a href="#2-4-ä¿®æ”¹" class="headerlink" title="2.4 ä¿®æ”¹"></a>2.4 ä¿®æ”¹</h3><pre><code class="java">@Testvoid testUpdate()&#123;    User user = new User(4L, &quot;admin&quot;, 22, null);    //UPDATE user SET name=?, age=? WHERE id=?    int result = userMapper.updateById(user);    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result); //1&#125;</code></pre><p>æ–¹æ³•æ‰§è¡Œåï¼Œidä¸º4çš„æ•°æ®çš„nameã€ageå­—æ®µå€¼ä¼šè¢«ä¿®æ”¹ä¸ºadminå’Œ22ï¼Œè€Œæ²¡æœ‰è¢«è®¾ç½®çš„emailåˆ™ä¸å˜</p><h3 id="2-5-æŸ¥è¯¢"><a href="#2-5-æŸ¥è¯¢" class="headerlink" title="2.5 æŸ¥è¯¢"></a>2.5 æŸ¥è¯¢</h3><h4 id="2-5-1-é€šè¿‡idæŸ¥è¯¢"><a href="#2-5-1-é€šè¿‡idæŸ¥è¯¢" class="headerlink" title="2.5.1 é€šè¿‡idæŸ¥è¯¢"></a>2.5.1 é€šè¿‡idæŸ¥è¯¢</h4><pre><code class="java">@Testvoid testSelect()&#123;    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email FROM user WHERE id=?    User user = userMapper.selectById(4L);    System.out.println(user);//User(id=4, name=admin, age=22, email=test4@baomidou.com)&#125;</code></pre><h4 id="2-5-2-é€šè¿‡idæ‰¹é‡æŸ¥è¯¢"><a href="#2-5-2-é€šè¿‡idæ‰¹é‡æŸ¥è¯¢" class="headerlink" title="2.5.2 é€šè¿‡idæ‰¹é‡æŸ¥è¯¢"></a>2.5.2 é€šè¿‡idæ‰¹é‡æŸ¥è¯¢</h4><pre><code class="java">@Testvoid testSelect()&#123;    //æ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email FROM user WHERE id IN ( ? , ? )    List&lt;Long&gt; idList = Arrays.asList(4L, 5L);    List&lt;User&gt; list = userMapper.selectBatchIds(idList);    list.forEach(System.out::println);    //User(id=4, name=admin, age=22, email=test4@baomidou.com)    //User(id=5, name=Billie, age=24, email=test5@baomidou.com)&#125;</code></pre><h4 id="2-5-3-é€šè¿‡mapæ¡ä»¶é›†åˆæŸ¥è¯¢"><a href="#2-5-3-é€šè¿‡mapæ¡ä»¶é›†åˆæŸ¥è¯¢" class="headerlink" title="2.5.3 é€šè¿‡mapæ¡ä»¶é›†åˆæŸ¥è¯¢"></a>2.5.3 é€šè¿‡mapæ¡ä»¶é›†åˆæŸ¥è¯¢</h4><pre><code class="java">@Testvoid testSelect()&#123;    //é€šè¿‡mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email FROM user WHERE name = ? AND age = ?    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();    map.put(&quot;age&quot;, 22);    map.put(&quot;name&quot;, &quot;admin&quot;);    List&lt;User&gt; list = userMapper.selectByMap(map);    list.forEach(System.out::println);//User(id=4, name=admin, age=22, email=test4@baomidou.com)&#125;</code></pre><h4 id="2-5-4-æŸ¥è¯¢æ‰€æœ‰æ•°æ®"><a href="#2-5-4-æŸ¥è¯¢æ‰€æœ‰æ•°æ®" class="headerlink" title="2.5.4 æŸ¥è¯¢æ‰€æœ‰æ•°æ®"></a>2.5.4 æŸ¥è¯¢æ‰€æœ‰æ•°æ®</h4><pre><code class="java">@Testvoid testSelect()&#123;    //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email FROM user    List&lt;User&gt; list = userMapper.selectList(null);//æŸ¥è¯¢æ¡ä»¶æ„é€ å™¨ä¸ºnullï¼Œè¯´æ˜æ²¡æœ‰æ¡ä»¶ï¼Œåˆ™æŸ¥è¯¢æ‰€æœ‰æ•°æ®    list.forEach(System.out::println);    //User(id=1, name=Jone, age=18, email=test1@baomidou.com)    //User(id=2, name=Jack, age=20, email=test2@baomidou.com)    //User(id=3, name=Tom, age=28, email=test3@baomidou.com)    //User(id=4, name=admin, age=22, email=test4@baomidou.com)    //User(id=5, name=Billie, age=24, email=test5@baomidou.com)&#125;</code></pre><h3 id="2-6-è‡ªå®šä¹‰SQL"><a href="#2-6-è‡ªå®šä¹‰SQL" class="headerlink" title="2.6 è‡ªå®šä¹‰SQL"></a>2.6 è‡ªå®šä¹‰SQL</h3><p>é¦–å…ˆï¼Œåœ¨UserMaperæ¥å£ä¸­è‡ªå®šä¹‰ä¸€ä¸ªæ–¹æ³•</p><pre><code class="java">@Repositorypublic interface UserMapper extends BaseMapper&lt;User&gt; &#123;    Map&lt;String,Object&gt; selectMapById(Long id);&#125;</code></pre><p>ç„¶åï¼Œåœ¨<code>resources</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªmapperç›®å½•ï¼Œå†åœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ª<code>UserMapper.xml</code>æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šåº”è¯¥æå‰åœ¨yamlé…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½<code>mapper-locations</code>ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°è¯¥æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œåœ¨å‰é¢ä¹Ÿå·²ç»æåˆ°è¿‡ä¸”é…ç½®å¥½çš„ï¼‰</p><p>ç„¶åï¼Œåœ¨UserMapperä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.xk.mybatisplus.mapper.UserMapper&quot;&gt;    &lt;!--Map&lt;String,Object&gt; selectMapById(Long id);--&gt;    &lt;select id=&quot;selectMapById&quot; resultType=&quot;map&quot;&gt;        select id,name,age,email from user where id = #&#123;id&#125;    &lt;/select&gt;&lt;/mapper&gt;</code></pre><p>æœ€åï¼Œæµ‹è¯•</p><pre><code class="java">@Testvoid testCustom()&#123;    Map&lt;String, Object&gt; map = userMapper.selectMapById(2L);    System.out.println(map);//&#123;name=Jack, id=2, age=20, email=test2@baomidou.com&#125;&#125;</code></pre><p>è¿™å„¿å…¶å®å°±æ˜¯Mybatisçš„å†…å®¹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç”¨å†åƒMybtisä¸­é‚£æ ·æ¯æ¬¡ä½¿ç”¨XXMapperå‰éƒ½éœ€è¦å…ˆé€šè¿‡SqlSessionè·å–mapperå¯¹è±¡</p><h3 id="2-7-é€šç”¨Service"><a href="#2-7-é€šç”¨Service" class="headerlink" title="2.7 é€šç”¨Service"></a>2.7 é€šç”¨Service</h3><p>Mybatis-pluså°†é€šç”¨çš„service CRUDæ–¹æ³•å°è£…æˆäº†ä¸€ä¸ªIServiceæ¥å£</p><p>è¯´æ˜ï¼š</p><blockquote><p>é€šç”¨ Service CRUD è¢«å°è£…IServiceæ¥å£ï¼Œè¿›ä¸€æ­¥å°è£… CRUD é‡‡ç”¨<code>save</code> <code>saveOrUpdate</code> <code>get </code> <code>remove</code> <code>update</code> <code>list</code> <code>page</code> <code>count</code> <code>chain</code>å‰ç¼€å‘½åçš„æ–¹å¼ä¸ <code>Mapper</code> å±‚è¿›è¡ŒåŒºåˆ†ï¼Œé¿å…æ··æ·†</p><p>åœ¨æ–¹æ³•æ¡ä»¶ä¸­ï¼Œæ³›å‹ <code>T</code> ä¸ºä»»æ„å®ä½“å¯¹è±¡ï¼Œå¯¹è±¡ <code>Wrapper</code> ä¸ºæ¡ä»¶æ„é€ å™¨</p><p>å»ºè®®ï¼šå¦‚æœå­˜åœ¨<strong>è‡ªå®šä¹‰</strong>é€šç”¨ Service æ–¹æ³•çš„å¯èƒ½ï¼Œè¯·åˆ›å»ºè‡ªå·±çš„ <code>IBaseService</code> ç»§æ‰¿ <code>Mybatis-Plus</code> æä¾›çš„åŸºç±»</p></blockquote><p>é€šç”¨Serviceæ¥å£å’Œç±»ä¸­çš„æ–¹æ³•å¯è‡ªè¡Œé€šè¿‡æºç æŸ¥è¯¢</p><p>è¿™é‡Œé€šè¿‡æŸ¥çœ‹Mybatis-plusçš„``IService<code>æ¥å£å’Œ</code>ServiceImpl`ç±»æºç å…³ç³»å¯ä»¥çŸ¥æ™“å¯¹äºæˆ‘ä»¬è‡ªå®šä¹‰çš„Serviceå±‚æ¥å£å’Œç±»åº”è¯¥æ€æ ·ä½¿ç”¨æ¡†æ¶æä¾›çš„é€šç”¨æ–¹æ³•</p><pre><code class="java">//IServiceæ¥å£public interface IService&lt;T&gt;&#123;...&#125;//ServiceImplç±»public class ServiceImpl&lt;M extends BaseMapper&lt;T&gt;, T&gt; implements IService&lt;T&gt; &#123;...&#125;</code></pre><h4 id="2-7-1-å¦‚ä½•ä½¿ç”¨é€šç”¨Service"><a href="#2-7-1-å¦‚ä½•ä½¿ç”¨é€šç”¨Service" class="headerlink" title="2.7.1 å¦‚ä½•ä½¿ç”¨é€šç”¨Service"></a>2.7.1 å¦‚ä½•ä½¿ç”¨é€šç”¨Service</h4><h5 id="1-åˆ›å»ºServiceæ¥å£"><a href="#1-åˆ›å»ºServiceæ¥å£" class="headerlink" title="1.åˆ›å»ºServiceæ¥å£"></a>1.åˆ›å»ºServiceæ¥å£</h5><pre><code class="java">//è®©è‡ªå®šä¹‰serviceç»§æ‰¿IServiceï¼Œå³å¯æ‹¥æœ‰IServiceä¸­å·²å®šä¹‰çš„CRUDé€šç”¨æ–¹æ³•public interface UserService extends IService&lt;User&gt; &#123;&#125;</code></pre><h5 id="2-åˆ›å»ºServiceImpl"><a href="#2-åˆ›å»ºServiceImpl" class="headerlink" title="2.åˆ›å»ºServiceImpl"></a>2.åˆ›å»ºServiceImpl</h5><pre><code class="java">//è®©è‡ªå®šä¹‰çš„serviceæ¥å£å®ç°ç±»å®ç°è‡ªå®šä¹‰çš„serviceæ¥å£ï¼Œå¹¶ä¸”ç»§æ‰¿å·²å®šä¹‰çš„ServiceImplé€šç”¨å®ç°ç±»ï¼Œé‚£ä¹ˆæ­¤æ—¶è‡ªå®šä¹‰çš„serviceæ¥å£å®ç°ç±»æ—¢èƒ½å»å®ç°ä¸”æ‹¥æœ‰è‡ªå®šä¹‰serviceæ¥å£ä¸­çš„æ–¹æ³•ï¼Œåˆèƒ½æ‹¥æœ‰ServiceImplä¸­å·²ç»å®ç°çš„serviceå±‚é€šç”¨æ–¹æ³•@Servicepublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService &#123;&#125;</code></pre><p>å½“UserServiceä¸­æˆ‘ä»¬æ²¡æœ‰å®šä¹‰ä»»ä½•æ–°çš„æ–¹æ³•æ—¶ï¼ŒUserServiceImplè¿™æ ·å†™å¹¶ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºå°½ç®¡åœ¨UserServiceImplé‡Œé¢å¹¶æ²¡æœ‰å»å®ç°æ¥å£UserServiceç»§æ‰¿çš„IServiceä¸­ä»»ä½•çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒç»§æ‰¿çš„ServiceImplå®ç°äº†IServiceçš„æ–¹æ³•ï¼Œç­‰ä»·äºå®ƒè‡ªèº«ä¹Ÿå°±å®ç°äº†IServiceä¸­çš„æ–¹æ³•</p><p>é€šè¿‡ä¸Šæ–¹ServiceImplçš„æºç å¯çŸ¥ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„serviceå®ç°ç±»è¦æƒ³ç»§æ‰¿ServiceImplï¼Œä¸ä»…éœ€è¦æä¾›è¯¥serviceè¦æ“ä½œçš„å®ä½“ç±»å¯¹è±¡ï¼Œè¿˜è¦æä¾›å®ä½“ç±»å¯¹è±¡å¯¹åº”çš„mapperæ¥å£å¯¹è±¡</p><h5 id="3-æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°"><a href="#3-æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°" class="headerlink" title="3.æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°"></a>3.æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°</h5><pre><code class="java">@Testvoid testCountService()&#123;    long count = userService.count();    System.out.println(&quot;æ€»è®°å½•æ•°ï¼š&quot; + count);//æ€»è®°å½•æ•°ï¼š5&#125;</code></pre><h5 id="4-æµ‹è¯•æ‰¹é‡æ’å…¥"><a href="#4-æµ‹è¯•æ‰¹é‡æ’å…¥" class="headerlink" title="4.æµ‹è¯•æ‰¹é‡æ’å…¥"></a>4.æµ‹è¯•æ‰¹é‡æ’å…¥</h5><pre><code class="java">@Testvoid testSaveBatch()&#123;    // SQLé•¿åº¦æœ‰é™åˆ¶ï¼Œæµ·é‡æ•°æ®æ’å…¥å•æ¡SQLæ— æ³•å®è¡Œ    // å› æ­¤MPå°†æ‰¹é‡æ’å…¥æ”¾åœ¨äº†é€šç”¨Serviceä¸­å®ç°ï¼Œè€Œä¸æ˜¯é€šç”¨Mapper    // è€Œåœ¨é€šç”¨Serviceä¸­æ˜¯å°†æ‰€æœ‰æ•°æ®é€šè¿‡å¾ªç¯éå†æ’å…¥å®ç°    ArrayList&lt;User&gt; users = new ArrayList&lt;&gt;();    for (int i = 0; i &lt; 5; i++) &#123;        User user = new User();        user.setName(&quot;ybc&quot; + i);        user.setAge(20 + i);        users.add(user);    &#125;    //SQL:INSERT INTO t_user ( username, age ) VALUES ( ?, ? )    userService.saveBatch(users);&#125;</code></pre><h2 id="ä¸‰ã€å¸¸ç”¨æ³¨è§£"><a href="#ä¸‰ã€å¸¸ç”¨æ³¨è§£" class="headerlink" title="ä¸‰ã€å¸¸ç”¨æ³¨è§£"></a>ä¸‰ã€å¸¸ç”¨æ³¨è§£</h2><h3 id="3-1-TableName"><a href="#3-1-TableName" class="headerlink" title="3.1 @TableName"></a>3.1 @TableName</h3><p>åœ¨ä¹‹å‰çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šéœ€è¦æ“ä½œçš„æ•°æ®åº“è¡¨ï¼Œä½†Mybatis-plusä»ç„¶èƒ½å‡†ç¡®åœ°è‡ªåŠ¨æ“ä½œå¯¹åº”è¡¨ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è‡ªå®šä¹‰Mapperæ¥å£ç»§æ‰¿BaseMapperæ—¶è®¾ç½®äº†BaseMapperçš„æ³›å‹å¯¹è±¡ä¸ºUserï¼ŒMybatis-pluså°±ä¼šæ ¹æ®è¿™ä¸ªå®ä½“å¯¹è±¡ç±»å‹åœ¨æ•°æ®åº“ä¸­æ‰¾åˆ°å¯¹åº”çš„userè¡¨ï¼ˆæ­¤è¿‡ç¨‹ä¸­é»˜è®¤å®ä½“å¯¹è±¡ç±»å‹çš„ç±»åå’Œè¡¨åä¸€è‡´ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œç”±æ­¤å¯çŸ¥ï¼ŒMybatis-plusåœ¨æ“ä½œè¡¨æ—¶ï¼Œæ˜¯ç”±BaseMapperçš„æ³›å‹å†³å®šçš„</p><p>å½“æˆ‘ä»¬å°†userè¡¨ä¿®æ”¹ä¸ºt_userè€ŒUserå¯¹è±¡ç±»å‹åä¸å˜æ—¶ï¼Œå†å»å¯¹æ•°æ®è¡¨è¿›è¡Œæ“ä½œå°±ä¼šå‡ºç°æ‰¾ä¸åˆ°å¯¹åº”è¡¨çš„é”™è¯¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041428394.png' data-fancybox='default' data-caption='image-20220704142801176'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041428394.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041428394.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704142801176"></a><span class='image-caption'>image-20220704142801176</span></div></div><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³ï¼š</p><h4 id="3-1-1-ä½¿ç”¨-TableName"><a href="#3-1-1-ä½¿ç”¨-TableName" class="headerlink" title="3.1.1 ä½¿ç”¨@TableName"></a>3.1.1 ä½¿ç”¨@TableName</h4><p>å½“æˆ‘ä»¬çš„å®ä½“ç±»å¯¹è±¡ç±»åå’Œè¡¨åä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>@TableName</code>æŒ‡å®šï¼Œä¾‹å¦‚ï¼š</p><pre><code class="java">@TableName(&quot;t_user&quot;)//é‡Œé¢çš„å­—ç¬¦ä¸²å°±æ˜¯æ•°æ®åº“ä¸­å¯¹åº”è¡¨çš„è¡¨åpublic class User &#123;    private Long id;    private String name;    private Integer age;    private String email;&#125;</code></pre><h4 id="3-1-2-å…¨å±€é…ç½®"><a href="#3-1-2-å…¨å±€é…ç½®" class="headerlink" title="3.1.2 å…¨å±€é…ç½®"></a>3.1.2 å…¨å±€é…ç½®</h4><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨<code>application.yaml</code>æ–‡ä»¶ä¸­å¯¹è¡¨åçš„å‰ç¼€è¿›è¡Œå…¨å±€é…ç½®</p><pre><code class="yaml">mybatis-plus:  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  mapper-locations: classpath*:/mapper/**/*.xml  global-config:    db-config:      # é…ç½®MyBatis-Plusæ“ä½œè¡¨çš„é»˜è®¤å‰ç¼€      table-prefix: t_</code></pre><h3 id="3-2-TableId"><a href="#3-2-TableId" class="headerlink" title="3.2 @TableId"></a>3.2 @TableId</h3><h4 id="3-2-1-åœºæ™¯ä¸€"><a href="#3-2-1-åœºæ™¯ä¸€" class="headerlink" title="3.2.1 åœºæ™¯ä¸€"></a>3.2.1 åœºæ™¯ä¸€</h4><p>åœ¨Mybatis-plusä¸­é»˜è®¤å°†<strong>id</strong>ä½œä¸ºæ•°æ®è¡¨çš„ä¸»é”®ï¼Œå¦‚æœæˆ‘ä»¬å°†æ•°æ®è¡¨ä¸­idä¿®æ”¹ä¸ºuidï¼ŒUserå¯¹è±¡çš„å±æ€§ä¹Ÿä¿®æ”¹ä¸ºå¯¹åº”çš„uidï¼Œæ­¤æ—¶å½“æˆ‘ä»¬çš„æ•°æ®æ“ä½œä¸­æ¶‰åŠåˆ°å¯¹è±¡uidï¼ŒMybatis-plusä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œè¯´æ˜MyBatis-plusæ²¡æœ‰å°†uidä½œä¸ºä¸»é”®èµ‹å€¼</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041439548.png' data-fancybox='default' data-caption='image-20220704143952381'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041439548.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041439548.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704143952381"></a><span class='image-caption'>image-20220704143952381</span></div></div><p>è§£å†³çš„æ–¹æ³•å°±æ˜¯åœ¨å®ä½“ç±»æ˜¯å¯¹è±¡Userçš„å±æ€§uidä¸ŠåŠ ä¸Š``@TableId`ï¼Œè¡¨æ˜å°†uidä½œä¸ºä¸»é”®</p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId    private Long uid;    private String name;    private Integer age;    private String email;&#125;</code></pre><h4 id="3-2-2-åœºæ™¯äºŒ"><a href="#3-2-2-åœºæ™¯äºŒ" class="headerlink" title="3.2.2 åœºæ™¯äºŒ"></a>3.2.2 åœºæ™¯äºŒ</h4><p>å¦‚æœåœ¨å®ä½“ç±»å¯¹è±¡ä¸­æˆ‘ä»¬çš„ä¸»é”®å±æ€§åä¸ºidï¼Œè€Œåœ¨æ•°æ®åº“è¡¨ä¸­ä¸»é”®å­—æ®µåä¸ºuidï¼Œæ­¤æ—¶å½“æˆ‘ä»¬çš„æ•°æ®æ“ä½œä¸­æ¶‰åŠåˆ°å¯¹è±¡ä¸»é”®idï¼ŒMybatis-plusä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œè¯´æ˜æˆ‘ä»¬å®ä½“ç±»å¯¹è±¡çš„ä¸»é”®idæ²¡æœ‰å’Œæ•°æ®åº“è¡¨ä¸­çš„ä¸»é”®uidå¯¹åº”</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041449102.png' data-fancybox='default' data-caption='image-20220704144912934'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041449102.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041449102.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704144912934"></a><span class='image-caption'>image-20220704144912934</span></div></div><p>è§£å†³æ–¹æ³•æ˜¯é€šè¿‡<code>@TableId</code>çš„<code>value</code>å±æ€§ï¼Œä¸ºå®ä½“ç±»å¯¹è±¡çš„ä¸»é”®idæŒ‡å®šå…¶åœ¨æ•°æ®åº“è¡¨ä¸­çš„æ˜ å°„å</p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;)  //@TableId(&quot;uid&quot;)    private Long id;    private String name;    private Integer age;    private String email;&#125;</code></pre><h4 id="3-2-3-åœºæ™¯ä¸‰"><a href="#3-2-3-åœºæ™¯ä¸‰" class="headerlink" title="3.2.3 åœºæ™¯ä¸‰"></a>3.2.3 åœºæ™¯ä¸‰</h4><p>é€šè¿‡å‰é¢çš„è®²è§£æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒMybatis-pluså¯¹äºä¸»é”®idçš„ç”Ÿæˆæ–¹å¼é»˜è®¤ä¸ºåŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸å¾ˆå¤šæƒ…å†µæ˜¯åŸºäºæ•°æ®åº“çš„è‡ªå¢ç­–ç•¥ç”Ÿæˆï¼Œæ‰€ä»¥ï¼Œè¦å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>@TableId</code>çš„<code>type</code>å±æ€§è®¾ç½®ä¸º<code>IdType.AUTO</code></p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;,type = IdType.AUTO)    private Long id;    private String name;    private Integer age;    private String email;&#125;</code></pre><p>åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒå‰é¢é…ç½®æ•°æ®åº“è¡¨åå‰ç¼€çš„æ–¹å¼ä¸€æ ·ï¼Œé€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œå…¨å±€é…ç½®</p><pre><code class="yaml">mybatis-plus:  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  mapper-locations: classpath*:/mapper/**/*.xml  global-config:    db-config:      # é…ç½®MyBatis-Plusæ“ä½œè¡¨çš„é»˜è®¤å‰ç¼€      table-prefix: t_      # è®¾ç½®idç”Ÿæˆç­–ç•¥ä¸ºè‡ªå¢      id-type: auto</code></pre><p>Mybatis-pluså¯¹äºidçš„ç”Ÿæˆç­–ç•¥æ–¹å¼æœ‰ï¼š</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>ASSIGN_IDï¼ˆé»˜è®¤ï¼‰</td><td>åˆ†é… ID(ä¸»é”®ç±»å‹ä¸º Number(Long å’Œ Integer)æˆ– String)(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextId</code>(é»˜è®¤å®ç°ç±»ä¸º<code>DefaultIdentifierGenerator</code>é›ªèŠ±ç®—æ³•)</td></tr><tr><td>ASSIGN_UUID</td><td>åˆ†é… UUID,ä¸»é”®ç±»å‹ä¸º String(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextUUID</code>(é»˜è®¤ default æ–¹æ³•)</td></tr><tr><td>INPUT</td><td>insert å‰è‡ªè¡Œ set ä¸»é”®å€¼</td></tr><tr><td>NONE</td><td>æ— çŠ¶æ€ï¼Œè¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼ˆæ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€ï¼Œå…¨å±€é‡Œçº¦ç­‰äº INPUTï¼‰</td></tr><tr><td>AUTO</td><td>æ•°æ®åº“ ID è‡ªå¢</td></tr></tbody></table><h4 id="3-2-4-é›ªèŠ±ç®—æ³•"><a href="#3-2-4-é›ªèŠ±ç®—æ³•" class="headerlink" title="3.2.4 é›ªèŠ±ç®—æ³•"></a>3.2.4 é›ªèŠ±ç®—æ³•</h4><h5 id="1-èƒŒæ™¯"><a href="#1-èƒŒæ™¯" class="headerlink" title="1.èƒŒæ™¯"></a>1.èƒŒæ™¯</h5><p>éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆå»åº”å¯¹æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œä»¥åº”å¯¹é€æ¸å¢é•¿çš„è®¿é—®å‹åŠ›å’Œæ•°æ®é‡</p><p>æ•°æ®åº“çš„æ‰©å±•æ–¹å¼ä¸»è¦åŒ…æ‹¬ï¼šä¸šåŠ¡åˆ†åº“ã€ä¸»ä»å¤åˆ¶ï¼Œæ•°æ®åº“åˆ†è¡¨</p><h5 id="2-æ•°æ®åº“åˆ†è¡¨"><a href="#2-æ•°æ®åº“åˆ†è¡¨" class="headerlink" title="2.æ•°æ®åº“åˆ†è¡¨"></a>2.æ•°æ®åº“åˆ†è¡¨</h5><p>å°†ä¸åŒä¸šåŠ¡æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿæ”¯æ’‘ç™¾ä¸‡ç”šè‡³åƒä¸‡ç”¨æˆ·è§„æ¨¡çš„ä¸šåŠ¡ï¼Œä½†å¦‚æœä¸šåŠ¡ç»§ç»­å‘å±•ï¼ŒåŒä¸€ä¸šåŠ¡çš„å•è¡¨æ•°æ®ä¹Ÿä¼šè¾¾åˆ°å•å°æ•°æ®åº“æœåŠ¡å™¨çš„å¤„ç†ç“¶é¢ˆã€‚ä¾‹å¦‚ï¼Œæ·˜å®çš„å‡ äº¿ç”¨æˆ·æ•°æ®ï¼Œå¦‚æœå…¨éƒ¨å­˜æ”¾åœ¨ä¸€å°æ•°æ®åº“æœåŠ¡å™¨çš„ä¸€å¼ è¡¨ä¸­ï¼Œè‚¯å®šæ˜¯æ— æ³•æ»¡è¶³æ€§èƒ½è¦æ±‚çš„ï¼Œæ­¤æ—¶å°±éœ€è¦å¯¹å•è¡¨æ•°æ®è¿›è¡Œæ‹†åˆ†</p><p>å•è¡¨æ•°æ®æ‹†åˆ†æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å‚ç›´åˆ†è¡¨</strong>å’Œ<strong>æ°´å¹³åˆ†è¡¨</strong>ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041511131.png' data-fancybox='default' data-caption='image-20220704151108950'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041511131.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041511131.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704151108950"></a><span class='image-caption'>image-20220704151108950</span></div></div><h6 id="1-å‚ç›´åˆ†è¡¨"><a href="#1-å‚ç›´åˆ†è¡¨" class="headerlink" title="(1)å‚ç›´åˆ†è¡¨"></a>(1)å‚ç›´åˆ†è¡¨</h6><p>å‚ç›´åˆ†è¡¨é€‚åˆå°†è¡¨ä¸­æŸäº›ä¸å¸¸ç”¨ä¸”å äº†å¤§é‡ç©ºé—´çš„åˆ—æ‹†åˆ†å‡ºå»</p><p>ä¾‹å¦‚ï¼Œå‰é¢ç¤ºæ„å›¾ä¸­çš„ nickname å’Œ description å­—æ®µï¼Œå‡è®¾æˆ‘ä»¬æ˜¯ä¸€ä¸ªå©šæ‹ç½‘ç«™ï¼Œç”¨æˆ·åœ¨ç­›é€‰å…¶ä»–ç”¨æˆ·çš„æ—¶å€™ï¼Œä¸»è¦æ˜¯ç”¨ age å’Œ sex ä¸¤ä¸ªå­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œ nickname å’Œ description ä¸¤ä¸ªå­—æ®µä¸»è¦ç”¨äºå±•ç¤ºï¼Œä¸€èˆ¬ä¸ä¼šåœ¨ä¸šåŠ¡æŸ¥è¯¢ä¸­ç”¨åˆ°ã€‚description æœ¬èº«åˆæ¯”è¾ƒé•¿ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªå­—æ®µç‹¬ç«‹åˆ°å¦å¤–ä¸€å¼ è¡¨ä¸­ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢ age å’Œ sex æ—¶ï¼Œå°±èƒ½å¸¦æ¥ä¸€å®šçš„æ€§èƒ½æå‡</p><h6 id="2-æ°´å¹³åˆ†è¡¨"><a href="#2-æ°´å¹³åˆ†è¡¨" class="headerlink" title="(2)æ°´å¹³åˆ†è¡¨"></a>(2)æ°´å¹³åˆ†è¡¨</h6><p>æ°´å¹³åˆ†è¡¨é€‚åˆè¡¨è¡Œæ•°ç‰¹åˆ«å¤§çš„è¡¨ï¼Œæœ‰çš„å…¬å¸è¦æ±‚å•è¡¨è¡Œæ•°è¶…è¿‡ 5000 ä¸‡å°±å¿…é¡»è¿›è¡Œåˆ†è¡¨ï¼Œè¿™ä¸ªæ•°å­—å¯ä»¥ä½œä¸ºå‚è€ƒï¼Œä½†å¹¶ä¸æ˜¯ç»å¯¹æ ‡å‡†ï¼Œå…³é”®è¿˜æ˜¯è¦çœ‹è¡¨çš„è®¿é—®æ€§èƒ½ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„è¡¨ï¼Œå¯èƒ½è¶…è¿‡ 1000ä¸‡å°±è¦åˆ†è¡¨äº†ï¼›è€Œå¯¹äºä¸€äº›ç®€å•çš„è¡¨ï¼Œå³ä½¿å­˜å‚¨æ•°æ®è¶…è¿‡ 1 äº¿è¡Œï¼Œä¹Ÿå¯ä»¥ä¸åˆ†è¡¨</p><p>ä½†ä¸ç®¡æ€æ ·ï¼Œå½“çœ‹åˆ°è¡¨çš„æ•°æ®é‡è¾¾åˆ°åƒä¸‡çº§åˆ«æ—¶ï¼Œä½œä¸ºæ¶æ„å¸ˆå°±è¦è­¦è§‰èµ·æ¥ï¼Œå› ä¸ºè¿™å¾ˆå¯èƒ½æ˜¯æ¶æ„çš„æ€§èƒ½ç“¶é¢ˆæˆ–è€…éšæ‚£</p><p>æ°´å¹³åˆ†è¡¨ç›¸æ¯”å‚ç›´åˆ†è¡¨ï¼Œä¼šå¼•å…¥æ›´å¤šçš„å¤æ‚æ€§ï¼Œä¾‹å¦‚è¦æ±‚å…¨å±€å”¯ä¸€çš„æ•°æ®idè¯¥å¦‚ä½•å¤„ç†ï¼Œæ¯”å¦‚ï¼š</p><blockquote><p>ä¸»é”®è‡ªå¢</p></blockquote><p>â‘ ä»¥æœ€å¸¸è§çš„ç”¨æˆ· ID ä¸ºä¾‹ï¼Œå¯ä»¥æŒ‰ç…§ 1000000 çš„èŒƒå›´å¤§å°è¿›è¡Œåˆ†æ®µï¼Œ1 ~ 999999 æ”¾åˆ°è¡¨ 1ä¸­ï¼Œ1000000 ~ 1999999 æ”¾åˆ°è¡¨2ä¸­ï¼Œä»¥æ­¤ç±»æ¨<br>â‘¡å¤æ‚ç‚¹ï¼šåˆ†æ®µå¤§å°çš„é€‰å–ã€‚åˆ†æ®µå¤ªå°ä¼šå¯¼è‡´åˆ‡åˆ†åå­è¡¨æ•°é‡è¿‡å¤šï¼Œå¢åŠ ç»´æŠ¤å¤æ‚åº¦ï¼›åˆ†æ®µå¤ªå¤§å¯èƒ½ä¼šå¯¼è‡´å•è¡¨ä¾ç„¶å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œä¸€èˆ¬å»ºè®®åˆ†æ®µå¤§å°åœ¨ 100 ä¸‡è‡³ 2000 ä¸‡ä¹‹é—´ï¼Œå…·ä½“éœ€è¦æ ¹æ®ä¸šåŠ¡é€‰å–åˆé€‚çš„åˆ†æ®µå¤§å°<br>â‘¢ä¼˜ç‚¹ï¼šå¯ä»¥éšç€æ•°æ®çš„å¢åŠ å¹³æ»‘åœ°æ‰©å……æ–°çš„è¡¨ã€‚ä¾‹å¦‚ï¼Œç°åœ¨çš„ç”¨æˆ·æ˜¯ 100 ä¸‡ï¼Œå¦‚æœå¢åŠ åˆ° 1000 ä¸‡ï¼Œåªéœ€è¦å¢åŠ æ–°çš„è¡¨å°±å¯ä»¥äº†ï¼ŒåŸæœ‰çš„æ•°æ®ä¸éœ€è¦åŠ¨<br>â‘£ç¼ºç‚¹ï¼šåˆ†å¸ƒä¸å‡åŒ€ã€‚å‡å¦‚æŒ‰ç…§ 1000 ä¸‡æ¥è¿›è¡Œåˆ†è¡¨ï¼Œæœ‰å¯èƒ½æŸä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡åªæœ‰ 1 æ¡ï¼Œè€Œå¦å¤–ä¸€ä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡æœ‰ 1000 ä¸‡æ¡</p><blockquote><p>å–æ¨¡</p></blockquote><p>â‘ åŒæ ·ä»¥ç”¨æˆ· ID ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬ä¸€å¼€å§‹å°±è§„åˆ’äº† 10 ä¸ªæ•°æ®åº“è¡¨ï¼Œå¯ä»¥ç®€å•åœ°ç”¨ <code>user_id % 10</code> çš„å€¼æ¥è¡¨ç¤ºæ•°æ®æ‰€å±çš„æ•°æ®åº“è¡¨ç¼–å·ï¼ŒID ä¸º 985 çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·ä¸º 5 çš„å­è¡¨ä¸­ï¼ŒID ä¸º 10086 çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·ä¸º 6 çš„å­è¡¨ä¸­<br>â‘¡å¤æ‚ç‚¹ï¼šåˆå§‹è¡¨æ•°é‡çš„ç¡®å®šã€‚è¡¨æ•°é‡å¤ªå¤šç»´æŠ¤æ¯”è¾ƒéº»çƒ¦ï¼Œè¡¨æ•°é‡å¤ªå°‘åˆå¯èƒ½å¯¼è‡´å•è¡¨æ€§èƒ½å­˜åœ¨é—®é¢˜<br>â‘¢ä¼˜ç‚¹ï¼šè¡¨åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€<br>â‘£ç¼ºç‚¹ï¼šæ‰©å……æ–°çš„è¡¨å¾ˆéº»çƒ¦ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦é‡åˆ†å¸ƒ</p><blockquote><p>é›ªèŠ±ç®—æ³•</p></blockquote><p>é›ªèŠ±ç®—æ³•æ˜¯ç”±Twitterå…¬å¸ƒçš„åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿä¿è¯ä¸åŒè¡¨çš„ä¸»é”®çš„ä¸é‡å¤æ€§ï¼Œä»¥åŠç›¸åŒè¡¨çš„ä¸»é”®çš„æœ‰åºæ€§<br>â‘ æ ¸å¿ƒæ€æƒ³ï¼šé•¿åº¦å…±64bitï¼ˆä¸€ä¸ªlongå‹ï¼‰ã€‚é¦–å…ˆæ˜¯ä¸€ä¸ªç¬¦å·ä½ï¼Œ1bitæ ‡è¯†ï¼Œç”±äºlongåŸºæœ¬ç±»å‹åœ¨Javaä¸­æ˜¯å¸¦ç¬¦å·çš„ï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ­£æ•°æ˜¯0ï¼Œè´Ÿæ•°æ˜¯1ï¼Œæ‰€ä»¥idä¸€èˆ¬æ˜¯æ­£æ•°ï¼Œæœ€é«˜ä½æ˜¯0ã€‚41bitæ—¶é—´æˆª(æ¯«ç§’çº§)ï¼Œå­˜å‚¨çš„æ˜¯<strong>æ—¶é—´æˆªçš„å·®å€¼</strong>ï¼ˆå½“å‰æ—¶é—´æˆª - å¼€å§‹æ—¶é—´æˆª)ï¼Œç»“æœçº¦ç­‰äº69.73å¹´ã€‚10bitä½œä¸ºæœºå™¨çš„IDï¼ˆ5ä¸ªbitæ˜¯æ•°æ®ä¸­å¿ƒï¼Œ5ä¸ªbitçš„æœºå™¨IDï¼Œå¯ä»¥éƒ¨ç½²åœ¨1024ä¸ªèŠ‚ç‚¹ï¼‰ã€‚12bitä½œä¸ºæ¯«ç§’å†…çš„æµæ°´å·ï¼ˆæ„å‘³ç€æ¯ä¸ªèŠ‚ç‚¹åœ¨æ¯æ¯«ç§’å¯ä»¥äº§ç”Ÿ 4096 ä¸ª IDï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041518006.png' data-fancybox='default' data-caption='image-20220704151850833'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041518006.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041518006.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704151850833"></a><span class='image-caption'>image-20220704151850833</span></div></div><p>â‘¡ä¼˜ç‚¹ï¼šæ•´ä½“ä¸ŠæŒ‰ç…§æ—¶é—´è‡ªå¢æ’åºï¼Œå¹¶ä¸”æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå†…ä¸ä¼šäº§ç”ŸIDç¢°æ’ï¼Œå¹¶ä¸”æ•ˆç‡è¾ƒé«˜</p><h3 id="3-3-TableField"><a href="#3-3-TableField" class="headerlink" title="3.3 @TableField"></a>3.3 @TableField</h3><p>è¿™ä¸ªæ³¨è§£çš„ä½¿ç”¨å’Œä½œç”¨ä¸<code>@TableId</code>ç›¸ä¼¼ï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯é’ˆå¯¹äºæ™®é€šå±æ€§å’Œå­—æ®µä¹‹é—´å…³ç³»çš„æ³¨è§£</p><p>å½“æˆ‘ä»¬çš„å®ä½“ç±»å¯¹è±¡çš„å±æ€§åä¸æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µåä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ³¨è§£å®ç°åŒæ­¥</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨æ•°æ®åº“è¡¨userä¸­çš„å­—æ®µåä¸ºusernameï¼Œè€Œåœ¨å®ä½“ç±»å¯¹è±¡Userçš„å±æ€§åä¸ºnameï¼Œæ­¤æ—¶ä½¿ç”¨<code>@TableField</code>æ³¨è§£çš„<code>value</code>å±æ€§ï¼š</p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;,type = IdType.AUTO)    private Long id;    @TableField(value = &quot;username&quot;) //å¦‚æœæ•°æ®åº“è¡¨ä¸­çš„å­—æ®µåä¸ºä¸‹åˆ’çº¿çš„æ ¼å¼ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•    private String name;    private Integer age;    private String email;&#125;</code></pre><p>å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ä¸­ï¼Œå…¶å±æ€§å€¼å¯èƒ½è¿˜åŒ…å«äº†å…¶å®ƒç±»å‹çš„å¯¹è±¡ï¼Œä½†æ˜¯å®ƒåˆä¸å±äºå½“å‰å¯¹è±¡çš„ä¸€ä¸ªæ•°æ®åº“å­—æ®µï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>@TableField</code>çš„<code>exist</code>å±æ€§ç±»æ’é™¤è¿™ä¸ªå¯¹è±¡å±æ€§ï¼Œæ¯”å¦‚ï¼š</p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;,type = IdType.AUTO)    private Long id;    private String name;    private Integer age;    private String email;    @TableField(exist = false)    private List&lt;Course&gt; courseList;&#125;</code></pre><h3 id="3-4-TableLogic"><a href="#3-4-TableLogic" class="headerlink" title="3.4 @TableLogic"></a>3.4 @TableLogic</h3><p>ç‰©ç†åˆ é™¤ï¼šçœŸå®åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œä¹‹åæŸ¥è¯¢ä¸åˆ°æ­¤æ¡è¢«åˆ é™¤çš„æ•°æ®<br>é€»è¾‘åˆ é™¤ï¼šå‡åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä¸­ä»£è¡¨æ˜¯å¦è¢«åˆ é™¤å­—æ®µçš„çŠ¶æ€ä¿®æ”¹ä¸ºâ€œè¢«åˆ é™¤çŠ¶æ€â€ï¼Œä¹‹ååœ¨æ•°æ®åº“ä¸­ä»æ—§èƒ½çœ‹åˆ°æ­¤æ¡æ•°æ®è®°å½•<br>ä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥è¿›è¡Œæ•°æ®æ¢å¤</p><p>é¦–å…ˆï¼Œåœ¨è¡¨ä¸­åŠ ä¸Šä¸€ä¸ªæ ‡å¿—é€»è¾‘åˆ é™¤çš„å­—æ®µï¼Œæ•°æ®ç±»å‹è®¾ä¸ºintï¼Œé»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºé»˜è®¤ä¸ºæœªåˆ é™¤</p><p>ç„¶åï¼Œåœ¨å¯¹åº”çš„å®ä½“ç±»å¯¹è±¡ä¸­åŠ ä¸Šè¯¥å±æ€§ï¼Œå¹¶åœ¨å±æ€§ä¸Šæ–¹åŠ ä¸Š<code>@TableLogic</code>æ³¨è§£ï¼Œä½œä¸ºé€»è¾‘åˆ é™¤çš„æ ‡è¯†å±æ€§</p><pre><code class="java">@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;,type = IdType.AUTO)    private Long id;    private String name;    private Integer age;    private String email;    @TableLogic    private Integer isDelete;&#125;</code></pre><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å»æµ‹è¯•åˆ é™¤å‡ æ¡æ•°æ®</p><pre><code class="java">@Testvoid testDelete()&#123;    //é€šè¿‡å¤šä¸ªidæ‰¹é‡åˆ é™¤    //DELETE FROM user WHERE id IN ( ? , ? , ? )    List&lt;Long&gt; idList = Arrays.asList(1L, 2L, 3L);    int result = userMapper.deleteBatchIds(idList);    System.out.println(&quot;å—å½±å“è¡Œæ•°ï¼š&quot; + result);&#125;//==&gt;  Preparing: UPDATE t_user SET is_delete=1 WHERE uid IN ( ? , ? , ? ) AND is_delete=0//==&gt; Parameters: 1(Long), 2(Long), 3(Long)//&lt;==    Updates: 3//Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13234ac9]//å—å½±å“è¡Œæ•°ï¼š3//é€šè¿‡æ§åˆ¶å°æ—¥å¿—æ‰“å°å¯ä»¥å‘ç°ï¼Œåˆ é™¤å®è´¨ä¸Šå˜æˆäº†ä¿®æ”¹ï¼Œè€Œæ­¤æ—¶å†å»æ•°æ®åº“ä¸­æŸ¥çœ‹å¯å‘ç°idä¸º1ã€2ã€3çš„æ•°æ®å¹¶æ²¡æœ‰è¢«åˆ é™¤ï¼Œè€Œæ˜¯id_deleteå­—æ®µçš„å€¼è¢«è®¾ä¸ºäº†1</code></pre><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å†æŸ¥è¯¢æ‰€æœ‰æ•°æ®</p><pre><code class="java">@Testvoid testSelect()&#123;    //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email FROM user    List&lt;User&gt; list = userMapper.selectList(null);    list.forEach(System.out::println);    //User(id=4, name=admin, age=22, email=test4@baomidou.com, isDelete=0)    //User(id=5, name=Billie, age=24, email=test5@baomidou.com, isDelete=0)    //User(id=1543595258846908417, name=ybc0, age=20, email=null, isDelete=0)    //User(id=1543595259274727425, name=ybc1, age=21, email=null, isDelete=0)    //User(id=1543595259274727426, name=ybc2, age=22, email=null, isDelete=0)    //User(id=1543595259274727427, name=ybc3, age=23, email=null, isDelete=0)    //User(id=1543595259274727428, name=ybc4, age=24, email=null, isDelete=0)    //User(id=1543848119749087234, name=å¼ ä¸‰, age=23, email=zhangsan@qq.com, isDelete=0)&#125;//==&gt;  Preparing: SELECT uid AS id,name,age,email,is_delete FROM t_user WHERE is_delete=0//==&gt; Parameters: //&lt;==    Columns: id, name, age, email, is_delete//&lt;==        Row: 4, admin, 22, test4@baomidou.com, 0//&lt;==        Row: 5, Billie, 24, test5@baomidou.com, 0//&lt;==        Row: 1543595258846908417, ybc0, 20, null, 0//&lt;==        Row: 1543595259274727425, ybc1, 21, null, 0//&lt;==        Row: 1543595259274727426, ybc2, 22, null, 0//&lt;==        Row: 1543595259274727427, ybc3, 23, null, 0//&lt;==        Row: 1543595259274727428, ybc4, 24, null, 0//&lt;==        Row: 1543848119749087234, å¼ ä¸‰, 23, zhangsan@qq.com, 0//&lt;==      Total: 8</code></pre><p>å¯ä»¥å‘ç°ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ä¸­å­—æ®µis_deleteéƒ½ä¸º0ï¼Œåˆšåˆšè¢«é€»è¾‘åˆ é™¤çš„å‡ æ¡æ•°æ®åˆ™æ²¡æœ‰æŸ¥è¯¢å‡ºæ¥ï¼Œä½†å®é™…ä¸Šä»–ä»¬å¹¶æ²¡æœ‰è¢«åˆ é™¤ï¼Œåªæ˜¯is_deleteå­—æ®µå€¼ä¸º1</p><p>Mybatis-plusè¿˜æä¾›äº†å¾ˆå¤šæ³¨è§£ï¼Œè¿™é‡Œåªæ˜¯å¸¸ç”¨çš„éƒ¨åˆ†ï¼Œå…¶ä½™è¯¦ç»†å†…å®¹éœ€è¦åˆ°<a href="https://baomidou.com/pages/24112f/">å®˜æ–¹æ–‡æ¡£</a>å»æŸ¥çœ‹</p><h2 id="å››ã€æ¡ä»¶æ„é€ å™¨"><a href="#å››ã€æ¡ä»¶æ„é€ å™¨" class="headerlink" title="å››ã€æ¡ä»¶æ„é€ å™¨"></a>å››ã€æ¡ä»¶æ„é€ å™¨</h2><h3 id="4-1-Wrapperä»‹ç»"><a href="#4-1-Wrapperä»‹ç»" class="headerlink" title="4.1 Wrapperä»‹ç»"></a>4.1 Wrapperä»‹ç»</h3><p>Wrapper ï¼š æ¡ä»¶æ„é€ æŠ½è±¡ç±»ï¼Œæœ€é¡¶ç«¯çˆ¶ç±»</p><ul><li>AbstractWrapper ï¼š ç”¨äºæŸ¥è¯¢æ¡ä»¶å°è£…ï¼Œç”Ÿæˆ sql çš„ where æ¡ä»¶<ul><li>QueryWrapper ï¼š æŸ¥è¯¢æ¡ä»¶å°è£…</li><li>UpdateWrapper ï¼š Update æ¡ä»¶å°è£…</li><li>AbstractLambdaWrapper ï¼š ä½¿ç”¨Lambda è¯­æ³•<ul><li>LambdaQueryWrapper ï¼šç”¨äºLambdaè¯­æ³•ä½¿ç”¨çš„æŸ¥è¯¢Wrapper</li><li>LambdaUpdateWrapper ï¼š Lambda æ›´æ–°å°è£…Wrapper</li></ul></li></ul></li></ul><p>Wrapperç»“æ„å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041605854.png' data-fancybox='default' data-caption='image-20220704160530615'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041605854.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207041605854.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704160530615"></a><span class='image-caption'>image-20220704160530615</span></div></div><h3 id="4-2-QueryWrapper"><a href="#4-2-QueryWrapper" class="headerlink" title="4.2 QueryWrapper"></a>4.2 QueryWrapper</h3><p>é€šè¿‡QueryWrapperæ¡ä»¶æ„é€ å™¨æˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€æ’åºã€åˆ†ç»„ç­‰æ“ä½œ</p><h4 id="4-2-1-ç»„è£…æŸ¥è¯¢æ¡ä»¶"><a href="#4-2-1-ç»„è£…æŸ¥è¯¢æ¡ä»¶" class="headerlink" title="4.2.1 ç»„è£…æŸ¥è¯¢æ¡ä»¶"></a>4.2.1 ç»„è£…æŸ¥è¯¢æ¡ä»¶</h4><pre><code class="java">@Autowiredprivate UserMapper userMapper;@Testvoid testQueryWrapper1()&#123;    //æŸ¥è¯¢ç”¨æˆ·ååŒ…å«aï¼Œå¹´é¾„åœ¨20åˆ°30ä¹‹é—´ï¼Œå¹¶ä¸”é‚®ç®±ä¸ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯    //SELECT id,name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (name LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    queryWrapper.like(&quot;name&quot;, &quot;a&quot;)        .between(&quot;age&quot;, 20, 30)        .isNotNull(&quot;email&quot;);    List&lt;User&gt; list = userMapper.selectList(queryWrapper);    list.forEach(System.out::println); //User(id=4, name=admin, age=22, email=test4@baomidou.com, isDelete=0)&#125;</code></pre><h4 id="4-2-2-ç»„è£…æ’åºæ¡ä»¶"><a href="#4-2-2-ç»„è£…æ’åºæ¡ä»¶" class="headerlink" title="4.2.2 ç»„è£…æ’åºæ¡ä»¶"></a>4.2.2 ç»„è£…æ’åºæ¡ä»¶</h4><pre><code class="java">@Testvoid testQueryWrapper2()&#123;    //æŒ‰å¹´é¾„é™åºæŸ¥è¯¢ç”¨æˆ·ï¼Œå¦‚æœå¹´é¾„ç›¸åŒåˆ™æŒ‰idå‡åºæ’åˆ—    //SELECT id,name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    queryWrapper        .orderByDesc(&quot;age&quot;)        .orderByAsc(&quot;id&quot;);    List&lt;User&gt; users = userMapper.selectList(queryWrapper);    users.forEach(System.out::println);    //User(id=5, name=Billie, age=24, email=test5@baomidou.com, isDelete=0)    //User(id=1543595259274727428, name=ybc4, age=24, email=null, isDelete=0)    //User(id=1543595259274727427, name=ybc3, age=23, email=null, isDelete=0)    //User(id=1543848119749087234, name=å¼ ä¸‰, age=23, email=zhangsan@qq.com, isDelete=0)    //User(id=4, name=admin, age=22, email=test4@baomidou.com, isDelete=0)    //User(id=1543595259274727426, name=ybc2, age=22, email=null, isDelete=0)    //User(id=1543595259274727425, name=ybc1, age=21, email=null, isDelete=0)    //User(id=1543595258846908417, name=ybc0, age=20, email=null, isDelete=0)&#125;</code></pre><h4 id="4-2-3-ç»„è£…åˆ é™¤æ¡ä»¶"><a href="#4-2-3-ç»„è£…åˆ é™¤æ¡ä»¶" class="headerlink" title="4.2.3 ç»„è£…åˆ é™¤æ¡ä»¶"></a>4.2.3 ç»„è£…åˆ é™¤æ¡ä»¶</h4><pre><code class="java">@Testvoid testQueryWrapper3()&#123;    //åˆ é™¤emailä¸ºç©ºçš„ç”¨æˆ·    //DELETE FROM t_user WHERE is_deleted=0 AND (email IS NULL)    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    queryWrapper.isNull(&quot;email&quot;);    //æ¡ä»¶æ„é€ å™¨ä¹Ÿå¯ä»¥æ„å»ºåˆ é™¤è¯­å¥çš„æ¡ä»¶    int result = userMapper.delete(queryWrapper);    System.out.println(&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot; + result);&#125;</code></pre><h4 id="4-2-4-ç»„è£…ä¿®æ”¹æ¡ä»¶"><a href="#4-2-4-ç»„è£…ä¿®æ”¹æ¡ä»¶" class="headerlink" title="4.2.4 ç»„è£…ä¿®æ”¹æ¡ä»¶"></a>4.2.4 ç»„è£…ä¿®æ”¹æ¡ä»¶</h4><pre><code class="java">@Testvoid testQueryWrapper4()&#123;    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    //å°†ï¼ˆå¹´é¾„å¤§äº20å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰aï¼‰æˆ–é‚®ç®±ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹    //UPDATE t_user SET age=?, email=? WHERE is_deleted=0 AND (name LIKE ? AND age &gt; ? OR email IS NULL)    queryWrapper        .like(&quot;name&quot;, &quot;a&quot;)        .gt(&quot;age&quot;, 20)        .or()        .isNull(&quot;email&quot;);    User user = new User();    user.setAge(18);    user.setEmail(&quot;user@qq.com&quot;);    int result = userMapper.update(user, queryWrapper);    System.out.println(&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot; + result);&#125;</code></pre><h4 id="4-2-5-æ¡ä»¶ä¼˜å…ˆçº§"><a href="#4-2-5-æ¡ä»¶ä¼˜å…ˆçº§" class="headerlink" title="4.2.5 æ¡ä»¶ä¼˜å…ˆçº§"></a>4.2.5 æ¡ä»¶ä¼˜å…ˆçº§</h4><pre><code class="java">@Testvoid testQueryWrapper4()&#123;    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    //å°†ç”¨æˆ·åä¸­åŒ…å«æœ‰aå¹¶ä¸”ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹    //UPDATE t_user SET age=?, email=? WHERE is_deleted=0 AND (name LIKE ? AND (age &gt; ? OR email IS NULL))    //lambdaè¡¨è¾¾å¼å†…çš„æ¡ä»¶ä¼˜å…ˆæ‰§è¡Œ    queryWrapper        .like(&quot;name&quot;, &quot;a&quot;)        .and(i -&gt; i.gt(&quot;age&quot;, 20).or().isNull(&quot;email&quot;));//è¿™å„¿ä½¿ç”¨lambdaè¡¨è¾¾å¼è®©sqlå…ˆæ‰§è¡Œ(age &gt; ? OR email IS NULL)å†æ‰§è¡Œname LIKE ?    User user = new User();    user.setAge(18);    user.setEmail(&quot;user@qq.com&quot;);    int result = userMapper.update(user, queryWrapper);    System.out.println(&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot; + result);&#125;</code></pre><h4 id="4-2-6-ç»„è£…selectå­å¥"><a href="#4-2-6-ç»„è£…selectå­å¥" class="headerlink" title="4.2.6 ç»„è£…selectå­å¥"></a>4.2.6 ç»„è£…selectå­å¥</h4><pre><code class="java">@Testvoid testQueryWrapper5()&#123;    //æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„nameå’Œageå­—æ®µ    //SELECT name,age FROM t_user WHERE is_delete=0    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    queryWrapper.select(&quot;name&quot;, &quot;age&quot;);    //selectMaps()è¿”å›Mapé›†åˆåˆ—è¡¨ï¼Œé€šå¸¸é…åˆselect()ä½¿ç”¨ï¼Œé¿å…Userå¯¹è±¡ä¸­æ²¡æœ‰è¢«æŸ¥è¯¢åˆ°çš„åˆ—å€¼ä¸ºnull    List&lt;Map&lt;String, Object&gt;&gt; maps = userMapper.selectMaps(queryWrapper);    maps.forEach(System.out::println);    //&#123;name=admin, age=18&#125;    //&#123;name=Billie, age=24&#125;    //&#123;name=å¼ ä¸‰, age=23&#125;&#125;</code></pre><h4 id="4-2-7-å®ç°å­æŸ¥è¯¢"><a href="#4-2-7-å®ç°å­æŸ¥è¯¢" class="headerlink" title="4.2.7 å®ç°å­æŸ¥è¯¢"></a>4.2.7 å®ç°å­æŸ¥è¯¢</h4><pre><code class="java">@Testvoid testQueryWrapper6()&#123;    //æŸ¥è¯¢idå°äºç­‰äº3çš„ç”¨æˆ·ä¿¡æ¯    // SELECT uid,name,age,email,is_deleted FROM t_user WHERE is_delete=0 AND (uid IN (select uid from t_user where uid &lt;= 3))    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    queryWrapper.inSql(&quot;uid&quot;, &quot;select uid from t_user where uid &lt;= 3&quot;);    List&lt;User&gt; list = userMapper.selectList(queryWrapper);    list.forEach(System.out::println);    //User(id=1, name=Jone, age=18, email=test1@baomidou.com, isDelete=0)    //User(id=2, name=Jack, age=20, email=test2@baomidou.com, isDelete=0)    //User(id=3, name=Tom, age=28, email=test3@baomidou.com, isDelete=0)&#125;</code></pre><h3 id="4-3-UpdateWrapper"><a href="#4-3-UpdateWrapper" class="headerlink" title="4.3 UpdateWrapper"></a>4.3 UpdateWrapper</h3><pre><code class="java">@Testvoid testUpdateWrapper()&#123;    //å°†ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰açš„ç”¨æˆ·ä¿¡æ¯å°†å¹´é¾„ä¿®æ”¹ä¸º18ï¼Œé‚®ç®±ä¿®æ”¹ä¸ºuser@qq.com    UpdateWrapper&lt;User&gt; updateWrapper = new UpdateWrapper&lt;&gt;();    //lambdaè¡¨è¾¾å¼å†…çš„æ¡ä»¶ä¼˜å…ˆæ‰§è¡Œ    //UPDATE t_user SET age=?,email=? WHERE is_delete = 0 AND (username LIKE ? AND (age &gt; ? OR email IS NULL))    //ç»„è£…setå­å¥ä»¥åŠä¿®æ”¹æ¡ä»¶    updateWrapper        .set(&quot;age&quot;, 18)        .set(&quot;email&quot;, &quot;user@qq.com&quot;)        .like(&quot;name&quot;, &quot;a&quot;)        .and(i -&gt; i.gt(&quot;age&quot;, 20).or().isNull(&quot;email&quot;));    //å¦‚æœä¸éœ€è¦ä½¿ç”¨å®ä½“ç±»å¯¹è±¡è¿›è¡Œå¡«å……ï¼Œupdateæ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥è®¾ç½®ä¸ºnull    int result = userMapper.update(null, updateWrapper);    System.out.println(result);&#125;</code></pre><h3 id="4-4-Condition"><a href="#4-4-Condition" class="headerlink" title="4.4 Condition"></a>4.4 Condition</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„æŸ¥è¯¢æ¡ä»¶æˆ–ä¿®æ”¹å­—æ®µéƒ½éœ€è¦å…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶åæ‰ä¼šæ‹¼æ¥åˆ°SQLä¸­ï¼Œæ¯”å¦‚åˆ¤ç©ºï¼Œè‹¥ä¸ä¸ºç©ºæ—¶æ‰å°†æ¡ä»¶æ·»åŠ åˆ°sqlä¸­ï¼Œè€Œè¿™äº›æ¡ä»¶åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p><h4 id="4-4-1-æ–¹æ³•ä¸€ï¼šé€ä¸ªåˆ¤æ–­"><a href="#4-4-1-æ–¹æ³•ä¸€ï¼šé€ä¸ªåˆ¤æ–­" class="headerlink" title="4.4.1 æ–¹æ³•ä¸€ï¼šé€ä¸ªåˆ¤æ–­"></a>4.4.1 æ–¹æ³•ä¸€ï¼šé€ä¸ªåˆ¤æ–­</h4><pre><code class="java">@Testvoid testCondition()&#123;    //å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnull    String name = null;    Integer ageBegin = 10;    Integer ageEnd = 24;    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    //StringUtils.isNotBlank()åˆ¤æ–­æŸå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºä¸”é•¿åº¦ä¸ä¸º0ä¸”ä¸ç”±ç©ºç™½ç¬¦(whitespace)æ„æˆ    if(StringUtils.isNotBlank(name))&#123;        queryWrapper.like(&quot;name&quot;,&quot;a&quot;);    &#125;    if(ageBegin != null)&#123;        queryWrapper.ge(&quot;age&quot;, ageBegin);    &#125;    if(ageEnd != null)&#123;        queryWrapper.le(&quot;age&quot;, ageEnd);    &#125;    //SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE (age &gt;= ? AND age &lt;= ?)    //å› ä¸ºnameå±æ€§å€¼ä¸ºç©ºï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥æ²¡æœ‰è¢«æ‹¼æ¥åˆ°sqlä¸­    List&lt;User&gt; users = userMapper.selectList(queryWrapper);    users.forEach(System.out::println);&#125;</code></pre><h4 id="4-4-2-æ–¹æ³•äºŒï¼šä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•"><a href="#4-4-2-æ–¹æ³•äºŒï¼šä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•" class="headerlink" title="4.4.2 æ–¹æ³•äºŒï¼šä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•"></a>4.4.2 æ–¹æ³•äºŒï¼šä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•</h4><p>å³ä½¿ç”¨æ¡ä»¶æ„é€ å™¨çš„æ–¹æ³•æ—¶ï¼Œéœ€è¦æ»¡è¶³ä¸€å®šæ¡ä»¶æ‰èƒ½æ‹¼æ¥åˆ°sqlä¸­çš„æŸ¥è¯¢æ¡ä»¶æˆ–ä¿®æ”¹å­—æ®µéƒ½ä½¿ç”¨æ–¹æ³•å‚æ•°ä¸­å¸¦æœ‰conditionçš„é‡è½½æ–¹æ³•ï¼Œæ¯”å¦‚ï¼Œlikeæ–¹æ³•ä½¿ç”¨<code>public Children like(boolean condition, R column, Object val)</code></p><pre><code class="java">@Testvoid testCondition()&#123;    //å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnull    String name = null;    Integer ageBegin = 10;    Integer ageEnd = 24;    QueryWrapper&lt;User&gt; queryWrapper = new QueryWrapper&lt;&gt;();    //StringUtils.isNotBlank()åˆ¤æ–­æŸå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºä¸”é•¿åº¦ä¸ä¸º0ä¸”ä¸ç”±ç©ºç™½ç¬¦(whitespace)æ„æˆ    queryWrapper        .like(StringUtils.isNotBlank(name),&quot;name&quot;,&quot;a&quot;)        .ge(ageBegin != null,&quot;age&quot;,ageBegin)        .le(ageEnd != null,&quot;age&quot;,ageEnd);    //SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE (age &gt;= ? AND age &lt;= ?)    //å› ä¸ºnameå±æ€§å€¼ä¸ºç©ºï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥æ²¡æœ‰è¢«æ‹¼æ¥åˆ°sqlä¸­    List&lt;User&gt; users = userMapper.selectList(queryWrapper);    users.forEach(System.out::println);&#125;</code></pre><h3 id="4-5-LambdaQueryWrapper"><a href="#4-5-LambdaQueryWrapper" class="headerlink" title="4.5 LambdaQueryWrapper"></a>4.5 LambdaQueryWrapper</h3><pre><code class="java">@Testvoid testLambdaQueryWrapper()&#123;    //å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnull    String name = &quot;a&quot;;    Integer ageBegin = 10;    Integer ageEnd = 24;    LambdaQueryWrapper&lt;User&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();    //é¿å…ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®åº“è¡¨å­—æ®µï¼Œé˜²æ­¢å› å†™é”™é€ æˆè¿è¡Œæ—¶é”™è¯¯    queryWrapper        .like(StringUtils.isNotBlank(name), User::getName, name)        .ge(ageBegin != null, User::getAge, ageBegin)        .le(ageEnd != null, User::getAge, ageEnd);    //SELECT uid AS id,name,age,email,is_delete FROM t_user WHERE is_delete=0 AND (name LIKE ? AND age &gt;= ? AND age &lt;= ?)    List&lt;User&gt; users = userMapper.selectList(queryWrapper);    users.forEach(System.out::println);&#125;</code></pre><h3 id="4-6-LambdaUpdateWrapper"><a href="#4-6-LambdaUpdateWrapper" class="headerlink" title="4.6 LambdaUpdateWrapper"></a>4.6 LambdaUpdateWrapper</h3><pre><code class="java">@Testvoid testLambdaUpdateWrapper()&#123;    //ç»„è£…setå­å¥    LambdaUpdateWrapper&lt;User&gt; updateWrapper = new LambdaUpdateWrapper&lt;&gt;();    //é¿å…ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®åº“è¡¨å­—æ®µï¼Œé˜²æ­¢å› å†™é”™é€ æˆè¿è¡Œæ—¶é”™è¯¯    updateWrapper        .set(User::getAge, 18)        .set(User::getEmail, &quot;user@qq.com&quot;)        .like(User::getName, &quot;a&quot;)        .and(i -&gt; i.lt(User::getAge, 24).or().isNull(User::getEmail));    //lambdaè¡¨è¾¾å¼å†…çš„é€»è¾‘ä¼˜å…ˆè¿ç®—    //UPDATE t_user SET age=?,email=? WHERE is_delete=0 AND (name LIKE ? AND (age &lt; ? OR email IS NULL))    int update = userMapper.update(null, updateWrapper);    System.out.println(update);&#125;</code></pre><h2 id="äº”ã€æ’ä»¶"><a href="#äº”ã€æ’ä»¶" class="headerlink" title="äº”ã€æ’ä»¶"></a>äº”ã€æ’ä»¶</h2><h3 id="5-1-åˆ†é¡µæ’ä»¶"><a href="#5-1-åˆ†é¡µæ’ä»¶" class="headerlink" title="5.1 åˆ†é¡µæ’ä»¶"></a>5.1 åˆ†é¡µæ’ä»¶</h3><h4 id="5-1-1-åˆ†é¡µæ’ä»¶çš„é…ç½®å’Œä½¿ç”¨"><a href="#5-1-1-åˆ†é¡µæ’ä»¶çš„é…ç½®å’Œä½¿ç”¨" class="headerlink" title="5.1.1 åˆ†é¡µæ’ä»¶çš„é…ç½®å’Œä½¿ç”¨"></a>5.1.1 åˆ†é¡µæ’ä»¶çš„é…ç½®å’Œä½¿ç”¨</h4><h5 id="1-åˆ†é¡µæ’ä»¶çš„é…ç½®"><a href="#1-åˆ†é¡µæ’ä»¶çš„é…ç½®" class="headerlink" title="1.åˆ†é¡µæ’ä»¶çš„é…ç½®"></a>1.åˆ†é¡µæ’ä»¶çš„é…ç½®</h5><p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªåŒ…ä¸ºconfig</p><p>ç„¶åæ–°å»ºä¸€ä¸ªMybatis-plusçš„é…ç½®ç±»<code>MybatisPlusConfig</code></p><pre><code class="java">@Configuration@MapperScan(&quot;com.xk.mybatisplus.mapper&quot;) //å°†ä¹‹å‰åœ¨SpringBootå¯åŠ¨ç±»ä¸Šé…ç½®çš„æ‰«æé…ç½®æ³¨è§£ç§»åŠ¨åˆ°è¿™ä¸ªé…ç½®ç±»public class MybatisPlusConfig &#123;    @Bean    public MybatisPlusInterceptor mybatisPlusInterceptor()&#123;        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));        return interceptor;    &#125;&#125;</code></pre><h5 id="2-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"><a href="#2-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="2.åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"></a>2.åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</h5><pre><code class="java">@Testvoid testPage()&#123;    //ç¬¬ä¸€å‚æ•°ä¸ºå½“å‰é¡µç ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ¯é¡µçš„æ•°æ®é‡    Page&lt;User&gt; page = new Page&lt;&gt;(2,3);    //ä¼ å…¥pageå¯¹è±¡å’Œä¸€ä¸ªæ²¡æœ‰æ¡ä»¶çš„æ¡ä»¶æ„é€ å™¨    userMapper.selectPage(page, null);    System.out.println(page);    //User(id=4, name=admin, age=18, email=user@qq.com, isDelete=0)    //User(id=5, name=Billie, age=24, email=test5@baomidou.com, isDelete=0)    //User(id=1543595258846908417, name=ybc0, age=20, email=null, isDelete=0)    //è¿‡ç¨‹ä¸­æ‰§è¡Œçš„sqlè¯­å¥    //SELECT COUNT(*) AS total FROM t_user WHERE is_delete = 0    //SELECT uid AS id,name,age,email,is_delete FROM t_user WHERE is_delete=0 LIMIT ?,?&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207042005027.png' data-fancybox='default' data-caption='image-20220704200539783'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207042005027.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207042005027.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220704200539783"></a><span class='image-caption'>image-20220704200539783</span></div></div><h5 id="3-åˆ†é¡µæ•°æ®è·å–"><a href="#3-åˆ†é¡µæ•°æ®è·å–" class="headerlink" title="3.åˆ†é¡µæ•°æ®è·å–"></a>3.åˆ†é¡µæ•°æ®è·å–</h5><pre><code class="java">@Testvoid testPage()&#123;    //ç¬¬ä¸€å‚æ•°ä¸ºå½“å‰é¡µç ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ¯é¡µçš„æ•°æ®é‡    Page&lt;User&gt; page = new Page&lt;&gt;(2,3);    //ä¼ å…¥pageå¯¹è±¡å’Œä¸€ä¸ªæ²¡æœ‰æ¡ä»¶çš„æ¡ä»¶æ„é€ å™¨    userMapper.selectPage(page, null);    //è·å–åˆ†é¡µæ•°æ®    List&lt;User&gt; list = page.getRecords();    list.forEach(System.out::println);    //User(id=4, name=admin, age=18, email=user@qq.com, isDelete=0)    //User(id=5, name=Billie, age=24, email=test5@baomidou.com, isDelete=0)    //User(id=1543595258846908417, name=ybc0, age=20, email=null, isDelete=0)    System.out.println(&quot;å½“å‰é¡µï¼š&quot;+page.getCurrent());//å½“å‰é¡µï¼š2    System.out.println(&quot;æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°ï¼š&quot;+page.getSize());//æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°ï¼š3    System.out.println(&quot;æ€»è®°å½•æ•°ï¼š&quot;+page.getTotal());//æ€»è®°å½•æ•°ï¼š11    System.out.println(&quot;æ€»é¡µæ•°ï¼š&quot;+page.getPages());//æ€»é¡µæ•°ï¼š4    System.out.println(&quot;æ˜¯å¦æœ‰ä¸Šä¸€é¡µï¼š&quot;+page.hasPrevious());//æ˜¯å¦æœ‰ä¸Šä¸€é¡µï¼štrue    System.out.println(&quot;æ˜¯å¦æœ‰ä¸‹ä¸€é¡µï¼š&quot;+page.hasNext());//æ˜¯å¦æœ‰ä¸‹ä¸€é¡µï¼štrue&#125;</code></pre><h3 id="5-2-xmlè‡ªå®šä¹‰åˆ†é¡µ"><a href="#5-2-xmlè‡ªå®šä¹‰åˆ†é¡µ" class="headerlink" title="5.2 xmlè‡ªå®šä¹‰åˆ†é¡µ"></a>5.2 xmlè‡ªå®šä¹‰åˆ†é¡µ</h3><p>é€šè¿‡ä¸Šè¿°ä¾‹å­å¯ä»¥çŸ¥é“ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œåˆ†é¡µæŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>selectPage</code>æ–¹æ³•ä¸­ä¼ å…¥Mybatis-plusè‡ªå¸¦çš„åˆ†é¡µæ’ä»¶å¯¹è±¡å’Œæ¡ä»¶æ„é€ å™¨ï¼Œè®©æŸ¥è¯¢æ¡ä»¶æ‹¼æ¥åˆ°sqlè¯­å¥ä¸­ï¼Œç„¶åå†å°†ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¿›è¡Œåˆ†é¡µï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„æ•°æ®éœ€è¦ä½¿ç”¨è¾ƒå¤æ‚ä¸€äº›çš„sqlæˆ–æ˜¯å¤šè¡¨è”æŸ¥ï¼Œé‚£ä¹ˆæ¡ä»¶æ„é€ å™¨å°†ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„ä½¿ç”¨è¦æ±‚ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰sqlè¯­å¥ï¼Œç„¶åå°†è‡ªå®šä¹‰sqlè¯­å¥æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œåˆ†é¡µ</p><p>è¿™é‡Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p><p>é¦–å…ˆï¼Œåœ¨UserMapperä¸­è‡ªå®šä¹‰ä¸€ä¸ªæ–¹æ³•</p><pre><code class="java">//å½“æˆ‘ä»¬éœ€è¦å°†è‡ªå®šä¹‰sqlæŸ¥è¯¢å‡ºæ¥çš„æ•°æ®è¿›è¡Œåˆ†é¡µæ—¶ï¼ŒæŸ¥è¯¢çš„æ–¹æ³•å‚æ•°ä¸­å¿…é¡»å°†Pageå¯¹è±¡æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œå°½ç®¡æˆ‘ä»¬åœ¨sqlä¸­å¹¶ä¸ä½¿ç”¨å®ƒPage&lt;User&gt; selectPaged(@Param(&quot;page&quot;) Page&lt;User&gt; page, @Param(&quot;age&quot;) Integer age);</code></pre><p>ç„¶åï¼Œåœ¨<code>UserMapper.xml</code>æ–‡ä»¶ä¸­ç¼–å†™æ–¹æ³•å¯¹åº”çš„sqlè¯­å¥</p><pre><code class="xml">&lt;!--Page&lt;User&gt; selectPaged(@Param(&quot;page&quot;) Page&lt;User&gt; page, @Param(&quot;age&quot;) Integer age);--&gt;&lt;select id=&quot;selectPaged&quot; resultType=&quot;com.xk.mybatisplus.entity.User&quot;&gt;    select uid,name,age,email,is_delete from t_user where is_delete = 0 and age &gt; #&#123;age&#125;&lt;/select&gt;</code></pre><p>æµ‹è¯•ï¼š</p><pre><code class="java">@Testvoid testCustomPage()&#123;    Page&lt;User&gt; page = new Page&lt;&gt;(2, 3);    //å°†pageåˆ†é¡µå¯¹è±¡å’ŒæŸ¥è¯¢æ¡ä»¶ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå½“ç„¶ï¼Œåƒè¿™ç§ç®€å•çš„æŸ¥è¯¢æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¡ä»¶æ„é€ å™¨ä»£æ›¿è¿™ç§è‡ªå®šä¹‰sqlçš„æ–¹å¼    userMapper.selectPaged(page,20);    List&lt;User&gt; records = page.getRecords();    records.forEach(System.out::println);    //User(id=null, name=ybc2, age=22, email=null, isDelete=0)    //User(id=null, name=ybc3, age=23, email=null, isDelete=0)    //User(id=null, name=ybc4, age=24, email=null, isDelete=0)    //==&gt;  Preparing: SELECT COUNT(*) AS total FROM t_user WHERE is_delete = 0 AND age &gt; ?    //==&gt; Parameters: 20(Integer)    //&lt;==    Columns: total    //&lt;==        Row: 7    //&lt;==      Total: 1    //==&gt;  Preparing: select uid,name,age,email,is_delete from t_user where is_delete = 0 and age &gt; ? LIMIT ?,?    //==&gt; Parameters: 20(Integer), 3(Long), 3(Long)    //&lt;==    Columns: uid, name, age, email, is_delete    //&lt;==        Row: 1543595259274727426, ybc2, 22, null, 0    //&lt;==        Row: 1543595259274727427, ybc3, 23, null, 0    //&lt;==        Row: 1543595259274727428, ybc4, 24, null, 0    //&lt;==      Total: 3&#125;</code></pre><h3 id="5-3-ä¹è§‚é”å’Œæ‚²è§‚é”"><a href="#5-3-ä¹è§‚é”å’Œæ‚²è§‚é”" class="headerlink" title="5.3 ä¹è§‚é”å’Œæ‚²è§‚é”"></a>5.3 ä¹è§‚é”å’Œæ‚²è§‚é”</h3><h4 id="5-3-1-ä»‹ç»"><a href="#5-3-1-ä»‹ç»" class="headerlink" title="5.3.1 ä»‹ç»"></a>5.3.1 ä»‹ç»</h4><p>åœºæ™¯ï¼šä¸€ä»¶å•†å“ï¼Œæˆæœ¬ä»·æ˜¯80å…ƒï¼Œå”®ä»·æ˜¯100å…ƒã€‚è€æ¿å…ˆæ˜¯é€šçŸ¥å°æï¼Œè¯´ä½ å»æŠŠå•†å“ä»·æ ¼å¢åŠ 50å…ƒã€‚å°ææ­£åœ¨ç©æ¸¸æˆï¼Œè€½æäº†ä¸€ä¸ªå°æ—¶ã€‚æ­£å¥½ä¸€ä¸ªå°æ—¶åï¼Œè€æ¿è§‰å¾—å•†å“ä»·æ ¼å¢åŠ åˆ°150å…ƒï¼Œä»·æ ¼å¤ªé«˜ï¼Œå¯èƒ½ä¼šå½±å“é”€é‡ã€‚åˆé€šçŸ¥å°ç‹ï¼Œä½ æŠŠå•†å“ä»·æ ¼é™ä½30å…ƒã€‚æ­¤æ—¶ï¼Œå°æå’Œå°ç‹åŒæ—¶æ“ä½œå•†å“åå°ç³»ç»Ÿã€‚å°ææ“ä½œçš„æ—¶å€™ï¼Œç³»ç»Ÿå…ˆå–å‡ºå•†å“ä»·æ ¼100å…ƒï¼›å°ç‹ä¹Ÿåœ¨æ“ä½œï¼Œå–å‡ºçš„å•†å“ä»·æ ¼ä¹Ÿæ˜¯100å…ƒã€‚å°æå°†ä»·æ ¼åŠ äº†50å…ƒï¼Œå¹¶å°†100+50=150å…ƒå­˜å…¥äº†æ•°æ®åº“ï¼›å°ç‹å°†å•†å“å‡äº†30å…ƒï¼Œå¹¶å°†100-30=70å…ƒå­˜å…¥äº†æ•°æ®åº“ã€‚æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰é”ï¼Œå°æçš„æ“ä½œå°±å®Œå…¨è¢«å°ç‹çš„è¦†ç›–äº†ã€‚ç°åœ¨å•†å“ä»·æ ¼æ˜¯70å…ƒï¼Œæ¯”æˆæœ¬ä»·ä½10å…ƒã€‚å‡ åˆ†é’Ÿåï¼Œè¿™ä¸ªå•†å“å¾ˆå¿«å‡ºå”®äº†1åƒå¤šä»¶å•†å“ï¼Œè€æ¿äº1ä¸‡å¤š</p><p>ä¸Šé¢çš„æ•…äº‹ï¼Œå¦‚æœæ˜¯ä¹è§‚é”ï¼Œå°ç‹ä¿å­˜ä»·æ ¼å‰ï¼Œä¼šæ£€æŸ¥ä¸‹ä»·æ ¼æ˜¯å¦è¢«äººä¿®æ”¹è¿‡äº†ã€‚å¦‚æœè¢«ä¿®æ”¹è¿‡äº†ï¼Œåˆ™<strong>é‡æ–°å–å‡º</strong>çš„è¢«ä¿®æ”¹åçš„ä»·æ ¼ï¼Œ150å…ƒï¼Œè¿™æ ·ä»–ä¼šå°†120å…ƒå­˜å…¥æ•°æ®åº“</p><p>å¦‚æœæ˜¯æ‚²è§‚é”ï¼Œå°æå–å‡ºæ•°æ®åï¼Œå°ç‹åªèƒ½<strong>ç­‰å°ææ“ä½œå®Œ</strong>ä¹‹åï¼Œæ‰èƒ½å¯¹ä»·æ ¼è¿›è¡Œæ“ä½œï¼Œä¹Ÿä¼šä¿è¯æœ€ç»ˆçš„ä»·æ ¼æ˜¯120å…ƒ</p><h4 id="5-3-2-æ¨¡æ‹Ÿå†²çª"><a href="#5-3-2-æ¨¡æ‹Ÿå†²çª" class="headerlink" title="5.3.2 æ¨¡æ‹Ÿå†²çª"></a>5.3.2 æ¨¡æ‹Ÿå†²çª</h4><p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®è¡¨ï¼Œå¹¶æ’å…¥ä¸€æ¡æ•°æ®</p><pre><code class="mysql">CREATE TABLE t_product(    id BIGINT(20) NOT NULL COMMENT &#39;ä¸»é”®ID&#39;,    NAME VARCHAR(30) NULL DEFAULT NULL COMMENT &#39;å•†å“åç§°&#39;,    price INT(11) DEFAULT 0 COMMENT &#39;ä»·æ ¼&#39;,    VERSION INT(11) DEFAULT 0 COMMENT &#39;ä¹è§‚é”ç‰ˆæœ¬å·&#39;,    PRIMARY KEY (id));INSERT INTO t_product (id, NAME, price) VALUES (1, &#39;å¤–æ˜Ÿäººç¬”è®°æœ¬&#39;, 100);</code></pre><p>ç„¶åï¼Œåˆ›å»ºå¯¹åº”å®ä½“ç±»</p><pre><code class="java">@Data@AllArgsConstructor@NoArgsConstructor@TableName(&quot;t_product&quot;)public class Product &#123;    @TableId(value = &quot;id&quot;)    private Long id;    @TableField(value = &quot;NAME&quot;)    private String name;    @TableField(value = &quot;price&quot;)    private Integer price;    @TableField(value = &quot;VERSION&quot;)    private Integer version;&#125;</code></pre><p>ç„¶åï¼Œæ–°å»ºmapper</p><pre><code class="java">@Repositorypublic interface ProductMapper extends BaseMapper&lt;Product&gt; &#123;&#125;</code></pre><p>æµ‹è¯•ï¼š</p><pre><code class="java">@Autowiredprivate ProductMapper productMapper;@Testvoid tesOptimisticLock()&#123;    //1ã€å°æ    Product p1 = productMapper.selectById(1L);    System.out.println(&quot;å°æå–å‡ºçš„ä»·æ ¼ï¼š&quot; + p1.getPrice());//å°æå–å‡ºçš„ä»·æ ¼ï¼š100    //2ã€å°ç‹    Product p2 = productMapper.selectById(1L);    System.out.println(&quot;å°ç‹å–å‡ºçš„ä»·æ ¼ï¼š&quot; + p2.getPrice());//å°ç‹å–å‡ºçš„ä»·æ ¼ï¼š100    //3ã€å°æå°†ä»·æ ¼åŠ äº†50å…ƒï¼Œå­˜å…¥äº†æ•°æ®åº“    p1.setPrice(p1.getPrice() + 50);    productMapper.updateById(p1);    System.out.println(&quot;å°æä¿®æ”¹åç»“æœï¼š&quot; + productMapper.selectById(1L).getPrice());//å°æä¿®æ”¹åç»“æœï¼š150    //4ã€å°ç‹å°†å•†å“å‡äº†30å…ƒï¼Œå­˜å…¥äº†æ•°æ®åº“    p2.setPrice(p2.getPrice() - 30);    productMapper.updateById(p2);    System.out.println(&quot;å°ç‹ä¿®æ”¹åç»“æœï¼š&quot; + productMapper.selectById(1L).getPrice());//å°ç‹ä¿®æ”¹åç»“æœï¼š70    //æœ€åçš„ç»“æœ    Product p3 = productMapper.selectById(1L);    //ä»·æ ¼è¦†ç›–ï¼Œæœ€åçš„ç»“æœï¼š70    System.out.println(&quot;æœ€åçš„ç»“æœï¼š&quot; + p3.getPrice());//æœ€åçš„ç»“æœï¼š70&#125;//ä»ä»¥ä¸Šæµ‹è¯•å¯ä»¥å‘ç°ï¼Œç”±äºä¿®æ”¹ä¹‹å‰ï¼Œå°æå’Œå°ç‹éƒ½è·å–æœ€åˆçš„ä»·æ ¼ï¼Œè€Œå°ç‹ä¿®æ”¹åå°†å°æä¿®æ”¹çš„ä»·æ ¼è¦†ç›–äº†ï¼Œå¯¼è‡´æœ€ç»ˆçš„ä»·æ ¼æ˜¯å°ç‹åœ¨æœ€åˆä»·æ ¼çš„åŸºç¡€ä¸Šä¿®æ”¹çš„ï¼Œè¿™å°±é€ æˆäº†å†²çª</code></pre><h4 id="5-3-3-ä¹è§‚é”å®ç°é€»è¾‘"><a href="#5-3-3-ä¹è§‚é”å®ç°é€»è¾‘" class="headerlink" title="5.3.3 ä¹è§‚é”å®ç°é€»è¾‘"></a>5.3.3 ä¹è§‚é”å®ç°é€»è¾‘</h4><p>åœ¨æ•°æ®åº“è¡¨ä¸­æ·»åŠ versionå­—æ®µï¼Œä½œä¸ºæ•°æ®çš„ç‰ˆæœ¬</p><p>å–å‡ºè®°å½•æ—¶ï¼Œè¿åŒversionä¸€èµ·è·å–</p><pre><code class="mysql">SELECT id,`name`,price,`version` FROM product WHERE id=1</code></pre><p>æ›´æ–°æ—¶å°†å·²ä¿®æ”¹çš„æ•°æ®ä¸­versionå­—æ®µåŠ 1ï¼Œå¹¶ä¸”åœ¨whereæ¡ä»¶ä¸­åŠ ä¸Š<code>version=ä¹‹å‰è·å–æ—¶çš„ç‰ˆæœ¬å·</code></p><pre><code class="mysql">UPDATE product SET price=price+50, `version`=`version` + 1 WHERE id=1 AND `version`=1 # å°æçš„sqlUPDATE product SET price=price-30, `version`=`version` + 1 WHERE id=1 AND `version`=1 # å°ç‹çš„sql# å½“å°ç‹çš„sqlæ‰§è¡Œæ—¶ä¼šå‘ç°å·²ç»æ‰¾ä¸åˆ°id=1ä¸”version=1çš„æ•°æ®äº†ï¼Œå› ä¸ºå·²ç»è¢«å°æä¿®æ”¹ä¸ºäº†version=2ï¼Œè¿™æ—¶å°ç‹çš„ä¿®æ”¹å°±ä¸ä¼šæˆåŠŸï¼Œä»–å¿…é¡»é‡æ–°è·å–ä¸€æ¬¡æ•°æ®å†è¿›è¡Œä¿®æ”¹</code></pre><h4 id="5-3-4-Mybatis-pluså®ç°ä¹è§‚é”"><a href="#5-3-4-Mybatis-pluså®ç°ä¹è§‚é”" class="headerlink" title="5.3.4 Mybatis-pluså®ç°ä¹è§‚é”"></a>5.3.4 Mybatis-pluså®ç°ä¹è§‚é”</h4><h5 id="1-Version"><a href="#1-Version" class="headerlink" title="1.@Version"></a>1.@Version</h5><p>ç»™å®ä½“ç±»ä¸­ä½œä¸ºæ•°æ®ç‰ˆæœ¬å·çš„å±æ€§æ·»åŠ ä¸Š<code>@Version</code>æ³¨è§£</p><pre><code class="java">@Data@AllArgsConstructor@NoArgsConstructor@TableName(&quot;t_product&quot;)public class Product &#123;    @TableId(value = &quot;id&quot;)    private Long id;    @TableField(value = &quot;NAME&quot;)    private String name;    @TableField(value = &quot;price&quot;)    private Integer price;    @TableField(value = &quot;VERSION&quot;)    @Version    private Integer version;&#125;</code></pre><h5 id="2-é…ç½®ä¹è§‚é”"><a href="#2-é…ç½®ä¹è§‚é”" class="headerlink" title="2.é…ç½®ä¹è§‚é”"></a>2.é…ç½®ä¹è§‚é”</h5><pre><code class="java">@Configuration@MapperScan(&quot;com.xk.mybatisplus.mapper&quot;)public class MybatisPlusConfig &#123;    @Bean    public MybatisPlusInterceptor mybatisPlusInterceptor()&#123;        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();        //æ·»åŠ åˆ†é¡µæ’ä»¶        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));        //æ·»åŠ ä¹è§‚é”æ’ä»¶        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());        return interceptor;    &#125;&#125;</code></pre><h5 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3.æµ‹è¯•"></a>3.æµ‹è¯•</h5><p>æ­¤æ—¶å†å°†ä¸Šæ–¹çš„æµ‹è¯•æ–¹æ³•è¿è¡Œä¸€æ¬¡</p><pre><code class="java">@Autowiredprivate ProductMapper productMapper;@Testvoid tesOptimisticLock()&#123;    //1ã€å°æ    Product p1 = productMapper.selectById(1L);    System.out.println(&quot;å°æå–å‡ºçš„ä»·æ ¼ï¼š&quot; + p1.getPrice());//å°æå–å‡ºçš„ä»·æ ¼ï¼š100    //2ã€å°ç‹    Product p2 = productMapper.selectById(1L);    System.out.println(&quot;å°ç‹å–å‡ºçš„ä»·æ ¼ï¼š&quot; + p2.getPrice());//å°ç‹å–å‡ºçš„ä»·æ ¼ï¼š100    //3ã€å°æå°†ä»·æ ¼åŠ äº†50å…ƒï¼Œå­˜å…¥äº†æ•°æ®åº“    p1.setPrice(p1.getPrice() + 50);    productMapper.updateById(p1);    System.out.println(&quot;å°æä¿®æ”¹åç»“æœï¼š&quot; + productMapper.selectById(1L).getPrice());//å°æä¿®æ”¹åç»“æœï¼š150    //4ã€å°ç‹å°†å•†å“å‡äº†30å…ƒï¼Œå­˜å…¥äº†æ•°æ®åº“    p2.setPrice(p2.getPrice() - 30);    productMapper.updateById(p2);    System.out.println(&quot;å°ç‹ä¿®æ”¹åç»“æœï¼š&quot; + productMapper.selectById(1L).getPrice());//å°ç‹ä¿®æ”¹åç»“æœï¼š150    //æœ€åçš„ç»“æœ    Product p3 = productMapper.selectById(1L);    //å°ç‹ä¿®æ”¹å¤±è´¥ï¼Œæœ€åçš„ç»“æœï¼š150    System.out.println(&quot;æœ€åçš„ç»“æœï¼š&quot; + p3.getPrice());//æœ€åçš„ç»“æœï¼š150        //è‹¥å°ç‹è¿˜æƒ³ä¿®æ”¹ï¼Œéœ€è¦é‡æ–°è·å–ä¸€æ¬¡è¿™æ¡æ•°æ®    Product p4 = productMapper.selectById(1L);    System.out.println(&quot;å°ç‹é‡æ–°è·å–æ•°æ®åçš„ä»·æ ¼ï¼š&quot; + p4.getPrice());//150    p4.setPrice(p4.getPrice()  - 30);    productMapper.updateById(p4);    System.out.println(&quot;å°ç‹é‡æ–°ä¿®æ”¹åç»“æœï¼š&quot; + productMapper.selectById(1L).getPrice());//120&#125;</code></pre><h3 id="5-4-MybatisXæ’ä»¶"><a href="#5-4-MybatisXæ’ä»¶" class="headerlink" title="5.4 MybatisXæ’ä»¶"></a>5.4 MybatisXæ’ä»¶</h3><p>MyBatis-Plusä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„mapperå’Œserviceæ¨¡æ¿ï¼Œèƒ½å¤Ÿå¤§å¤§çš„æé«˜å¼€å‘æ•ˆç‡ã€‚ä½†æ˜¯åœ¨çœŸæ­£å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒMyBatis-Pluså¹¶ä¸èƒ½ä¸ºæˆ‘ä»¬è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¾‹å¦‚ä¸€äº›å¤æ‚çš„SQLï¼Œå¤šè¡¨è”æŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±å»ç¼–å†™ä»£ç å’ŒSQLè¯­å¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¿«é€Ÿçš„è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨MyBatisXæ’ä»¶ã€‚MyBatisXä¸€æ¬¾<strong>åŸºäº IDEA</strong> çš„å¿«é€Ÿå¼€å‘æ’ä»¶ï¼Œä¸ºæ•ˆç‡è€Œç”Ÿã€‚</p><h4 id="5-4-1-å®‰è£…MybatisX"><a href="#5-4-1-å®‰è£…MybatisX" class="headerlink" title="5.4.1 å®‰è£…MybatisX"></a>5.4.1 å®‰è£…MybatisX</h4><p>åœ¨IDEAä¸­ï¼Œç‚¹å‡»<code>File</code>-&gt;<code>settings</code></p><p>ç„¶åï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051330830.png' data-fancybox='default' data-caption='image-20220705133049646'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051330830.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051330830.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705133049646"></a><span class='image-caption'>image-20220705133049646</span></div></div><p>å®‰è£…å®Œæˆåï¼Œè‹¥æ²¡æœ‰å‹¾é€‰åˆ™éœ€è¦å‹¾é€‰è¡¨ç¤ºå¯ç”¨ï¼Œç„¶åç‚¹å‡»applyå’Œok</p><h4 id="5-4-2-XMLè·³è½¬"><a href="#5-4-2-XMLè·³è½¬" class="headerlink" title="5.4.2 XMLè·³è½¬"></a>5.4.2 XMLè·³è½¬</h4><p>å½“æˆ‘ä»¬åœ¨é¡¹ç›®çš„javaåŒ…ä¸‹æœ‰å®ä½“ç±»çš„mapperæ¥å£ï¼ŒresourcesåŒ…ä¸‹æœ‰å®ä½“ç±»çš„å¯¹åº”mapperæ¥å£çš„æ˜ å°„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»æ—è¾¹çš„å›¾æ ‡è¿›è¡Œæ¥å›è·³è½¬</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051358551.png' data-fancybox='default' data-caption='image-20220705135845344'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051358551.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051358551.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705135845344"></a><span class='image-caption'>image-20220705135845344</span></div></div><h4 id="5-4-3-ä»£ç ç”Ÿæˆ"><a href="#5-4-3-ä»£ç ç”Ÿæˆ" class="headerlink" title="5.4.3 ä»£ç ç”Ÿæˆ"></a>5.4.3 ä»£ç ç”Ÿæˆ</h4><p>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªé¡¹ç›®è¿›è¡Œ</p><p>ç„¶åæŠŠä¹‹å‰é¡¹ç›®ä¸­çš„éƒ¨åˆ†ä¾èµ–å¤åˆ¶åˆ°æ–°é¡¹ç›®ä¸­</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;    &lt;version&gt;3.5.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;    &lt;artifactId&gt;lombok&lt;/artifactId&gt;    &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;version&gt;8.0.29&lt;/version&gt;    &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;    &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;1.2.11&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>ç„¶åï¼Œå°†<code>application.yaml</code>é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å¤åˆ¶ä¸€ä»½åˆ°æ–°é¡¹ç›®</p><pre><code class="yaml">spring:  datasource:    type: com.alibaba.druid.pool.DruidDataSource    driver-class-name: com.mysql.cj.jdbc.Driver    url: jdbc:mysql://localhost:3306/mybatisplus?characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC    username: root    password: rootmybatis-plus:  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  mapper-locations: classpath*:/mapper/**/*.xml</code></pre><p>ç„¶åï¼Œåœ¨ideaä¸­é…ç½®æ•°æ®æºï¼ˆ<strong>å¿…é¡»</strong>ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051413431.png' data-fancybox='default' data-caption='image-20220705141308172'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051413431.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051413431.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705141308172"></a><span class='image-caption'>image-20220705141308172</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415562.png' data-fancybox='default' data-caption='image-20220705141506313'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415562.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415562.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705141506313"></a><span class='image-caption'>image-20220705141506313</span></div></div><p>é…ç½®æˆåŠŸåï¼Œå°±å¯ä»¥çœ‹åˆ°æ•°æ®åº“å’Œæ•°æ®åº“ä¸­çš„è¡¨äº†</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415361.png' data-fancybox='default' data-caption='image-20220705141549137'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415361.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051415361.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705141549137"></a><span class='image-caption'>image-20220705141549137</span></div></div><p>ç„¶åï¼Œå³é”®é€‰æ‹©æˆ‘ä»¬è¦ç”Ÿæˆä»£ç çš„æ•°æ®è¡¨ï¼Œç‚¹å‡»MybatisX-Generator</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051416529.png' data-fancybox='default' data-caption='image-20220705141644268'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051416529.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051416529.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705141644268"></a><span class='image-caption'>image-20220705141644268</span></div></div><p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­è¿›è¡Œé…ç½®ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦è¿›è¡Œé…ç½®ï¼Œç„¶åç‚¹å‡»next</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051427202.png' data-fancybox='default' data-caption='image-20220705142706912'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051427202.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051427202.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705142706912"></a><span class='image-caption'>image-20220705142706912</span></div></div><p>åœ¨ä¸‹ä¸€ä¸ªé¡µé¢è¿›è¡Œè¯¦ç»†é…ç½®ï¼Œç„¶åç‚¹finish</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051432750.png' data-fancybox='default' data-caption='image-20220705143227503'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051432750.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051432750.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705143227503"></a><span class='image-caption'>image-20220705143227503</span></div></div><p>ç„¶åå³å¯çœ‹è§MybatisXè‡ªåŠ¨ç”Ÿæˆçš„å¯¹åº”controllerã€serviceã€mapperåŠå®ä½“ç±»</p><h4 id="5-4-4-å¿«é€Ÿç”ŸæˆCRUD"><a href="#5-4-4-å¿«é€Ÿç”ŸæˆCRUD" class="headerlink" title="5.4.4 å¿«é€Ÿç”ŸæˆCRUD"></a>5.4.4 å¿«é€Ÿç”ŸæˆCRUD</h4><p>å½“æˆ‘ä»¬åœ¨mapperæ¥å£ä¸­å¯¹ä¸€ä¸ªå¢åˆ æ”¹æŸ¥çš„æ–¹æ³•è¿›è¡Œç¼–å†™æ—¶ï¼Œåªéœ€è¦å°†æ–¹æ³•åå‘½åæˆè§åçŸ¥æ„çš„æ•ˆæœï¼ˆåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­MybatisXè¿˜ä¼šæç¤ºæˆ‘ä»¬ï¼‰ï¼Œç„¶åæŒ‰å¿«æ·é”®<code>Alt + Enter</code>ï¼Œç‚¹å‡»<code>[MybatisX] Generate Mybatis Sql</code>é€‰é¡¹ï¼ŒMybatisXå°†ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆæ–¹æ³•ä»¥åŠå¯¹åº”çš„æ˜ å°„sqlè¯­å¥</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051448998.png' data-fancybox='default' data-caption='image-20220705144826767'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051448998.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051448998.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705144826767"></a><span class='image-caption'>image-20220705144826767</span></div></div><p>å½“æ–¹æ³•æ—è¾¹å‡ºç°mybatisçš„å›¾æ ‡æ—¶ï¼Œå°±è¯´æ˜å®ƒå·²ç»ä¸ºæˆ‘ä»¬ç”Ÿæˆå¥½äº†sqlè¯­å¥</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051451739.png' data-fancybox='default' data-caption='image-20220705145144512'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051451739.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051451739.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705145144512"></a><span class='image-caption'>image-20220705145144512</span></div></div><p>æˆ‘ä»¬ç‚¹å‡»å›¾æ ‡å³å¯è·³è½¬åˆ°å¯¹åº”æ˜ å°„æ–¹æ³•å¤„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051452100.png' data-fancybox='default' data-caption='image-20220705145235897'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051452100.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051452100.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705145235897"></a><span class='image-caption'>image-20220705145235897</span></div></div><p>ä¾‹å­ï¼š</p><pre><code class="java">public interface UserMapper extends BaseMapper&lt;User&gt; &#123;    List&lt;User&gt; selectAgeAndNameByAgeBetween(@Param(&quot;beginAge&quot;) Integer beginAge, @Param(&quot;endAge&quot;) Integer endAge);    List&lt;User&gt; selectAllOrderByAgeDesc();    int insertSelective(User user);    int updateAgeAndNameByUid(@Param(&quot;age&quot;) Integer age, @Param(&quot;name&quot;) String name, @Param(&quot;uid&quot;) Long uid);    int deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);&#125;</code></pre><pre><code class="xml">&lt;select id=&quot;selectAgeAndNameByAgeBetween&quot; resultMap=&quot;BaseResultMap&quot;&gt;    select age, name    from t_user    where age between #&#123;beginAge,jdbcType=INTEGER&#125; and #&#123;endAge,jdbcType=INTEGER&#125;&lt;/select&gt;&lt;select id=&quot;selectAllOrderByAgeDesc&quot; resultMap=&quot;BaseResultMap&quot;&gt;    select    &lt;include refid=&quot;Base_Column_List&quot;/&gt;    from t_user    order by age desc&lt;/select&gt;&lt;insert id=&quot;insertSelective&quot;&gt;    insert into t_user    &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt;        &lt;if test=&quot;uid != null&quot;&gt;uid,&lt;/if&gt;        &lt;if test=&quot;name != null&quot;&gt;name,&lt;/if&gt;        &lt;if test=&quot;age != null&quot;&gt;age,&lt;/if&gt;        &lt;if test=&quot;email != null&quot;&gt;email,&lt;/if&gt;        &lt;if test=&quot;isDelete != null&quot;&gt;is_delete,&lt;/if&gt;        &lt;if test=&quot;gender != null&quot;&gt;gender,&lt;/if&gt;    &lt;/trim&gt;    values    &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt;        &lt;if test=&quot;uid != null&quot;&gt;#&#123;uid,jdbcType=BIGINT&#125;,&lt;/if&gt;        &lt;if test=&quot;name != null&quot;&gt;#&#123;name,jdbcType=VARCHAR&#125;,&lt;/if&gt;        &lt;if test=&quot;age != null&quot;&gt;#&#123;age,jdbcType=INTEGER&#125;,&lt;/if&gt;        &lt;if test=&quot;email != null&quot;&gt;#&#123;email,jdbcType=VARCHAR&#125;,&lt;/if&gt;        &lt;if test=&quot;isDelete != null&quot;&gt;#&#123;isDelete,jdbcType=INTEGER&#125;,&lt;/if&gt;        &lt;if test=&quot;gender != null&quot;&gt;#&#123;gender,jdbcType=INTEGER&#125;,&lt;/if&gt;    &lt;/trim&gt;&lt;/insert&gt;&lt;update id=&quot;updateAgeAndNameByUid&quot;&gt;    update t_user    set age  = #&#123;age,jdbcType=NUMERIC&#125;,    name = #&#123;name,jdbcType=VARCHAR&#125;    where uid = #&#123;uid,jdbcType=NUMERIC&#125;&lt;/update&gt;&lt;delete id=&quot;deleteByUidAndName&quot;&gt;    delete    from t_user    where uid = #&#123;uid,jdbcType=NUMERIC&#125;    AND name = #&#123;name,jdbcType=VARCHAR&#125;&lt;/delete&gt;</code></pre><h2 id="å…­ã€é€šç”¨æšä¸¾"><a href="#å…­ã€é€šç”¨æšä¸¾" class="headerlink" title="å…­ã€é€šç”¨æšä¸¾"></a>å…­ã€é€šç”¨æšä¸¾</h2><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ•°æ®çš„æœ‰äº›å­—æ®µå€¼æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚æ€§åˆ«ï¼ˆç”·æˆ–å¥³ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyBatis-Plusçš„é€šç”¨æšä¸¾æ¥å®ç°</p><p>é¦–å…ˆï¼Œåœ¨t_userè¡¨ä¸­åŠ ä¸Šgenderå­—æ®µï¼Œä»£è¡¨æ€§åˆ«</p><pre><code class="mysql">alter table t_user add gender int null;</code></pre><p>ç„¶åï¼Œåœ¨å®ä½“ç±»ä¸­æ·»åŠ å¯¹åº”å±æ€§</p><pre><code class="java">@Data@AllArgsConstructor@NoArgsConstructor@TableName(&quot;t_user&quot;)public class User &#123;    @TableId(value = &quot;uid&quot;)    private Long id;    private String name;    private Integer age;    private String email;    //æ·»åŠ å¯¹åº”å±æ€§ï¼Œç±»å‹ä¸ºä¸€ä¼šæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰çš„æšä¸¾ç±»å‹    private GenderEnum gender;    @TableLogic    private Integer isDelete;&#125;</code></pre><p>ç„¶åï¼Œæ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰æšä¸¾ï¼Œå¹¶åœ¨æˆ‘ä»¬éœ€è¦æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„å±æ€§ä¸Šæ·»åŠ <code>@EnumValue</code></p><pre><code class="java">//è¿™æ˜¯ä¸€ç§é€šç”¨æšä¸¾ä½¿ç”¨çš„ç¬¬ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨@EnumValueæ³¨è§£@Getterpublic enum GenderEnum &#123;    MALE(1,&quot;ç”·&quot;),    FEMALE(2,&quot;å¥³&quot;);    //è¿™å„¿æˆ‘ä»¬åœ¨genderå±æ€§ä¸Šæ–¹æ·»åŠ @EnumValueæ³¨è§£ï¼Œä»£è¡¨æ’å…¥æ•°æ®åº“æ—¶æ˜¯å°†è¯¥æšä¸¾ç±»å‹çš„genderå±æ€§å€¼æ’å…¥åˆ°æ•°æ®åº“ä¸­    //å¦‚æœæˆ‘ä»¬è¦å°†genderNameæ’å…¥çš„è¯ï¼Œå°±åœ¨genderNameä¸Šæ–¹æ·»åŠ è¯¥æ³¨è§£    @EnumValue    private Integer gender;    private String genderName;    GenderEnum(Integer gender,String genderName)&#123;        this.gender = gender;        this.genderName = genderName;    &#125;&#125;//ç¬¬äºŒç§æ–¹æ³•ï¼šå°†è‡ªå®šä¹‰æšä¸¾å®ç°IEnunæ¥å£@Getterpublic enum GenderEnum implements IEnum&lt;Integer&gt; &#123;//IEnumæ¥å£çš„æ³›å‹å¡«å†™è¯¥æšä¸¾ä¸­æˆ‘ä»¬éœ€è¦å­˜å…¥æ•°æ®åº“ä¸­çš„å±æ€§çš„ç±»å‹ï¼Œç„¶åå®ç°getValueæ–¹æ³•ï¼Œåœ¨getValueæ–¹æ³•ä¸­è¿”å›æˆ‘ä»¬éœ€è¦å­˜å…¥æ•°æ®åº“ä¸­çš„å±æ€§å€¼    MALE(1,&quot;ç”·&quot;),    FEMALE(2,&quot;å¥³&quot;);    private Integer gender;    private String genderName;    GenderEnum(Integer gender,String genderName)&#123;        this.gender = gender;        this.genderName = genderName;    &#125;        @Override    public Integer getValue() &#123;        return this.gender;    &#125;&#125;</code></pre><p>ç„¶åï¼Œåœ¨<code>application.yaml</code>é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‰«æé€šç”¨æšä¸¾ï¼ˆ æ³¨æ„ï¼šä»Mybatis-plus3.5.2å¼€å§‹ï¼Œæ— éœ€è¿›è¡Œé…ç½®ï¼‰</p><pre><code class="yaml">mybatis-plus:  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  mapper-locations: classpath:mapper/*.xml  # é…ç½®æ‰«æé€šç”¨æšä¸¾çš„åŒ…  type-enums-package: com.xk.mybatisplus.entity</code></pre><p>æµ‹è¯•ï¼š</p><pre><code class="java">@Testvoid testEnum()&#123;    User user = new User();    user.setName(&quot;Enum&quot;);    user.setAge(20);    user.setGender(GenderEnum.MALE);    //INSERT INTO t_user ( uid, name, age, gender ) VALUES ( ?, ?, ?, ? )    //Parameters: 1543959249498730498(Long), Enum(String), 20(Integer), 1(Integer)    userMapper.insert(user);//1&#125;</code></pre><h2 id="ä¸ƒã€ä»£ç ç”Ÿæˆå™¨"><a href="#ä¸ƒã€ä»£ç ç”Ÿæˆå™¨" class="headerlink" title="ä¸ƒã€ä»£ç ç”Ÿæˆå™¨"></a>ä¸ƒã€ä»£ç ç”Ÿæˆå™¨</h2><h3 id="7-1-å¼•å…¥ä¾èµ–"><a href="#7-1-å¼•å…¥ä¾èµ–" class="headerlink" title="7.1 å¼•å…¥ä¾èµ–"></a>7.1 å¼•å…¥ä¾èµ–</h3><pre><code class="xml">&lt;!--ä»£ç ç”Ÿæˆå™¨ä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;    &lt;version&gt;3.5.2&lt;/version&gt;&lt;/dependency&gt;&lt;!--æ¨¡æ¿å¼•æ“ä¾èµ–ï¼Œè¿™ä¸ªéœ€è¦çœ‹è‡ªå·±ä½¿ç”¨ä»€ä¹ˆæ¨¡æ¿ï¼Œå†å†³å®šå¯¼å…¥ä»€ä¹ˆä¾èµ–ï¼Œé»˜è®¤ Velocity å¯é€‰æ¨¡æ¿å¼•æ“ Beetl æˆ– Freemarker--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;    &lt;version&gt;2.3.31&lt;/version&gt;&lt;/dependency&gt;</code></pre><h3 id="7-2-å¤åˆ¶ä»£ç "><a href="#7-2-å¤åˆ¶ä»£ç " class="headerlink" title="7.2 å¤åˆ¶ä»£ç "></a>7.2 å¤åˆ¶ä»£ç </h3><p>æ–°å»ºä¸€ä¸ªç±»ï¼Œå»åˆ°å®˜ç½‘çš„<a href="https://baomidou.com/pages/779a6e/">ä»£ç ç”Ÿæˆå™¨</a>éƒ¨åˆ†å°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°ç±»ä¸­</p><pre><code class="java">public class CodeGenerator &#123;    public static void main(String[] args) &#123;        //å°†è‡ªå·±çš„æ•°æ®åº“urlã€ç”¨æˆ·åã€å¯†ç å¡«å†™åˆ°è¿™å„¿        FastAutoGenerator.create(&quot;jdbc:mysql://localhost:3306/mybatisplus?characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC&quot;, &quot;root&quot;, &quot;root&quot;)                .globalConfig(builder -&gt; &#123;                    builder.author(&quot;rainvex&quot;) // è®¾ç½®ä½œè€…                            //.enableSwagger() // å¼€å¯ swagger æ¨¡å¼                            .fileOverride() // æ˜¯å¦è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶                            .outputDir(&quot;E:\\JavaProject\\Study\\MybatisPlus\\src\\main\\java&quot;); // æŒ‡å®šè¾“å‡ºç›®å½•                &#125;)                .packageConfig(builder -&gt; &#123;                    builder.parent(&quot;com.xk.mybatisplus&quot;) // è®¾ç½®çˆ¶åŒ…å                            .moduleName(&quot;generators&quot;) // è®¾ç½®çˆ¶åŒ…æ¨¡å—åï¼Œå³æˆ‘ä»¬è¦å°†ç”Ÿæˆçš„ä»£ç æ”¾åˆ°com.xk.mybatisplusä¸‹çš„å“ªä¸ªåŒ…ä¸‹ï¼Œè¿™å„¿å°±è¯´æ˜æˆ‘çš„æ˜¯ç”Ÿæˆåˆ°com.xk.mybatisplus.generatorsåŒ…ä¸‹                            .pathInfo(Collections.singletonMap(OutputFile.xml, &quot;E:\\JavaProject\\Study\\MybatisPlus\\src\\main\\resources\\mapper&quot;)); // è®¾ç½®mapper.xmlæ–‡ä»¶ç”Ÿæˆè·¯å¾„                &#125;)                .strategyConfig(builder -&gt; &#123;                    builder.addInclude(&quot;t_user&quot;,&quot;t_product&quot;) // è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å                            .addTablePrefix(&quot;t_&quot;, &quot;c_&quot;); // è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€                &#125;)                .templateEngine(new FreemarkerTemplateEngine()) // ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿                .execute();    &#125;&#125;</code></pre><p>ä»ä»£ç ç”Ÿæˆå™¨çš„é…ç½®å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å°†æ•°æ®è¡¨<code>t_user</code>ã€<code>t_product</code>å¯¹åº”çš„controllerã€serviceã€mapperã€å®ä½“ç±»éƒ½ç”Ÿæˆåˆ°äº†<code>E:\JavaProject\Study\MybatisPlus\src\main\java\com.xk.mybatisplus\generators</code>åŒ…ä¸‹ï¼Œå¦‚æœä¸æƒ³å°†ç”Ÿæˆçš„ä»£ç æ”¾åˆ°æ–°çš„ä¸€ä¸ªåŒ…ä¸‹ï¼Œè€Œæ˜¯ç›´æ¥è¦†ç›–ä¹‹å‰çš„ä»£ç ï¼Œé‚£ä¹ˆåˆ™ä¸è®¾ç½®<code>moduleName</code>å³å¯ï¼Œè€Œå¯¹åº”çš„mapper.xmlæ–‡ä»¶ç”Ÿæˆåˆ°äº†<code>E:\JavaProject\Study\MybatisPlus\src\main\resources\mapper</code>ä¸‹</p><p>ç”Ÿæˆåçš„ç»“æœå¦‚å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051147736.png' data-fancybox='default' data-caption='image-20220705114655460'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051147736.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202207051147736.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220705114655460"></a><span class='image-caption'>image-20220705114655460</span></div></div><h2 id="å…«ã€å¤šæ•°æ®æº"><a href="#å…«ã€å¤šæ•°æ®æº" class="headerlink" title="å…«ã€å¤šæ•°æ®æº"></a>å…«ã€å¤šæ•°æ®æº</h2><p>é€‚ç”¨äºå¤šç§åœºæ™¯ï¼šçº¯ç²¹å¤šåº“ã€ è¯»å†™åˆ†ç¦»ã€ ä¸€ä¸»å¤šä»ã€ æ··åˆæ¨¡å¼ç­‰</p><p>åœºæ™¯è¯´æ˜ï¼šåˆ›å»ºä¸¤ä¸ªåº“ï¼Œåˆ†åˆ«ä¸ºï¼šmybatis_plusï¼ˆä»¥å‰çš„åº“ä¸åŠ¨ï¼‰ä¸mybatis_plus_1ï¼ˆæ–°å»ºï¼‰ï¼Œå°†mybatis_plusåº“çš„productè¡¨ç§»åŠ¨åˆ°mybatis_plus_1åº“ï¼Œè¿™æ ·æ¯ä¸ªåº“ä¸€å¼ è¡¨ï¼Œé€šè¿‡ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹åˆ†åˆ«è·å–ç”¨æˆ·æ•°æ®ä¸å•†å“æ•°æ®ï¼Œå¦‚æœè·å–åˆ°è¯´æ˜å¤šåº“æ¨¡æ‹ŸæˆåŠŸ</p><h3 id="8-1-æ–°å»ºæ•°æ®åº“å’Œè¡¨"><a href="#8-1-æ–°å»ºæ•°æ®åº“å’Œè¡¨" class="headerlink" title="8.1 æ–°å»ºæ•°æ®åº“å’Œè¡¨"></a>8.1 æ–°å»ºæ•°æ®åº“å’Œè¡¨</h3><p>æ–°å»ºä¸€ä¸ªæ•°æ®åº“<code>mybatisplus1</code>ï¼Œå¹¶æ–°å»ºä¸€ä¸ªè¡¨<code>t_product</code>ï¼Œå’Œä¹‹å‰çš„<code>mybatisplus</code>æ•°æ®åº“ä¸­çš„ä¸€æ ·</p><pre><code class="mysql"># åˆ›å»ºæ•°æ®åº“CREATE DATABASE `mybatisplus1`use `mybatisplus1`;# åˆ›å»ºæ•°æ®è¡¨CREATE TABLE t_product(    id BIGINT(20) NOT NULL COMMENT &#39;ä¸»é”®ID&#39;,    name VARCHAR(30) NULL DEFAULT NULL COMMENT &#39;å•†å“åç§°&#39;,    price INT(11) DEFAULT 0 COMMENT &#39;ä»·æ ¼&#39;,    version INT(11) DEFAULT 0 COMMENT &#39;ä¹è§‚é”ç‰ˆæœ¬å·&#39;,    PRIMARY KEY (id));# æ’å…¥æ•°æ®INSERT INTO t_product (id, NAME, price) VALUES (1, &#39;å¤–æ˜Ÿäººç¬”è®°æœ¬&#39;, 100);</code></pre><h3 id="8-2-åˆ é™¤åŸæœ‰è¡¨"><a href="#8-2-åˆ é™¤åŸæœ‰è¡¨" class="headerlink" title="8.2 åˆ é™¤åŸæœ‰è¡¨"></a>8.2 åˆ é™¤åŸæœ‰è¡¨</h3><p>åˆ é™¤æ•°æ®åº“<code>mybatisplus</code>ä¸­åŸæœ‰çš„<code>t_product</code>è¡¨</p><pre><code class="mysql">use mybatisplus;DROP TABLE IF EXISTS t_product;</code></pre><p>æ–°å»ºå’Œåˆ é™¤è¡¨åï¼Œç¡®ä¿å®ä½“ç±»çš„å¯¹åº”çš„è¡¨åå’Œå±æ€§åæ­£ç¡®</p><h3 id="8-3-å¯¼å…¥ä¾èµ–"><a href="#8-3-å¯¼å…¥ä¾èµ–" class="headerlink" title="8.3 å¯¼å…¥ä¾èµ–"></a>8.3 å¯¼å…¥ä¾èµ–</h3><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;dynamic-datasource-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;3.5.1&lt;/version&gt;&lt;/dependency&gt;</code></pre><h3 id="8-4-é…ç½®æ•°æ®æº"><a href="#8-4-é…ç½®æ•°æ®æº" class="headerlink" title="8.4 é…ç½®æ•°æ®æº"></a>8.4 é…ç½®æ•°æ®æº</h3><p>å°†ä¹‹å‰çš„æ•°æ®æºé…ç½®åˆ é™¤ï¼Œæ·»åŠ å¤šæ•°æ®æºé…ç½®</p><pre><code class="yaml">spring:  datasource:    dynamic:      # è®¾ç½®é»˜è®¤çš„æ•°æ®æºæˆ–è€…æ•°æ®æºç»„,é»˜è®¤å€¼å³ä¸ºmaster      primary: master      # ä¸¥æ ¼åŒ¹é…æ•°æ®æº,é»˜è®¤false.å½“è®¾ç½®ä¸ºtrueæ—¶è‹¥æœªåŒ¹é…åˆ°æŒ‡å®šæ•°æ®æºåˆ™æŠ›å¼‚å¸¸,è€Œfalseåˆ™ä¼šä½¿ç”¨é»˜è®¤æ•°æ®æº      strict: false      datasource:        master:          driver-class-name: com.mysql.cj.jdbc.Driver          url: jdbc:mysql://localhost:3306/mybatisplus?characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC          username: root          password: root        slave1:          driver-class-name: com.mysql.cj.jdbc.Driver          url: jdbc:mysql://localhost:3306/mybatisplus1?characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC          username: root          password: root</code></pre><h3 id="8-5-æ·»åŠ -DSæ³¨è§£"><a href="#8-5-æ·»åŠ -DSæ³¨è§£" class="headerlink" title="8.5 æ·»åŠ @DSæ³¨è§£"></a>8.5 æ·»åŠ @DSæ³¨è§£</h3><p>åœ¨<code>UserServiceImpl</code>å’Œ<code>ProductServiceImpl</code>ç±»ä¸Šæ–¹æ·»åŠ <code>@DS</code>æ³¨è§£ï¼ŒæŒ‡æ˜è¯¥serviceè¦ä½¿ç”¨çš„æ•°æ®æº</p><pre><code class="java">@DS(&quot;master&quot;)@Servicepublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService &#123;&#125;@DS(&quot;slave1&quot;)@Servicepublic class ProductServiceImpl extends ServiceImpl&lt;ProductMapper, Product&gt; implements ProductService &#123;&#125;</code></pre><h3 id="8-6-æµ‹è¯•"><a href="#8-6-æµ‹è¯•" class="headerlink" title="8.6 æµ‹è¯•"></a>8.6 æµ‹è¯•</h3><pre><code class="java">@Autowiredprivate UserService userService;@Autowiredprivate ProductService productService;@Testvoid testDatasource()&#123;    System.out.println(userService.getById(1L));    //User(id=1, name=Jone, age=18, email=test1@baomidou.com, gender=null, isDelete=0)    System.out.println(productService.getById(1L));    //Product(id=1, name=å¤–æ˜Ÿäººç¬”è®°æœ¬, price=100, version=0)&#125;//å½“èƒ½åˆ†åˆ«æŸ¥è¯¢å‡ºæ•°æ®ï¼Œè¯´æ˜å¤šæ•°æ®æºé…ç½®æˆåŠŸ</code></pre><p>å¦‚æœæˆ‘ä»¬å®ç°è¯»å†™åˆ†ç¦»ï¼Œå°†å†™æ“ä½œæ–¹æ³•åŠ ä¸Šä¸»åº“æ•°æ®æºï¼Œè¯»æ“ä½œæ–¹æ³•åŠ ä¸Šä»åº“æ•°æ®æºï¼Œè‡ªåŠ¨åˆ‡æ¢ï¼Œå°±èƒ½å®ç°è¯»å†™åˆ†ç¦»</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Mybatis-pluså­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#Mybatis-pluså­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;Mybatis-pluså­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;Mybatis-pluså­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€å…¥é—¨æ¡ˆä¾‹&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="åç«¯" scheme="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Mybatis" scheme="http://rainvex.com/tags/Mybatis/"/>
    
    <category term="Java" scheme="http://rainvex.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ</title>
    <link href="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AE%9E%E9%AA%8C.html"/>
    <id>http://rainvex.com/categories/%E6%95%99%E7%A8%8B/%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AE%9E%E9%AA%8C.html</id>
    <published>2022-05-28T09:27:34.000Z</published>
    <updated>2022-05-28T09:27:34.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ"><a href="#äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ" class="headerlink" title="äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ"></a>äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ</h1><p>è¯¥æ•™ç¨‹æ˜¯æœ¬å­¦æœŸå¤§æ•°æ®ä¸äº‘è®¡ç®—è¯¾ç¨‹çš„è¯¾ç¨‹å®éªŒï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹çš„åŒå­¦ï¼ŒåŒæ ·ä¹Ÿæ˜¯å¯¹è‡ªå·±å­¦ä¹ è¿‡ç¨‹çš„è®°å½•ï¼Œæ–¹ä¾¿ä»¥åçš„å­¦ä¹ </p><p><strong>å£°æ˜ï¼šè¯¥æ•™ç¨‹åªæ˜¯ä¸ºäº†å¸®åŠ©å¤§å®¶å®Œæˆæœ¬å­¦æœŸçš„å®éªŒï¼Œè¯·ä¸è¦ç›´æ¥å°†æ•™ç¨‹ä¸­çš„å†…å®¹ç›´æ¥å¤åˆ¶ä½œä¸ºå®éªŒæŠ¥å‘Šï¼ŒåŠ¡å¿…æŒ‰ç…§è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œæ“ä½œå’Œç¼–å†™ï¼Œå¦‚è‹¥å‡ºç°å› å¤åˆ¶æ•™ç¨‹å†…å®¹å¯¼è‡´å®éªŒæŠ¥å‘Šé›·åŒè¢«æŸ¥çš„æƒ…å†µï¼Œä¸€æ¦‚ä¸è´Ÿè´£</strong></p><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><p>å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å…ˆå®ŒæˆUbuntuç³»ç»Ÿä¸‹çš„Hadoopåˆ†å¸ƒå¼é›†ç¾¤å®‰è£…ï¼Œå¦‚æœè¿˜æœªå®Œæˆï¼Œå¯ä»¥å…ˆå‚è€ƒä¹‹å‰çš„<a href="https://rainvex.cn/categories/%E6%95%99%E7%A8%8B/Ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAHadoop%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4.html">è¿™ç¯‡æ–‡ç« </a>ï¼›å¦‚æœä¸€å¼€å§‹å°±ä½¿ç”¨çš„æ˜¯å•æœºç‰ˆHadoopï¼Œå¯ä»¥ç›´æ¥åšå®éªŒï¼Œä¸ç”¨ç®¡å‰é¢è¿™äº›é…ç½®ï¼Œä¹Ÿä¸ç”¨è·‘å»è™šæ‹Ÿæœºä¸Šæ­å»ºä¸€ä¸ªåˆ†å¸ƒå¼Hadoopé›†ç¾¤</p><p>å¦‚æœä¸€å¼€å§‹å°±è‡ªå·±æ­å»ºäº†åˆ†å¸ƒå¼Hadoopé›†ç¾¤ï¼Œé‚£ä¹ˆåœ¨Windowsä¸Šä¹Ÿè¦å®ŒæˆHadoopç¯å¢ƒçš„é…ç½®ï¼Œå› ä¸ºåœ¨åç»­å®éªŒä¸­æˆ‘ä»¬éœ€è¦åœ¨Windowsä¸Šä½¿ç”¨IDEAç¼–å†™æµ‹è¯•ç±»æ¥å¯¹Ubuntuä¸­Hadoopçš„HDFSæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥Windowsä¹Ÿè¦é…ç½®å¥½Hadoopç¯å¢ƒï¼Œä¸ç„¶ä¼šæŠ¥<code>HADOOP_HOME</code>æ‰¾ä¸åˆ°ä¹‹ç±»çš„é”™è¯¯ï¼ˆHadoopéœ€è¦ä¾èµ–JDKï¼Œå°±é»˜è®¤å¤§å®¶éƒ½å·²ç»å®‰è£…äº†JDKï¼‰</p><h3 id="1-1-Windowsä¸­å®‰è£…Hadoop"><a href="#1-1-Windowsä¸­å®‰è£…Hadoop" class="headerlink" title="1.1 Windowsä¸­å®‰è£…Hadoop"></a>1.1 Windowsä¸­å®‰è£…Hadoop</h3><p>å¦‚æœæ˜¯ç›´æ¥ä½¿ç”¨è€å¸ˆå‘çš„é…ç½®å¥½çš„hadoopå‹ç¼©åŒ…åˆ™åªéœ€è¦æŸ¥çœ‹å¦‚ä½•é…ç½®å¥½ç¯å¢ƒå˜é‡å³å¯ï¼Œå¦å¤–ï¼Œ<strong>å»ºè®®</strong>Windowsä¸­å®‰è£…çš„Hadoopå’ŒUbuntuä¸­å®‰è£…çš„Hadoop<strong>ç‰ˆæœ¬ä¸€æ ·</strong>ï¼Œä»¥å…å¼•èµ·ä¸å¿…è¦çš„éº»çƒ¦æˆ–æ˜¯å¯èƒ½å› ç‰ˆæœ¬ä¸åŒå¼•èµ·é€ æˆçš„å†²çªé—®é¢˜</p><h4 id="1-1-1-ä¸‹è½½Hadoop"><a href="#1-1-1-ä¸‹è½½Hadoop" class="headerlink" title="1.1.1 ä¸‹è½½Hadoop"></a>1.1.1 ä¸‹è½½Hadoop</h4><p>è¿™ä¸ªåœ¨ä¹‹å‰çš„<a href="https://rainvex.cn/categories/%E6%95%99%E7%A8%8B/Ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAHadoop%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4.html">Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤</a>æ•™ç¨‹ä¸­å·²ç»æåˆ°è¿‡ï¼Œå°±ä¸å†èµ˜è¿°äº†</p><p>æ³¨ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯Hadoop3.2.3</p><h4 id="1-1-2-è§£å‹Hadoop"><a href="#1-1-2-è§£å‹Hadoop" class="headerlink" title="1.1.2 è§£å‹Hadoop"></a>1.1.2 è§£å‹Hadoop</h4><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾Hadoop</p><p>ç„¶åå°†ä¸‹è½½å¥½çš„å‹ç¼©åŒ…ï¼ˆåç¼€åå°±æ˜¯tar.gzï¼Œä¸ç”¨æ€€ç–‘ï¼‰ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œ**<code>ä»¥ç®¡ç†å‘˜èº«ä»½è§£å‹</code>**åˆ°å½“å‰æ–‡ä»¶å¤¹</p><h4 id="1-1-3-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#1-1-3-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="1.1.3 è®¾ç½®ç¯å¢ƒå˜é‡"></a>1.1.3 è®¾ç½®ç¯å¢ƒå˜é‡</h4><p>ä¾æ¬¡ç‚¹å‡»<code>è®¡ç®—æœº</code>-&gt;<code>å±æ€§</code>-&gt;<code>é«˜çº§ç³»ç»Ÿè®¾ç½®</code>-&gt;<code>ç¯å¢ƒå˜é‡</code></p><p>ç„¶åè¿›è¡Œä»¥ä¸‹ç¯å¢ƒå˜é‡é…ç½®</p><p>æ·»åŠ <code>HADOOP_HOME</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271849078.png' data-fancybox='default' data-caption='image-202205271849078'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271849078.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271849078.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205271849078"></a><span class='image-caption'>image-202205271849078</span></div></div><p>æ·»åŠ åˆ°Pathå˜é‡</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271850043.png' data-fancybox='default' data-caption='image-20220527185048944'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271850043.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271850043.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527185048944"></a><span class='image-caption'>image-20220527185048944</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271908057.png' data-fancybox='default' data-caption='image-20220527190838965'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271908057.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271908057.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527190838965"></a><span class='image-caption'>image-20220527190838965</span></div></div><p>ç„¶åä¸€è·¯ç¡®å®šå³å¯</p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æ‰“å¼€Windowsçš„å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥<code>hadoop</code>æµ‹è¯•ä¸€ä¸‹ï¼Œå‘ç°æŠ¥é”™</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271855877.png' data-fancybox='default' data-caption='image-20220527185557657'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271855877.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271855877.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527185557657"></a><span class='image-caption'>image-20220527185557657</span></div></div><p>æ ¹æ®æç¤ºæ‰¾åˆ°è¿™ä¸ªhadoop-env.cmdæ–‡ä»¶ï¼Œä½¿ç”¨æœ¬æ–‡ç¼–è¾‘å™¨æ‰“å¼€è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271916651.png' data-fancybox='default' data-caption='image-20220527191541240'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271916651.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271916651.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527191541240"></a><span class='image-caption'>image-20220527191541240</span></div></div><p>ç„¶åï¼Œå†æ¬¡ä½¿ç”¨<code>hadoop</code>å’Œ<code>hadoop -version</code>å‘½ä»¤æµ‹è¯•ï¼Œå‘ç°æœªæŠ¥é”™</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271918259.png' data-fancybox='default' data-caption='image-20220527191847744'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271918259.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271918259.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527191847744"></a><span class='image-caption'>image-20220527191847744</span></div></div><p>è¾“å…¥<code>hadoop -version</code>æ‰“å°çš„æ˜¯jdkçš„ç‰ˆæœ¬ï¼Œè¾“å…¥<code>hadoop version</code>æ‰“å°çš„æ˜¯hadoopçš„ç‰ˆæœ¬</p><h4 id="1-1-4-ä¸‹è½½winutils"><a href="#1-1-4-ä¸‹è½½winutils" class="headerlink" title="1.1.4 ä¸‹è½½winutils"></a>1.1.4 ä¸‹è½½winutils</h4><p>è¿™æ˜¯<strong>Hadoopåœ¨Windowsä¸Šè¿è¡Œå¿…é¡»è¦ä½¿ç”¨çš„ä¸œè¥¿</strong></p><p><a href="https://github.com/SirMin/winutils">githubä¸‹è½½åœ°å€</a>å’Œ<a href="https://pan.baidu.com/s/1ihdDSuzoGcTMvCVcHR3bqQ">ç½‘ç›˜åˆ†äº«åœ°å€</a>ï¼ˆæå–ç : keg8ï¼Œç½‘ç›˜åªæä¾›äº†3.2.0ç‰ˆæœ¬ï¼Œå…¶ä»–ç‰ˆæœ¬è¯·ä»githubä¸Šä¸‹è½½ï¼‰</p><p>æ‰¾åˆ°è‡ªå·±hadoopå¯¹åº”çš„ç‰ˆæœ¬ï¼Œå°†æ•´ä¸ª<code>hadoop-xxx\bin</code>æ–‡ä»¶å¤¹ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åå°†è¿™å‡ ä¸ªæ–‡ä»¶å…¨éƒ¨å¤åˆ¶åˆ°<code>hadoop\bin</code>ã€<code>hadoop\sbin</code>ã€<code>C:\Windows\System32</code>è¿™ä¸‰ä¸ªæ–‡ä»¶å¤¹ä¸‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271932555.png' data-fancybox='default' data-caption='image-20220527193216469'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271932555.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205271932555.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527193216469"></a><span class='image-caption'>image-20220527193216469</span></div></div><h4 id="1-1-5-ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶"><a href="#1-1-5-ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶" class="headerlink" title="1.1.5 ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶"></a>1.1.5 ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶</h4><p>è¿™ä¸€éƒ¨åˆ†è·Ÿä¹‹å‰åœ¨Ubuntuä¸­æ­å»ºHadoopé›†ç¾¤å‡ ä¹ä¸€æ ·ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€éƒ¨åˆ†åœ°æ–¹</p><p>ç”±äºæˆ‘ä»¬å¹¶ä¸æ˜¯åœ¨Windowsä¸Šä½¿ç”¨Hadoopï¼Œæ‰€ä»¥å…¶å®åœ¨Windowsä¸Šé…ç½®Hadoopç¯å¢ƒåªéœ€ä¿®æ”¹éœ€è¦çš„å³å¯ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„å®éªŒæ˜¯æ“ä½œHDFSï¼Œé‚£ä¹ˆé…ç½®<code>core-site.xml</code>ã€<code>hdfs-site.xml</code>ã€<code>mapred-site.xml</code>å³å¯ï¼Œå¥½åƒè¿˜æ˜¯å‡ ä¹éƒ½è¦é…ç½®ğŸ˜‚ï¼ˆç®—äº†ï¼Œéƒ½é…ç½®å§ğŸ™„ï¼‰ï¼Œä½†æ˜¯æœ‰äº›é…ç½®é¡¹ç¡®å®å¯ä»¥ä¸éœ€è¦</p><h5 id="â‘ -é…ç½®æ ¸å¿ƒç»„ä»¶core-site-xml"><a href="#â‘ -é…ç½®æ ¸å¿ƒç»„ä»¶core-site-xml" class="headerlink" title="â‘  é…ç½®æ ¸å¿ƒç»„ä»¶core-site.xml"></a>â‘  é…ç½®æ ¸å¿ƒç»„ä»¶core-site.xml</h5><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘core-site.xmlæ–‡ä»¶ï¼Œåœ¨<code>&lt;configuration&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;configuration&gt;  &lt;!--æŒ‡å®šHDFSçš„ï¼ˆNameNodeï¼‰çš„ç¼ºçœè·¯å¾„åœ°å€,localhostï¼šæ˜¯è®¡ç®—æœºåï¼Œä¹Ÿå¯ä»¥æ˜¯ipåœ°å€--&gt;  &lt;property&gt;      &lt;name&gt;fs.defaultFS&lt;/name&gt;      &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;  &lt;/property&gt;  &lt;!-- æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½•(ä»¥ä¸ªäººä¸ºå‡†) --&gt;  &lt;property&gt;    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;    &lt;value&gt;/D:/CodeEnvironment/Hadoop/tmp&lt;/value&gt;  &lt;!--å¯ä»¥è‡ªå·±æ–°å»ºå¥½ï¼Œä¹Ÿå¯ä»¥ç­‰ä¼šå„¿æ ¼å¼åŒ–æ—¶è®©å…¶è‡ªå·±åˆ›å»º--&gt;  &lt;/property&gt;&lt;/configuration&gt;</code></pre><h5 id="â‘¡-é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site-xml"><a href="#â‘¡-é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site-xml" class="headerlink" title="â‘¡ é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site.xml"></a>â‘¡ é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site.xml</h5><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘hdfs-site.xmlæ–‡ä»¶ï¼Œåœ¨<code>&lt;configuration&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;dfs.replication&lt;/name&gt;    &lt;value&gt;1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;    &lt;value&gt;/D:/CodeEnvironment/Hadoop/tmp/dfs/name&lt;/value&gt;  &lt;!--å¯ä»¥è‡ªå·±æ–°å»ºå¥½ï¼Œä¹Ÿå¯ä»¥ç­‰ä¼šå„¿æ ¼å¼åŒ–æ—¶è®©å…¶è‡ªå·±åˆ›å»º--&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;    &lt;value&gt;/D:/CodeEnvironment/Hadoop/tmp/dfs/data&lt;/value&gt;  &lt;!--å¯ä»¥è‡ªå·±æ–°å»ºå¥½ï¼Œä¹Ÿå¯ä»¥ç­‰ä¼šå„¿æ ¼å¼åŒ–æ—¶è®©å…¶è‡ªå·±åˆ›å»º--&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;    &lt;value&gt;localhost:50070&lt;/value&gt;&lt;/property&gt;</code></pre><h5 id="â‘¢-é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site-xml"><a href="#â‘¢-é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site-xml" class="headerlink" title="â‘¢ é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site.xml"></a>â‘¢ é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site.xml</h5><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘yarn-site.xmlæ–‡ä»¶ï¼Œåœ¨<code>&lt;configuration&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;    &lt;value&gt;localhost&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;    &lt;value&gt;localhost:18040&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;    &lt;value&gt;localhost:18030&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;    &lt;value&gt;localhost:18025&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;    &lt;value&gt;localhost:18141&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;    &lt;value&gt;localhost:18088&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;!--è¿™ä¸ªæ˜¯ä¹‹å‰åœ¨Ubuntuä¸­é…ç½®Hadoopé›†ç¾¤æµ‹è¯•çš„æ—¶å€™å‡ºé”™æ·»åŠ çš„ï¼Œå¦‚æœä¸åŠ æµ‹è¯•ä¼šå‡ºç°æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» org.apache.hadoop.mapreduce.v2.app.MRAppMasterçš„é”™è¯¯ï¼Œä½†æ˜¯åœ¨Windowsä¸‹è¿˜éœ€ä¸éœ€è¦é…ç½®æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œä»¥é˜²ä¸‡ä¸€æˆ‘å°±é…ç½®ä¸Šäº†ï¼Œvalueæ ‡ç­¾çš„å†…å®¹è¿˜æ˜¯ä¸€æ ·çš„è·å–æ–¹æ³•ï¼Œé€šè¿‡hadoop classpathå‘½ä»¤è·å–ï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°æ­¤å¤„ï¼Œåé¢çš„mapred-site.xmlæ–‡ä»¶ä¸­ä¹Ÿæ·»åŠ äº†è¿™ä¸ªé…ç½®ï¼Œä½†æ˜¯nameä¸ä¸€æ ·ï¼Œå¦‚æœå«Œä¿®æ”¹è·¯å¾„ç¬¦å·éº»çƒ¦ä¹Ÿå¯ä»¥ä¸æ·»åŠ --&gt;    &lt;name&gt;yarn.application.classpath&lt;/name&gt;&lt;value&gt;/D:/CodeEnvironment/Hadoop/etc/hadoop;D:/CodeEnvironment/Hadoop/share/hadoop/common;D:/CodeEnvironment/Hadoop/share/hadoop/common/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/common/*;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs/*;D:/CodeEnvironment/Hadoop/share/hadoop/yarn;D:/CodeEnvironment/Hadoop/share/hadoop/yarn/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/yarn/*;D:/CodeEnvironment/Hadoop/share/hadoop/mapreduce/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/mapreduce/*&lt;/value&gt;&lt;/property&gt;</code></pre><h5 id="â‘£-é…ç½®è®¡ç®—æ¡†æ¶mapred-site-xml"><a href="#â‘£-é…ç½®è®¡ç®—æ¡†æ¶mapred-site-xml" class="headerlink" title="â‘£ é…ç½®è®¡ç®—æ¡†æ¶mapred-site.xml"></a>â‘£ é…ç½®è®¡ç®—æ¡†æ¶mapred-site.xml</h5><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘mapred-site.xmlæ–‡ä»¶ï¼Œåœ¨<code>&lt;configuration&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;    &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapred.job.tracker&lt;/name&gt;    &lt;value&gt;hdfs://localhost:9001&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;    &lt;value&gt;localhost:10020&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;    &lt;value&gt;localhost:19888&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/D:/CodeEnvironment/Hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.map.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/D:/CodeEnvironment/Hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/D:/CodeEnvironment/Hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;&lt;value&gt;/D:/CodeEnvironment/Hadoop/etc/hadoop;D:/CodeEnvironment/Hadoop/share/hadoop/common;D:/CodeEnvironment/Hadoop/share/hadoop/common/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/common/*;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/hdfs/*;D:/CodeEnvironment/Hadoop/share/hadoop/yarn;D:/CodeEnvironment/Hadoop/share/hadoop/yarn/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/yarn/*;D:/CodeEnvironment/Hadoop/share/hadoop/mapreduce/lib/*;D:/CodeEnvironment/Hadoop/share/hadoop/mapreduce/*&lt;/value&gt;&lt;/property&gt;</code></pre><h4 id="1-1-6-æ ¼å¼åŒ–HDFS"><a href="#1-1-6-æ ¼å¼åŒ–HDFS" class="headerlink" title="1.1.6 æ ¼å¼åŒ–HDFS"></a>1.1.6 æ ¼å¼åŒ–HDFS</h4><p>åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>hdfs namenode -format</code>ï¼Œå¦‚æœä¸­é—´å‡ºç°æç¤ºï¼Œè¾“å…¥Yå³å¯</p><p>æ ¼å¼åŒ–å®Œæˆåï¼Œå¯ä»¥åœ¨hadoopçš„æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°å®ƒå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬æ–°å»ºå¥½äº†ä¹‹å‰é…ç½®çš„æ–‡ä»¶å¤¹ï¼ˆè¿™å„¿åªæœ‰nameæ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰dataæ–‡ä»¶å¤¹ï¼Œç­‰ä¼šå„¿å¯åŠ¨hadoopåå°±ä¼šå‡ºç°dataï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272030118.png' data-fancybox='default' data-caption='image-20220527203001012'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272030118.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272030118.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527203001012"></a><span class='image-caption'>image-20220527203001012</span></div></div><h4 id="1-1-7-å¯åŠ¨Hadoop"><a href="#1-1-7-å¯åŠ¨Hadoop" class="headerlink" title="1.1.7 å¯åŠ¨Hadoop"></a>1.1.7 å¯åŠ¨Hadoop</h4><p>åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>start-all.cmd</code></p><p>æ­¤æ—¶ä¼šå¼¹å‡ºå››ä¸ªçª—å£ï¼Œä½†æ˜¯å…¶ä¸­æœ‰ä¸¤ä¸ªçª—å£æŠ¥é”™ï¼ˆå¦‚æœæ²¡æœ‰æŠ¥é”™å°±ä¸ç”¨ç®¡ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272043854.png' data-fancybox='default' data-caption='image-20220527204332749'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272043854.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272043854.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527204332749"></a><span class='image-caption'>image-20220527204332749</span></div></div><p>å‡ºç°è¿™ä¸ªåŸå› æ˜¯ç”±äºæˆ‘ä¹‹å‰å®‰è£…è¿‡<code>node.js</code>ï¼Œç³»ç»Ÿé‡Œæœ‰é‡åå‘½ä»¤<code>yarn</code>ï¼Œæ‰€ä»¥åœ¨è¿è¡Œhadoopçš„yarnçš„æ—¶å€™éœ€è¦æŒ‡å®šå…¶yarnè·¯å¾„ï¼Œ<strong>è§£å†³åŠæ³•æ˜¯æ‰“å¼€sbinç›®å½•ä¸‹çš„start-yarn.cmdæ–‡ä»¶</strong>ï¼Œä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272050463.png' data-fancybox='default' data-caption='image-20220527205006313'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272050463.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272050463.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527205006313"></a><span class='image-caption'>image-20220527205006313</span></div></div><p>æ­¤æ—¶ä½¿ç”¨<code>stop-all.cmd</code>åœæ­¢æ‰€æœ‰æœåŠ¡åï¼Œå†<code>start-all.cmd</code>å¼€å¯æ‰€æœ‰æœåŠ¡ï¼ŒæˆåŠŸå¼€å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272052956.png' data-fancybox='default' data-caption='image-20220527205205838'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272052956.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272052956.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527205205838"></a><span class='image-caption'>image-20220527205205838</span></div></div><p>ä½¿ç”¨<code>jps</code>å‘½ä»¤æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272053130.png' data-fancybox='default' data-caption='image-20220527205326955'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272053130.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272053130.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527205326955"></a><span class='image-caption'>image-20220527205326955</span></div></div><p>åœ¨Windowsä¸Šçš„æµè§ˆå™¨ä¸­è®¿é—®<code>localhost:50070</code>å’Œ<code>localhost:18088</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272054788.png' data-fancybox='default' data-caption='image-20220527205452620'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272054788.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272054788.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527205452620"></a><span class='image-caption'>image-20220527205452620</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272055751.png' data-fancybox='default' data-caption='image-20220527205515592'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272055751.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272055751.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527205515592"></a><span class='image-caption'>image-20220527205515592</span></div></div><p>åˆ°æ­¤ï¼ŒWindowsä¸Šé…ç½®Hadoopç¯å¢ƒå°±å®Œæˆäº†ï¼Œè¿™å…¶å®ä¹Ÿç®—æ˜¯ä¸€ä¸ªhadoopå•æœºç‰ˆçš„å®‰è£…æ­¥éª¤äº†</p><h3 id="1-2-Ping"><a href="#1-2-Ping" class="headerlink" title="1.2 Ping"></a>1.2 Ping</h3><p>è¯·ç¡®ä¿Windowså’ŒUbuntuèƒ½å¤Ÿäº’ç›¸<code>ping</code>é€š</p><p>ç„¶åï¼Œæ­£å¼å¼€å§‹å®éªŒå†…å®¹</p><h2 id="äºŒã€å®éªŒä¸€ï¼šHDFSçš„æ–‡ä»¶æ“ä½œå‘½ä»¤åŠAPIç¼–ç¨‹"><a href="#äºŒã€å®éªŒä¸€ï¼šHDFSçš„æ–‡ä»¶æ“ä½œå‘½ä»¤åŠAPIç¼–ç¨‹" class="headerlink" title="äºŒã€å®éªŒä¸€ï¼šHDFSçš„æ–‡ä»¶æ“ä½œå‘½ä»¤åŠAPIç¼–ç¨‹"></a>äºŒã€å®éªŒä¸€ï¼šHDFSçš„æ–‡ä»¶æ“ä½œå‘½ä»¤åŠAPIç¼–ç¨‹</h2><h3 id="2-1-HDFSçš„åŸºæœ¬æ–‡ä»¶æ“ä½œå‘½ä»¤"><a href="#2-1-HDFSçš„åŸºæœ¬æ–‡ä»¶æ“ä½œå‘½ä»¤" class="headerlink" title="2.1 HDFSçš„åŸºæœ¬æ–‡ä»¶æ“ä½œå‘½ä»¤"></a>2.1 HDFSçš„åŸºæœ¬æ–‡ä»¶æ“ä½œå‘½ä»¤</h3><p>è¯¥å°èŠ‚åœ¨Ubuntuä¸­è¿›è¡Œæ“ä½œï¼Œå¦‚æœåªå®‰è£…äº†å•æœºç‰ˆå½“æˆ‘æ²¡è¯´ğŸ™„ï¼Œç›´æ¥åœ¨Windowsä¸Šæ“ä½œï¼ŒæŠŠæ“ä½œçš„ç›®å½•åå’Œè·¯å¾„æ”¹ä¸ºwindowsä¸Šçš„ä¹ æƒ¯å³å¯</p><p>è¿™ä¸€å°èŠ‚æ˜¯ä¹¦ä¸Šå®éªŒè¦æ±‚çš„</p><p>â‘  ä½¿ç”¨<code>start-all.sh</code>å¯åŠ¨ hadoopï¼Œé€šè¿‡<code>jps</code>å‘½ä»¤æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰æ“ä½œéƒ½å»ºç«‹åœ¨Ubuntuä¸­çš„Hadoopå¯åŠ¨æˆåŠŸçš„æ¡ä»¶ä¸‹ï¼›é€šè¿‡webæ–¹å¼æŸ¥çœ‹namenodeå’Œjobtrackerï¼Œåœ¨æµè§ˆå™¨è¾“å…¥<code>master:50070</code>å’Œ<code>master:18088</code>å³å¯è®¿é—®ï¼Œè¿™å„¿ä¸å†èµ˜è¿°</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272112426.png' data-fancybox='default' data-caption='image-20220527211236064'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272112426.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272112426.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527211236064"></a><span class='image-caption'>image-20220527211236064</span></div></div><p>â‘¡ è¿›å…¥è‡ªå·±Ubuntuä¸­å®‰è£…hadoopçš„ç›®å½•ä¸‹ï¼Œè¿›å…¥tmpç›®å½•ï¼Œå³é”®å•å‡»é€‰æ‹©åœ¨ç»ˆç«¯æ‰“å¼€ï¼Œæˆ–è€…åœ¨ä»»æ„ä½ç½®çš„ç»ˆç«¯ä¸­ä½¿ç”¨<code>cd è¦è¿›å…¥çš„ç›®å½•</code>å‘½ä»¤è¿›å…¥åˆ°tmpç›®å½•ï¼Œå†ä½¿ç”¨<code>ls</code>å‘½ä»¤æŸ¥çœ‹ hadoopä¸‹tmpç›®å½•ä¸­çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬dfsç›®å½•å’Œ mappedç›®å½•ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡æœ‰mappedç›®å½•ï¼Œå¯èƒ½é…ç½®æ–‡ä»¶æ²¡é…ç½®çš„åŸå› ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272116473.png' data-fancybox='default' data-caption='image-20220527211631172'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272116473.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205272116473.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220527211631172"></a><span class='image-caption'>image-20220527211631172</span></div></div><p>â‘¢ åœ¨ç»ˆç«¯ä½¿ç”¨<code>hadoop fs -ls /</code>åˆ—å‡ºHDFSä¸Šæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¦‚æœä»æœªä½¿ç”¨è¿‡ï¼Œé‚£ä¹ˆHDFSä¸­æš‚æ— ä»»ä½•ç›®å½•å’Œæ–‡ä»¶ï¼Œå°±ä¸ä¼šè¾“å‡ºä»»ä½•ä¸œè¥¿</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281333565.png' data-fancybox='default' data-caption='image-20220528133324311'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281333565.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281333565.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528133324311"></a><span class='image-caption'>image-20220528133324311</span></div></div><p>â‘£ ä½¿ç”¨å‘½ä»¤<code>hadoop fs -mkdir -p /user/xk</code>åœ¨HDFSçš„userç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåå­—ç›˜æ‹¼éŸ³çš„ç›®å½•ï¼Œå¹¶ä½¿ç”¨<code>hadoop fs -ls -R /</code>æŸ¥çœ‹ï¼ŒåŠ ä¸Š<code>-R</code>æŒ‡ä»¤å°±æ˜¯è¡¨ç¤ºé€’å½’æŸ¥çœ‹ï¼Œä¼šæŠŠæ¯ä¸€å±‚çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Œå‰é¢åˆ›å»ºç›®å½•çš„<code>-p</code>ä¹ŸåŸºæœ¬æ˜¯åŒä¸€ä¸ªæ„æ€ï¼Œè¡¨ç¤ºé€’å½’åˆ›å»º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281334179.png' data-fancybox='default' data-caption='image-20220528133456084'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281334179.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281334179.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528133456084"></a><span class='image-caption'>image-20220528133456084</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281335326.png' data-fancybox='default' data-caption='image-20220528133550169'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281335326.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281335326.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528133550169"></a><span class='image-caption'>image-20220528133550169</span></div></div><p>â‘¤ åœ¨Ubuntuçš„<code>/usr</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtestç›®å½•ï¼Œè¿›å…¥testç›®å½•ï¼Œæ‰§è¡Œ<code>echo &quot;hello world&quot; ï¼ testlï¼txt</code>å‘½ä»¤åˆ›å»º test1.txtæ–‡ä»¶ï¼Œå¹¶è¾“å…¥hello worldå†…å®¹ï¼Œç„¶åä½¿ç”¨catå‘½ä»¤æŸ¥çœ‹å†…å®¹ï¼ˆåˆ›å»ºä½ç½®å’Œç›®å½•åå­—éšè‡ªå·±è€Œå®šï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281340282.png' data-fancybox='default' data-caption='image-20220528134008138'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281340282.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281340282.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134008138"></a><span class='image-caption'>image-20220528134008138</span></div></div><p>â‘¥ å°†åˆšæ‰åœ¨æœ¬åœ°åˆ›å»ºçš„ test1.txtæ–‡ä»¶ä¸Šä¼ ï¼ˆputï¼‰åˆ°HDFSä¸‹åå­—çš„ç›®å½•ä¸‹ï¼Œå¹¶æŸ¥çœ‹HDFSçš„/user/xkç›®å½•ä¸‹æ˜¯å¦æœ‰test1.txtæ–‡ä»¶ã€‚å‘½ä»¤ä¸º<code>hadoop fs -put è¦ä¸Šä¼ çš„æ–‡ä»¶ è¦ä¸Šä¼ åˆ°çš„ä½ç½®</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281342400.png' data-fancybox='default' data-caption='image-20220528134253086'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281342400.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281342400.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134253086"></a><span class='image-caption'>image-20220528134253086</span></div></div><p>ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹hdfsä¸Šçš„ç›®å½•å’Œæ–‡ä»¶</p><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<code>master:50070</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281345165.png' data-fancybox='default' data-caption='image-20220528134526022'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281345165.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281345165.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134526022"></a><span class='image-caption'>image-20220528134526022</span></div></div><p>ç‚¹å‡»è¿›å…¥è¦æŸ¥çœ‹çš„ç›®å½•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281346429.png' data-fancybox='default' data-caption='image-20220528134600321'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281346429.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281346429.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134600321"></a><span class='image-caption'>image-20220528134600321</span></div></div><p>â‘¦ æŸ¥çœ‹HDFSä¸‹åˆšæ‰ä¸Šä¼ çš„æ–‡ä»¶çš„å†…å®¹ã€‚å‘½ä»¤<code>hadoop fs -cat è¦æŸ¥çœ‹çš„æ–‡ä»¶</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281343714.png' data-fancybox='default' data-caption='image-20220528134334624'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281343714.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281343714.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134334624"></a><span class='image-caption'>image-20220528134334624</span></div></div><p>â‘§ å½»åº•åˆ é™¤Ubuntuä¸Šåˆšåˆšåˆ›å»ºçš„<code>/usr/test</code>ç›®å½•ä¸­çš„test1.txtæ–‡ä»¶ï¼Œåˆ é™¤åå¯ä»¥ä½¿ç”¨<code>ls</code>ç¡®è®¤æ˜¯å¦æ˜¯å¦æˆåŠŸåˆ é™¤</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281348091.png' data-fancybox='default' data-caption='image-20220528134830955'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281348091.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281348091.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528134830955"></a><span class='image-caption'>image-20220528134830955</span></div></div><p>â‘¨ å°†HDFSä¸Šçš„ test1.txtæ–‡ä»¶ä¸‹è½½åˆ°Ubuntuä¸­å¹¶æŸ¥çœ‹ã€‚ä¸‹è½½çš„å‘½ä»¤æ˜¯<code>hadoop fs -get è¦ä¸‹è½½çš„æ–‡ä»¶ è¦ä¸‹è½½çš„ç›®å½•ä½ç½®</code>ï¼Œä¸‹è½½åˆ°Ubuntuä¸­åä½¿ç”¨<code>ls</code>å†æŸ¥çœ‹è¯¥ç›®å½•ï¼Œå‘ç°åˆæœ‰äº†ä¸€ä¸ªtest1.txtæ–‡ä»¶ï¼Œä½¿ç”¨<code>cat</code>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281350534.png' data-fancybox='default' data-caption='image-20220528135002426'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281350534.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281350534.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528135002426"></a><span class='image-caption'>image-20220528135002426</span></div></div><p>â‘© åœ¨HDFSä¸Šåˆ é™¤test1.txtæ–‡ä»¶ï¼Œå‘½ä»¤æ˜¯<code>hadoop fs -rm -r è¦åˆ é™¤çš„æ–‡ä»¶</code>ï¼Œ<code>-ræˆ–-R</code>è¡¨ç¤ºé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•ä¸€å¹¶å¤„ç†ã€‚åˆ é™¤åå†é€šè¿‡<code>ls</code>æŸ¥çœ‹æ˜¯å¦è¿˜å­˜åœ¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281351777.png' data-fancybox='default' data-caption='image-20220528135131667'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281351777.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281351777.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528135131667"></a><span class='image-caption'>image-20220528135131667</span></div></div><h3 id="2-2-HDFS-APIç¼–ç¨‹å®éªŒ"><a href="#2-2-HDFS-APIç¼–ç¨‹å®éªŒ" class="headerlink" title="2.2 HDFS APIç¼–ç¨‹å®éªŒ"></a>2.2 HDFS APIç¼–ç¨‹å®éªŒ</h3><h4 id="2-2-1-ResultFilter"><a href="#2-2-1-ResultFilter" class="headerlink" title="2.2.1 ResultFilter"></a>2.2.1 ResultFilter</h4><p>ç¼–å†™ç¨‹åºå®ç°å¦‚ä¸‹åŠŸèƒ½ï¼šåœ¨è¾“å…¥æ–‡ä»¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­ï¼Œæ£€ç´¢æŸä¸€ç‰¹å®šå­—ç¬¦ä¸²æ‰€å‡ºç°çš„è¡Œï¼Œå°†è¿™äº›è¡Œçš„å†…å®¹è¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„è¾“å‡ºæ–‡ä»¶å¤¹ä¸­ï¼Œä¹Ÿæ˜¯ä¹¦ä¸Šçš„é‚£ä¸ªå®éªŒ</p><p>â‘  é¦–å…ˆä½¿ç”¨ideaæ–°å»ºä¸€ä¸ªmavené¡¹ç›®ï¼Œè¿™ä¸ªå°±ä¸ç”¨èµ˜è¿°äº†</p><p>â‘¡ åœ¨<code>pom.xml</code>æ–‡ä»¶å¯¼å…¥æ‰€éœ€è¦çš„ä¾èµ–ï¼Œä¸ºäº†åé¢ä¸å†é‡å¤æ­¤æ“ä½œï¼Œè¿™é‡Œå°±æŠŠæ‰€æœ‰è¦ç”¨åˆ°çš„jaråŒ…ä¾èµ–å…¨éƒ¨å¯¼å…¥äº†ï¼ˆæ³¨æ„ï¼šä¾èµ–çš„ç‰ˆæœ¬å°½é‡å’Œè‡ªå·±çš„hadoopç‰ˆæœ¬ä¸€è‡´ï¼Œä»¥å…é€ æˆç‰ˆæœ¬å†²çªé—®é¢˜ï¼Œæˆ‘ç”¨çš„éƒ½æ˜¯3.2.3ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±å…¨éƒ¨ä½¿ç”¨çš„3.2.3çš„ç‰ˆæœ¬ï¼‰</p><pre><code class="xml">&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;        &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;        &lt;version&gt;3.2.3&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;        &lt;version&gt;3.2.3&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;        &lt;version&gt;3.2.3&lt;/version&gt;        &lt;exclusions&gt;            &lt;exclusion&gt;                &lt;groupId&gt;io.netty&lt;/groupId&gt;                &lt;artifactId&gt;netty&lt;/artifactId&gt;            &lt;/exclusion&gt;        &lt;/exclusions&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;        &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;        &lt;version&gt;3.2.3&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;        &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;        &lt;version&gt;3.2.3&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;junit&lt;/groupId&gt;        &lt;artifactId&gt;junit&lt;/artifactId&gt;        &lt;version&gt;4.13.2&lt;/version&gt;        &lt;scope&gt;compile&lt;/scope&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;        &lt;artifactId&gt;hbase&lt;/artifactId&gt;        &lt;version&gt;2.4.11&lt;/version&gt;        &lt;type&gt;pom&lt;/type&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;        &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;        &lt;version&gt;2.4.11&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;        &lt;artifactId&gt;hbase-common&lt;/artifactId&gt;        &lt;version&gt;2.4.11&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;</code></pre><p>â‘¢ å¯¼å…¥ä¾èµ–åï¼Œæ–°å»ºä¸€ä¸ªåŒ…ï¼Œå†åœ¨åŒ…ä¸‹æ–°å»ºä¸€ä¸ªç±»<code>ResultFilter</code>ï¼ˆéœ€ä¸éœ€è¦å»ºåŒ…è‡ªå·±éšæ„ï¼Œåªæ˜¯æ–¹ä¾¿ç®¡ç†ï¼‰ï¼Œç„¶åå¤åˆ¶ä»£ç â€¦ï¼ˆçœŸå°±ä¸ºäº†æ•ˆç‡ç›´æ¥å¤åˆ¶ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è‡ªå·±è¾›è¾›è‹¦è‹¦è‡ªå·±æ‰“çš„ğŸ˜­ï¼‰</p><p><strong>åŒå¿—ä»¬ï¼Œä¸‹é¢çš„æ¯ä¸ªç¨‹åºå¯¼åŒ…éƒ½ä»”ç»†ç‚¹ï¼ŒåŸºæœ¬éƒ½æ˜¯<code>org.apache.hadoop</code>ä¸‹çš„ï¼Œä½†è¿˜æ˜¯éœ€è¦ä»”ç»†ç‚¹ï¼Œå¯èƒ½åœ¨ä¸åŒåŒ…ä¸‹è¿˜æœ‰ç›¸åŒçš„ç±»å</strong></p><pre><code class="java">public class ResultFilter &#123;    public static void main(String[] args) throws IOException &#123;        Configuration configuration = new Configuration();        //hdfså’Œlocalåˆ†åˆ«å¯¹åº”HDFSå®ä¾‹å’Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå®ä¾‹        FileSystem hdfs = FileSystem.get(configuration);        LocalFileSystem local = FileSystem.getLocal(configuration);        Path inputDir,localFile;        FileStatus[] inputFiles;        FSDataInputStream in;        FSDataOutputStream out = null;        Scanner scan;        String str;        byte[] buf;        int singleFileLines;        int numLines,numFiles,i;        if (args.length!= 4)&#123;            //è¾“å…¥å‚æ•°æ•°é‡ä¸è¶³ï¼Œæç¤ºå‚æ•°æ ¼å¼åç»ˆæ­¢ç¨‹åºæ‰§è¡Œ            System.err.println(&quot;usage resultFilter &lt;dfs path&gt; &lt;local path&gt; &lt;match str&gt; &lt;single file lines&gt;&quot;);            return;        &#125;        inputDir = new Path(args[0]);        singleFileLines = Integer.parseInt(args[3]);        try &#123;            inputFiles = hdfs.listStatus(inputDir); //è·å–ç›®å½•ä¿¡æ¯            numLines = 0;            numFiles = 1;  //è¾“å‡ºæ–‡ä»¶ä»1å¼€å§‹ç¼–å·            localFile = new Path(args[1]);            if (local.exists(localFile)) &#123; //è‹¥ç›®æ ‡è·¯å¾„å­˜åœ¨ï¼Œåˆ™åˆ é™¤ä¹‹                local.delete(localFile,true);            &#125;            for (i = 0;i &lt; inputFiles.length;i++)&#123;                if (inputFiles[i].isDir())&#123;//å¿½ç•¥å­ç›®å½•                    continue;                &#125;                System.out.println(inputFiles[i].getPath().getName());                in = hdfs.open(inputFiles[i].getPath());                scan = new Scanner(in);                while (scan.hasNext())&#123;                    str = scan.nextLine();                    if (!str.contains(args[2]))&#123;                        continue; //å¦‚æœè¯¥è¡Œæ²¡æœ‰matchå­—ç¬¦ä¸²ï¼Œåˆ™å¿½ç•¥ä¹‹                    &#125;                    numLines++;                    if (numLines == 1)&#123; //å¦‚æœæ˜¯1ï¼Œè¯´æ˜éœ€è¦æ–°å»ºæ–‡ä»¶äº†                        localFile = new Path(args[1] + File.separator + numFiles);                        out = local.create(localFile); //åˆ›å»ºæ–‡ä»¶                        numFiles++;                    &#125;                    buf = (str + &quot;\n&quot;).getBytes();                    out.write(buf,0,buf.length);//å°†å­—ç¬¦ä¸²å†™å…¥è¾“å‡ºæµ                    if (numLines == singleFileLines)&#123; //å¦‚æœå·²æ»¡è¶³ç›¸åº”è¡Œæ•°ï¼Œå…³é—­æ–‡ä»¶                        out.close();                        numLines = 0; //è¡Œæ•°å˜ä¸º0ï¼Œé‡æ–°ç»Ÿè®¡                    &#125;                &#125;                scan.close();                in.close();            &#125;            if (out != null)&#123;                out.close();            &#125;        &#125;catch (IOException e)&#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><p>â‘£ å°†é¡¹ç›®æ‰“æˆjaråŒ…</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281418101.png' data-fancybox='default' data-caption='image-20220528141838720'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281418101.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281418101.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528141838720"></a><span class='image-caption'>image-20220528141838720</span></div></div><p>â‘¤ åœ¨targetæ–‡ä»¶å¤¹ä¸‹æŠŠjaråŒ…å¤åˆ¶åˆ°Ubuntuä¸­ï¼Œå¤åˆ¶è¿‡å»åå¯ä»¥é‡å‘½åä¸€ä¸‹ï¼Œç­‰ä¼šè¾“å‘½ä»¤å°±ä¸ç”¨è¾“é‚£ä¹ˆé•¿äº†ï¼Œæˆ‘é‡å‘½ä»¤ä¸º<code>BigData.jar</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281420518.png' data-fancybox='default' data-caption='image-20220528142012378'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281420518.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281420518.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528142012378"></a><span class='image-caption'>image-20220528142012378</span></div></div><p>â‘¥ åœ¨ä»»æ„ä½ç½®æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œé¢éšä¾¿è¾“å…¥ä¸€äº›å†…å®¹ï¼Œåˆ›å»ºæ–‡ä»¶çš„å‘½ä»¤ï¼š<code>touch æ–‡ä»¶å</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281422323.png' data-fancybox='default' data-caption='image-20220528142227183'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281422323.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281422323.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528142227183"></a><span class='image-caption'>image-20220528142227183</span></div></div><p>â‘¦ å°†åˆ›å»ºå¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°HDFSä¸Šï¼Œä¸Šä¼ åå¯ä»¥é€šè¿‡ä¸Šé¢2.1èŠ‚æåˆ°çš„æ–¹æ³•æŸ¥çœ‹æ˜¯å¦ä¸Šä¼ æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281423768.png' data-fancybox='default' data-caption='image-20220528142331644'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281423768.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281423768.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528142331644"></a><span class='image-caption'>image-20220528142331644</span></div></div><p>â‘§ åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤<code>hadoop jar jaråŒ…åå­— è¦æ‰§è¡Œçš„ç±»å è¦æ£€ç´¢çš„æ–‡ä»¶æ‰€åœ¨çš„ç›®å½• è¾“å‡ºç›®å½• è¦æ£€ç´¢çš„å­—ç¬¦ä¸² æ¯ä¸ªè¾“å‡ºæ–‡ä»¶æ‰€åŒ…å«çš„æœ€å¤§è¡Œæ•°</code>ï¼Œæˆ‘çš„å‘½ä»¤å°±æ˜¯<code>hadoop jar BigData.jar experimentone.ResultFilter /user/xk output world 3</code>ï¼Œè¡¨ç¤ºæˆ‘è¦è¿è¡Œçš„jaråŒ…åä¸ºBigData.jarï¼Œè¦è¿è¡Œçš„ç±»åä¸ºexperimentoneåŒ…ä¸‹çš„ResultFilterç±»ï¼Œè¦æ£€ç´¢çš„æ–‡ä»¶æ‰€åœ¨ç›®å½•æ˜¯HDFSä¸Šçš„<code>/user/xk</code>ï¼Œæ£€ç´¢è¾“å‡ºçš„æ–‡ä»¶ä¿å­˜åœ¨åä¸ºoutputçš„ç›®å½•ï¼Œè¦æ£€ç´¢çš„å­—ç¬¦ä¸²ä¸ºworldï¼Œè¾“å‡ºæ–‡ä»¶çš„æœ€å¤§è¡Œæ•°ä¸º3ï¼ˆæ³¨æ„è‡ªå·±jaråŒ…å­˜æ”¾ä½ç½®ï¼Œæˆ‘æ˜¯å› ä¸ºjaråŒ…å’Œç»ˆç«¯æ‰€åœ¨ä½ç½®éƒ½åœ¨Desktopæ‰è¿™æ ·å†™ï¼Œå¦‚æœjaråŒ…å­˜æ”¾ä½ç½®å’Œç»ˆç«¯æ‰€å¤„ä½ç½®ä¸ä¸€æ ·ï¼Œåˆ™éœ€è¦åœ¨jaråŒ…åå­—å‰åŠ ä¸Šè·¯å¾„ï¼Œæ¯”å¦‚<code>/usr/xk/BigData.jar</code>ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281431237.png' data-fancybox='default' data-caption='image-20220528143122096'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281431237.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281431237.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528143122096"></a><span class='image-caption'>image-20220528143122096</span></div></div><p>è¿è¡ŒæˆåŠŸåUbuntuæ¡Œé¢ï¼ˆä¸ä¸€å®šæ˜¯æ¡Œé¢ï¼Œå¦‚æœä½ æ²¡æŒ‡å®šå…·ä½“è·¯å¾„ï¼Œå®ƒé»˜è®¤æ˜¯åœ¨ä½ ç»ˆç«¯ç°å¤„ä½ç½®çš„ç›®å½•ä¸‹åˆ›å»ºoutputï¼‰å¤šå‡ºäº†ä¸€ä¸ªoutputç›®å½•ï¼Œé‡Œé¢åŒ…å«ä¸‰ä¸ªæ–‡ä»¶ï¼ˆæ–‡ä»¶ä¸ªæ•°ä¸æŸ¥è¯¢å‡ºæ¥çš„å†…å®¹æ€»è¡Œæ•°ã€è§„å®šçš„æ¯ä¸ªæ–‡ä»¶æœ€å¤§è¡Œæ•°æœ‰å…³ï¼‰ï¼Œåˆ†åˆ«åä¸º1ã€2ã€3ï¼Œé‡Œé¢çš„å†…å®¹å°±æ˜¯æˆ‘æ£€ç´¢çš„ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶é‡ŒåŒ…å«äº†worldçš„é‚£ä¸€è¡Œçš„å†…å®¹ï¼Œä¸”æ¯ä¸ªæ–‡ä»¶çš„æœ€å¤§è¡Œæ•°ä¸º3ï¼ˆæˆ‘æ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨æ¡Œé¢ä½ç½®çš„ç»ˆç«¯è¿›è¡Œï¼Œæ‰€ä»¥outputä¼šåœ¨æ¡Œé¢ï¼Œå¦‚æœæƒ³æŒ‡å®šå…·ä½“åˆ›å»ºä½ç½®å’Œç›®å½•åï¼Œå¯ä»¥åœ¨å‘½ä»¤ä¸­å†™è¯¦ç»†ç‚¹ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281433142.png' data-fancybox='default' data-caption='image-20220528143353939'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281433142.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281433142.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528143353939"></a><span class='image-caption'>image-20220528143353939</span></div></div><h4 id="2-2-2-CreateDirectory"><a href="#2-2-2-CreateDirectory" class="headerlink" title="2.2.2 CreateDirectory"></a>2.2.2 CreateDirectory</h4><p>è¿™ä¸ªæ˜¯è€å¸ˆç»™å‡ºæ‹“å±•å®éªŒä¹‹ä¸€ï¼Œå®éªŒç›®çš„å°±æ˜¯<strong>åœ¨HDFSä¸Šé¢åˆ›å»ºä¸€ä¸ªç›®å½•</strong></p><p>çœå»ä¸Šé¢æåˆ°çš„å¯¼å…¥ä¾èµ–çš„æ­¥éª¤ï¼Œç›´æ¥åœ¨åŒ…ä¸‹æ–°å»ºä¸€ä¸ªåä¸º<code>CreateDirectory</code>çš„ç±»</p><p>ç„¶åï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">public class CreateDirectory &#123;    private static final String hostString = &quot;hdfs://master:9000&quot;;    public static void main(String[] args) throws IOException &#123;        Configuration conf = new Configuration();        conf.set(&quot;fs.default.name&quot;, hostString);        FileSystem hdfs = FileSystem.get(conf);        if(hdfs.exists(new Path(&quot;hdfs:/myTestDirectory&quot;)))&#123;            System.out.println(&quot;ç›®å½•å·²ç»å­˜åœ¨ï¼,å…ˆåˆ é™¤&quot;);            hdfs.delete(new Path(&quot;hdfs:/myTestDirectory&quot;),true);        &#125;else &#123;            boolean isok =hdfs.mkdirs(new Path(&quot;hdfs:/myTestDirectory&quot;));            if(isok)                System.out.println(&quot;ç›®å½•åˆ›å»ºæˆåŠŸï¼&quot;);            else                System.out.println(&quot;ç›®å½•åˆ›å»ºå¤±è´¥ï¼&quot;);        &#125;        hdfs.close();    &#125;&#125;</code></pre><p>ç„¶åï¼Œä¾æ—§æ˜¯ç‚¹å‡»ä¾§è¾¹æ çš„Mavenï¼Œè¿™æ¬¡é¦–å…ˆç‚¹å‡»<code>clean</code>å°†åˆšåˆšç¼–è¯‘çš„å†…å®¹æ¸…é™¤ï¼Œå†ç‚¹å‡»<code>package</code>å°†é¡¹ç›®æ‰“åŒ…ï¼Œå†å¤åˆ¶åˆ°Ubuntuä¸­</p><p>è¿™æ ·ä¼¼ä¹å¾ˆéº»çƒ¦ï¼Œå› ä¸ºæ¯æ¬¡æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç±»å»å®Œæˆå¦ä¸€ä¸ªå®éªŒéƒ½è¦è¿›è¡Œè¿™æ ·çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘å»ºè®®æŠŠæ‰€æœ‰ä»£ç æ•²å®Œäº†å†æŠŠæ•´ä¸ªé¡¹ç›®æ‰“æˆjaråŒ…å¤åˆ¶åˆ°Ubuntuä¸­ï¼Œæ¯”å¦‚åƒè¿™æ ·ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281446546.png' data-fancybox='default' data-caption='image-20220528144604203'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281446546.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281446546.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528144604203"></a><span class='image-caption'>image-20220528144604203</span></div></div><p>ç»§ç»­ä¸Šé¢çš„æ­¥éª¤ï¼Œå°†jaråŒ…å¤åˆ¶åˆ°Ubuntuä¸­åï¼Œæˆ‘ä»¬ä½¿ç”¨å‘½ä»¤<code>hadoop jar BigData.jar experimentone.CreateDirectory </code>æ‰§è¡Œè¯¥ç¨‹åºï¼Œç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>hadoop fs -ls /</code>æŸ¥çœ‹æ˜¯å¦çœŸæ­£åˆ›å»ºæˆåŠŸï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸Šé¢æåˆ°çš„é€šè¿‡webæ–¹å¼è¿›è¡ŒæŸ¥çœ‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281449567.png' data-fancybox='default' data-caption='image-20220528144937444'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281449567.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281449567.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528144937444"></a><span class='image-caption'>image-20220528144937444</span></div></div><h4 id="2-2-3-HdfsClient"><a href="#2-2-3-HdfsClient" class="headerlink" title="2.2.3 HdfsClient"></a>2.2.3 HdfsClient</h4><p>è¿™ä¸ªä¹Ÿæ˜¯è€å¸ˆç»™å‡ºçš„æ‹“å±•å®éªŒä¹‹äºŒï¼Œå®éªŒç›®çš„æ˜¯é€šè¿‡Windowsä¸‹çš„IDEA<strong>æ¨¡æ‹ŸHDFSå®¢æˆ·ç«¯</strong>æ¥æ“ä½œUbuntuä¸­çš„HDFS</p><p>åœ¨å‡†å¤‡å·¥ä½œä¸­æˆ‘ä»¬åœ¨Windowsä¸‹å®‰è£…Hadoopå°±æ˜¯ä¸ºäº†è¿™ä¸ªå®éªŒ</p><p>åŒæ ·ï¼Œæ–°å»ºä¸€ä¸ªåä¸º<code>HdfsClient</code>çš„ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">public class HdfsClient &#123;    FileSystem fs = null;    //è¿æ¥hdfsé›†ç¾¤    @Before    public void init() &#123;        Configuration conf = new Configuration();        System.out.println(&quot;æ‰§è¡ŒBeforeï¼&quot;);        try &#123;            fs = FileSystem.get(new URI(&quot;hdfs://master:9000/&quot;), conf, &quot;xk&quot;);//xkæ”¹æˆè‡ªå·±è™šæ‹Ÿæœºçš„ç”¨æˆ·åï¼Œå¦‚æœå•ç‹¬ä¸ºhadoopåˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œåˆ™ä¿®æ”¹ä¸ºhadoopçš„ç”¨æˆ·å        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; catch (URISyntaxException e) &#123;            e.printStackTrace();        &#125;    &#125;    //ä¸‹è½½æ•°æ® hdfs-&gt;æœ¬åœ°    @Test    public void hdfsGet() &#123;        try &#123;            fs.copyToLocalFile(new Path(&quot;/zookeeper.out&quot;), new                    Path(&quot;e:/zookeeper.out&quot;));            fs.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;    //ä¸Šä¼ æ•°æ® æœ¬åœ°ä¸Šä¼ åˆ°hdfsé›†ç¾¤    @Test    public void localToHdfs() &#123;        try &#123;            fs.copyFromLocalFile(new Path(&quot;e:/new2.txt&quot;), new Path(&quot;/new2.txt&quot;));            fs.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;    //hdfsä¸­åˆ›å»ºæ–‡ä»¶å¤¹    @Test    public void hdfsMkdir() &#123;        try &#123;            fs.mkdirs(new Path(&quot;/hdfs-clientTest&quot;));            fs.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;    //åœ¨hdfsä¸­ç§»åŠ¨ä¿®æ”¹æ–‡ä»¶    @Test    public void hdfsRename() &#123;        try &#123;            fs.rename(new Path(&quot;/zookeeper.out&quot;), new Path(&quot;/zookeeperXK.out&quot;));            fs.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;    //åˆ é™¤æ–‡ä»¶å¤¹    @Test    public void deleteDir() &#123;        try &#123;            fs.delete(new Path(&quot;/hdfs-clientTest&quot;), true);            fs.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;    /*     * æŸ¥è¯¢hdfsä¸‹æŒ‡å®šç›®å½•ä¸‹çš„ä¿¡æ¯     */    @Test    public void hdfsLs() throws Exception &#123;        //åªæŸ¥è¯¢æ–‡ä»¶çš„ä¿¡æ¯ä¸è¿”å›æ–‡ä»¶å¤¹çš„ä¿¡æ¯        RemoteIterator&lt;LocatedFileStatus&gt; iter = fs.listFiles(new Path(&quot;/&quot;), true);        //å¦‚æœæœ‰æ•°æ®        while (iter.hasNext()) &#123;            //å–            LocatedFileStatus status = iter.next();            System.out.println(&quot;æ–‡ä»¶è·¯å¾„ä¸ºï¼š&quot; + status.getPath());            System.out.println(&quot;å—å¤§å°ä¸ºï¼š&quot; + status.getBlockSize());            System.out.println(&quot;æ–‡ä»¶é•¿åº¦ä¸ºï¼š&quot; + status.getLen());            System.out.println(&quot;å‰¯æœ¬æ•°é‡ä¸ºï¼š&quot; + status.getReplication());            System.out.println(&quot;å—ä¿¡æ¯ä¸ºï¼š&quot; +                    Arrays.toString(status.getBlockLocations()));            //åˆ†å‰²çº¿            System.out.println(&quot;==================================&quot;);        &#125;        fs.close();    &#125;    /*     * æŸ¥è¯¢hdfsä¸‹æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä¿¡æ¯     */    @Test    public void hdfsLs2() throws Exception &#123;        //å±•ç¤ºçŠ¶æ€ä¿¡æ¯        FileStatus[] listStatus = fs.listStatus(new Path(&quot;/&quot;));        for (FileStatus ls : listStatus) &#123;            System.out.println(&quot;æ–‡ä»¶è·¯å¾„ä¸ºï¼š&quot; + ls.getPath());            System.out.println(&quot;å—å¤§å°ä¸ºï¼š&quot; + ls.getBlockSize());            System.out.println(&quot;æ–‡ä»¶é•¿åº¦ä¸ºï¼š&quot; + ls.getLen());            System.out.println(&quot;å‰¯æœ¬æ•°é‡ä¸ºï¼š&quot; + ls.getReplication());            System.out.println(&quot;==================================&quot;);        &#125;        fs.close();    &#125;&#125;</code></pre><p>è¿™ä¸ªå®éªŒ<strong>ä¸éœ€è¦</strong>å°†é¡¹ç›®æ‰“æˆjaråŒ…åœ¨Ubuntuä¸‹è¿è¡Œï¼Œè€Œæ˜¯ç›´æ¥åœ¨Windowsä¸‹æ“ä½œ</p><p>ä½†æ˜¯ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Ubuntuä¸­åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¸Šä¼ åˆ°hdfsä¸Šã€‚<code>touch</code>åˆ›å»ºæ–‡ä»¶ï¼Œ<code>vi</code> ç¼–è¾‘æ–‡ä»¶ï¼Œ<code>hadoop fs -put XXX XXX</code>ä¸Šä¼ æ–‡ä»¶ï¼Œ<code>hadoop fs -ls /</code>æŸ¥çœ‹æ–‡ä»¶ï¼Œæˆ‘è¿™å„¿æ˜¯å°†å½“å‰ç›®å½•ä¸‹çš„zookeeper.outæ–‡ä»¶ä¸Šä¼ åˆ°äº†HDFSçš„æ ¹ç›®å½•ä¸­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281519415.png' data-fancybox='default' data-caption='image-20220528151905054'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281519415.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281519415.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528151905054"></a><span class='image-caption'>image-20220528151905054</span></div></div><p>å¦å¤–ï¼Œæˆ‘ä»¬åœ¨Windowsä¸Šä¹Ÿéœ€è¦éšæ„æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€ä¼šå„¿ä¼šé€šè¿‡HdfsClientå°†å…¶ä¸Šä¼ åˆ°HDFSä¸Šï¼Œ<strong>æ–‡ä»¶åå’Œå­˜æ”¾è·¯å¾„ä¸åŒä¹Ÿè¦ä¿®æ”¹HdfsClientä¸­ç›¸åº”çš„ä»£ç ç‰‡æ®µ</strong></p><p>ç°åœ¨å¼€å§‹æ‰§è¡Œå•å…ƒæµ‹è¯•ç¨‹åº</p><p>â‘  ä¸‹è½½æ•°æ® hdfs -&gt; Windowsæœ¬åœ°ï¼Œæ‰§è¡Œ<code>hdfsGet()</code>æ–¹æ³•</p><p>æ‰§è¡Œå®Œæˆåï¼Œå¯åœ¨è‡ªå·±Windowsä¸Šå¯¹åº”ä½ç½®æŸ¥çœ‹åˆ°ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼Œæˆ‘çš„å°±æ˜¯åœ¨<code>e:/zookeeper.out</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281530354.png' data-fancybox='default' data-caption='image-20220528153028597'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281530354.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281530354.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528153028597"></a><span class='image-caption'>image-20220528153028597</span></div></div><p>è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°ä»¥ä¸‹æç¤ºä¸ç”¨æ‹…å¿ƒï¼Œè¿™æ˜¯å› ä¸ºhadoopçš„ç›¸å…³ä¾èµ–åˆä¾èµ–äº†<code>log4j</code>è¿™ä¸ªæ—¥å¿—jaråŒ…ï¼Œé¡¹ç›®å¦‚æœæœ‰è¿™ä¸ªä¾èµ–ä½†æ˜¯æ²¡æœ‰å…¶é…ç½®æ–‡ä»¶å°±ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬ä¸éœ€è¦æŸ¥çœ‹æ—¥å¿—å°±ä¸ç”¨ç®¡ï¼Œå¦‚æœæœ‰å¼ºè¿«ç—‡éè¦æ¶ˆæ‰æŠ¥é”™ï¼Œå¯ä»¥åœ¨ç½‘ä¸Šæœä¸€ä¸‹<code>log4j</code>çš„é…ç½®æ–‡ä»¶ï¼Œå°†å…¶æ·»åŠ åˆ°é¡¹ç›®çš„resourceæ–‡ä»¶å¤¹ä¸‹å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281538270.png' data-fancybox='default' data-caption='image-20220528153858942'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281538270.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281538270.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528153858942"></a><span class='image-caption'>image-20220528153858942</span></div></div><p>â‘¡ ä¸Šä¼ æ•°æ® Windowsæœ¬åœ° -&gt; hdfsï¼Œæ‰§è¡Œ<code>localToHdfs()</code>æ–¹æ³•</p><p>æ‰§è¡ŒæˆåŠŸåï¼Œå¯ä»¥åœ¨webç«¯çš„hdfsè¿›è¡ŒæŸ¥çœ‹ï¼Œæˆ‘åœ¨æœ¬åœ°åˆ›å»º<code>new2.txt</code>æ–‡ä»¶è¢«ä¸Šä¼ åˆ°äº†hdfsä¸Š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281536309.png' data-fancybox='default' data-caption='image-20220528153656938'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281536309.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281536309.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528153656938"></a><span class='image-caption'>image-20220528153656938</span></div></div><p>â‘¢ hdfsä¸­åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ<code>hdfsMkdir()</code>æ–¹æ³•</p><p>æ‰§è¡ŒæˆåŠŸï¼Œä»¥åŒæ ·çš„æ–¹å¼æŸ¥çœ‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281539645.png' data-fancybox='default' data-caption='image-20220528153936498'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281539645.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281539645.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528153936498"></a><span class='image-caption'>image-20220528153936498</span></div></div><p>â‘£ åœ¨hdfsä¸­ç§»åŠ¨ä¿®æ”¹æ–‡ä»¶ï¼Œæ‰§è¡Œ<code>hdfsRename()</code>æ–¹æ³•</p><p>æ‰§è¡ŒæˆåŠŸåï¼Œå¯ä»¥å‘ç°zookeeper.outæ–‡ä»¶è¢«é‡å‘½å</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281541398.png' data-fancybox='default' data-caption='image-20220528154158891'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281541398.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281541398.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528154158891"></a><span class='image-caption'>image-20220528154158891</span></div></div><p>â‘¤ åˆ é™¤æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ<code>deleteDir()</code>æ–¹æ³•</p><p>æ‰§è¡ŒæˆåŠŸåï¼Œhdfs-clientTestç›®å½•å°±ä¼šè¢«åˆ æ‰</p><p>â‘¥ æŸ¥è¯¢hdfsä¸‹æŒ‡å®šç›®å½•ä¸‹çš„ä¿¡æ¯ï¼Œæ‰§è¡Œ<code>hdfsLs()</code>æ–¹æ³•</p><p>æ‰§è¡Œå®Œæˆåï¼Œideaçš„ç»ˆç«¯ä¼šè¾“å‡ºæ‰“å°HDFSä¸­æŒ‡å®šç›®å½•ä¸‹ï¼ˆæˆ‘ä»¬ç¨‹åºä¸­æ˜¯è¦æŸ¥è¯¢å‡ºæ ¹ç›®å½•ä¸‹çš„ï¼‰æ‰€æœ‰<strong>æ–‡ä»¶</strong>çš„ç›¸å…³ä¿¡æ¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281545174.png' data-fancybox='default' data-caption='image-20220528154508742'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281545174.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281545174.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528154508742"></a><span class='image-caption'>image-20220528154508742</span></div></div><p>â‘¦ æŸ¥è¯¢hdfsä¸‹æŒ‡å®šç›®å½•ä¸‹<strong>æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</strong>çš„ä¿¡æ¯ï¼Œæ‰§è¡Œ<code>hdfsLs2()</code>æ–¹æ³•</p><p>æ‰§è¡Œå®Œæˆåï¼Œä¼šæ‰“å°å‡ºhdfsä¸­æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç›¸å…³ä¿¡æ¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281550563.png' data-fancybox='default' data-caption='image-20220528155054407'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281550563.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281550563.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528155054407"></a><span class='image-caption'>image-20220528155054407</span></div></div><h2 id="ä¸‰ã€å®éªŒäºŒï¼šIDEAä¸‹çš„MapReduceç¼–ç¨‹"><a href="#ä¸‰ã€å®éªŒäºŒï¼šIDEAä¸‹çš„MapReduceç¼–ç¨‹" class="headerlink" title="ä¸‰ã€å®éªŒäºŒï¼šIDEAä¸‹çš„MapReduceç¼–ç¨‹"></a>ä¸‰ã€å®éªŒäºŒï¼šIDEAä¸‹çš„MapReduceç¼–ç¨‹</h2><h3 id="3-1-WordCount"><a href="#3-1-WordCount" class="headerlink" title="3.1 WordCount"></a>3.1 WordCount</h3><p>è¿™æ˜¯ä¹¦ä¸Šçš„å®éªŒ</p><p>åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰éœ€è¦ä¸Šä¼ ä¸€ä¸ªæ–°çš„æ–‡ä»¶åˆ°HDFSä¸Šï¼Œå¹¶ä¸”é‡Œé¢è¦åŒ…å«ä¸€äº›å†…å®¹ï¼Œè¿™ä¸ªå®éªŒçš„ç›®çš„å°±æ˜¯ä¸ºäº†ç»Ÿè®¡è¿™ä¸ªæ–‡ä»¶ä¸­å„ä¸ªå•è¯çš„ä¸ªæ•°</p><p>å‡†å¤‡å·¥ä½œæ“ä½œå‚è€ƒï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281601434.png' data-fancybox='default' data-caption='image-20220528160147121'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281601434.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281601434.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528160147121"></a><span class='image-caption'>image-20220528160147121</span></div></div><p>çœå»æ–°å»ºé¡¹ç›®å’Œå¯¼å…¥ä¾èµ–çš„æ­¥éª¤ï¼Œç›´æ¥æ–°å»ºä¸€ä¸ªåä¸º<code>WordCount</code>çš„ç±»</p><p>å®éªŒä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="java">public class WordCount &#123;    public static void main(String[] args) throws Exception&#123;        Configuration conf = new Configuration();        //ä»¥ä¸‹è¿™äº›é…ç½®éƒ½è§åçŸ¥æ„ï¼Œä¸ç”¨è§£é‡Šå§        conf.set(&quot;fs.default.name&quot;,&quot;hdfs://192.168.228.128:9000&quot;);//ipæ”¹ä¸ºè‡ªå·±è™šæ‹Ÿæœºçš„        conf.set(&quot;mapred.job.tracker&quot;,&quot;192.168.228.128:9001&quot;);        conf.set(&quot;hadoop.job.user&quot;,&quot;xk&quot;);//xkæ”¹ä¸ºè‡ªå·±çš„        String[] ars = new String[]&#123;&quot;input&quot;,&quot;output&quot;&#125;;        String[] otherArgs = new GenericOptionsParser(conf, ars).getRemainingArgs();        if (otherArgs.length != 2)&#123;            System.err.println(&quot;Usage:wordcount  &quot;);            System.exit(2);        &#125;        Job job = new Job(conf, &quot;word count&quot;);        job.setJarByClass(WordCount.class);        job.setMapperClass(TokenizerMapper.class);        job.setCombinerClass(IntSumReducer.class);        job.setReducerClass(IntSumReducer.class);        job.setOutputKeyClass(Text.class);        job.setOutputValueClass(IntWritable.class);        //æ·»åŠ hdfsä¸Šæˆ‘ä»¬è¦ç»Ÿè®¡çš„æ–‡ä»¶        FileInputFormat.addInputPath(job,new Path(&quot;hdfs://192.168.228.128:9000/user/xk/test.txt&quot;));        //è®¾ç½®ç»Ÿè®¡ç»“æœè¾“å‡ºç›®å½•ï¼ˆä¾ç„¶æ˜¯å­˜æ”¾åœ¨hdfsä¸Šçš„ï¼‰        FileOutputFormat.setOutputPath(job,new Path(&quot;hdfs://192.168.228.128:9000/user/xk/output&quot;));        System.exit(job.waitForCompletion(true) ? 0 : 1);    &#125;    public static class TokenizerMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123;        private final static IntWritable one = new IntWritable(1);        private Text word = new Text();        public void map(Object key,Text value, Context context) throws IOException, InterruptedException &#123;            StringTokenizer itr = new StringTokenizer(value.toString());            while (itr.hasMoreTokens())&#123;                word.set(itr.nextToken());                context.write(word,one);            &#125;        &#125;    &#125;    public static class IntSumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt;&#123;        private IntWritable result = new IntWritable();        public void reduce(Text key,Iterable&lt;IntWritable&gt; values,Context context) throws IOException, InterruptedException &#123;            int sum = 0;            for (IntWritable val : values) &#123;                sum += val.get();            &#125;            result.set(sum);            context.write(key,result);        &#125;    &#125;&#125;</code></pre><p>åŒæ ·ï¼Œå°†é¡¹ç›®æ‰“æˆjaråŒ…ï¼ˆå¦‚æœä¸æ˜¯ä¸€æ¬¡æ€§å°†æ‰€æœ‰ç¨‹åºå†™å¥½åæ‰“çš„jaråŒ…è¯·è®°å¾—å…ˆ<code>clean</code>å†<code>package</code>ï¼‰ï¼Œå¤åˆ¶åˆ°Ubuntuä¸­ï¼Œç„¶åä½¿ç”¨å‘½ä»¤<code>hadoop jar è¦è¿è¡Œçš„jaråŒ… è¦è¿è¡Œçš„ç±»å</code>è¿è¡Œè¯¥ç¨‹åº</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616285.png' data-fancybox='default' data-caption='image-20220528161615949'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616285.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616285.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528161615949"></a><span class='image-caption'>image-20220528161615949</span></div></div><p>ç­‰è¿‡ä¸€ä¼šå„¿è¿è¡Œå®Œæˆåï¼Œç»ˆç«¯å¤§æ¦‚æ˜¯è¿™æ ·çš„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616543.png' data-fancybox='default' data-caption='image-20220528161658397'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616543.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281616543.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528161658397"></a><span class='image-caption'>image-20220528161658397</span></div></div><p>é€šè¿‡webç«¯æŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°å¤šå‡ºä¸€ä¸ªoutputç›®å½•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281618278.png' data-fancybox='default' data-caption='image-20220528161848081'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281618278.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281618278.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528161848081"></a><span class='image-caption'>image-20220528161848081</span></div></div><p>outputçš„ç”Ÿæˆä½ç½®å–å†³äºåœ¨ç¨‹åºä¸­çš„æ­¤å¤„çš„è®¾ç½®ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205291838015.png' data-fancybox='default' data-caption='image-20220529183816805'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205291838015.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205291838015.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220529183816805"></a><span class='image-caption'>image-20220529183816805</span></div></div><p>è¿›å…¥åˆ°outputç›®å½•ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281620190.png' data-fancybox='default' data-caption='image-20220528162015041'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281620190.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281620190.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528162015041"></a><span class='image-caption'>image-20220528162015041</span></div></div><p>æˆ‘ä»¬å°†è¿™ä¸ªç›®å½•ä¸‹è½½ä¸‹æ¥æŸ¥çœ‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281624983.png' data-fancybox='default' data-caption='image-20220528162401811'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281624983.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281624983.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528162401811"></a><span class='image-caption'>image-20220528162401811</span></div></div><h3 id="3-2-InvertedIndex"><a href="#3-2-InvertedIndex" class="headerlink" title="3.2 InvertedIndex"></a>3.2 InvertedIndex</h3><p>è¿™æ˜¯å®éªŒäºŒè€å¸ˆç»™å‡ºçš„æ‰©å±•å®éªŒ</p><p>å¼€å§‹å®éªŒä¹‹å‰ï¼Œè¯·å…ˆå°†è¯¾ä¸Šè€å¸ˆå‘çš„ä¸‰ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°Ubuntuä¸­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281637265.png' data-fancybox='default' data-caption='image-20220528163756886'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281637265.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281637265.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528163756886"></a><span class='image-caption'>image-20220528163756886</span></div></div><p>ç„¶åï¼Œåœ¨Ubuntuä¸­çš„HDFSä¸Šåˆ›å»ºå‡ ä¸ªç›®å½•ï¼Œ<code>InvertedIndex</code>å’Œ<code>InvertedIndex/input</code></p><p>ç„¶åï¼Œå°†é‚£ä¸‰ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°inputç›®å½•ä¸­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281640745.png' data-fancybox='default' data-caption='image-20220528164046576'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281640745.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281640745.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528164046576"></a><span class='image-caption'>image-20220528164046576</span></div></div><p>ç„¶ååœ¨é¡¹ç›®ä¸­æ–°å»ºå‡ ä¸ªç±»ï¼Œåˆ†åˆ«ä¸º<code>InvertedIndexCombiner</code>ã€<code>InvertedIndexMapper</code>ã€<code>InvertedIndexReducer</code>ã€<code>InvertedIndexRunner</code></p><pre><code class="java">public class InvertedIndexCombiner extends Reducer&lt;Text, Text, Text, Text&gt; &#123;    private static Text info = new Text();    // è¾“å…¥ï¼š &lt;MapReduce:file3 &#123;1,1,...&#125;&gt;    // è¾“å‡ºï¼š&lt;MapReduce file3:2&gt;    @Override    protected void reduce(Text key, Iterable&lt;Text&gt; values, Context context) throws IOException, InterruptedException &#123;        int sum = 0;// ç»Ÿè®¡è¯é¢‘        for (Text value : values) &#123;            sum += Integer.parseInt(value.toString());        &#125;        // æŸ¥æ‰¾åˆ†éš”ä½ç½®        int splitIndex = key.toString().indexOf(&quot;:&quot;);        // é‡æ–°è®¾ç½® value å€¼ç”± URL å’Œè¯é¢‘ç»„æˆ        info.set(key.toString().substring(splitIndex + 1) +&quot;:&quot;+sum);        // é‡æ–°è®¾ç½® key å€¼ä¸ºå•è¯        key.set(key.toString().substring(0,splitIndex));        context.write(key,info);    &#125;&#125;</code></pre><pre><code class="java">public class InvertedIndexMapper extends Mapper&lt;LongWritable, Text, Text, Text&gt; &#123;    // å­˜å‚¨å•è¯å’Œæ–‡ä»¶æ˜ç»„åˆ    private static Text keyInfo = new Text();    // å­˜å‚¨è¯é¢‘,åˆå§‹åŒ–ä¸º    private static final Text valueInfo = new Text(&quot;1&quot;);    @Override    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, Text&gt;.Context context) throws IOException, InterruptedException &#123;        String line = value.toString();        // å¾—åˆ°å­—æ®µæ•°ç»„        String[] fields = StringUtils.split(line, &#39; &#39;);//åˆ«ç”¨åŒå¼•å·        // å¾—åˆ°è¿™è¡Œæ•°æ®æ‰€åœ¨çš„æ–‡ä»¶åˆ‡ç‰‡        FileSplit fileSplit = (FileSplit) context.getInputSplit();        // æ ¹æ®æ–‡ä»¶åˆ‡ç‰‡å¾—åˆ°æ–‡ä»¶å        String fileName = fileSplit.getPath().getName();        for (String field : fields) &#123;            // keyå€¼ç”±å•è¯å’ŒURLç»„æˆï¼Œå¦‚â€œMapReduce:file1â€            keyInfo.set(field + &quot;:&quot; + fileName);            context.write(keyInfo, valueInfo);        &#125;    &#125;&#125;</code></pre><pre><code class="java">public class InvertedIndexReducer extends Reducer&lt;Text, Text, Text, Text&gt; &#123;    private static Text result = new Text();    // è¾“å…¥ï¼š&lt;MapReduce file3:2&gt;    // è¾“å‡ºï¼š&lt;MapReduce file1:1;file2:1;file3:2;&gt;    @Override    protected void reduce(Text key, Iterable&lt;Text&gt; values, Context context) throws IOException, InterruptedException &#123;        // ç”Ÿæˆæ–‡æ¡£åˆ—è¡¨        String fileList = new String();        for (Text value : values) &#123;            fileList += value.toString() + &quot;;&quot;;        &#125;        result.set(fileList);        context.write(key, result);    &#125;&#125;</code></pre><pre><code class="java">public class InvertedIndexRunner &#123;    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException &#123;        Configuration conf = new Configuration();        //é…ç½®RMåœ°å€        conf.set(&quot;fs.default.name&quot;, &quot;hdfs://192.168.228.128:9000&quot;);        conf.set(&quot;mapred.job.tracker&quot;, &quot;192.168.228.128:9001&quot;);        conf.set(&quot;hadoop.job.user&quot;,&quot;xk&quot;); //æ„å»ºJobå®ä¾‹        Job job = Job.getInstance(conf);        //ä¸ºJobè®¾ç½®ç±»å        job.setJarByClass(InvertedIndexRunner.class);        //ä¸ºJobè®¾ç½®Mapperç±»        job.setMapperClass(InvertedIndexMapper.class);        //ä¸ºJobè®¾ç½®Combinerç±»        job.setCombinerClass(InvertedIndexCombiner.class);        //ä¸ºJobè®¾ç½®Reducerç±»        job.setReducerClass(InvertedIndexReducer.class);        //ä¸ºJobçš„è¾“å‡ºæ•°æ®è®¾ç½®Keyç±»        job.setOutputKeyClass(Text.class);        //ä¸ºJobè¾“å‡ºè®¾ç½®valueç±»        job.setOutputValueClass(Text.class);        //ä¸ºJobè®¾ç½®è¾“å…¥è·¯å¾„        FileInputFormat.setInputPaths(job, new Path(&quot;hdfs://192.168.228.128:9000/InvertedIndex/input&quot;));        // æŒ‡å®šå¤„ç†å®Œæˆä¹‹åçš„ç»“æœæ‰€ä¿å­˜çš„ä½ç½®        FileOutputFormat.setOutputPath(job, new Path(&quot;hdfs://192.168.228.128:9000/InvertedIndex/output&quot;));        // å‘ YARN é›†ç¾¤æäº¤è¿™ä¸ª Job        boolean res = job.waitForCompletion(true);        System.exit(res ? 0 : 1);    &#125;&#125;</code></pre><p>åŒæ ·ï¼Œå°†é¡¹ç›®æ‰“æˆjaråŒ…ï¼Œå¤åˆ¶åˆ°Ubuntuä¸­ï¼Œç„¶åä½¿ç”¨å‘½ä»¤<code>hadoop jar è¦è¿è¡Œçš„jaråŒ… è¦è¿è¡Œçš„ç±»å</code>è¿è¡Œè¯¥ç¨‹åº</p><p>ç¨‹åºè¿è¡Œå®Œåï¼Œåœ¨hdfsçš„<code>/InvertedIndex</code>ç›®å½•ä¸‹å¤šå‡ºäº†ä¸€ä¸ªoutputç›®å½•</p><p>æˆ‘ä»¬åŒæ ·ä¹Ÿå¯ä»¥ä¸‹è½½ä¸‹æ¥æŸ¥çœ‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281645829.png' data-fancybox='default' data-caption='image-20220528164553511'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281645829.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205281645829.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220528164553511"></a><span class='image-caption'>image-20220528164553511</span></div></div><p>åˆ°æ­¤ï¼Œæœ¬å­¦æœŸæ‰€æœ‰çš„è¯¾ç¨‹å®éªŒå°±éƒ½å®Œæˆäº†ï¼Œå…¶å®è¿™äº›å®éªŒéƒ½å¾ˆç®€å•ï¼Œæ¯•ç«Ÿä»£ç éƒ½æ˜¯ç°æˆçš„ï¼Œæˆ‘ä»¬åªéœ€è¦èƒ½è¿è¡Œå‡ºæ¥å°±è¡Œï¼Œå°±æ˜¯é…ç½®ç¯å¢ƒéº»çƒ¦</p><p>æœ€åï¼Œå¸Œæœ›å¤§å®¶éƒ½èƒ½å‡†ç¡®æ— è¯¯åœ°è¿è¡Œå‡ºæ¥ï¼Œæœ‰é—®é¢˜å’Œç–‘æƒ‘å¯ä»¥QQç§èŠæˆ‘æˆ–åœ¨ä¸‹é¢è¯„è®º</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ&quot;&gt;&lt;a href=&quot;#äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ&quot; class=&quot;headerlink&quot; title=&quot;äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ&quot;&gt;&lt;/a&gt;äº‘è®¡ç®—ä¸å¤§æ•°æ®å®éªŒ&lt;/h1&gt;&lt;p&gt;è¯¥æ•™ç¨‹æ˜¯æœ¬å­¦æœŸå¤§æ•°æ®ä¸äº‘è®¡ç®—è¯¾ç¨‹çš„è¯¾ç¨‹å®éªŒï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹çš„åŒå­¦ï¼ŒåŒæ ·ä¹Ÿ</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Linux" scheme="http://rainvex.com/tags/Linux/"/>
    
    <category term="Ubuntu" scheme="http://rainvex.com/tags/Ubuntu/"/>
    
    <category term="Hadoop" scheme="http://rainvex.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>Mybatiså­¦ä¹ ç¬”è®°</title>
    <link href="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-05-10T14:54:33.000Z</published>
    <updated>2022-05-10T14:54:33.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mybatiså­¦ä¹ ç¬”è®°"><a href="#Mybatiså­¦ä¹ ç¬”è®°" class="headerlink" title="Mybatiså­¦ä¹ ç¬”è®°"></a>Mybatiså­¦ä¹ ç¬”è®°</h1><p>è¾¹åšç¬”è®°è¾¹å­¦ä¹ æ˜¯çœŸçš„æ…¢å•Šï¼Œ10ä¸ªå°æ—¶çš„è§†é¢‘éƒ½çœ‹äº†5å¤©ğŸ¤”ï¼Œè™½ç„¶è¿™èƒ½è®©è‡ªå·±ç†è§£çš„æ•ˆæœç¨å¾®å¥½ä¸€äº›ï¼Œå¯¹ä»¥åå­¦ä¹ å›é¡¾ä¹Ÿæ˜¯ä¸€ä¸ªå¥½å¤„ï¼Œä½†æ˜¯ç°åœ¨æ—¶é—´å·²ç»ä¸å…è®¸æˆ‘å†æ…¢æ…¢æäº†ğŸ˜­ï¼Œè¶Šå­¦è¶Šè§‰å¾—è‡ªå·±ä¼šçš„ä¸œè¥¿å°‘ä¸”lowï¼Œé¢ç»çœ‹ä¸€ä¸ªä¸ä¼šä¸€ä¸ªï¼Œlcä¹Ÿæ²¡åˆ·ï¼Œå­¦å†ä¹Ÿå·®ï¼Œå†çœ‹çœ‹ä»Šå¹´çš„å½¢å¼çœŸæ˜¯ç„¦è™‘è‡³æå•ŠğŸ˜–å¸Œæœ›å¿«ç‚¹å¥½èµ·æ¥</p><h2 id="ä¸€ã€Mybatisç®€ä»‹"><a href="#ä¸€ã€Mybatisç®€ä»‹" class="headerlink" title="ä¸€ã€Mybatisç®€ä»‹"></a>ä¸€ã€Mybatisç®€ä»‹</h2><p><a href="https://github.com/mybatis/mybatis-3/releases">ä¸‹è½½åœ°å€</a></p><p>å°†mybatisä¸‹è½½ä¸‹æ¥åï¼Œæ–‡ä»¶å¤¹ä¸­æœ‰å®˜æ–¹æ–‡æ¡£å’ŒjaråŒ…ï¼Œç°åœ¨æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨Mavenç›´æ¥å¯¼å…¥ä¾èµ–ï¼Œæ‰€ä»¥ç°åœ¨æ²¡å¿…è¦å»ä¸‹è½½ï¼Œé™¤éä¸ä½¿ç”¨Mavenå°±å¯ä»¥ä¸‹è½½ä¸‹æ¥å°†å…¶jaråŒ…å¯¼å…¥åˆ°é¡¹ç›®è¿›è¡Œä½¿ç”¨</p><h3 id="1-1-MyBatiså†å²"><a href="#1-1-MyBatiså†å²" class="headerlink" title="1.1 MyBatiså†å²"></a>1.1 MyBatiså†å²</h3><p>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚Mybatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚ iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰</p><h3 id="1-2-MyBatisç‰¹æ€§"><a href="#1-2-MyBatisç‰¹æ€§" class="headerlink" title="1.2 MyBatisç‰¹æ€§"></a>1.2 MyBatisç‰¹æ€§</h3><ol><li>MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶</li><li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</li><li>MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li><li>MyBatis æ˜¯ä¸€ä¸ª <strong>åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶</strong></li></ol><h3 id="1-3-å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"><a href="#1-3-å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”" class="headerlink" title="1.3 å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"></a>1.3 å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h3><ul><li>JDBC<ul><li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</li><li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li><li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li></ul></li><li>Hibernate å’Œ JPA<ul><li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</li><li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li><li>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li><li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾</li><li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li></ul></li><li>Mybatis<ul><li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</li><li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li><li>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</li></ul></li></ul><h2 id="äºŒã€æ­å»ºMybatis"><a href="#äºŒã€æ­å»ºMybatis" class="headerlink" title="äºŒã€æ­å»ºMybatis"></a>äºŒã€æ­å»ºMybatis</h2><h3 id="2-1-å¼€å‘ç¯å¢ƒ"><a href="#2-1-å¼€å‘ç¯å¢ƒ" class="headerlink" title="2.1 å¼€å‘ç¯å¢ƒ"></a>2.1 å¼€å‘ç¯å¢ƒ</h3><p>IDEAï¼š2021.2</p><p>Mybatisï¼š3.5.9</p><p>Mavenï¼š3.8.1</p><p>MySQLï¼š5.7</p><h3 id="2-2-åˆ›å»ºmavenå·¥ç¨‹"><a href="#2-2-åˆ›å»ºmavenå·¥ç¨‹" class="headerlink" title="2.2 åˆ›å»ºmavenå·¥ç¨‹"></a>2.2 åˆ›å»ºmavenå·¥ç¨‹</h3><p>æ‰“å¼€IDEAï¼Œæ–°å»ºé¡¹ç›®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052130167.png' data-fancybox='default' data-caption='image-20220505213035962'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052130167.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052130167.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505213035962"></a><span class='image-caption'>image-20220505213035962</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052132396.png' data-fancybox='default' data-caption='image-20220505213221200'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052132396.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052132396.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505213221200"></a><span class='image-caption'>image-20220505213221200</span></div></div><p>å®ŒæˆMavené¡¹ç›®çš„åˆ›å»º</p><h3 id="2-3-å‡†å¤‡å·¥ä½œ"><a href="#2-3-å‡†å¤‡å·¥ä½œ" class="headerlink" title="2.3 å‡†å¤‡å·¥ä½œ"></a>2.3 å‡†å¤‡å·¥ä½œ</h3><h4 id="2-3-1-å¯¼å…¥Mavenä¾èµ–"><a href="#2-3-1-å¯¼å…¥Mavenä¾èµ–" class="headerlink" title="2.3.1 å¯¼å…¥Mavenä¾èµ–"></a>2.3.1 å¯¼å…¥Mavenä¾èµ–</h4><pre><code class="xml">&lt;!--æ›´æ”¹æ‰“åŒ…æ–¹å¼ä¸ºjarï¼Œå…¶å®å¯ä»¥ä¸ç”¨æ”¹ï¼Œé»˜è®¤å°±ä¸ºjar--&gt;&lt;packaging&gt;jar&lt;/packaging&gt;&lt;!--å¯¼å…¥ä¾èµ–--&gt;&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;mysql&lt;/groupId&gt;        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;        &lt;version&gt;8.0.28&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;        &lt;version&gt;3.5.9&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;junit&lt;/groupId&gt;        &lt;artifactId&gt;junit&lt;/artifactId&gt;        &lt;version&gt;4.13.2&lt;/version&gt;        &lt;scope&gt;test&lt;/scope&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;</code></pre><h4 id="2-3-2-åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨"><a href="#2-3-2-åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨" class="headerlink" title="2.3.2 åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨"></a>2.3.2 åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨</h4><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºå¥½ä¸€ä¸ªæ•°æ®åº“å’Œæ•°æ®è¡¨æ¥ä½œä¸ºæœ¬æ¬¡å­¦ä¹ Mybatisä½¿ç”¨çš„æ•°æ®å­˜å‚¨ä»‹è´¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052140036.png' data-fancybox='default' data-caption='image-20220505214050950'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052140036.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052140036.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505214050950"></a><span class='image-caption'>image-20220505214050950</span></div></div><p>åˆ›å»ºå¥½æ•°æ®åº“åï¼Œä¸ºäº†æ“ä½œæ“ä½œæ–¹ä¾¿ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†æ•°æ®åº“ä½œä¸ºæ•°æ®æºæ·»åŠ åˆ°IDEAä¸­ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼šï¼ˆè€Œä¸”å¦‚æœä¸æ·»åŠ æ•°æ®æºçš„è¯ï¼Œç­‰ä¸‹æ–¹é…ç½®mapperæ¥å£çš„æ˜ å°„æ–¹æ³•æ—¶ä¼šæŠ¥é”™è¯´ä»€ä¹ˆæ‰¾ä¸åˆ°æ•°æ®æºä¹‹ç±»çš„ï¼Œè™½ç„¶å¯èƒ½æ²¡ä»€ä¹ˆå½±å“ï¼Œä½†æ˜¯æœ‰å¼ºè¿«ç—‡çš„è¯å°±å¾ˆæ¼ç«ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052215261.png' data-fancybox='default' data-caption='image-20220505221518133'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052215261.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052215261.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505221518133"></a><span class='image-caption'>image-20220505221518133</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052217197.png' data-fancybox='default' data-caption='image-20220505221729097'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052217197.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052217197.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505221729097"></a><span class='image-caption'>image-20220505221729097</span></div></div><h4 id="2-3-3-åˆ›å»ºå¯¹åº”å®ä½“ç±»"><a href="#2-3-3-åˆ›å»ºå¯¹åº”å®ä½“ç±»" class="headerlink" title="2.3.3 åˆ›å»ºå¯¹åº”å®ä½“ç±»"></a>2.3.3 åˆ›å»ºå¯¹åº”å®ä½“ç±»</h4><pre><code class="java">public class User &#123;    //å®ä½“ç±»çš„å±æ€§åè¦å°½é‡å’Œæ•°æ®åº“ä¸­è¡¨çš„å­—æ®µåä¸€è‡´    private Integer id;    private String username;    private String password;    private Integer age;    private String gender;    private String email;    //çœç•¥getã€setã€toStringæ–¹æ³•&#125;</code></pre><h4 id="2-3-4-åˆ›å»ºé…ç½®æ–‡ä»¶å’Œmapperæ¥å£"><a href="#2-3-4-åˆ›å»ºé…ç½®æ–‡ä»¶å’Œmapperæ¥å£" class="headerlink" title="2.3.4 åˆ›å»ºé…ç½®æ–‡ä»¶å’Œmapperæ¥å£"></a>2.3.4 åˆ›å»ºé…ç½®æ–‡ä»¶å’Œmapperæ¥å£</h4><ol><li><p>åœ¨<code>java</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºå¥½<code>mapper</code>åŒ…ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>UserMapper</code>çš„<code>mapper</code>æ¥å£ï¼Œå…¶ä½œç”¨å°±æ˜¯ä»£æ›¿ä¹‹å‰javawebå¼€å‘ä¸­æ“ä½œæ•°æ®åº“çš„daoå±‚</p><blockquote><p>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»</p></blockquote></li><li><p>åœ¨<code>resource</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª<code>mybatis-config.xml</code>çš„é…ç½®æ–‡ä»¶</p><blockquote><p>ä¹ æƒ¯ä¸Šå‘½åä¸ºmybatis-config.xmlï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆSpringä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ã€‚æ ¸å¿ƒé…ç½®æ–‡ä»¶<strong>ä¸»è¦ç”¨äºé…ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä»¥åŠMyBatisçš„å…¨å±€é…ç½®ä¿¡æ¯</strong></p><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯<strong>src/main/resourcesç›®å½•ä¸‹</strong></p></blockquote></li><li><p>åœ¨<code>resource</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªä¸“é—¨å­˜æ”¾<code>mapper</code>æ¥å£çš„æ˜ å°„æ–‡ä»¶çš„åŒ…<code>mappers</code>ï¼Œåœ¨è¿™ä¸ªåŒ…ä¸­åˆ›å»ºå¥½<code>UserMapper</code>æ¥å£çš„æ˜ å°„æ–‡ä»¶<code>UserMapper.xml</code>æ–‡ä»¶</p><p>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„</p><ul><li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡</li><li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</li><li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li></ul><table><thead><tr><th>Javaæ¦‚å¿µ</th><th>æ•°æ®åº“æ¦‚å¿µ</th></tr></thead><tbody><tr><td>ç±»</td><td>è¡¨</td></tr><tr><td>å±æ€§</td><td>å­—æ®µ/åˆ—</td></tr><tr><td>å¯¹è±¡</td><td>è®°å½•/è¡Œ</td></tr></tbody></table><blockquote><p>1ã€æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™ï¼š<br>è¡¨æ‰€å¯¹åº”çš„<code>å®ä½“ç±»çš„ç±»å+Mapper.xml</code><br>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml<br>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ<br>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®<br>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯<strong>src/main/resources/mappersç›®å½•ä¸‹</strong></p><p>2ã€MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯<strong>ä¸¤ä¸ªä¸€è‡´</strong>ï¼š<br>a&gt;<strong>mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ä¿æŒä¸€è‡´</strong><br>b&gt;<strong>mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</strong></p></blockquote></li><li><p>åˆ›å»ºå¥½åçš„ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052153705.png' data-fancybox='default' data-caption='image-20220505215333614'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052153705.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052153705.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505215333614"></a><span class='image-caption'>image-20220505215333614</span></div></div></li></ol><h3 id="2-4-é…ç½®Mybatis"><a href="#2-4-é…ç½®Mybatis" class="headerlink" title="2.4 é…ç½®Mybatis"></a>2.4 é…ç½®Mybatis</h3><h4 id="2-4-1-é…ç½®mybatisé…ç½®æ–‡ä»¶"><a href="#2-4-1-é…ç½®mybatisé…ç½®æ–‡ä»¶" class="headerlink" title="2.4.1 é…ç½®mybatisé…ç½®æ–‡ä»¶"></a>2.4.1 é…ç½®mybatisé…ç½®æ–‡ä»¶</h4><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;    &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;    &lt;environments default=&quot;development&quot;&gt;        &lt;environment id=&quot;development&quot;&gt;            &lt;transactionManager type=&quot;JDBC&quot;/&gt;            &lt;dataSource type=&quot;POOLED&quot;&gt;                &lt;!--å…¶ä¸­è¿™å››ä¸ªæ˜¯éœ€è¦æ”¹æˆè‡ªå·±æ•°æ®åº“çš„é…ç½®--&gt;                &lt;!--å¦‚æœåœ¨pomæ–‡ä»¶ä¸­å¯¼å…¥çš„mysqlé©±åŠ¨ä¾èµ–æ˜¯8.xç‰ˆæœ¬çš„ï¼Œdriveråº”è¯¥è¿™æ ·é…ç½®--&gt;                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis&quot;/&gt;                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;            &lt;/dataSource&gt;        &lt;/environment&gt;    &lt;/environments&gt;    &lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;    &lt;mappers&gt;        &lt;!--å°†åˆ›å»ºçš„æ˜ å°„æ–‡ä»¶å¼•å…¥--&gt;        &lt;mapper resource=&quot;mappers/UserMapper.xml&quot;/&gt;    &lt;/mappers&gt;&lt;/configuration&gt;</code></pre><h4 id="2-4-2-ç¼–å†™Mapperæ¥å£å†…å®¹"><a href="#2-4-2-ç¼–å†™Mapperæ¥å£å†…å®¹" class="headerlink" title="2.4.2 ç¼–å†™Mapperæ¥å£å†…å®¹"></a>2.4.2 ç¼–å†™Mapperæ¥å£å†…å®¹</h4><pre><code class="java">//ç”±äºåªæ˜¯æµ‹è¯•ï¼Œæ‰€ä»¥mapperæ˜ å°„æ–‡ä»¶ä¸­ä¼šå†™æ­»æ¡ä»¶ï¼Œè¿™é‡Œçš„æ–¹æ³•å°±ä¸è®¾ç½®ä¼ å‚äº†public interface UserMapper &#123;    //æ’å…¥æ–°ç”¨æˆ·    int insertUser();    //æ›´æ–°ç”¨æˆ·    int updateUser();    //åˆ é™¤ç”¨æˆ·    int deleteUser();    //é€šè¿‡idæŸ¥è¯¢ç”¨æˆ·    User queryUserById();    //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·    List&lt;User&gt; queryAllUser();&#125;</code></pre><h4 id="2-4-3-é…ç½®Mapperæ¥å£çš„æ˜ å°„æ–‡ä»¶"><a href="#2-4-3-é…ç½®Mapperæ¥å£çš„æ˜ å°„æ–‡ä»¶" class="headerlink" title="2.4.3 é…ç½®Mapperæ¥å£çš„æ˜ å°„æ–‡ä»¶"></a>2.4.3 é…ç½®Mapperæ¥å£çš„æ˜ å°„æ–‡ä»¶</h4><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.mybatis.mapper.UserMapper&quot;&gt;    &lt;!--æ˜¯UserMapperä¸­çš„int insertUser()æ–¹æ³•çš„æ˜ å°„--&gt;    &lt;insert id=&quot;insertUser&quot;&gt;        insert into t_user values(null,&#39;admin&#39;,&#39;123456&#39;,23,&#39;å¥³&#39;,&#39;12345@qq.com&#39;)    &lt;/insert&gt;    &lt;!--int updateUser();--&gt;    &lt;update id=&quot;updateUser&quot;&gt;        update t_user set username = &#39;zhangsan&#39; where id = 2    &lt;/update&gt;    &lt;!--int deleteUser();--&gt;    &lt;delete id=&quot;deleteUser&quot;&gt;        delete from t_user where id = 2    &lt;/delete&gt;    &lt;!--User queryUserById();--&gt;    &lt;select id=&quot;queryUserById&quot; resultType=&quot;com.mybatis.entity.User&quot;&gt;        select * from t_user where id = 1    &lt;/select&gt;    &lt;!--List&lt;User&gt; queryAllUser()--&gt;    &lt;select id=&quot;queryAllUser&quot; resultType=&quot;com.mybatis.entity.User&quot;&gt;        select * from t_user    &lt;/select&gt;&lt;/mapper&gt;</code></pre><blockquote><p>æŸ¥è¯¢åŠŸèƒ½çš„æ ‡ç­¾<strong>å¿…é¡»</strong>è®¾ç½®resultTypeæˆ–resultMapå±æ€§</p><p>resultTypeï¼šè®¾ç½®é»˜è®¤çš„æ˜ å°„å…³ç³»ï¼ˆå³å®ä½“ç±»å¯¹è±¡å±æ€§å’Œæ•°æ®åº“è¡¨å­—æ®µæ˜ å°„ä¸€è‡´çš„æƒ…å†µï¼‰<br>resultMapï¼šè®¾ç½®è‡ªå®šä¹‰çš„æ˜ å°„å…³ç³»ï¼ˆåé¢ä¼šè®²åˆ°å¦‚ä½•ä½¿ç”¨ï¼‰</p></blockquote><h3 id="2-5-åŠ å…¥æ—¥å¿—åŠŸèƒ½"><a href="#2-5-åŠ å…¥æ—¥å¿—åŠŸèƒ½" class="headerlink" title="2.5 åŠ å…¥æ—¥å¿—åŠŸèƒ½"></a>2.5 åŠ å…¥æ—¥å¿—åŠŸèƒ½</h3><p>å¯åŠ å¯ä¸åŠ </p><pre><code class="xml">&lt;!--å¯¼å…¥ä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j&lt;/artifactId&gt;    &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>æ·»åŠ log4jçš„é…ç½®æ–‡ä»¶ï¼Œå‘½åä¸º<code>log4j.xml</code>ï¼Œå­˜æ”¾åœ¨<strong>src/main/resourcesç›®å½•ä¸‹</strong></p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;    &lt;appender name=&quot;STDOUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;        &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot; /&gt;        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125;%m (%F:%L) \n&quot; /&gt;        &lt;/layout&gt;    &lt;/appender&gt;    &lt;logger name=&quot;java.sql&quot;&gt;        &lt;level value=&quot;debug&quot; /&gt;    &lt;/logger&gt;    &lt;logger name=&quot;org.apache.ibatis&quot;&gt;        &lt;level value=&quot;info&quot; /&gt;    &lt;/logger&gt;    &lt;root&gt;        &lt;level value=&quot;debug&quot; /&gt;        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;    &lt;/root&gt;&lt;/log4j:configuration&gt;</code></pre><blockquote><h3 id="æ—¥å¿—çš„çº§åˆ«"><a href="#æ—¥å¿—çš„çº§åˆ«" class="headerlink" title="æ—¥å¿—çš„çº§åˆ«"></a>æ—¥å¿—çš„çº§åˆ«</h3><p>FATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•)<br>ä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†ï¼Œä¸”æ‰“å°ä¿¡æ¯ä¼šå¤§äºç­‰äºè®¾ç½®çš„æ—¥å¿—çº§åˆ«</p></blockquote><h3 id="2-6-æµ‹è¯•åŠŸèƒ½"><a href="#2-6-æµ‹è¯•åŠŸèƒ½" class="headerlink" title="2.6 æµ‹è¯•åŠŸèƒ½"></a>2.6 æµ‹è¯•åŠŸèƒ½</h3><h4 id="2-6-1-æµ‹è¯•æ·»åŠ åŠŸèƒ½"><a href="#2-6-1-æµ‹è¯•æ·»åŠ åŠŸèƒ½" class="headerlink" title="2.6.1 æµ‹è¯•æ·»åŠ åŠŸèƒ½"></a>2.6.1 æµ‹è¯•æ·»åŠ åŠŸèƒ½</h4><pre><code class="java">@Testpublic void insertUser() throws IOException &#123;    //è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);    //åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();    //é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);    //SqlSession sqlSession = sqlSessionFactory.openSession();    åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡    SqlSession sqlSession = sqlSessionFactory.openSession(true);  //åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤    //é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    //è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥    int result = userMapper.insertUser();    //sqlSession.commit();    å¦‚æœæ˜¯ä½¿ç”¨sqlSessionFactory.openSession()åˆ›å»ºçš„sqlSessionå¯¹è±¡å°±éœ€è¦ä½¿ç”¨è¿™è¡Œä»£ç æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡    System.out.println(&quot;resultï¼š&quot; + result);//è¿”å›å—å½±å“è¡Œæ•°&#125;</code></pre><blockquote><ul><li>SqlSessionï¼šä»£è¡¨<strong>Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯</strong>ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li><li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€</li><li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡</li></ul></blockquote><p>æ­¤æ—¶ï¼Œæ•°æ®åº“ä¸­å°±å¤šå‡ºä¸€æ¡æ•°æ®ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052237331.png' data-fancybox='default' data-caption='image-20220505223723254'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052237331.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052237331.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505223723254"></a><span class='image-caption'>image-20220505223723254</span></div></div><p><strong>æ³¨ï¼šå¦‚æœæˆ‘ä»¬ä¸æ‰‹åŠ¨æäº¤æˆ–è®¾ç½®è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œæµ‹è¯•è¾“å‡ºçš„ç»“æœä»è™½ç„¶ä¼šæ˜¯1ï¼Œä½†æ˜¯æ•°æ®åº“ä¸­ä¸ä¼šæœ‰æ•°æ®ï¼Œå¹¶ä¸”å®ƒä¼šå ç”¨id</strong></p><h4 id="2-6-2-æµ‹è¯•ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½"><a href="#2-6-2-æµ‹è¯•ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½" class="headerlink" title="2.6.2 æµ‹è¯•ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½"></a>2.6.2 æµ‹è¯•ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½</h4><pre><code class="java">@Testpublic void updateUser() throws IOException &#123;    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);    SqlSession sqlSession = sqlSessionFactory.openSession(true);    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    int i = userMapper.updateUser();    System.out.println(&quot;result:&quot; + i);//result:1&#125;@Testpublic void deleteUser() throws IOException &#123;    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);    SqlSession sqlSession = sqlSessionFactory.openSession(true);    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    int i = userMapper.deleteUser();    System.out.println(&quot;result:&quot; + i);//result:1&#125;</code></pre><p>æ›´æ–°ç”¨æˆ·ç»“æœï¼šidä¸º2çš„ç”¨æˆ·çš„ç”¨æˆ·åå·²ç»è¢«æ›´æ–°ä¸ºâ€zhangsanâ€</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052327047.png' data-fancybox='default' data-caption='image-20220505232726960'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052327047.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052327047.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505232726960"></a><span class='image-caption'>image-20220505232726960</span></div></div><p>åˆ é™¤ç”¨æˆ·ç»“æœï¼šidä¸º2çš„ç”¨æˆ·å·²ç»è¢«åˆ é™¤</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052329521.png' data-fancybox='default' data-caption='image-20220505223723254'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052329521.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205052329521.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220505223723254"></a><span class='image-caption'>image-20220505223723254</span></div></div><h4 id="2-6-3-æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½"><a href="#2-6-3-æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½" class="headerlink" title="2.6.3 æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½"></a>2.6.3 æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</h4><pre><code class="java">@Testpublic void queryUserById() throws IOException &#123;    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);    SqlSession sqlSession = sqlSessionFactory.openSession(true);    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    User user = userMapper.queryUserById();    System.out.println(user);//User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;&#125;@Testpublic void queryAllUser() throws IOException &#123;    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);    SqlSession sqlSession = sqlSessionFactory.openSession(true);    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    List&lt;User&gt; userList = userMapper.queryAllUser();    System.out.println(userList);    //[User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;, User&#123;id=3, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;]&#125;</code></pre><h4 id="2-6-4-å°è£…å·¥å…·ç±»"><a href="#2-6-4-å°è£…å·¥å…·ç±»" class="headerlink" title="2.6.4 å°è£…å·¥å…·ç±»"></a>2.6.4 å°è£…å·¥å…·ç±»</h4><p>ç”±äºæ¯æ¬¡æ“ä½œæˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨ç›¸åŒçš„æ­¥éª¤æ¥åˆ›å»º<code>sqlSession</code>ï¼Œè¿™æ ·å°±æ™“å¾—æ“ä½œè¿‡ç¨‹éå¸¸ç¹çï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ“ä½œä½¿ç”¨ä¸€ä¸ªå·¥å…·ç±»æ¥è¿›è¡Œå°è£…</p><pre><code class="java">public class SqlSessionUtils &#123;    public static SqlSession getSqlSession()&#123;        SqlSession sqlSession = null;        try &#123;            InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);            SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();            SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);            sqlSession = sqlSessionFactory.openSession(true);        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        return sqlSession;    &#125;&#125;</code></pre><h2 id="ä¸‰ã€MybatisåŸºç¡€åŠŸèƒ½"><a href="#ä¸‰ã€MybatisåŸºç¡€åŠŸèƒ½" class="headerlink" title="ä¸‰ã€MybatisåŸºç¡€åŠŸèƒ½"></a>ä¸‰ã€MybatisåŸºç¡€åŠŸèƒ½</h2><h3 id="3-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"><a href="#3-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="3.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"></a>3.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h3><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„æ ‡ç­¾<strong>å¿…é¡»</strong>æŒ‰ç…§å›ºå®šçš„é¡ºåºï¼š</p><p><code>properties</code> -&gt; <code>settings</code> -&gt; <code>typeAliases</code> -&gt; <code>typeHandlers</code> -&gt; <code>objectFactory</code> -&gt; <code>objectWrapperFactory</code> -&gt; <code>reflectorF actory</code> -&gt; <code>plugins</code> - &gt; <code>environments</code> -&gt; <code>databaseIdProvider</code> -&gt; <code>mappers</code></p><p>è¿™é‡Œåªé…ç½®<code>properties</code>ã€<code>typeAliases</code>ã€<code>environments</code>å’Œ<code>mappers</code>ï¼Œå…¶ä½™çš„ç­‰ä½¿ç”¨åˆ°çš„æ—¶å€™å†æ·»åŠ </p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration        PUBLIC &quot;-//MyBatis.org//DTD Config 3.0//EN&quot;        &quot;http://MyBatis.org/dtd/MyBatis-3-config.dtd&quot;&gt;&lt;configuration&gt;    &lt;!--å¼•å…¥propertiesæ–‡ä»¶ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨é…ç½®æ•°æ®åº“æ—¶ä½¿ç”¨$&#123;å±æ€§å&#125;çš„æ–¹å¼è®¿é—®å±æ€§å€¼--&gt;    &lt;!--jdbc.propertieså­˜æ”¾åœ¨resourcesæ–‡ä»¶å¤¹ä¸­--&gt;    &lt;properties resource=&quot;jdbc.properties&quot;/&gt;        &lt;typeAliases&gt;        &lt;!--            typeAliasï¼šè®¾ç½®æŸä¸ªå…·ä½“çš„ç±»å‹çš„åˆ«å            å±æ€§ï¼š            typeï¼šéœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹çš„å…¨ç±»å            aliasï¼šè®¾ç½®æ­¤ç±»å‹çš„åˆ«åï¼Œè‹¥ä¸è®¾ç½®æ­¤å±æ€§ï¼Œè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™ã€‚è‹¥è®¾ç½®æ­¤å±æ€§ï¼Œæ­¤æ—¶è¯¥ç±»å‹çš„åˆ«ååªèƒ½ä½¿ç”¨aliasæ‰€è®¾ç½®çš„å€¼            alisaå±æ€§ä¹Ÿå¯ä»¥åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨@Alisaæ³¨è§£ä»£æ›¿        --&gt;        &lt;!--&lt;typeAlias type=&quot;com.mybatis.entity.User&quot;&gt;&lt;/typeAlias&gt;--&gt;        &lt;!--&lt;typeAlias type=&quot;com.mybatis.entity.User&quot; alias=&quot;abc&quot;&gt;&lt;/typeAlias&gt;--&gt;        &lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œè®¾ç½®æ”¹åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹éƒ½æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;        &lt;package name=&quot;com.mybatis.entity&quot;/&gt;    &lt;/typeAliases&gt;        &lt;!--        environmentsï¼šè®¾ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ        å±æ€§ï¼š        defaultï¼šè®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„id    --&gt;    &lt;environments default=&quot;mysql_test&quot;&gt;        &lt;!--            environmentï¼šè®¾ç½®å…·ä½“çš„è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä¿¡æ¯å±æ€§ï¼š            idï¼šè®¾ç½®ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œå¯é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultè®¾ç½®æŸä¸€ä¸ªç¯å¢ƒçš„idï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ        --&gt;        &lt;environment id=&quot;mysql_test&quot;&gt;            &lt;!--                transactionManagerï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼                å±æ€§ï¼š                typeï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œtype=&quot;JDBC|MANAGED&quot;                type=&quot;JDBC&quot;ï¼šè®¾ç½®å½“å‰ç¯å¢ƒçš„äº‹åŠ¡ç®¡ç†éƒ½å¿…é¡»æ‰‹åŠ¨å¤„ç†                type=&quot;MANAGED&quot;ï¼šè®¾ç½®äº‹åŠ¡è¢«ç®¡ç†ï¼Œä¾‹å¦‚springä¸­çš„AOPï¼Œä½¿ç”¨å£°æ˜å¼äº‹åŠ¡            --&gt;            &lt;transactionManager type=&quot;JDBC&quot;/&gt;            &lt;!--                dataSourceï¼šè®¾ç½®æ•°æ®æº                å±æ€§ï¼š                typeï¼šè®¾ç½®æ•°æ®æºçš„ç±»å‹ï¼Œtype=&quot;POOLED|UNPOOLED|JNDI&quot;                type=&quot;POOLED&quot;ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³ä¼šå°†åˆ›å»ºçš„è¿æ¥è¿›è¡Œç¼“å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»º                type=&quot;UNPOOLED&quot;ï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³æ¯æ¬¡ä½¿ç”¨è¿æ¥éƒ½éœ€è¦é‡æ–°åˆ›å»º                type=&quot;JNDI&quot;ï¼šè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº            --&gt;            &lt;dataSource type=&quot;POOLED&quot;&gt;                &lt;!--è®¾ç½®é©±åŠ¨ç±»çš„å…¨ç±»å--&gt;                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;            &lt;/dataSource&gt;        &lt;/environment&gt;    &lt;/environments&gt;    &lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;    &lt;mappers&gt;        &lt;!--å¼•å…¥å•ä¸ªmapperæ˜ å°„æ–‡ä»¶--&gt;        &lt;!--&lt;mapper resource=&quot;UserMapper.xml&quot;/&gt;--&gt;        &lt;!--            ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„æ˜ å°„æ–‡ä»¶å¼•å…¥æ ¸å¿ƒé…ç½®æ–‡ä»¶            æ³¨æ„ï¼šæ­¤æ–¹å¼å¿…é¡»ä¿è¯mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶å¿…é¡»åœ¨ç›¸åŒçš„åŒ…ä¸‹            æ¯”å¦‚ï¼Œmapperæ¥å£æ‰€åœ¨åŒ…ä¸ºcom.mybatis.mapperï¼Œé‚£ä¹ˆmapperæ˜ å°„æ–‡ä»¶ä¹Ÿå¿…é¡»åœ¨resourcesä¸‹çš„com.mybatis.mapperåŒ…ä¸­        --&gt;        &lt;package name=&quot;com.mybatis.mapper&quot;/&gt;    &lt;/mappers&gt;&lt;/configuration&gt;</code></pre><h4 id="Tipså°æŠ€å·§ï¼šåˆ›å»ºMybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œmapperæ˜ å°„æ–‡ä»¶æ¨¡æ¿"><a href="#Tipså°æŠ€å·§ï¼šåˆ›å»ºMybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œmapperæ˜ å°„æ–‡ä»¶æ¨¡æ¿" class="headerlink" title="Tipså°æŠ€å·§ï¼šåˆ›å»ºMybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œmapperæ˜ å°„æ–‡ä»¶æ¨¡æ¿"></a>Tipså°æŠ€å·§ï¼šåˆ›å»ºMybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œmapperæ˜ å°„æ–‡ä»¶æ¨¡æ¿</h4><p>â‘ åˆ›å»ºMybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶æ¨¡æ¿ï¼ˆæ–‡ä»¶åå¯é€‰ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œæ–°å»ºæ¨¡æ¿æ–‡ä»¶æ—¶å°±ä¼šæç¤ºè¾“å…¥æ–‡ä»¶åï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062001611.png' data-fancybox='default' data-caption='image-20220506200053384'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062001611.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062001611.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220506200053384"></a><span class='image-caption'>image-20220506200053384</span></div></div><p>æµ‹è¯•ï¼šé€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»ºï¼Œé€‰æ‹©æ–°å»ºä¸€ä¸ªmybatis-configæ–‡ä»¶ï¼Œåœ¨æ–°æ–‡ä»¶ä¸­å°±å¯ä»¥å‘ç°Mybatisé‚£äº›å¿…è¦çš„é…ç½®ä»£ç å°±è‡ªåŠ¨ç”Ÿæˆäº†ï¼Œå‡å°‘äº†æ¯æ¬¡ä½¿ç”¨mybatiséƒ½éœ€è¦å»å¤åˆ¶ç¼–å†™çš„éº»çƒ¦</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062005547.png' data-fancybox='default' data-caption='image-20220506200533404'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062005547.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062005547.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220506200533404"></a><span class='image-caption'>image-20220506200533404</span></div></div><p>â‘¡åˆ›å»ºmapperæ˜ å°„æ–‡ä»¶çš„æ–¹å¼åŒä¸Šï¼Œè¿™é‡Œå°±ä¸å†å¤šè¯´äº†</p><h3 id="3-2-Mybatisçš„å¢åˆ æ”¹æŸ¥"><a href="#3-2-Mybatisçš„å¢åˆ æ”¹æŸ¥" class="headerlink" title="3.2 Mybatisçš„å¢åˆ æ”¹æŸ¥"></a>3.2 Mybatisçš„å¢åˆ æ”¹æŸ¥</h3><p>1ã€å¢åŠ </p><pre><code class="xml">&lt;!--æ˜¯UserMapperä¸­çš„int insertUser()æ–¹æ³•çš„æ˜ å°„--&gt;&lt;insert id=&quot;insertUser&quot;&gt;    insert into t_user values(null,&#39;admin&#39;,&#39;123456&#39;,23,&#39;å¥³&#39;,&#39;12345@qq.com&#39;)&lt;/insert&gt;</code></pre><p>2ã€ä¿®æ”¹</p><pre><code class="xml">&lt;!--int updateUser();--&gt;&lt;update id=&quot;updateUser&quot;&gt;    update t_user set username = &#39;zhangsan&#39; where id = 2&lt;/update&gt;</code></pre><p>3ã€åˆ é™¤</p><pre><code class="xml">&lt;!--int deleteUser();--&gt;&lt;delete id=&quot;deleteUser&quot;&gt;    delete from t_user where id = 2&lt;/delete&gt;</code></pre><p>4ã€æŸ¥è¯¢å•ä¸ªå®ä½“ç±»å¯¹è±¡</p><pre><code class="xml">&lt;!--User queryUserById();--&gt;&lt;select id=&quot;queryUserById&quot; resultType=&quot;com.mybatis.entity.User&quot;&gt;    select * from t_user where id = 1&lt;/select&gt;</code></pre><p>5ã€æŸ¥è¯¢é›†åˆ    </p><pre><code class="xml">&lt;!--List&lt;User&gt; queryAllUser()--&gt;&lt;select id=&quot;queryAllUser&quot; resultType=&quot;com.mybatis.entity.User&quot;&gt;    select * from t_user&lt;/select&gt;</code></pre><blockquote><p>æ³¨æ„ï¼š<br>1ã€æŸ¥è¯¢çš„æ ‡ç­¾selectå¿…é¡»è®¾ç½®å±æ€§resultTypeæˆ–resultMapï¼Œç”¨äºè®¾ç½®<strong>å®ä½“ç±»å’Œæ•°æ®åº“è¡¨</strong>çš„æ˜ å°„å…³ç³»</p><p>resultTypeï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äº<strong>å±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´</strong>çš„æƒ…å†µ</p><p>resultMapï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äº<strong>ä¸€å¯¹å¤š</strong>æˆ–<strong>å¤šå¯¹ä¸€</strong>æˆ–<strong>å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´</strong>çš„æƒ…å†µ</p><p>2ã€å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œåªèƒ½ä½¿ç”¨é›†åˆï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸TooManyResultsExceptionï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</p><p>3ã€å…¶å®å¦‚æœç®€å•ä¸€ç‚¹çš„sqlè¯­å¥å¯ä»¥ä¸ä½¿ç”¨mapperæ˜ å°„æ–‡ä»¶æ¥ç¼–å†™ï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£<code>@Select</code>ã€<code>@Update</code>ã€<code>@Delete</code>ã€<code>@Insert</code>æ¥ä»£æ›¿ï¼Œå°†è¿™äº›æ³¨è§£æ ‡è¯†åœ¨æ–¹æ³•ä¸Šé¢ï¼Œç„¶ååœ¨æ³¨è§£ä¸­ç¼–å†™sqlè¯­å¥ï¼Œä¾‹å¦‚</p><pre><code class="java">@Select(&quot;select * from t_user where username = #&#123;username&#125;&quot;)User getUserByUsername(String username);</code></pre></blockquote><h3 id="3-3-Mybatisè·å–å‚æ•°å€¼"><a href="#3-3-Mybatisè·å–å‚æ•°å€¼" class="headerlink" title="3.3 Mybatisè·å–å‚æ•°å€¼"></a>3.3 Mybatisè·å–å‚æ•°å€¼</h3><p>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code></p><ul><li><code>$&#123;&#125;</code>çš„æœ¬è´¨å°±æ˜¯<strong>å­—ç¬¦ä¸²æ‹¼æ¥</strong>ï¼Œ<code>#&#123;&#125;</code>çš„æœ¬è´¨å°±æ˜¯<strong>å ä½ç¬¦èµ‹å€¼</strong></li><li><code>$&#123;&#125;</code>ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ï¼›ä½†æ˜¯<code>#&#123;&#125;</code>ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li></ul><h4 id="3-3-1-å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a href="#3-3-1-å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" class="headerlink" title="3.3.1 å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a>3.3.1 å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h4><p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹</p><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code>ä»¥ä»»æ„çš„åç§°è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„<code>$&#123;&#125;</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p><pre><code class="xml">&lt;!--User getUserByUsername(String username);--&gt;&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username = &#39;$&#123;username&#125;&#39;&lt;/select&gt;&lt;!--User getUserByUsername(String username);--&gt;&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username = #&#123;username&#125;&lt;/select&gt;</code></pre><h4 id="3-3-2-å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a href="#3-3-2-å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" class="headerlink" title="3.3.2  å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a>3.3.2  å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h4><p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­</p><ul><li>ä»¥<strong>arg0ï¼Œarg1â€¦ä¸ºé”®</strong>ï¼Œä»¥å‚æ•°ä¸ºå€¼</li><li>ä»¥<strong>param1ï¼Œparam2â€¦ä¸ºé”®</strong>ï¼Œä»¥å‚æ•°ä¸ºå€¼</li><li>æ³¨ï¼šå¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°ä¸èƒ½åƒå•ä¸ªå­—é¢é‡ç±»å‹å‚æ•°ä¸€æ ·ç›´æ¥é€šè¿‡å‚æ•°åä½œä¸ºé”®ï¼Œå¦‚æœä¸ä½¿ç”¨ä¸Šé¢è¿™ä¸¤ç§é”®æ¥å–å€¼ï¼Œå°±å¾—ä½¿ç”¨<code>@Param</code>æ³¨è§£æ ‡è¯†å‚æ•°ï¼Œå¦åˆ™ä¼šè·å–ä¸äº†å‚æ•°å€¼</li><li>ç„¶ååªéœ€è¦é€šè¿‡<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code>è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„<code>$&#123;&#125;</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li></ul><pre><code class="xml">&lt;!--User checkLogin(String username,String password)--&gt;&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username = #&#123;arg0&#125; and password = #&#123;arg1&#125;&lt;/select&gt;&lt;!--User checkLogin(String username,String password)--&gt;&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username = #&#123;param1&#125; and password = #&#123;param2&#125;&lt;/select&gt;</code></pre><h4 id="3-3-3-mapé›†åˆç±»å‹çš„å‚æ•°"><a href="#3-3-3-mapé›†åˆç±»å‹çš„å‚æ•°" class="headerlink" title="3.3.3 mapé›†åˆç±»å‹çš„å‚æ•°"></a>3.3.3 mapé›†åˆç±»å‹çš„å‚æ•°</h4><p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥<strong>æ‰‹åŠ¨åˆ›å»ºmapé›†åˆ</strong>ï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­ï¼Œåªéœ€è¦é€šè¿‡<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code><strong>è®¿é—®mapé›†åˆçš„é”®</strong>å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„<code>$&#123;&#125;</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p><pre><code class="java">@Testpublic void checkLoginByMap() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    UserMapper mapper = sqlSession.getMapper(UserMapper.class);    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();    map.put(&quot;username&quot;,&quot;admin&quot;);    map.put(&quot;password&quot;,&quot;123456&quot;);    User user = mapper.checkLoginByMap(map);    System.out.println(user);&#125;</code></pre><pre><code class="xml">&lt;!--User checkLoginByMap(Map map)--&gt;&lt;select id=&quot;checkLoginByMap&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;&lt;/select&gt;</code></pre><h4 id="3-3-4-å®ä½“ç±»ç±»å‹çš„å‚æ•°"><a href="#3-3-4-å®ä½“ç±»ç±»å‹çš„å‚æ•°" class="headerlink" title="3.3.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°"></a>3.3.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°</h4><p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code>ï¼Œé€šè¿‡<strong>è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§å</strong>è·å–å±æ€§å€¼ï¼Œæ³¨æ„<code>$&#123;&#125;</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p><pre><code class="java">@Testpublic void insertUser() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);    User user = new User();    user.setId(null);    user.setUsername(&quot;lisi&quot;);    user.setPassword(&quot;123456&quot;);    user.setAge(20);    user.setGender(&quot;ç”·&quot;);    user.setEmail(&quot;123456@qq.com&quot;);    int i = userMapper.insertUser(user);    System.out.println(i);&#125;</code></pre><pre><code class="xml">&lt;!--int insertUser(User user)--&gt;&lt;insert id=&quot;insertUser&quot;&gt;    insert into t_user values (#&#123;id&#125;, #&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;, #&#123;gender&#125;, #&#123;email&#125;)&lt;/insert&gt;</code></pre><h4 id="3-3-5-ä½¿ç”¨-Paramæ ‡è¯†çš„å‚æ•°"><a href="#3-3-5-ä½¿ç”¨-Paramæ ‡è¯†çš„å‚æ•°" class="headerlink" title="3.3.5 ä½¿ç”¨@Paramæ ‡è¯†çš„å‚æ•°"></a>3.3.5 ä½¿ç”¨@Paramæ ‡è¯†çš„å‚æ•°</h4><p>å¯ä»¥é€šè¿‡<code>@Param</code>æ³¨è§£æ ‡è¯†mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œæ­¤æ—¶ï¼Œä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨mapé›†åˆä¸­</p><ul><li>ä»¥<code>@Param</code>æ³¨è§£çš„valueå±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼</li><li>ä»¥param1ï¼Œparam2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼</li><li>ç„¶ååªéœ€è¦é€šè¿‡<code>$&#123;&#125;</code>å’Œ<code>#&#123;&#125;</code>è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„<code>$&#123;&#125;</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li></ul><pre><code class="xml">&lt;!--User checkLoginByParam(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password)--&gt;&lt;select id=&quot;checkLoginByParam&quot; resultType=&quot;User&quot;&gt;    &lt;!--è¿™é‡Œ#&#123;&#125;ä¸­çš„å€¼å°±æ˜¯æˆ‘ä»¬è®¾ç½®@Paramæ³¨è§£çš„valueçš„å€¼--&gt;    select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;&lt;/select&gt;</code></pre><h3 id="3-4-Mybatisçš„å„ç§æŸ¥è¯¢æ–¹å¼"><a href="#3-4-Mybatisçš„å„ç§æŸ¥è¯¢æ–¹å¼" class="headerlink" title="3.4 Mybatisçš„å„ç§æŸ¥è¯¢æ–¹å¼"></a>3.4 Mybatisçš„å„ç§æŸ¥è¯¢æ–¹å¼</h3><h4 id="3-4-1-æŸ¥è¯¢å•ä¸ªå®ä½“ç±»å¯¹è±¡"><a href="#3-4-1-æŸ¥è¯¢å•ä¸ªå®ä½“ç±»å¯¹è±¡" class="headerlink" title="3.4.1 æŸ¥è¯¢å•ä¸ªå®ä½“ç±»å¯¹è±¡"></a>3.4.1 æŸ¥è¯¢å•ä¸ªå®ä½“ç±»å¯¹è±¡</h4><pre><code class="java">/*** æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯*/User getUserById(@Param(&quot;id&quot;) Integer id);</code></pre><pre><code class="xml">&lt;!--User getUserById(@Param(&quot;id&quot;) Integer id)--&gt;&lt;select id=&quot;getUserById&quot; resultType=&quot;User&quot;&gt;    select * from t_user where id = #&#123;id&#125;&lt;/select&gt;&lt;!--User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;--&gt;</code></pre><h4 id="3-4-2-æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ"><a href="#3-4-2-æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ" class="headerlink" title="3.4.2 æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ"></a>3.4.2 æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ</h4><pre><code class="java">/*** æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯*/List&lt;User&gt; getAllUser();</code></pre><pre><code class="xml">&lt;!--List&lt;User&gt; getAllUser()--&gt;&lt;select id=&quot;getAllUser&quot; resultType=&quot;User&quot;&gt;    select * from t_user&lt;/select&gt;&lt;!--    [User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;,     User&#123;id=3, username=&#39;zhangsan&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;,     User&#123;id=4, username=&#39;lisi&#39;, password=&#39;123456&#39;, age=20, gender=&#39;ç”·&#39;, email=&#39;123456@qq.com&#39;&#125;]--&gt;</code></pre><h4 id="3-4-3-æŸ¥è¯¢å•ä¸ªæ•°æ®"><a href="#3-4-3-æŸ¥è¯¢å•ä¸ªæ•°æ®" class="headerlink" title="3.4.3 æŸ¥è¯¢å•ä¸ªæ•°æ®"></a>3.4.3 æŸ¥è¯¢å•ä¸ªæ•°æ®</h4><pre><code class="java">/*** æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°* åœ¨MyBatisä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å* ä¾‹å¦‚ï¼šjava.lang.Integer--&gt;int|integer* ä¾‹å¦‚ï¼šint--&gt;_int|_integer* ä¾‹å¦‚ï¼šMap--&gt;map,List--&gt;list*/Integer getUserCount();</code></pre><pre><code class="xml">&lt;!--Integer getUserCount()--&gt;&lt;select id=&quot;getUserCount&quot; resultType=&quot;Integer&quot;&gt;    select count(id) from t_user&lt;/select&gt;&lt;!--3--&gt;&lt;!--count(1)å’Œcount(*)æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œè€Œä½¿ç”¨count(å­—æ®µå)æŸ¥è¯¢çš„è¯ï¼Œè‹¥æŸä¸€æ¡æ•°æ®çš„å½“å‰å­—æ®µåå€¼ä¸ºnullï¼Œé‚£ä¹ˆè¿™æ¡æ•°æ®ä¸ä¼šè¢«ç®—åˆ°countä¸­--&gt;</code></pre><h4 id="3-4-4-æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"><a href="#3-4-4-æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ" class="headerlink" title="3.4.4 æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"></a>3.4.4 æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h4><pre><code class="java">/*** æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ*/Map&lt;String,Object&gt; getUserToMap(@Param(&quot;id&quot;) Integer id);</code></pre><pre><code class="xml">&lt;!--Map&lt;String,Object&gt; getUserToMap(@Param(&quot;id&quot;) Integer id)--&gt;&lt;select id=&quot;getUserToMap&quot; resultType=&quot;map&quot;&gt;    select * from t_user where id = #&#123;id&#125;&lt;/select&gt;&lt;!--&#123;password=123456, gender=å¥³, id=1, age=23, email=12345@qq.com, username=admin&#125;--&gt;</code></pre><h4 id="3-4-5-æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"><a href="#3-4-5-æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ" class="headerlink" title="3.4.5 æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"></a>3.4.5 æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h4><p>â‘  æ–¹å¼ä¸€</p><pre><code class="java">/*** æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–*/List&lt;Map&lt;String,Object&gt;&gt; getAllUserToListMap();</code></pre><pre><code class="xml">&lt;!--List&lt;Map&lt;String,Object&gt;&gt; getAllUserToListMap()--&gt;&lt;select id=&quot;getAllUserToListMap&quot; resultType=&quot;map&quot;&gt;    select * from t_user&lt;/select&gt;&lt;!--    [&#123;password=123456, gender=å¥³, id=1, age=23, email=12345@qq.com, username=admin&#125;,     &#123;password=123456, gender=å¥³, id=3, age=23, email=12345@qq.com, username=zhangsan&#125;,     &#123;password=123456, gender=ç”·, id=4, age=20, email=123456@qq.com, username=lisi&#125;]--&gt;</code></pre><p>â‘¡ æ–¹å¼äºŒ</p><pre><code class="java">/*** æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡@MapKeyæ³¨è§£è®¾ç½®ä¸ºmapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„mapé›†åˆ*/@MapKey(&quot;id&quot;)Map&lt;String,Object&gt; getAllUserToMap();</code></pre><pre><code class="xml">&lt;!--Map&lt;String,Object&gt; getAllUserToMap()--&gt;&lt;select id=&quot;getAllUserToMap&quot; resultType=&quot;map&quot;&gt;    select * from t_user&lt;/select&gt;&lt;!--&#123;    1=&#123;password=123456, gender=å¥³, id=1, age=23, email=12345@qq.com, username=admin&#125;ï¼Œ     3=&#123;password=123456, gender=å¥³, id=3, age=23, email=12345@qq.com, username=zhangsan&#125;,     4=&#123;password=123456, gender=ç”·, id=4, age=20, email=123456@qq.com, username=lisi&#125;&#125;--&gt;</code></pre><h4 id="3-4-6-Mybatisä¸­çš„æ˜ å°„åˆ«å"><a href="#3-4-6-Mybatisä¸­çš„æ˜ å°„åˆ«å" class="headerlink" title="3.4.6 Mybatisä¸­çš„æ˜ å°„åˆ«å"></a>3.4.6 Mybatisä¸­çš„æ˜ å°„åˆ«å</h4><p>Javaå¸¸ç”¨ç±»å‹åœ¨Mybatisä¸­çš„æ˜ å°„åˆ«å</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254735.png' data-fancybox='default' data-caption='image-20220506225408569'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254735.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254735.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220506225408569"></a><span class='image-caption'>image-20220506225408569</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254397.png' data-fancybox='default' data-caption='image-20220506225428281'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254397.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205062254397.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220506225428281"></a><span class='image-caption'>image-20220506225428281</span></div></div><h3 id="3-5-ç‰¹æ®ŠSQL"><a href="#3-5-ç‰¹æ®ŠSQL" class="headerlink" title="3.5 ç‰¹æ®ŠSQL"></a>3.5 ç‰¹æ®ŠSQL</h3><h4 id="3-5-1-æ¨¡ç³ŠæŸ¥è¯¢"><a href="#3-5-1-æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="3.5.1 æ¨¡ç³ŠæŸ¥è¯¢"></a>3.5.1 æ¨¡ç³ŠæŸ¥è¯¢</h4><pre><code class="java">//æ ¹æ®usernameæ¨¡ç³ŠæŸ¥è¯¢ç”¨æˆ·List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username);</code></pre><p>æ¨¡ç³ŠæŸ¥è¯¢ä¸­å­—ç¬¦ä¸²çš„æ‹¼æ¥æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><pre><code class="xml">&lt;!--List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username)--&gt;&lt;!--ç¬¬ä¸€ç§ï¼šä½¿ç”¨åŒå¼•å·åŠ #&#123;&#125;çš„æ–¹å¼--&gt;&lt;select id=&quot;getUserByLike&quot; resultType=&quot;User&quot;&gt;    &lt;!--è¿™ç§æ–¹å¼IDEä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä»èƒ½æŸ¥è¯¢--&gt;    select * from t_user where username like &quot;%&quot;#&#123;username&#125;&quot;%&quot;&lt;/select&gt;&lt;!--ç¬¬äºŒç§ï¼šä½¿ç”¨å•å¼•å·åŠ $&#123;&#125;çš„æ–¹å¼--&gt;&lt;select id=&quot;getUserByLike&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username like &#39;%$&#123;username&#125;%&#39;&lt;/select&gt;&lt;!--ç¬¬ä¸‰ç§ï¼šä½¿ç”¨concatå‡½æ•°--&gt;&lt;select id=&quot;getUserByLike&quot; resultType=&quot;User&quot;&gt;    select * from t_user where username like concat(&#39;%&#39;,#&#123;username&#125;,&#39;%&#39;);&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getUserByLike() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    SQLMapper sqlMapper = sqlSession.getMapper(SQLMapper.class);    List&lt;User&gt; userList = sqlMapper.getUserByLike(&quot;a&quot;);    System.out.println(userList);    //[User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;, User&#123;id=3, username=&#39;zhangsan&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;]&#125;</code></pre><h4 id="3-5-2-æ‰¹é‡åˆ é™¤"><a href="#3-5-2-æ‰¹é‡åˆ é™¤" class="headerlink" title="3.5.2 æ‰¹é‡åˆ é™¤"></a>3.5.2 æ‰¹é‡åˆ é™¤</h4><pre><code class="java">//æ‰¹é‡åˆ é™¤ç”¨æˆ·//æ³¨æ„ï¼šè¿™å„¿idsç”¨å‡ ä¸ªidå€¼æ‹¼æ¥è€Œæˆçš„å­—ç¬¦ä¸²ï¼Œå¦‚&quot;1,2,3&quot;Integer deleteMore(@Param(&quot;ids&quot;) String ids);</code></pre><pre><code class="xml">&lt;!--Integer deleteMore(@Param(&quot;ids&quot;) String ids)--&gt;&lt;!--åœ¨mybatisä¸­æ‰¹é‡åˆ é™¤åªèƒ½ä½¿ç”¨$&#123;&#125;ï¼Œå› ä¸º#&#123;&#125;åœ¨ç”Ÿæˆsqlè¯­å¥æ—¶åè‡ªåŠ¨æ‹¼æ¥å•å¼•å·ï¼Œè¿™å¯¹äºmysqlçš„inè¯­æ³•æ˜¯é”™è¯¯çš„ï¼Œinä¸­åªèƒ½æ˜¯æ•°å€¼ï¼Œè€Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²--&gt;&lt;delete id=&quot;deleteMore&quot;&gt;    delete from t_user where id in ($&#123;ids&#125;);&lt;/delete&gt;</code></pre><pre><code class="java">@Testpublic void deleteMore() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    SQLMapper sqlMapper = sqlSession.getMapper(SQLMapper.class);    Integer deleteMore = sqlMapper.deleteMore(&quot;1,2,3&quot;);    System.out.println(deleteMore);&#125;</code></pre><h4 id="3-5-3-åŠ¨æ€è®¾ç½®è¡¨å"><a href="#3-5-3-åŠ¨æ€è®¾ç½®è¡¨å" class="headerlink" title="3.5.3 åŠ¨æ€è®¾ç½®è¡¨å"></a>3.5.3 åŠ¨æ€è®¾ç½®è¡¨å</h4><pre><code class="java">//æŸ¥è¯¢ä¸åŒè¡¨ä¸­çš„ç”¨æˆ·List&lt;User&gt; selectUserByTableName(@Param(&quot;tableName&quot;) String tableName);</code></pre><pre><code class="xml">&lt;!--List&lt;User&gt; selectUserByTableName(@Param(&quot;tableName&quot;) String tableName)--&gt;&lt;!--åŒæ ·ï¼Œç”±äºè¡¨åä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¸éœ€è¦å•å¼•å·æ¥è¿›è¡Œæ‹¼æ¥ï¼Œæ‰€ä»¥åŠ¨æ€è®¾ç½®è¡¨åä¹Ÿåªèƒ½ä½¿ç”¨$&#123;&#125;çš„æ–¹å¼--&gt;&lt;select id=&quot;selectUserByTableName&quot; resultType=&quot;User&quot;&gt;    select * from $&#123;tableName&#125;&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void selectUserByTableName() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    SQLMapper sqlMapper = sqlSession.getMapper(SQLMapper.class);    List&lt;User&gt; userList = sqlMapper.selectUserByTableName(&quot;t_user&quot;);    System.out.println(userList);    //[User&#123;id=1, username=&#39;admin&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;, User&#123;id=3, username=&#39;zhangsan&#39;, password=&#39;123456&#39;, age=23, gender=&#39;å¥³&#39;, email=&#39;12345@qq.com&#39;&#125;, User&#123;id=4, username=&#39;lisi&#39;, password=&#39;123456&#39;, age=20, gender=&#39;ç”·&#39;, email=&#39;123456@qq.com&#39;&#125;]&#125;</code></pre><h4 id="3-5-4-æ·»åŠ åŠŸèƒ½ä¸­è·å–è‡ªå¢çš„ä¸»é”®"><a href="#3-5-4-æ·»åŠ åŠŸèƒ½ä¸­è·å–è‡ªå¢çš„ä¸»é”®" class="headerlink" title="3.5.4 æ·»åŠ åŠŸèƒ½ä¸­è·å–è‡ªå¢çš„ä¸»é”®"></a>3.5.4 æ·»åŠ åŠŸèƒ½ä¸­è·å–è‡ªå¢çš„ä¸»é”®</h4><p>åº”ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬æ–°æ·»åŠ ä¸€ä¸ªç”¨æˆ·åï¼Œéœ€è¦è·å–åˆ°è¿™ä¸ªç”¨æˆ·çš„idï¼Œæ¥è¿›è¡Œå…¶ä»–æ“ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªåŠŸèƒ½æ¥å®ç°</p><pre><code class="java">//æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·Integer insertUser(User user);</code></pre><pre><code class="xml">&lt;!--Integer insertUser(User user)--&gt;&lt;!--useGeneratedKeyså±æ€§è¡¨ç¤ºå½“å‰è¿™ä¸ªsqlä½¿ç”¨åˆ°äº†è‡ªåŠ¨é€’å¢çš„ä¸»é”®ï¼›keyPropertyè¡¨ç¤ºå°†è‡ªå¢ä¸»é”®é…ç½®åˆ°ä¼ å…¥çš„å®ä½“ç±»å¯¹è±¡å‚æ•°çš„å“ªä¸ªå±æ€§--&gt;&lt;insert id=&quot;insertUser&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;    insert into t_user values (null, #&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;, #&#123;gender&#125;, #&#123;email&#125;)&lt;/insert&gt;</code></pre><pre><code class="java">@Testpublic void insertUser() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    SQLMapper sqlMapper = sqlSession.getMapper(SQLMapper.class);    User user = new User();    user.setId(null);    user.setUsername(&quot;wangwu&quot;);    user.setPassword(&quot;123456&quot;);    user.setAge(32);    user.setGender(&quot;ç”·&quot;);    user.setEmail(&quot;123456@qq.com&quot;);    Integer insertUser = sqlMapper.insertUser(user);    System.out.println(insertUser);//1    System.out.println(user);//User&#123;id=7, username=&#39;wangwu&#39;, password=&#39;123456&#39;, age=32, gender=&#39;ç”·&#39;, email=&#39;123456@qq.com&#39;&#125;ï¼Œå¯ä»¥å‘ç°æ–°æ·»åŠ çš„ç”¨æˆ·çš„idè¢«èµ‹å€¼äº†&#125;</code></pre><h3 id="3-6-è‡ªå®šä¹‰æ˜ å°„ResultMap"><a href="#3-6-è‡ªå®šä¹‰æ˜ å°„ResultMap" class="headerlink" title="3.6 è‡ªå®šä¹‰æ˜ å°„ResultMap"></a>3.6 è‡ªå®šä¹‰æ˜ å°„ResultMap</h3><h4 id="3-6-1-è§£å†³å­—æ®µåå’Œå±æ€§åçš„æ˜ å°„å…³ç³»"><a href="#3-6-1-è§£å†³å­—æ®µåå’Œå±æ€§åçš„æ˜ å°„å…³ç³»" class="headerlink" title="3.6.1 è§£å†³å­—æ®µåå’Œå±æ€§åçš„æ˜ å°„å…³ç³»"></a>3.6.1 è§£å†³å­—æ®µåå’Œå±æ€§åçš„æ˜ å°„å…³ç³»</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ–°å»ºä¸¤å¼ æ•°æ®è¡¨</p><p>å‘˜å·¥è¡¨ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744873.png' data-fancybox='default' data-caption='image-20220507174414656'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744873.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744873.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220507174414656"></a><span class='image-caption'>image-20220507174414656</span></div></div><p>éƒ¨é—¨è¡¨ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744920.png' data-fancybox='default' data-caption='image-20220507174429777'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744920.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205071744920.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220507174429777"></a><span class='image-caption'>image-20220507174429777</span></div></div><p>ç„¶åï¼Œéšä¾¿æ·»åŠ å‡ æ¡æ•°æ®</p><p>ç„¶åï¼Œæ–°å»ºå¯¹åº”å®ä½“ç±»</p><pre><code class="java">public class Employee &#123;    private Integer eid;    private String employeeName;    private Integer employeeAge;    private String employeeGender;    private String employeeEmail;    private Integer did;    //çœç•¥æ„é€ æ–¹æ³•ã€setã€getã€toStringæ–¹æ³•&#125;</code></pre><pre><code class="java">public class Department &#123;    private Integer did;    private String departmentName;    //çœç•¥æ„é€ æ–¹æ³•ã€setã€getã€toStringæ–¹æ³•&#125;</code></pre><p>ç„¶åï¼Œç¼–å†™mapperæ¥å£å’Œæ˜ å°„æ–‡ä»¶è¿›è¡Œæµ‹è¯•</p><pre><code class="java">//è·å–æ‰€æœ‰å‘˜å·¥ä¿¡æ¯List&lt;Employee&gt; getAllEmployee();</code></pre><pre><code class="xml">&lt;!--List&lt;Employee&gt; getAllEmployee()--&gt;&lt;select id=&quot;getAllEmployee&quot; resultType=&quot;Employee&quot;&gt;    select * from t_employee&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getAllEmployee() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);    List&lt;Employee&gt; allEmployee = employeeMapper.getAllEmployee();    allEmployee.forEach(employee -&gt; System.out.println(employee));    //Employee&#123;eid=1, employeeName=&#39;null&#39;, employeeAge=&#39;null&#39;, employeeGender=&#39;null&#39;, employeeEmail=&#39;null&#39;, did=1&#125;    //Employee&#123;eid=2, employeeName=&#39;null&#39;, employeeAge=&#39;null&#39;, employeeGender=&#39;null&#39;, employeeEmail=&#39;null&#39;, did=1&#125;    //Employee&#123;eid=3, employeeName=&#39;null&#39;, employeeAge=&#39;null&#39;, employeeGender=&#39;null&#39;, employeeEmail=&#39;null&#39;, did=2&#125;    //Employee&#123;eid=4, employeeName=&#39;null&#39;, employeeAge=&#39;null&#39;, employeeGender=&#39;null&#39;, employeeEmail=&#39;null&#39;, did=2&#125;&#125;</code></pre><p>å¯ä»¥å‘ç°ï¼Œç”±äºæˆ‘ä»¬çš„å®ä½“ç±»çš„éƒ¨åˆ†å±æ€§åå’Œæ•°æ®åº“å­—æ®µåä¸åŒ¹é…ï¼Œè¾“å‡ºçš„å®ä½“ç±»å¯¹è±¡å¯¹åº”çš„å±æ€§å°±æ²¡æœ‰è¢«èµ‹å€¼</p><h5 id="â‘ è§£å†³æ–¹æ³•ä¸€"><a href="#â‘ è§£å†³æ–¹æ³•ä¸€" class="headerlink" title="â‘ è§£å†³æ–¹æ³•ä¸€"></a>â‘ è§£å†³æ–¹æ³•ä¸€</h5><p>åœ¨æŸ¥è¯¢æ—¶ï¼Œç»™<strong>æ•°æ®åº“å­—æ®µå–åˆ«å</strong>æ¥è®©å­—æ®µåå’Œå±æ€§åæ˜ å°„ä¸€è‡´</p><pre><code class="xml">&lt;!--List&lt;Employee&gt; getAllEmployee()--&gt;&lt;select id=&quot;getAllEmployee&quot; resultType=&quot;Employee&quot;&gt;    select eid,employee_name employeeName,employee_age employeeAge,employee_gender employeeGender,employee_email employeeEmail,did from t_employee&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getAllEmployee() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);    List&lt;Employee&gt; allEmployee = employeeMapper.getAllEmployee();    allEmployee.forEach(employee -&gt; System.out.println(employee));    //Employee&#123;eid=1, employeeName=&#39;zhangsan&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, did=1&#125;    //Employee&#123;eid=2, employeeName=&#39;lisi&#39;, employeeAge=&#39;24&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, did=1&#125;    //Employee&#123;eid=3, employeeName=&#39;wangwu&#39;, employeeAge=&#39;25&#39;, employeeGender=&#39;å¥³&#39;, employeeEmail=&#39;12345@qq.com&#39;, did=2&#125;    //Employee&#123;eid=4, employeeName=&#39;åˆ˜å…­&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, did=2&#125;&#125;</code></pre><p>é€šè¿‡æµ‹è¯•å‘ç°ï¼Œå®ä½“ç±»å¯¹è±¡å¯¹åº”çš„å±æ€§éƒ½è¢«èµ‹å€¼äº†</p><p>ä½†æ˜¯è¿™ç§æ–¹æ³•å½“å­—æ®µåå¤ªå¤šçš„æƒ…å†µä¸‹å°±æ˜¾å¾—éå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨</p><h5 id="â‘¡è§£å†³æ–¹æ³•äºŒ"><a href="#â‘¡è§£å†³æ–¹æ³•äºŒ" class="headerlink" title="â‘¡è§£å†³æ–¹æ³•äºŒ"></a>â‘¡è§£å†³æ–¹æ³•äºŒ</h5><p>åœ¨mybatiså…¨å±€é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸ª**<code>mapUnderscoreToCamelCase</code>**å³å¯</p><pre><code class="xml">&lt;!--æ³¨æ„settingé…ç½®çš„ä½ç½®åœ¨propertieså’ŒtypeAliasesä¹‹é—´--&gt;&lt;settings&gt;    &lt;!--æ­¤æ—¶ï¼Œemployee_nameå°±ä¼šè¢«è§£ææˆemployeeName--&gt;    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;</code></pre><h5 id="â‘¢è§£å†³æ–¹æ³•ä¸‰"><a href="#â‘¢è§£å†³æ–¹æ³•ä¸‰" class="headerlink" title="â‘¢è§£å†³æ–¹æ³•ä¸‰"></a>â‘¢è§£å†³æ–¹æ³•ä¸‰</h5><p>é€šè¿‡<strong>è‡ªå®šä¹‰resultMap</strong>æ¥è§£å†³</p><p>é‡‡ç”¨resultMapè‡ªå®šä¹‰æ˜ å°„è¿›è¡Œé…ç½®æ—¶ï¼Œæ— è®ºå­—æ®µåå’Œå±æ€§åæ˜¯å¦ä¸€è‡´ï¼Œå»ºè®®å°†æ‰€æœ‰å­—æ®µåå’Œå±æ€§åçš„æ˜ å°„éƒ½è¿›è¡Œé…ç½®ï¼Œå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ç¡®å®ç”¨ä¸åˆ°çš„å±æ€§ä¹Ÿå¯ä»¥ä¸é…ç½®</p><pre><code class="xml">&lt;!--é€šè¿‡å¦‚ä¸‹è‡ªå®šä¹‰resultMapçš„è®¾ç½®å°±å¯ä»¥è§£å†³å­—æ®µåå’Œå±æ€§åæ˜ å°„é—®é¢˜äº†--&gt;&lt;resultMap id=&quot;employeeResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;    &lt;result property=&quot;did&quot; column=&quot;did&quot;/&gt;&lt;/resultMap&gt;&lt;!--List&lt;Employee&gt; getAllEmployee()--&gt;&lt;select id=&quot;getAllEmployee&quot; resultMap=&quot;employeeResultMap&quot;&gt;    select * from t_employee&lt;/select&gt;</code></pre><p><code>resultMap</code>ï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼Œå…¶å±æ€§ï¼š</p><ul><li><code>id</code>ï¼šè¡¨ç¤ºè‡ªå®šä¹‰æ˜ å°„çš„å”¯ä¸€æ ‡è¯†</li><li><code>type</code>ï¼šæŸ¥è¯¢çš„æ•°æ®è¦æ˜ å°„çš„å®ä½“ç±»çš„ç±»å‹</li></ul><p><strong>å­æ ‡ç­¾ï¼š</strong></p><ul><li><code>id</code>ï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»</li><li> <code>result</code>ï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»</li><li> <code>association</code>ï¼šè®¾ç½®å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</li><li> <code>collection</code>ï¼šè®¾ç½®ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</li><li> å±æ€§ï¼š</li><li><code>property</code>ï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­å®ä½“ç±»ä¸­çš„å±æ€§å</li><li><code>column</code>ï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­è¡¨ä¸­çš„å­—æ®µå</li><li><code>javaType</code>ï¼šassociationä¸­çš„å±æ€§ï¼Œç”¨äºä¸ºé…ç½®å¯¹è±¡ç±»å‹çš„å±æ€§æŒ‡å®šå…·ä½“å¯¹è±¡ç±»å‹</li></ul><h4 id="3-6-2-å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"><a href="#3-6-2-å¤šå¯¹ä¸€æ˜ å°„å¤„ç†" class="headerlink" title="3.6.2 å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"></a>3.6.2 å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</h4><p>å®é™…æƒ…å†µä¸­ï¼Œæˆ‘ä»¬æŸ¥è¯¢å‡ºçš„å‘˜å·¥ä¿¡æ¯ä¸­ä¼šåŒ…å«å…¶éƒ¨é—¨çš„ä¸€äº›ç›¸å…³ä¿¡æ¯è€Œéåªæœ‰éƒ¨é—¨idï¼›åŒæ ·ï¼Œå½“æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªéƒ¨é—¨çš„ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€ä¸ªéƒ¨é—¨ä¸­æœ‰å“ªäº›å‘˜å·¥ï¼›æ­¤æ—¶å°±æ¶‰åŠåˆ°äº†å®ä½“ç±»ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œé‚£ä¹ˆæ•°æ®åº“è¡¨ä¹Ÿä¼šå­˜åœ¨ç›¸åŒçš„å…³è”å…³ç³»ï¼Œè€Œ<strong>å¤šä¸ªä¸åŒå‘˜å·¥å¯ä»¥å±äºåŒä¸€ä¸ªéƒ¨é—¨å°±æ˜¯å¤šå¯¹ä¸€å…³ç³»</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜å®ä½“ç±»çš„å±æ€§è®¾ç½®</p><pre><code class="java">public class Employee &#123;    private Integer eid;    private String employeeName;    private Integer employeeAge;    private String employeeGender;    private String employeeEmail;    private Department department;&#125;public class Department &#123;    private Integer did;    private String departmentName;    private List&lt;Employee&gt; employeeList;&#125;//å‡çœç•¥æ„é€ æ–¹æ³•ã€setã€getã€toStringæ–¹æ³•</code></pre><h5 id="â‘ çº§è”å±æ€§èµ‹å€¼æ–¹å¼å¤„ç†"><a href="#â‘ çº§è”å±æ€§èµ‹å€¼æ–¹å¼å¤„ç†" class="headerlink" title="â‘ çº§è”å±æ€§èµ‹å€¼æ–¹å¼å¤„ç†"></a>â‘ çº§è”å±æ€§èµ‹å€¼æ–¹å¼å¤„ç†</h5><p>å°†æŸ¥è¯¢å‡ºæ¥çš„ä¿¡æ¯çš„è¡¨å­—æ®µåé€šè¿‡<code>å¯¹è±¡.å±æ€§å</code>çš„æ–¹å¼è¿›è¡Œé…ç½®æ˜ å°„</p><pre><code class="java">//è·å–æ‰€æœ‰å‘˜å·¥åŠå…¶å¯¹åº”éƒ¨é—¨ä¿¡æ¯List&lt;Employee&gt; getEmployeeAndDepartment();</code></pre><pre><code class="xml">&lt;!--Employee getEmployeeAndDepartment()--&gt;&lt;resultMap id=&quot;EmployeeAndDepartmentResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;    &lt;!--å°†æŸ¥è¯¢å‡ºæ¥çš„ä¿¡æ¯çš„è¡¨å­—æ®µåé€šè¿‡&quot;å¯¹è±¡.å±æ€§å&quot;çš„æ–¹å¼è¿›è¡Œé…ç½®æ˜ å°„--&gt;    &lt;result property=&quot;department.did&quot; column=&quot;did&quot;/&gt;    &lt;result property=&quot;department.departmentName&quot; column=&quot;department_name&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeAndDepartment&quot; resultMap=&quot;EmployeeAndDepartmentResultMap&quot;&gt;    select * from t_employee left join t_department on t_employee.did = t_department.did&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getEmployeeAndDepartment() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);    List&lt;Employee&gt; employeeAndDepartment = employeeMapper.getEmployeeAndDepartment();    employeeAndDepartment.forEach(employee -&gt; System.out.println(employee));    //Employee&#123;eid=1, employeeName=&#39;zhangsan&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=Department&#123;did=1, departmentName=&#39;å¼€å‘éƒ¨&#39;, employeeList=null&#125;&#125;    //Employee&#123;eid=2, employeeName=&#39;lisi&#39;, employeeAge=&#39;24&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=Department&#123;did=1, departmentName=&#39;å¼€å‘éƒ¨&#39;, employeeList=null&#125;&#125;    //Employee&#123;eid=3, employeeName=&#39;wangwu&#39;, employeeAge=&#39;25&#39;, employeeGender=&#39;å¥³&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=Department&#123;did=2, departmentName=&#39;è¿è¥éƒ¨&#39;, employeeList=null&#125;&#125;    //Employee&#123;eid=4, employeeName=&#39;åˆ˜å…­&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=Department&#123;did=2, departmentName=&#39;è¿è¥éƒ¨&#39;, employeeList=null&#125;&#125;&#125;</code></pre><h5 id="â‘¡ä½¿ç”¨associationå¤„ç†"><a href="#â‘¡ä½¿ç”¨associationå¤„ç†" class="headerlink" title="â‘¡ä½¿ç”¨associationå¤„ç†"></a>â‘¡ä½¿ç”¨associationå¤„ç†</h5><p>é€šè¿‡<code>association</code>æ ‡ç­¾å…ˆä¸ºå¯¹è±¡ç±»å‹çš„å±æ€§è¿›è¡Œæ˜ å°„é…ç½®ï¼Œç„¶åå†å°†è¿™ä¸ªå¯¹è±¡ç±»å‹å±æ€§èµ‹å€¼ç»™æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„å¯¹è±¡</p><pre><code class="java">//è·å–æ‰€æœ‰å‘˜å·¥åŠå…¶å¯¹åº”éƒ¨é—¨ä¿¡æ¯List&lt;Employee&gt; getEmployeeAndDepartment();</code></pre><pre><code class="xml">&lt;!--Employee getEmployeeAndDepartment()--&gt;&lt;resultMap id=&quot;EmployeeAndDepartmentResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;    &lt;!--é€šè¿‡&quot;association&quot;æ ‡ç­¾å…ˆä¸ºå¯¹è±¡ç±»å‹çš„å±æ€§è¿›è¡Œæ˜ å°„é…ç½®ï¼Œç„¶åå†å°†è¿™ä¸ªå¯¹è±¡ç±»å‹å±æ€§èµ‹å€¼ç»™æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„å¯¹è±¡--&gt;    &lt;!--        association:å¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»        property:éœ€è¦å¤„ç†å¤šå¯¹ä¸€æ˜ å°„å…³ç³»çš„å±æ€§å        javaType:è¯¥å±æ€§çš„ç±»å‹    --&gt;    &lt;association property=&quot;department&quot; javaType=&quot;Department&quot;&gt;        &lt;id property=&quot;did&quot; column=&quot;did&quot;/&gt;        &lt;result property=&quot;departmentName&quot; column=&quot;department_name&quot;/&gt;    &lt;/association&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeAndDepartment&quot; resultMap=&quot;EmployeeAndDepartmentResultMap&quot;&gt;    select * from t_employee left join t_department on t_employee.did = t_department.did&lt;/select&gt;</code></pre><p>ç»è¿‡æµ‹è¯•å‘ç°ï¼ŒæŸ¥è¯¢ç»“æœä¸€æ ·</p><h5 id="â‘¢åˆ†æ­¥æŸ¥è¯¢å¤„ç†"><a href="#â‘¢åˆ†æ­¥æŸ¥è¯¢å¤„ç†" class="headerlink" title="â‘¢åˆ†æ­¥æŸ¥è¯¢å¤„ç†"></a>â‘¢åˆ†æ­¥æŸ¥è¯¢å¤„ç†</h5><p>å…ˆå°†ä¸€ä¸ªæˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶åå†é€šè¿‡æŸ¥è¯¢å‡ºæ¥å¾—åˆ°çš„ä¿¡æ¯å»æŸ¥è¯¢å¦ä¸€ä¸ªä¿¡æ¯</p><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆæŠŠå‘˜å·¥çš„ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥ï¼ˆå…¶ä¸­åŒ…å«äº†å…¶æ‰€åœ¨éƒ¨é—¨çš„idå³didï¼‰ï¼Œç„¶åå†é€šè¿‡æŸ¥è¯¢å‡ºæ¥çš„éƒ¨é—¨idå»æŸ¥è¯¢å¯¹åº”éƒ¨é—¨ï¼Œå†å°†æŸ¥è¯¢å‡ºçš„éƒ¨é—¨èµ‹å€¼ç»™å‘˜å·¥ä¿¡æ¯ä¸­çš„éƒ¨é—¨å¯¹è±¡å±æ€§</p><pre><code class="java">//EmployeeMapperæ¥å£//æŸ¥è¯¢å‘˜å·¥åŠå…¶éƒ¨é—¨ä¿¡æ¯List&lt;Employee&gt; getEmployeeAndDepartment();//DepartmentMapperæ¥å£//æ ¹æ®éƒ¨é—¨dæŸ¥è¯¢å¯¹åº”éƒ¨é—¨Department getDepartmentById(@Param(&quot;did&quot;) Integer did);</code></pre><pre><code class="xml">&lt;!--EmployeeMapperä¸­--&gt;&lt;!--Employee getEmployeeAndDepartment()--&gt;&lt;resultMap id=&quot;EmployeeAndDepartmentResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;    &lt;!--        selectï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢æŸä¸ªå±æ€§çš„å€¼çš„sqlçš„æ ‡è¯†ï¼ˆnamespace.sqlIdï¼‰ï¼Œå³æˆ‘ä»¬è¦ä½¿ç”¨å“ªä¸ªmapperæ˜ å°„æ–‡ä»¶ä¸­çš„å“ªä¸ªæ–¹æ³•è¿›è¡ŒæŸ¥è¯¢        columnï¼šå°†sqlä»¥åŠæŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå­—æ®µè®¾ç½®ä¸ºåˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶ï¼Œè¿™å„¿å°±ä»£è¡¨æˆ‘ä»¬å°†å‘˜å·¥ä¿¡æ¯æŸ¥è¯¢ç»“æœçš„didä½œä¸ºä¸‹ä¸€æ­¥æŸ¥è¯¢éƒ¨é—¨çš„æ¡ä»¶    --&gt;    &lt;association property=&quot;department&quot; select=&quot;com.mybatis.mapper.DepartmentMapper.getDepartmentById&quot; column=&quot;did&quot;&gt;&lt;/association&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeAndDepartment&quot; resultMap=&quot;EmployeeAndDepartmentResultMap&quot;&gt;    select * from t_employee&lt;/select&gt;</code></pre><pre><code class="xml">&lt;!--DepartmentMapperä¸­--&gt;&lt;!--Department getDepartmentById(@Param(&quot;did&quot;) Integer did)--&gt;&lt;resultMap id=&quot;departmentResultMap&quot; type=&quot;Department&quot;&gt;    &lt;id property=&quot;did&quot; column=&quot;did&quot;/&gt;    &lt;result property=&quot;departmentName&quot; column=&quot;department_name&quot;/&gt;    &lt;!--è¿™å„¿æˆ‘ä»¬æš‚æ—¶ä¸éœ€è¦Departmentå¯¹è±¡ä¸­çš„å‘˜å·¥é›†åˆemployeeListï¼Œæ‰€ä»¥ä¸ç”¨é…ç½®æ˜ å°„--&gt;&lt;/resultMap&gt;&lt;select id=&quot;getDepartmentById&quot; resultMap=&quot;departmentResultMap&quot;&gt;    select * from t_department where did = #&#123;did&#125;&lt;/select&gt;</code></pre><p>ç»è¿‡æµ‹è¯•å‘ç°ï¼ŒæŸ¥è¯¢ç»“æœä¸€æ ·</p><p>è¿™ç§æ–¹å¼è™½ç„¶çœ‹èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯åœ¨å…¶ä»–çš„mapperä¸­ç¼–å†™æŸ¥è¯¢è¯­å¥æ˜¯å¯ä»¥å¤ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™å„¿æ–°å¢çš„æ ¹æ®éƒ¨é—¨IDæŸ¥è¯¢å¯¹åº”éƒ¨é—¨ä¿¡æ¯çš„æ–¹æ³•ä¸ä»…å¯ä»¥å’ŒæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯çš„åŠŸèƒ½åˆèµ·æ¥ä½¿ç”¨è¿˜å¯ä»¥ä½œä¸ºå•ç‹¬ä¸€ä¸ªåŠŸèƒ½ä½¿ç”¨</p><h5 id="â‘£å»¶è¿ŸåŠ è½½åŠŸèƒ½"><a href="#â‘£å»¶è¿ŸåŠ è½½åŠŸèƒ½" class="headerlink" title="â‘£å»¶è¿ŸåŠ è½½åŠŸèƒ½"></a>â‘£å»¶è¿ŸåŠ è½½åŠŸèƒ½</h5><p>åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€é…ç½®ä¿¡æ¯ï¼š</p><pre><code class="xml">&lt;settings&gt;    &lt;!--é…ç½®å»¶è¿ŸåŠ è½½åŠŸèƒ½--&gt;    &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;</code></pre><p><code>lazyLoadingEnabled</code>ï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œ<strong>æ‰€æœ‰å…³è”å¯¹è±¡</strong>ï¼ˆå³æˆ‘ä»¬åœ¨åˆ†å¸ƒæŸ¥è¯¢ä¸­çš„ç¬¬äºŒæ­¥ã€ç¬¬ä¸‰æ­¥ç­‰ï¼‰éƒ½ä¼šå»¶è¿ŸåŠ è½½</p><p><code>aggressiveLazyLoading</code>ï¼šå½“å¼€å¯æ—¶ï¼Œ<strong>ä»»ä½•æ–¹æ³•</strong>çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§æˆ–æ˜¯è¯´éƒ½ä¼šæ‰§è¡Œåˆ†å¸ƒæŸ¥è¯¢æ‰€æœ‰æ­¥éª¤ï¼ˆå½“mybatisç‰ˆæœ¬&lt;=3.4.1æ—¶è¯¥é¡¹é»˜è®¤ä¸ºtrueï¼‰</p><p>é…ç½®å¥½å»¶è¿ŸåŠ è½½æ—¶å°±å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ï¼Œè·å–çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Œå°±åªä¼šæ‰§è¡Œç›¸åº”çš„sql</p><ul><li>æ¯”å¦‚æˆ‘ä»¬åªéœ€è¦è·å–å‘˜å·¥ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±åªä¼šæ‰§è¡ŒæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯çš„sqlï¼Œè€Œä¸ä¼šç»§ç»­æ‰§è¡ŒæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯çš„sqlï¼›åŒæ ·ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦éƒ¨é—¨ä¿¡æ¯ï¼Œé‚£ä¹ˆå®ƒæ‰ä¼šæŠŠå‘˜å·¥ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥åå†æ ¹æ®éƒ¨é—¨idå»æŸ¥è¯¢å¯¹åº”éƒ¨é—¨ä¿¡æ¯</li><li>å¦‚æœæœ‰äº›éœ€æ±‚ä¸éœ€è¦å»¶è¿ŸåŠ è½½ï¼Œå¯é€šè¿‡<code>association</code>å’Œ<code>collection</code>ä¸­çš„<code>fetchType</code>å±æ€§<strong>è®¾ç½®å½“å‰çš„åˆ†æ­¥æŸ¥è¯¢</strong>æ˜¯å¦ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼Œ<code>fetchType=&quot;lazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)&quot;</code></li></ul><p>æµ‹è¯•ï¼š</p><pre><code class="java">@Testpublic void getEmployeeAndDepartment() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);    List&lt;Employee&gt; employeeAndDepartment = employeeMapper.getEmployeeAndDepartment();    //æ­¤æ—¶æˆ‘ä»¬åªéœ€è¦è·å–å‘˜å·¥çš„åå­—    employeeAndDepartment.forEach(employee -&gt; System.out.println(employee.getEmployeeName()));&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081956873.png' data-fancybox='default' data-caption='image-20220508195606762'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081956873.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081956873.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508195606762"></a><span class='image-caption'>image-20220508195606762</span></div></div><p>å¯ä»¥å‘ç°ï¼Œå¼€å¯å»¶è¿ŸåŠ è½½æ—¶ï¼Œå½“æˆ‘ä»¬åªéœ€è·å–å‘˜å·¥åå­—ï¼Œé‚£ä¹ˆå®ƒåªä¼šæ‰§è¡Œåˆ†å¸ƒæŸ¥è¯¢ä¸­çš„ç¬¬ä¸€æ­¥ï¼Œå³æŸ¥è¯¢å‡ºå‘˜å·¥ä¿¡æ¯</p><p>ç»è¿‡æµ‹è¯•ï¼Œå½“æˆ‘ä»¬åœ¨<code>mybatis-config.xml</code>å…¨å±€é…ç½®æ–‡ä»¶ä¸­å¼€å¯å»¶è¿ŸåŠ è½½æ—¶<strong>å’Œ</strong>åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­å…³é—­å»¶è¿ŸåŠ è½½ä½†åœ¨mapperæ˜ å°„æ–‡ä»¶çš„æŸä¸ªæ–¹æ³•ä¸­åŠ ä¸Š<code>fetchType=lazy</code>æ—¶éƒ½ä¼šå‡ºç°ä»¥ä¸Šæƒ…å†µï¼ˆç¬¬äºŒç§æƒ…å†µè§†é¢‘è€å¸ˆæ˜¯è¯´çš„æ˜¯å¿…é¡»è¦åœ¨å…¨å±€é…ç½®æ–‡ä»¶å¼€å¯å»¶è¿ŸåŠ è½½åè®¾ç½®fetchTypeæ‰æœ‰ç”¨ï¼Œä½†æ˜¯æ˜¯é”™çš„ï¼Œæˆ‘äº²è‡ªæµ‹è¯•ä»ç„¶å¯ä»¥ï¼Œè‡³å°‘åœ¨æˆ‘ä½¿ç”¨çš„mybatis3.5.9ç‰ˆæœ¬æ˜¯è¿™æ ·çš„ï¼‰</p><p>è€Œå½“å…³é—­å»¶è¿ŸåŠ è½½åï¼Œå®ƒåˆä¼šå°†åˆ†å¸ƒæŸ¥è¯¢æ‰€æœ‰æ­¥éª¤è¿›è¡Œæ‰§è¡Œ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081925904.png' data-fancybox='default' data-caption='image-20220508192500784'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081925904.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205081925904.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508192500784"></a><span class='image-caption'>image-20220508192500784</span></div></div><p>ç»è¿‡æµ‹è¯•ï¼Œå½“æˆ‘ä»¬åœ¨<code>mybatis-config.xml</code>å…¨å±€é…ç½®æ–‡ä»¶ä¸­å…³é—­å»¶è¿ŸåŠ è½½æ—¶<strong>å’Œ</strong>åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­å¼€å¯å»¶è¿ŸåŠ è½½ä½†åœ¨mapperæ˜ å°„æ–‡ä»¶çš„æŸä¸ªæ–¹æ³•ä¸­åŠ ä¸Š<code>fetchType=eager</code>æ—¶ä¹Ÿéƒ½ä¼šå‡ºç°ä»¥ä¸Šæƒ…å†µ</p><p><strong>æ€»ç»“ï¼š</strong></p><ul><li><strong>æˆ‘ä»¬å¯ä»¥åœ¨å…¨å±€é…ç½®æ–‡ä»¶å¼€å¯å»¶è¿ŸåŠ è½½çš„æƒ…å†µä¸‹åˆ©ç”¨<code>fetchType=eager</code>ä½¿æŸä¸€ä¸ªæ–¹æ³•ä¸å»¶è¿ŸåŠ è½½ï¼Œä¹Ÿå¯ä»¥åœ¨å…¨å±€é…ç½®æ–‡ä»¶å…³é—­å»¶è¿ŸåŠ è½½çš„æƒ…å†µä¸‹åˆ©ç”¨<code>fetchType=lazy</code>ä½¿æŸä¸€ä¸ªæ–¹æ³•å»¶è¿ŸåŠ è½½</strong></li><li><strong><code>lazyLoadingEnabled</code>æ˜¯é’ˆå¯¹æ‰€æœ‰æ–¹æ³•çš„å»¶è¿ŸåŠ è½½åŠŸèƒ½ï¼Œ<code>fetchType</code>æ˜¯é’ˆå¯¹æŸä¸€ä¸ªæ–¹æ³•çš„å»¶è¿ŸåŠ è½½åŠŸèƒ½</strong></li></ul><h4 id="3-6-3-ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"><a href="#3-6-3-ä¸€å¯¹å¤šæ˜ å°„å¤„ç†" class="headerlink" title="3.6.3 ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"></a>3.6.3 ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</h4><p><strong>ä¸€ä¸ªéƒ¨é—¨ä¸­æœ‰å¤šä¸ªå‘˜å·¥å°±æ˜¯ä¸€å¯¹å¤šå…³ç³»</strong></p><h5 id="â‘ ä½¿ç”¨collectionå¤„ç†"><a href="#â‘ ä½¿ç”¨collectionå¤„ç†" class="headerlink" title="â‘ ä½¿ç”¨collectionå¤„ç†"></a>â‘ ä½¿ç”¨collectionå¤„ç†</h5><pre><code class="java">//é€šè¿‡éƒ¨é—¨idæŸ¥è¯¢å¯¹åº”éƒ¨é—¨åŠå…¶åŒ…å«çš„å‘˜å·¥Department getDepartmentById(@Param(&quot;did&quot;) Integer did);</code></pre><pre><code class="xml">&lt;!--Department getDepartmentById(@Param(&quot;did&quot;) Integer did)--&gt;&lt;resultMap id=&quot;departmentResultMap&quot; type=&quot;Department&quot;&gt;    &lt;id property=&quot;did&quot; column=&quot;did&quot;/&gt;    &lt;result property=&quot;departmentName&quot; column=&quot;department_name&quot;/&gt;    &lt;!--        ofTypeï¼šè®¾ç½®collectionæ ‡ç­¾æ‰€å¤„ç†çš„é›†åˆå±æ€§ä¸­å­˜å‚¨æ•°æ®çš„ç±»å‹    --&gt;    &lt;collection property=&quot;employeeList&quot; ofType=&quot;Employee&quot;&gt;        &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;        &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;        &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;        &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;        &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;    &lt;/collection&gt;&lt;/resultMap&gt;&lt;select id=&quot;getDepartmentById&quot; resultMap=&quot;departmentResultMap&quot;&gt;    select * from t_department left join t_employee on t_department.did = t_employee.did where t_department.did = #&#123;did&#125;&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getDepartmentById() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper.class);    Department department = departmentMapper.getDepartmentById(1);    System.out.println(department);    //Department&#123;did=1, departmentName=&#39;å¼€å‘éƒ¨&#39;, employeeList=[Employee&#123;eid=1, employeeName=&#39;zhangsan&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=null&#125;, Employee&#123;eid=2, employeeName=&#39;lisi&#39;, employeeAge=&#39;24&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=null&#125;]&#125;&#125;</code></pre><h5 id="â‘¡åˆ†æ­¥æŸ¥è¯¢"><a href="#â‘¡åˆ†æ­¥æŸ¥è¯¢" class="headerlink" title="â‘¡åˆ†æ­¥æŸ¥è¯¢"></a>â‘¡åˆ†æ­¥æŸ¥è¯¢</h5><pre><code class="java">//DepartmentMapperæ¥å£ä¸­//é€šè¿‡éƒ¨é—¨idæŸ¥è¯¢å¯¹åº”éƒ¨é—¨åŠå…¶åŒ…å«çš„å‘˜å·¥Department getDepartmentById(@Param(&quot;did&quot;) Integer did);//EmployeeMapperæ¥å£ä¸­//æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯List&lt;Employee&gt; getDepartmentAndEmployeeByDid(@Param(&quot;did&quot;) Integer did);</code></pre><pre><code class="xml">&lt;!--Department getDepartmentById(@Param(&quot;did&quot;) Integer did)--&gt;&lt;resultMap id=&quot;departmentResultMap&quot; type=&quot;Department&quot;&gt;    &lt;id property=&quot;did&quot; column=&quot;did&quot;/&gt;    &lt;result property=&quot;departmentName&quot; column=&quot;department_name&quot;/&gt;    &lt;!--        selectï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢æŸä¸ªå±æ€§çš„å€¼çš„sqlçš„æ ‡è¯†ï¼ˆnamespace.sqlIdï¼‰ï¼Œå³é€šè¿‡å“ªä¸ªæ–¹æ³•æŸ¥è¯¢        columnï¼šå°†sqlä»¥åŠæŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå­—æ®µè®¾ç½®ä¸ºåˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶ï¼Œå³æŸ¥è¯¢æ¡ä»¶        ä¸å¤šå¯¹ä¸€æ˜ å°„å¤„ç†çš„åˆ†å¸ƒæŸ¥è¯¢ä¸€æ ·çš„æ•ˆæœ    --&gt;    &lt;collection property=&quot;employeeList&quot; select=&quot;com.mybatis.mapper.EmployeeMapper.getDepartmentAndEmployeeByDid&quot; column=&quot;did&quot;&gt;&lt;/collection&gt;&lt;/resultMap&gt;&lt;select id=&quot;getDepartmentById&quot; resultMap=&quot;departmentResultMap&quot;&gt;    select * from t_department where did = #&#123;did&#125;&lt;/select&gt;</code></pre><pre><code class="xml">&lt;!--List&lt;Employee&gt; getDepartmentAndEmployeeByDid(@Param(&quot;did&quot;) Integer did)--&gt;&lt;resultMap id=&quot;departmentAndEmployeeByDidResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getDepartmentAndEmployeeByDid&quot; resultMap=&quot;departmentAndEmployeeByDidResultMap&quot;&gt;    select * from t_employee where did = #&#123;did&#125;&lt;/select&gt;</code></pre><p>ç»è¿‡æµ‹è¯•å‘ç°ï¼ŒæŸ¥è¯¢ç»“æœä¸€æ ·</p><p>åŒæ ·ï¼Œè¿™å„¿ä¹Ÿå¯ä»¥é…ç½®å»¶è¿ŸåŠ è½½çš„åŠŸèƒ½ï¼Œå…·ä½“å‚è€ƒå¤šå¯¹ä¸€æ˜ å°„å¤„ç†ä¸­çš„å»¶è¿ŸåŠ è½½åŠŸèƒ½éƒ¨åˆ†</p><h3 id="3-7-åŠ¨æ€SQL"><a href="#3-7-åŠ¨æ€SQL" class="headerlink" title="3.7 åŠ¨æ€SQL"></a>3.7 åŠ¨æ€SQL</h3><p>Mybatisæ¡†æ¶çš„åŠ¨æ€SQLæŠ€æœ¯æ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶åŠ¨æ€æ‹¼è£…SQLè¯­å¥çš„åŠŸèƒ½ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜</p><h4 id="3-7-1-if"><a href="#3-7-1-if" class="headerlink" title="3.7.1 if"></a>3.7.1 if</h4><blockquote><p> ifæ ‡ç­¾å¯é€šè¿‡testå±æ€§çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šè¢«æ‹¼æ¥åˆ°sqlè¯­å¥ä¸­ï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šè¢«æ‹¼æ¥</p></blockquote><pre><code class="java">//æ ¹æ®æ¡ä»¶æ‰¹é‡æŸ¥è¯¢å‘˜å·¥List&lt;Employee&gt; getEmployeeListByIF(Employee employee);</code></pre><pre><code class="xml">&lt;!--List&lt;Employee&gt; getEmployeeListByIF(Employee employee)--&gt;&lt;resultMap id=&quot;employeeListResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeListByIF&quot; resultMap=&quot;employeeListResultMap&quot;&gt;    select * from t_employee where 1=1    &lt;if test=&quot;employeeName != null and employeeName != &#39;&#39;&quot;&gt;        and employee_name = #&#123;employeeName&#125;    &lt;/if&gt;    &lt;if test=&quot;employeeAge != null and employeeAge != &#39;&#39;&quot;&gt;        and employee_age = #&#123;employeeAge&#125;    &lt;/if&gt;    &lt;if test=&quot;employeeGender != null and employeeGender != &#39;&#39;&quot;&gt;        and employee_gender = #&#123;employeeGender&#125;    &lt;/if&gt;    &lt;if test=&quot;employeeEmail != null and employeeEmail != &#39;&#39;&quot;&gt;        and employee_email = #&#123;employeeEmail&#125;    &lt;/if&gt;&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getEmployeeListByIF() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);    Employee employee = new Employee();    employee.setEmployeeAge(23);    employee.setEmployeeGender(&quot;ç”·&quot;);    employee.setEmployeeEmail(&quot;12345@qq.com&quot;);    List&lt;Employee&gt; employeeList = mapper.getEmployeeListByIF(employee);    System.out.println(employeeList);    //[Employee&#123;eid=1, employeeName=&#39;zhangsan&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=null&#125;, Employee&#123;eid=4, employeeName=&#39;åˆ˜å…­&#39;, employeeAge=&#39;23&#39;, employeeGender=&#39;ç”·&#39;, employeeEmail=&#39;12345@qq.com&#39;, department=null&#125;]&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082152710.png' data-fancybox='default' data-caption='image-20220508215205570'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082152710.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082152710.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508215205570"></a><span class='image-caption'>image-20220508215205570</span></div></div><p>é€šè¿‡sqlè¯­å¥å¯ä»¥å‘ç°ï¼Œå€¼ä¸ºnullçš„å±æ€§åæœªè¢«æ‹¼æ¥åˆ°sqlè¯­å¥ä¸­</p><h4 id="3-7-2-where"><a href="#3-7-2-where" class="headerlink" title="3.7.2 where"></a>3.7.2 where</h4><blockquote><p>whereå’Œifä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š</p><ul><li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³<strong>ä¸ä¼šæ·»åŠ whereå…³é”®å­—</strong></li><li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾ä¼š<strong>è‡ªåŠ¨æ·»åŠ whereå…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶æœ€å‰æ–¹å¤šä½™çš„andå»æ‰</strong></li><li>æ³¨æ„ï¼šwhereæ ‡ç­¾ä¸èƒ½å°†sqlè¯­å¥ä¸­<strong>æ¡ä»¶åé¢</strong>å¤šä½™çš„andå»æ‰</li></ul></blockquote><p>ä»ç„¶ä½¿ç”¨ä¸Šæ–¹çš„ä¾‹å­<code>æ ¹æ®æ¡ä»¶æ‰¹é‡æŸ¥è¯¢å‘˜å·¥</code>ï¼Œä½†æ˜¯<code>&lt;select&gt;</code>æ ‡ç­¾ä¸­whereæˆ‘ä»¬ä½¿ç”¨<code>&lt;where&gt;</code>æ ‡ç­¾ä»£æ›¿</p><pre><code class="java">//æ ¹æ®æ¡ä»¶æ‰¹é‡æŸ¥è¯¢å‘˜å·¥List&lt;Employee&gt; getEmployeeListByWhere(Employee employee);</code></pre><pre><code class="xml">&lt;!--List&lt;Employee&gt; getEmployeeListByWhere(Employee employee)--&gt;&lt;resultMap id=&quot;employeeListResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeListByWhere&quot; resultMap=&quot;employeeListResultMap&quot;&gt;    select * from t_employee    &lt;where&gt;        &lt;if test=&quot;employeeName != null and employeeName != &#39;&#39;&quot;&gt;            and employee_name = #&#123;employeeName&#125;        &lt;/if&gt;        &lt;if test=&quot;employeeAge != null and employeeAge != &#39;&#39;&quot;&gt;            and employee_age = #&#123;employeeAge&#125;        &lt;/if&gt;        &lt;if test=&quot;employeeGender != null and employeeGender != &#39;&#39;&quot;&gt;            and employee_gender = #&#123;employeeGender&#125;        &lt;/if&gt;        &lt;if test=&quot;employeeEmail != null and employeeEmail != &#39;&#39;&quot;&gt;            and employee_email = #&#123;employeeEmail&#125;        &lt;/if&gt;    &lt;/where&gt;&lt;/select&gt;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082158968.png' data-fancybox='default' data-caption='image-20220508215817851'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082158968.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082158968.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508215817851"></a><span class='image-caption'>image-20220508215817851</span></div></div><p>é€šè¿‡æµ‹è¯•å‘ç°ï¼Œmybatisä¸ºsqlè¯­å¥åŠ¨æ€æ·»åŠ äº†<code>where</code>å­å¥ï¼Œå¹¶ä¸”è¿˜ä¸ºæˆ‘ä»¬å°†æ¡ä»¶ä¸­å¤šä½™çš„<code>and</code>å»æ‰äº†ï¼›å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬<code>&lt;where&gt;</code>æ ‡ç­¾ä¸­çš„æ¡ä»¶éƒ½ä¸æˆç«‹ï¼Œé‚£ä¹ˆsqlè¯­å¥ä¸­ä¹Ÿä¸ä¼šæœ‰whereå­å¥</p><h4 id="3-7-3-trim"><a href="#3-7-3-trim" class="headerlink" title="3.7.3 trim"></a>3.7.3 trim</h4><blockquote><p>trimç”¨äº<strong>å»æ‰æˆ–æ·»åŠ </strong>æ ‡ç­¾ä¸­çš„å†…å®¹</p><p>å¸¸ç”¨å±æ€§ï¼š</p><ul><li>prefixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>å‰é¢æ·»åŠ </strong>æŸäº›å†…å®¹</li><li>prefixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>å‰é¢å»æ‰</strong>æŸäº›å†…å®¹</li><li>suffixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>åé¢æ·»åŠ </strong>æŸäº›å†…å®¹</li><li>suffixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>åé¢å»æ‰</strong>æŸäº›å†…å®¹</li></ul></blockquote><p>ä»ç”¨ä¸Šæ–¹çš„ä¾‹å­<code>æ ¹æ®æ¡ä»¶æ‰¹é‡æŸ¥è¯¢å‘˜å·¥</code></p><pre><code class="xml">&lt;!--List&lt;Employee&gt; getEmployeeListByTrim(Employee employee)--&gt;&lt;resultMap id=&quot;employeeListResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeListByTrim&quot; resultMap=&quot;employeeListResultMap&quot;&gt;    select * from t_employee    &lt;trim prefix=&quot;where&quot; suffixOverrides=&quot;and|or&quot;&gt;        &lt;if test=&quot;employeeName != null and employeeName != &#39;&#39;&quot;&gt;            employee_name = #&#123;employeeName&#125; and        &lt;/if&gt;        &lt;if test=&quot;employeeAge != null and employeeAge != &#39;&#39;&quot;&gt;            employee_age = #&#123;employeeAge&#125; or        &lt;/if&gt;        &lt;if test=&quot;employeeGender != null and employeeGender != &#39;&#39;&quot;&gt;            employee_gender = #&#123;employeeGender&#125; and        &lt;/if&gt;        &lt;if test=&quot;employeeEmail != null and employeeEmail != &#39;&#39;&quot;&gt;            employee_email = #&#123;employeeEmail&#125;        &lt;/if&gt;    &lt;/trim&gt;&lt;/select&gt;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211577.png' data-fancybox='default' data-caption='image-20220508221117483'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211577.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211577.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508221117483"></a><span class='image-caption'>image-20220508221117483</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211765.png' data-fancybox='default' data-caption='image-20220508221148677'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211765.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082211765.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508221148677"></a><span class='image-caption'>image-20220508221148677</span></div></div><p>é€šè¿‡æµ‹è¯•å‘ç°ï¼Œå½“ifä¸­æœ‰æ»¡è¶³çš„æ¡ä»¶ï¼Œåˆ™<code>&lt;trim&gt;</code>æ ‡ç­¾ä¼šè‡ªåŠ¨æ‹¼æ¥ä¸Šå‰ç¼€<code>where</code>ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å»é™¤è®¾ç½®çš„åç¼€é‡å†™çš„<code>and</code>æˆ–<code>or</code>ï¼›è€Œå½“ifä¸­æ²¡æœ‰æ»¡è¶³çš„æ¡ä»¶æ—¶ï¼Œ<code>&lt;trim&gt;</code>åˆ™ä¸ä¼šæ·»åŠ å‰ç¼€where</p><h4 id="3-7-4-chooseã€whenã€otherwise"><a href="#3-7-4-chooseã€whenã€otherwise" class="headerlink" title="3.7.4 chooseã€whenã€otherwise"></a>3.7.4 chooseã€whenã€otherwise</h4><blockquote><p>chooseã€whenã€otherwiseç›¸å½“äºifâ€¦else if..else</p><p>whenè‡³å°‘è¦æœ‰ä¸€ä¸ªï¼Œotherwiseæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª</p><p>å½“å…¶ä¸­ä¸€ä¸ªæ¡ä»¶æ»¡è¶³æ—¶å…¶ä»–æ¡ä»¶å°±ä¸å†è¿›è¡Œåˆ¤æ–­äº†ï¼Œæ‰€ä»¥è¿™ç±»åŠ¨æ€SQLæ‹¼æ¥å<strong>æœ€å¤šåªä¼šæœ‰ä¸€ä¸ªæ¡ä»¶</strong></p></blockquote><p>è¿™å„¿ä»ç„¶ä½¿ç”¨ä¸Šæ–¹çš„ä¾‹å­<code>æ ¹æ®æ¡ä»¶æ‰¹é‡æŸ¥è¯¢å‘˜å·¥</code></p><pre><code class="xml">&lt;!--List&lt;Employee&gt; getEmployeeListByChoose(Employee employee)--&gt;&lt;resultMap id=&quot;employeeListResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeListByChoose&quot; resultMap=&quot;employeeListResultMap&quot;&gt;    select * from t_employee    &lt;where&gt;        &lt;choose&gt;            &lt;when test=&quot;employeeName != null and employeeName != &#39;&#39;&quot;&gt;                employee_name = #&#123;employeeName&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeAge != null and employeeAge != &#39;&#39;&quot;&gt;                employee_age = #&#123;employeeAge&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeGender != null and employeeGender != &#39;&#39;&quot;&gt;                employee_gender = #&#123;employeeGender&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeEmail != null and employeeEmail != &#39;&#39;&quot;&gt;                employee_email = #&#123;employeeEmail&#125;            &lt;/when&gt;            &lt;otherwise&gt;                did = 1            &lt;/otherwise&gt;        &lt;/choose&gt;    &lt;/where&gt;&lt;/select&gt;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082227188.png' data-fancybox='default' data-caption='image-20220508222708090'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082227188.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082227188.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508222708090"></a><span class='image-caption'>image-20220508222708090</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082228521.png' data-fancybox='default' data-caption='image-20220508222815433'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082228521.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082228521.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508222815433"></a><span class='image-caption'>image-20220508222815433</span></div></div><h4 id="3-7-5-foreach"><a href="#3-7-5-foreach" class="headerlink" title="3.7.5 foreach"></a>3.7.5 foreach</h4><blockquote><p>foreachæ ‡ç­¾çš„å±æ€§ï¼š</p><ul><li>collectionï¼šè®¾ç½®<strong>è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ</strong></li><li>itemï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„<strong>æ¯ä¸€ä¸ªæ•°æ®</strong></li><li>separatorï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„<strong>åˆ†éš”ç¬¦</strong></li><li>openï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>å¼€å§‹ç¬¦</strong></li><li>closeï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„<strong>ç»“æŸç¬¦</strong></li></ul></blockquote><pre><code class="java">//æ‰¹é‡æ·»åŠ æ–°å‘˜å·¥Integer insertEmployeeList(@Param(&quot;employeeList&quot;) List&lt;Employee&gt; employeeList);//æ‰¹é‡åˆ é™¤å‘˜å·¥Integer deleteEmployeeByIds(@Param(&quot;eids&quot;) int[] eids);</code></pre><pre><code class="xml">&lt;!--Integer insertEmployeeList(@Param(&quot;employeeList&quot;) List&lt;Employee&gt; employeeList)--&gt;&lt;insert id=&quot;insertEmployeeList&quot;&gt;    insert into t_employee values     &lt;foreach collection=&quot;employeeList&quot; item=&quot;employee&quot; separator=&quot;,&quot;&gt;        (null,#&#123;employee.employeeName&#125;,#&#123;employee.employeeAge&#125;,#&#123;employee.employeeGender&#125;,#&#123;employee.employeeEmail&#125;,null)    &lt;/foreach&gt;&lt;/insert&gt;&lt;!--Integer deleteEmployeeByIds(@Param(&quot;eids&quot;) int[] eids)--&gt;&lt;!--ç¬¬ä¸€ç§æ–¹å¼ï¼Œä½¿ç”¨in--&gt;&lt;delete id=&quot;deleteEmployeeByIds&quot;&gt;    delete from t_employee where eid in     &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;        #&#123;eid&#125;    &lt;/foreach&gt;&lt;/delete&gt;&lt;!--ç¬¬äºŒç§æ–¹å¼ï¼Œä½¿ç”¨or--&gt;&lt;delete id=&quot;deleteEmployeeByIds&quot;&gt;    delete from t_employee where     &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;or&quot;&gt;        eid = #&#123;eid&#125;    &lt;/foreach&gt;&lt;/delete&gt;</code></pre><pre><code class="java">@Testpublic void insertEmployeeList() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();    employeeList.add(new Employee(null,&quot;æå››&quot;,30,&quot;å¥³&quot;,&quot;1234@qq.com&quot;,null));    employeeList.add(new Employee(null,&quot;ç‹äº”&quot;,27,&quot;ç”·&quot;,&quot;1234@qq.com&quot;,null));    Integer list = mapper.insertEmployeeList(employeeList);    System.out.println(list);&#125;@Testpublic void deleteEmployeeByIds() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);    int[] eids = new int[]&#123;5,6,7,8&#125;;//å³åˆ é™¤eidä¸º5ã€6ã€7ã€8çš„å‘˜å·¥    Integer delete = mapper.deleteEmployeeByIds(eids);    System.out.println(delete);&#125;</code></pre><p>æ‰¹é‡æ·»åŠ æ–°å‘˜å·¥ç»“æœï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082308234.png' data-fancybox='default' data-caption='image-20220508230802136'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082308234.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082308234.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508230802136"></a><span class='image-caption'>image-20220508230802136</span></div></div><p>æ‰¹é‡åˆ é™¤æ–°å‘˜å·¥ç»“æœï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082311455.png' data-fancybox='default' data-caption='image-20220508231156340'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082311455.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082311455.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508231156340"></a><span class='image-caption'>image-20220508231156340</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082318510.png' data-fancybox='default' data-caption='image-20220508231816412'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082318510.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082318510.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508231816412"></a><span class='image-caption'>image-20220508231816412</span></div></div><p>ç”±äºè¿™é‡Œæˆ‘æµ‹è¯•æ˜¯æ·»åŠ äº†ä¸¤æ¡æ•°æ®åeidä¸ºåˆ†åˆ«5å’Œ6ï¼Œç„¶åå†æµ‹è¯•çš„ç¬¬ä¸€ç§åˆ é™¤æ–¹å¼ï¼Œæ­¤æ—¶å°±æŠŠ5å’Œ6åˆ é™¤äº†ï¼›ç„¶åæˆ‘åˆæ·»åŠ äº†ä¸¤æ¡æ•°æ®åˆ°è¡¨ä¸­ï¼Œeidåˆ†åˆ«ä¸º7å’Œ8ï¼Œå†æµ‹è¯•äº†ç¬¬äºŒç§åˆ é™¤çš„æ–¹æ³•ï¼Œæ­¤æ—¶åˆæŠŠ7å’Œ8åˆ é™¤äº†ã€‚æ‰€ä»¥è¿™ä¸¤ç§æ–¹å¼æˆ‘è¿™å„¿åˆ é™¤çš„ç»“æœå½±å“è¡Œæ•°éƒ½æ˜¯2ï¼Œæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯5ã€6ã€7ã€8éƒ½ä¼šè¢«åˆ é™¤ï¼ŒåŒæ—¶åˆ é™¤å½±å“è¡Œæ•°è¿”å›4</p><h4 id="3-7-6-sql"><a href="#3-7-6-sql" class="headerlink" title="3.7.6 sql"></a>3.7.6 sql</h4><blockquote><p>sqlç‰‡æ®µï¼Œå¯ä»¥è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡includeæ ‡ç­¾è¿›è¡Œå¼•å…¥</p></blockquote><p>é€šè¿‡<code>&lt;sql&gt;</code>æ ‡ç­¾è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œç„¶ååœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨<code>&lt;include&gt;</code>è¿›è¡Œå¼•å…¥</p><pre><code class="xml">&lt;!--å®šä¹‰sqlç‰‡æ®µ--&gt;&lt;sql id=&quot;employeeColumns&quot;&gt;    eid,employee_name,employee_age,employee_gender,employee_email&lt;/sql&gt;&lt;!--List&lt;Employee&gt; getEmployeeListByChoose(Employee employee)--&gt;&lt;resultMap id=&quot;employeeListResultMap&quot; type=&quot;Employee&quot;&gt;    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;/&gt;    &lt;result property=&quot;employeeName&quot; column=&quot;employee_name&quot;/&gt;    &lt;result property=&quot;employeeAge&quot; column=&quot;employee_age&quot;/&gt;    &lt;result property=&quot;employeeGender&quot; column=&quot;employee_gender&quot;/&gt;    &lt;result property=&quot;employeeEmail&quot; column=&quot;employee_email&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;getEmployeeListByChoose&quot; resultMap=&quot;employeeListResultMap&quot;&gt;    &lt;!--å¼•å…¥sqlç‰‡æ®µï¼Œrefidçš„å€¼ä¸ºè¢«å¼•å…¥çš„sqlç‰‡æ®µçš„id--&gt;    select &lt;include refid=&quot;employeeColumns&quot;/&gt; from t_employee    &lt;where&gt;        &lt;choose&gt;            &lt;when test=&quot;employeeName != null and employeeName != &#39;&#39;&quot;&gt;                employee_name = #&#123;employeeName&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeAge != null and employeeAge != &#39;&#39;&quot;&gt;                employee_age = #&#123;employeeAge&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeGender != null and employeeGender != &#39;&#39;&quot;&gt;                employee_gender = #&#123;employeeGender&#125;            &lt;/when&gt;            &lt;when test=&quot;employeeEmail != null and employeeEmail != &#39;&#39;&quot;&gt;                employee_email = #&#123;employeeEmail&#125;            &lt;/when&gt;            &lt;otherwise&gt;                did = 1            &lt;/otherwise&gt;        &lt;/choose&gt;    &lt;/where&gt;&lt;/select&gt;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082249926.png' data-fancybox='default' data-caption='image-20220508224937827'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082249926.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205082249926.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220508224937827"></a><span class='image-caption'>image-20220508224937827</span></div></div><h2 id="å››ã€Mybatisç¼“å­˜"><a href="#å››ã€Mybatisç¼“å­˜" class="headerlink" title="å››ã€Mybatisç¼“å­˜"></a>å››ã€Mybatisç¼“å­˜</h2><h3 id="4-1-Mybatisä¸€çº§ç¼“å­˜"><a href="#4-1-Mybatisä¸€çº§ç¼“å­˜" class="headerlink" title="4.1 Mybatisä¸€çº§ç¼“å­˜"></a>4.1 Mybatisä¸€çº§ç¼“å­˜</h3><h4 id="4-1-1-ä¸€çº§ç¼“å­˜è¯´æ˜"><a href="#4-1-1-ä¸€çº§ç¼“å­˜è¯´æ˜" class="headerlink" title="4.1.1 ä¸€çº§ç¼“å­˜è¯´æ˜"></a>4.1.1 ä¸€çº§ç¼“å­˜è¯´æ˜</h4><p>ä¸€çº§ç¼“å­˜æ˜¯<strong>SqlSessionçº§åˆ«</strong>çš„ï¼Œé€šè¿‡<strong>åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜</strong>ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œå°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®</p><p>æ¡ˆä¾‹æµ‹è¯•ï¼š</p><pre><code class="xml">&lt;!--Employee getEmployeeByID(@Param(&quot;eid&quot;) Integer eid)--&gt;&lt;select id=&quot;getEmployeeByID&quot; resultType=&quot;Employee&quot;&gt;    select * from t_employee where eid = #&#123;eid&#125;&lt;/select&gt;</code></pre><pre><code class="java">@Testpublic void getEmployeeByID() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    CacheMapper mapper = sqlSession.getMapper(CacheMapper.class);    Employee employee = mapper.getEmployeeByID(1);    System.out.println(employee);    Employee employee2 = mapper.getEmployeeByID(1);    System.out.println(employee2);    //æ­¤æ—¶æˆ‘ä»¬çš„employeeå’Œemployee2éƒ½æ˜¯æŸ¥è¯¢eidä¸º1çš„å‘˜å·¥ä¿¡æ¯&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092032806.png' data-fancybox='default' data-caption='image-20220509203238586'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092032806.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092032806.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509203238586"></a><span class='image-caption'>image-20220509203238586</span></div></div><p>é€šè¿‡æµ‹è¯•ç»“æœå‘ç°ï¼Œå½“æˆ‘ä»¬ä¸¤æ¬¡éƒ½æŸ¥è¯¢eidä¸º1çš„å‘˜å·¥æ—¶ï¼Œsqlè¯­å¥åªæ‰§è¡Œäº†ä¸€éï¼ˆå› ä¸ºæˆ‘æ²¡é…ç½®å¯¹è±¡å±æ€§å’Œå­—æ®µçš„æ˜ å°„ï¼Œæ‰€ä»¥æŸ¥è¯¢ç»“æœä¸­é‚£äº›å±æ€§éƒ½ä¸ºnullï¼‰</p><p>å¯èƒ½æœ‰å°ä¼™ä¼´ä¼šè¯´ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯é€šè¿‡åŒä¸€ä¸ª<code>mapper</code>è°ƒç”¨æ–¹æ³•è·å–çš„ï¼Œä¸èƒ½è¯´æ˜Mybatisä¸€çº§ç¼“å­˜æ˜¯<code>SqlSession</code>çº§åˆ«çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªæ–°çš„<code>mapper</code>è¿›è¡Œæµ‹è¯•</p><pre><code class="java">@Testpublic void getEmployeeByID() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    CacheMapper mapper = sqlSession.getMapper(CacheMapper.class);    CacheMapper mapper2 = sqlSession.getMapper(CacheMapper.class);    Employee employee = mapper.getEmployeeByID(1);    System.out.println(employee);    Employee employee2 = mapper2.getEmployeeByID(1);    System.out.println(employee2);&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092039725.png' data-fancybox='default' data-caption='image-20220509203933634'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092039725.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092039725.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509203933634"></a><span class='image-caption'>image-20220509203933634</span></div></div><p>ç»è¿‡æµ‹è¯•ï¼Œsqlè¯­å¥ä»ç„¶æ˜¯åªæ‰§è¡Œäº†ä¸€éï¼Œè¯´æ˜åŒä¸€ä¸ª<code>SqlSession</code>åˆ›å»ºçš„ä¸åŒ<code>mapper</code>æŸ¥è¯¢çš„æ•°æ®åŒæ ·æ˜¯ä»ç¼“å­˜ä¸­è¿›è¡Œè·å–çš„</p><p>é‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„<code>SqlSession</code>ï¼Œå†é€šè¿‡è¿™ä¸ªå¯¹è±¡åˆ›å»ºä¸€ä¸ª<code>mapper</code>è¿›è¡Œæµ‹è¯•</p><pre><code class="java">@Testpublic void getEmployeeByID() &#123;    SqlSession sqlSession = SqlSessionUtils.getSqlSession();    SqlSession sqlSession2 = SqlSessionUtils.getSqlSession();    CacheMapper mapper = sqlSession.getMapper(CacheMapper.class);    CacheMapper mapper2 = sqlSession2.getMapper(CacheMapper.class);    Employee employee = mapper.getEmployeeByID(1);    System.out.println(employee);    Employee employee2 = mapper2.getEmployeeByID(1);    System.out.println(employee2);&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092041884.png' data-fancybox='default' data-caption='image-20220509204132786'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092041884.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092041884.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509204132786"></a><span class='image-caption'>image-20220509204132786</span></div></div><p>ç»è¿‡æµ‹è¯•å‘ç°ï¼Œè¿™æ¬¡sqlè¯­å¥å°±æ‰§è¡Œäº†ä¸¤æ¬¡ï¼ŒåŸå› æ˜¯æˆ‘ä»¬è°ƒç”¨è¿™ä¸¤æ¬¡æŸ¥è¯¢æ–¹æ³•çš„<code>mapper</code>æ˜¯æ¥è‡ªä¸åŒ<code>SqlSession</code>å¯¹è±¡åˆ›å»ºçš„ï¼Œæ‰€ä»¥å°±ä¸å­˜åœ¨ç¼“å­˜ä¸€è¯´äº†</p><p><strong>æ€»ç»“ï¼šMybatisä¸€çº§ç¼“å­˜æ˜¯<code>SqlSession</code>çº§åˆ«çš„</strong></p><h4 id="4-1-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ"><a href="#4-1-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ" class="headerlink" title="4.1.2 ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ"></a>4.1.2 ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ</h4><ul><li><strong>ä¸åŒçš„SqlSession</strong>å¯¹åº”ä¸åŒçš„ä¸€çº§ç¼“å­˜ï¼ˆå³æˆ‘ä»¬ä¸Šé¢åšçš„æ¡ˆä¾‹ï¼‰</li><li>åŒä¸€ä¸ªSqlSessionä½†æ˜¯<strong>æŸ¥è¯¢æ¡ä»¶ä¸åŒ</strong></li><li>åŒä¸€ä¸ªSqlSession<strong>ä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</strong></li><li>åŒä¸€ä¸ªSqlSession<strong>ä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜</strong>ï¼ˆæ‰§è¡Œ<code>sqlsession.clearCache()</code>æ–¹æ³•ï¼‰</li></ul><h3 id="4-2-MybatisäºŒçº§ç¼“å­˜"><a href="#4-2-MybatisäºŒçº§ç¼“å­˜" class="headerlink" title="4.2 MybatisäºŒçº§ç¼“å­˜"></a>4.2 MybatisäºŒçº§ç¼“å­˜</h3><h4 id="4-2-1-äºŒçº§ç¼“å­˜è¯´æ˜"><a href="#4-2-1-äºŒçº§ç¼“å­˜è¯´æ˜" class="headerlink" title="4.2.1 äºŒçº§ç¼“å­˜è¯´æ˜"></a>4.2.1 äºŒçº§ç¼“å­˜è¯´æ˜</h4><p>äºŒçº§ç¼“å­˜æ˜¯<strong>SqlSessionFactoryçº§åˆ«</strong>ï¼Œé€šè¿‡<strong>åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºçš„SqlSessionæŸ¥è¯¢çš„ç»“æœä¼šè¢«ç¼“å­˜</strong>ï¼›æ­¤åè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–</p><p>ç”±äº<code>SqlSession</code>æ˜¯ç”±<code>SqlSessionFactory</code>åˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥<strong>äºŒçº§ç¼“å­˜çš„èŒƒå›´ä¹Ÿå°±æ¯”ä¸€çº§ç¼“å­˜å¤§</strong>ï¼Œå³åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºå‡ºæ¥çš„ä¸åŒSqlSessionä¸­çš„æŸ¥è¯¢éƒ½å¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ä¸­çš„æ•°æ®ï¼›è€Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®åªèƒ½æ˜¯åŒä¸€ä¸ªSqlSessionä¸­çš„æŸ¥è¯¢æ‰èƒ½å…±ç”¨</p><p>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶ï¼š</p><ul><li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§<code>cacheEnabled=&quot;true&quot;</code>ï¼Œé»˜è®¤ä¸ºtrueï¼Œä¸éœ€è¦è®¾ç½®</li><li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­<strong>è®¾ç½®æ ‡ç­¾<code>&lt;cache/&gt;</code></strong></li><li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨<strong>SqlSessionå…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ</strong></li><li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„<strong>å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–</strong>çš„æ¥å£</li></ul><p>æ¡ˆä¾‹æµ‹è¯•ï¼š</p><pre><code class="xml">&lt;!--é¦–å…ˆæŒ‰ç…§å¼€å¯æ¡ä»¶åœ¨æ˜ å°„æ–‡ä»¶ä¸­æ·»åŠ &lt;cache/&gt;æ ‡ç­¾--&gt;&lt;cache/&gt;</code></pre><pre><code class="java">//æŸ¥è¯¢æ•°æ®å¯¹åº”çš„å®ä½“ç±»å®ç°åºåˆ—åŒ–çš„æ¥å£public class Employee implements Serializable &#123;&#125;</code></pre><pre><code class="java">@Testpublic void testTwoCache()&#123;    try &#123;        InputStream resource = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resource);        SqlSession sqlSession1 = sqlSessionFactory.openSession(true);        SqlSession sqlSession2 = sqlSessionFactory.openSession(true);        CacheMapper mapper1 = sqlSession1.getMapper(CacheMapper.class);        CacheMapper mapper2 = sqlSession2.getMapper(CacheMapper.class);        Employee employee1 = mapper1.getEmployeeByID(1);        Employee employee2 = mapper2.getEmployeeByID(1);        System.out.println(employee1);        System.out.println(employee2);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092111934.png' data-fancybox='default' data-caption='image-20220509211114823'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092111934.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092111934.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509211114823"></a><span class='image-caption'>image-20220509211114823</span></div></div><p>ä»¥ä¸Šæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰å°†<code>SqlSession</code>å…³é—­ï¼Œé€šè¿‡æµ‹è¯•ç»“æœå‘ç°ï¼Œsqlè¯­å¥æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œè¡¨æ˜ä¸¤æ¬¡æŸ¥è¯¢éƒ½æ˜¯ä»æ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„</p><p>è¿™æ—¶ï¼Œå¯èƒ½æœ‰äººä¼šè¯´ï¼Œæˆ‘ä»¬ä¸æ˜¯è®¾ç½®äº†è‡ªåŠ¨æäº¤å—ï¼Œæ»¡è¶³å¼€å¯äºŒçº§ç¼“å­˜çš„æ¡ä»¶ä¸ºä»€ä¹ˆè¿˜æ˜¯æ²¡æœ‰ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Ÿæˆ‘çœ‹å¼¹å¹•æœ‰äººè¯´æ˜¯å› ä¸ºSqlSessionçš„è‡ªåŠ¨æäº¤æ˜¯åœ¨æ•´ä¸ªç¨‹åºè¿è¡Œå®Œä¹‹åï¼Œæ‰€ä»¥å°±æ²¡æœ‰å®Œå…¨æ»¡è¶³å¼€å¯äºŒçº§ç¼“å­˜çš„æ¡ä»¶ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡æŸ¥è¯¢åˆ°ç»“æœåå¹¶æ²¡æœ‰å°†ç»“æœæ”¾åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢å°±ä¹Ÿä¼šä»æ•°æ®åº“ä¸­å»æŸ¥è¯¢</p><p>äºæ˜¯ï¼Œæˆ‘å°†<code>SqlSession</code>è‡ªåŠ¨æäº¤å…³é—­äº†ï¼Œè¿›è¡Œäº†æ‰‹åŠ¨æäº¤ï¼ˆä¸å…³é—­è‡ªåŠ¨æäº¤ï¼Œæ‰‹åŠ¨å…³é—­<code>SqlSession</code>ä¹Ÿå¯ä»¥ï¼‰</p><pre><code class="java">@Testpublic void testTwoCache()&#123;    try &#123;        InputStream resource = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resource);        SqlSession sqlSession1 = sqlSessionFactory.openSession();        SqlSession sqlSession2 = sqlSessionFactory.openSession();        CacheMapper mapper1 = sqlSession1.getMapper(CacheMapper.class);        CacheMapper mapper2 = sqlSession2.getMapper(CacheMapper.class);        Employee employee1 = mapper1.getEmployeeByID(1);        sqlSession1.commit();        Employee employee2 = mapper2.getEmployeeByID(1);        sqlSession2.commit();        System.out.println(employee1);        System.out.println(employee2);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092119318.png' data-fancybox='default' data-caption='image-20220509211943215'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092119318.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092119318.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509211943215"></a><span class='image-caption'>image-20220509211943215</span></div></div><p>é€šè¿‡æµ‹è¯•ç»“æœå‘ç°ï¼Œsqlè¯­å¥åªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œè¯´æ˜ä»æ•°æ®åº“æŸ¥è¯¢åªè¿›è¡Œäº†ä¸€æ¬¡ï¼ŒäºŒçº§ç¼“å­˜å¼€å¯æˆåŠŸ</p><p>è€Œä¸”ï¼Œé€šè¿‡å›¾ä¸­å€’æ•°ç¬¬ä¸‰è¡Œå¯ä»¥å‘ç°ï¼Œç¬¬äºŒæŸ¥è¯¢çš„ç¼“å­˜å‘½ä¸­ç‡ä¸º0.5ï¼Œä¹Ÿè¯´æ˜äº†ç¬¬äºŒæ¬¡æŸ¥è¯¢æ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è·å–çš„æ•°æ®</p><h4 id="4-2-2-äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µ"><a href="#4-2-2-äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µ" class="headerlink" title="4.2.2 äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µ"></a>4.2.2 äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µ</h4><p>ä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´<strong>æ‰§è¡Œäº†ä»»æ„çš„å¢åˆ æ”¹</strong>ï¼Œä¼šä½¿<strong>ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</strong></p><h4 id="4-2-3-äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®"><a href="#4-2-3-äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®" class="headerlink" title="4.2.3 äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®"></a>4.2.3 äºŒçº§ç¼“å­˜ç›¸å…³é…ç½®</h4><p>åœ¨mapperé…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„cacheæ ‡ç­¾å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§ï¼š</p><ul><li><code>eviction</code>å±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥ï¼ˆé»˜è®¤çš„æ˜¯ LRUï¼‰<ul><li><strong>LRUï¼ˆLeast Recently Usedï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„</strong>ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚</li><li><strong>FIFOï¼ˆFirst in First outï¼‰ â€“ å…ˆè¿›å…ˆå‡º</strong>ï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬</li><li><strong>SOFT â€“ è½¯å¼•ç”¨</strong>ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li><li><strong>WEAK â€“ å¼±å¼•ç”¨</strong>ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡</li></ul></li><li><code>flushInterval</code>å±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’ã€‚é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥ï¼ˆå¢åˆ æ”¹è¯­å¥ï¼‰æ—¶åˆ·æ–°</li><li><code>size</code>å±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°ã€‚ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li><li><code>readOnly</code>å±æ€§ï¼šåªè¯»ï¼Œtrue/falseï¼ˆè¿™å„¿å¯¹äºä»ç¼“å­˜ä¸­æŸ¥è¯¢åˆ°çš„å¯¹è±¡æ˜¯å¦èƒ½è¢«ä¿®æ”¹å…¶å®æ˜¯å»ºè®®ï¼Œåªæ˜¯å‡ºäºå¯¹æ•°æ®å®‰å…¨æ€§å’Œä¸€è‡´æ€§çš„è€ƒè™‘ï¼‰<ul><li>trueï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®å¯¹è±¡æœ¬èº«ï¼Œå› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ï¼ˆè¿™ç§æƒ…å†µæŸ¥è¯¢å‡ºæ¥çš„å¯¹è±¡ä¸èƒ½ä¿®æ”¹ï¼Œå¦‚æœä¿®æ”¹äº†é‚£ä¹ˆç¼“å­˜ä¸­çš„å¯¹è±¡ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼‰ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿</li><li>falseï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ï¼ˆè¿™ç§æƒ…å†µæŸ¥è¯¢å‡ºæ¥çš„å¯¹è±¡å¯ä¿®æ”¹ï¼Œè€Œæ­¤æ—¶ä¿®æ”¹çš„æ˜¯æ‹·è´å‡ºæ¥çš„å¯¹è±¡ï¼Œç¼“å­˜ä¸­çš„å¯¹è±¡ä¸ä¼šå˜ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯false</li></ul></li></ul><h3 id="4-3-Mybatisç¼“å­˜æŸ¥è¯¢é¡ºåº"><a href="#4-3-Mybatisç¼“å­˜æŸ¥è¯¢é¡ºåº" class="headerlink" title="4.3 Mybatisç¼“å­˜æŸ¥è¯¢é¡ºåº"></a>4.3 Mybatisç¼“å­˜æŸ¥è¯¢é¡ºåº</h3><ol><li><strong>å…ˆæŸ¥è¯¢äºŒçº§ç¼“å­˜</strong>ï¼Œå› ä¸ºäºŒçº§ç¼“å­˜ä¸­å¯èƒ½ä¼šæœ‰å…¶ä»–ç¨‹åºå·²ç»æŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨ã€‚</li><li>å¦‚æœäºŒçº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œ<strong>å†æŸ¥è¯¢ä¸€çº§ç¼“å­˜</strong></li><li>å¦‚æœä¸€çº§ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™<strong>æŸ¥è¯¢æ•°æ®åº“</strong></li><li>SqlSessionå…³é—­ä¹‹åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šå†™å…¥äºŒçº§ç¼“å­˜</li></ol><h3 id="4-4-æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache"><a href="#4-4-æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache" class="headerlink" title="4.4 æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache"></a>4.4 æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache</h3><p>äº†è§£å³å¯ï¼Œæœ€ç»ˆå®ç°çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„</p><h4 id="4-4-1-æ·»åŠ ä¾èµ–"><a href="#4-4-1-æ·»åŠ ä¾èµ–" class="headerlink" title="4.4.1 æ·»åŠ ä¾èµ–"></a>4.4.1 æ·»åŠ ä¾èµ–</h4><pre><code class="xml">&lt;!-- Mybatis EHCacheæ•´åˆåŒ… --&gt;&lt;dependency&gt;    &lt;groupId&gt;org.mybatis.caches&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;    &lt;version&gt;1.2.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- slf4jæ—¥å¿—é—¨é¢çš„ä¸€ä¸ªå…·ä½“å®ç° --&gt;&lt;dependency&gt;    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;    &lt;version&gt;1.2.11&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>å¯¼å…¥ä¾èµ–åçš„å„ä¸ªä¾èµ–jaråŒ…</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092208397.png' data-fancybox='default' data-caption='image-20220509220850298'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092208397.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092208397.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509220850298"></a><span class='image-caption'>image-20220509220850298</span></div></div><h4 id="4-4-2-å„jaråŒ…åŠŸèƒ½"><a href="#4-4-2-å„jaråŒ…åŠŸèƒ½" class="headerlink" title="4.4.2 å„jaråŒ…åŠŸèƒ½"></a>4.4.2 å„jaråŒ…åŠŸèƒ½</h4><table><thead><tr><th>jaråŒ…åç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>mybatis-ehcache</td><td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td></tr><tr><td>ehcache</td><td>EHCacheæ ¸å¿ƒåŒ…</td></tr><tr><td>slf4j-api</td><td>SLF4Jæ—¥å¿—é—¨é¢åŒ…-æ¥å£</td></tr><tr><td>logback-classic</td><td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td></tr></tbody></table><h4 id="4-4-3-åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache-xml"><a href="#4-4-3-åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache-xml" class="headerlink" title="4.4.3 åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml"></a>4.4.3 åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</h4><p>é…ç½®æ–‡ä»¶åå¿…é¡»ä¸º<code>ehcache.xml</code></p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;        xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt;    &lt;!-- ehcacheç¼“å­˜çš„æ•°æ®åœ¨ç£ç›˜ä¸­çš„ä¿å­˜è·¯å¾„ --&gt;    &lt;diskStore path=&quot;D:\ehcache&quot;/&gt;        &lt;defaultCache        maxElementsInMemory=&quot;1000&quot;          maxElementsOnDisk=&quot;10000000&quot;        eternal=&quot;false&quot;        overflowToDisk=&quot;true&quot;        timeToIdleSeconds=&quot;120&quot;        timeToLiveSeconds=&quot;120&quot;        diskExpiryThreadIntervalSeconds=&quot;120&quot;        memoryStoreEvictionPolicy=&quot;LRU&quot;&gt;    &lt;/defaultCache&gt;&lt;/ehcache&gt;</code></pre><h4 id="4-4-4-è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"><a href="#4-4-4-è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹" class="headerlink" title="4.4.4 è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"></a>4.4.4 è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</h4><p>åœ¨<code>mapper</code>æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®<code>&lt;cache&gt;</code>çš„typeå±æ€§ï¼Œè¡¨ç¤ºäºŒçº§ç¼“å­˜çš„ç±»å‹ï¼Œé»˜è®¤ä¸ºmybatisæœ¬èº«çš„äºŒçº§ç¼“å­˜</p><pre><code class="xml">&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;/&gt;</code></pre><h4 id="4-4-5-åŠ å…¥logbackæ—¥å¿—"><a href="#4-4-5-åŠ å…¥logbackæ—¥å¿—" class="headerlink" title="4.4.5 åŠ å…¥logbackæ—¥å¿—"></a>4.4.5 åŠ å…¥logbackæ—¥å¿—</h4><p>å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿—</p><p>åˆ›å»ºlogbackçš„é…ç½®æ–‡ä»¶logback.xml</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration debug=&quot;true&quot;&gt;    &lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;        &lt;encoder&gt;            &lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;            &lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;            &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger] [%msg]%n&lt;/pattern&gt;        &lt;/encoder&gt;    &lt;/appender&gt;        &lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;    &lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;    &lt;root level=&quot;DEBUG&quot;&gt;        &lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡&quot;STDOUT&quot;å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;    &lt;/root&gt;        &lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;    &lt;logger name=&quot;com.atguigu.crowd.mapper&quot; level=&quot;DEBUG&quot;/&gt;&lt;/configuration&gt;</code></pre><h4 id="4-4-6-EHCacheé…ç½®æ–‡ä»¶è¯´æ˜"><a href="#4-4-6-EHCacheé…ç½®æ–‡ä»¶è¯´æ˜" class="headerlink" title="4.4.6 EHCacheé…ç½®æ–‡ä»¶è¯´æ˜"></a>4.4.6 EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</h4><table><thead><tr><th>å±æ€§å</th><th>æ˜¯å¦å¿…é¡»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>maxElementsInMemory</td><td>æ˜¯</td><td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td></tr><tr><td>maxElementsOnDisk</td><td>æ˜¯</td><td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td></tr><tr><td>eternal</td><td>æ˜¯</td><td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚ å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td></tr><tr><td>overflowToDisk</td><td>æ˜¯</td><td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td></tr><tr><td>timeToIdleSeconds</td><td>å¦</td><td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>timeToLiveSeconds</td><td>å¦</td><td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>diskSpoolBufferSizeMB</td><td>å¦</td><td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td></tr><tr><td>diskPersistent</td><td>å¦</td><td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯falseã€‚</td></tr><tr><td>diskExpiryThreadIntervalSeconds</td><td>å¦</td><td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td></tr><tr><td>memoryStoreEvictionPolicy</td><td>å¦</td><td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚ é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰</td></tr></tbody></table><h2 id="äº”ã€Mybatisé€†å‘å·¥ç¨‹"><a href="#äº”ã€Mybatisé€†å‘å·¥ç¨‹" class="headerlink" title="äº”ã€Mybatisé€†å‘å·¥ç¨‹"></a>äº”ã€Mybatisé€†å‘å·¥ç¨‹</h2><p>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£<strong>æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨</strong>ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„</p><p>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£<strong>æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æº</strong>ï¼š</p><ul><li>Javaå®ä½“ç±»</li><li>Mapperæ¥å£</li><li>Mapperæ˜ å°„æ–‡ä»¶</li></ul><h3 id="5-1-åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"><a href="#5-1-åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤" class="headerlink" title="5.1 åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"></a>5.1 åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</h3><blockquote><p>é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªæ–°æ¨¡å—</p></blockquote><h4 id="5-1-1-æ·»åŠ ä¾èµ–å’Œæ’ä»¶"><a href="#5-1-1-æ·»åŠ ä¾èµ–å’Œæ’ä»¶" class="headerlink" title="5.1.1 æ·»åŠ ä¾èµ–å’Œæ’ä»¶"></a>5.1.1 æ·»åŠ ä¾èµ–å’Œæ’ä»¶</h4><pre><code class="xml">&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;        &lt;version&gt;3.5.9&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;log4j&lt;/groupId&gt;        &lt;artifactId&gt;log4j&lt;/artifactId&gt;        &lt;version&gt;1.2.17&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;junit&lt;/groupId&gt;        &lt;artifactId&gt;junit&lt;/artifactId&gt;        &lt;version&gt;4.13.2&lt;/version&gt;        &lt;scope&gt;test&lt;/scope&gt;    &lt;/dependency&gt;    &lt;!--è¿™ä¸ªmysqlä¾èµ–ä¹Ÿå¾—åŠ ä¸Šï¼Œä¸ç„¶ç­‰ä¼šå„¿QBCæŸ¥è¯¢ä¼šæŠ¥é”™ã€‚è™½ç„¶åœ¨buildä¸­å¼•å…¥äº†æ’ä»¶æ‰€éœ€è¦çš„mysqlé©±åŠ¨ï¼Œä½†æ˜¯é‚£ä¸ªåªæ˜¯ç”¨äºé€†å‘ç”Ÿæˆæ—¶è¿æ¥æ•°æ®åº“ä½¿ç”¨çš„ï¼Œè¿™ä¸ªæ˜¯åé¢æˆ‘ä»¬æµ‹è¯•éœ€è¦ç”¨çš„--&gt;    &lt;dependency&gt;        &lt;groupId&gt;mysql&lt;/groupId&gt;        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;        &lt;version&gt;8.0.28&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;&lt;build&gt;    &lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;    &lt;plugins&gt;        &lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;        &lt;plugin&gt;            &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;            &lt;version&gt;1.4.1&lt;/version&gt;            &lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;            &lt;dependencies&gt;                &lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;                &lt;dependency&gt;                    &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;                    &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;                    &lt;version&gt;1.4.1&lt;/version&gt;                &lt;/dependency&gt;                &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;                &lt;dependency&gt;                    &lt;groupId&gt;com.mchange&lt;/groupId&gt;                    &lt;artifactId&gt;c3p0&lt;/artifactId&gt;                    &lt;version&gt;0.9.5.5&lt;/version&gt;                &lt;/dependency&gt;                &lt;!-- MySQLé©±åŠ¨ --&gt;                &lt;dependency&gt;                    &lt;groupId&gt;mysql&lt;/groupId&gt;                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                    &lt;version&gt;8.0.28&lt;/version&gt;                &lt;/dependency&gt;            &lt;/dependencies&gt;        &lt;/plugin&gt;    &lt;/plugins&gt;&lt;/build&gt;</code></pre><h4 id="5-1-2-åˆ›å»ºmybatis-config-xmlé…ç½®æ–‡ä»¶"><a href="#5-1-2-åˆ›å»ºmybatis-config-xmlé…ç½®æ–‡ä»¶" class="headerlink" title="5.1.2 åˆ›å»ºmybatis-config.xmlé…ç½®æ–‡ä»¶"></a>5.1.2 åˆ›å»ºmybatis-config.xmlé…ç½®æ–‡ä»¶</h4><p>åˆ›å»ºmybatiså…¨å±€é…ç½®æ–‡ä»¶<code>mybatis-config.xml</code>å’Œæ•°æ®åº“é…ç½®æ–‡ä»¶<code>jdbc.properties</code></p><blockquote><p>é…ç½®å†…å®¹æ ¹æ®è‡ªå·±éœ€æ±‚è¿›è¡Œå¢åˆ æ”¹</p></blockquote><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;    &lt;!--å¼•å…¥propertiesæ–‡ä»¶--&gt;    &lt;properties resource=&quot;jdbc.properties&quot;/&gt;    &lt;settings&gt;        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;    &lt;/settings&gt;    &lt;!--è®¾ç½®ç±»å‹åˆ«å--&gt;    &lt;typeAliases&gt;        &lt;package name=&quot;com.mybatis.entity&quot;/&gt;    &lt;/typeAliases&gt;    &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;    &lt;environments default=&quot;development&quot;&gt;        &lt;environment id=&quot;development&quot;&gt;            &lt;transactionManager type=&quot;JDBC&quot;/&gt;            &lt;dataSource type=&quot;POOLED&quot;&gt;                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;            &lt;/dataSource&gt;        &lt;/environment&gt;    &lt;/environments&gt;    &lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;    &lt;mappers&gt;        &lt;package name=&quot;com.mybatis.mapper&quot;/&gt;    &lt;/mappers&gt;&lt;/configuration&gt;</code></pre><h4 id="5-1-3-åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"><a href="#5-1-3-åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶" class="headerlink" title="5.1.3 åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"></a>5.1.3 åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</h4><blockquote><p>æ–‡ä»¶åå¿…é¡»æ˜¯<code>generatorConfig.xml</code></p></blockquote><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE generatorConfiguration        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt;    &lt;!--        targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬            MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆç®€æ´ç‰ˆï¼‰            MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå®Œå–„ç‰ˆï¼‰        æŒ‡å®šç”Ÿæˆçš„ç‰ˆæœ¬ä¸åŒç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶å†…å®¹ä¹Ÿä¸åŒ    --&gt;    &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3Simple&quot;&gt;        &lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;        &lt;jdbcConnection driverClass=&quot;com.mysql.cj.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot;                        userId=&quot;root&quot; password=&quot;root&quot;/&gt;        &lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;        &lt;!--            targetPackageï¼šç”ŸæˆåŒ…            targetProjectï¼šç”Ÿæˆä½ç½®            enableSubPackagesï¼šå¼€å¯ç”Ÿæˆå­åŒ…åŠŸèƒ½            trimStringsï¼šå¼€å¯å»é™¤å­—æ®µåä¸­çš„ç©ºæ ¼        --&gt;        &lt;javaModelGenerator targetPackage=&quot;com.mybatis.entity&quot; targetProject=&quot;.\src\main\java&quot;&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;        &lt;/javaModelGenerator&gt;        &lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;        &lt;sqlMapGenerator targetPackage=&quot;com.mybatis.mapper&quot; targetProject=&quot;.\src\main\resources&quot;&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;        &lt;/sqlMapGenerator&gt;        &lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;        &lt;!--type:è¯¥å±æ€§ç”¨äºé€‰æ‹©ä¸€ä¸ªé¢„å®šä¹‰çš„å®¢æˆ·ç«¯ä»£ç ï¼ˆå¯ä»¥ç†è§£ä¸ºMapperæ¥å£ï¼‰ç”Ÿæˆå™¨ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰å®ç°            MyBatis3:                ANNOTATEDMAPPER:åŸºäºæ³¨è§£çš„Mapperæ¥å£ï¼Œä¸ä¼šæœ‰å¯¹åº”çš„XMLæ˜ å°„æ–‡ä»¶                MIXEDMAPPER:XMLå’Œæ³¨è§£çš„æ··åˆå½¢å¼ï¼Œ(ä¸Šé¢è¿™ç§æƒ…å†µä¸­çš„)SqlProvideræ³¨è§£æ–¹æ³•ä¼šè¢«XMLæ›¿ä»£                XMLMAPPER:æ‰€æœ‰çš„æ–¹æ³•éƒ½åœ¨XMLä¸­ï¼Œæ¥å£è°ƒç”¨ä¾èµ–XMLæ–‡ä»¶ã€‚            MyBatis3Simple:                ANNOTATEDMAPPER:åŸºäºæ³¨è§£çš„Mapperæ¥å£ï¼Œä¸ä¼šæœ‰å¯¹åº”çš„XMLæ˜ å°„æ–‡ä»¶                XMLMAPPER:æ‰€æœ‰çš„æ–¹æ³•éƒ½åœ¨XMLä¸­ï¼Œæ¥å£è°ƒç”¨ä¾èµ–XMLæ–‡ä»¶ã€‚        --&gt;        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.mybatis.mapper&quot; targetProject=&quot;.\src\main\java&quot;&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;        &lt;/javaClientGenerator&gt;        &lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;        &lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;        &lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;        &lt;table tableName=&quot;t_employee&quot; domainObjectName=&quot;Employee&quot;/&gt;        &lt;table tableName=&quot;t_department&quot; domainObjectName=&quot;Department&quot;/&gt;    &lt;/context&gt;&lt;/generatorConfiguration&gt;</code></pre><h4 id="5-1-4-æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡"><a href="#5-1-4-æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡" class="headerlink" title="5.1.4 æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡"></a>5.1.4 æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</h4><p>æ‰§è¡Œmybatis-generatoræ’ä»¶ä¹‹å‰ï¼Œé™¤äº†é…ç½®æ–‡ä»¶ä»¥å¤–æ²¡æœ‰å…¶ä»–æ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092310838.png' data-fancybox='default' data-caption='image-20220509231034731'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092310838.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092310838.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509231034731"></a><span class='image-caption'>image-20220509231034731</span></div></div><p>åŒå‡»æ‰§è¡Œæ’ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092311906.png' data-fancybox='default' data-caption='image-20220509231125787'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092311906.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092311906.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509231125787"></a><span class='image-caption'>image-20220509231125787</span></div></div><p>æ‰§è¡Œmybatis-generatoræ’ä»¶ä¹‹åï¼Œjavaå®ä½“ç±»ã€mapperæ¥å£ã€mapperæ˜ å°„æ–‡ä»¶éƒ½è¢«ç”Ÿæˆå‡ºæ¥äº†ã€‚è¿™é‡Œå°±ä¸å±•ç¤ºæ–‡ä»¶ä¸­çš„å†…å®¹äº†</p><p>ç”Ÿæˆçš„ç®€æ´ç‰ˆï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092312111.png' data-fancybox='default' data-caption='image-20220509231220994'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092312111.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092312111.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509231220994"></a><span class='image-caption'>image-20220509231220994</span></div></div><p>ç”Ÿæˆçš„å®Œå–„ç‰ˆï¼šåœ¨entityåŒ…ä¸­å¤šäº†ä¸¤ä¸ªExampleç±»ï¼Œè¿™ä¸ªæ˜¯ç”¨äºæ¡ä»¶æŸ¥è¯¢çš„ç±»ï¼Œé‡Œé¢åŒ…å«äº†æ¡ä»¶æŸ¥è¯¢çš„å„ç§æ–¹æ³•ï¼Œå¹¶ä¸”mapperæ¥å£æ–‡ä»¶å’Œmapperæ˜ å°„æ–‡ä»¶ä¸­çš„å†…å®¹ä¹Ÿæ›´ä¸°å¯Œå®Œå–„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092333885.png' data-fancybox='default' data-caption='image-20220509233307763'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092333885.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092333885.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509233307763"></a><span class='image-caption'>image-20220509233307763</span></div></div><h3 id="5-2-QBCæŸ¥è¯¢"><a href="#5-2-QBCæŸ¥è¯¢" class="headerlink" title="5.2 QBCæŸ¥è¯¢"></a>5.2 QBCæŸ¥è¯¢</h3><p>QBCï¼ˆQuery By Conditionï¼‰ï¼šæ ¹æ®æ¡ä»¶æŸ¥è¯¢</p><pre><code class="java">//è¿™é‡Œåªæµ‹è¯•éƒ¨åˆ†åŠŸèƒ½ï¼Œå…¶ä»–å°±å¯ä»¥è‡ªå·±ç»§ç»­ç ”ç©¶@Testpublic void testQBC()&#123;    try &#123;        InputStream resource = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resource);        SqlSession sqlSession = sqlSessionFactory.openSession(true);        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);        //æŸ¥è¯¢æ‰€æœ‰æ•°æ®        List&lt;Employee&gt; employees = employeeMapper.selectByExample(null);        employees.forEach(employee -&gt; System.out.println(employee));        //æ ¹æ®æ¡ä»¶æŸ¥è¯¢        EmployeeExample employeeExample = new EmployeeExample();        //ä¸‹é¢è¿™äº›æ–¹æ³•å°±æ˜¯Exampleç±»ä¸­çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½æ˜¯é€†å‘å·¥ç¨‹æ ¹æ®é…ç½®è‡ªåŠ¨ç”Ÿæˆçš„        //andEmployeeNameEqualTo:å‘˜å·¥åç­‰äº?        //andEmployeeAgeGreaterThanOrEqualTo:å‘˜å·¥å¹´é¾„å¤§äºç­‰äº?        //or():æˆ–è€…        //andDidIsNotNull:å‘˜å·¥æ‰€å±éƒ¨é—¨idä¸ä¸ºnull        employeeExample.createCriteria().andEmployeeNameEqualTo(&quot;zhangsan&quot;).andEmployeeAgeGreaterThanOrEqualTo(20);        employeeExample.or().andDidIsNotNull();        List&lt;Employee&gt; employees1 = employeeMapper.selectByExample(employeeExample);        employees1.forEach(employee1 -&gt; System.out.println(employee1));    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092351075.png' data-fancybox='default' data-caption='image-20220509235119925'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092351075.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205092351075.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220509235119925"></a><span class='image-caption'>image-20220509235119925</span></div></div><p>é€šè¿‡æµ‹è¯•å‘ç°ï¼Œsqlè¯­å¥ä¸­ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ‹¼æ¥å¥½æ¡ä»¶å¹¶æ ¼å¼åŒ–è¿›è¡ŒæŸ¥è¯¢</p><p><strong>æ„Ÿå—ï¼šè¿™ä¸ªåŠŸèƒ½è™½ç„¶éå¸¸å¿«æ·æ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºåˆå­¦è€…è¿˜æ˜¯åº”è¯¥è‡ªå·±æ­å»ºè¿™äº›ç¯å¢ƒï¼Œç­‰åˆ°ä»¥åè¶³å¤Ÿç†Ÿæ‚‰äº†ï¼Œåªéœ€è¦æ³¨é‡ä¸šåŠ¡æ—¶å†ç”¨æ¯”è¾ƒå¥½</strong></p><h2 id="å…­ã€Mybatisåˆ†é¡µæ’ä»¶"><a href="#å…­ã€Mybatisåˆ†é¡µæ’ä»¶" class="headerlink" title="å…­ã€Mybatisåˆ†é¡µæ’ä»¶"></a>å…­ã€Mybatisåˆ†é¡µæ’ä»¶</h2><h3 id="6-1-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨æ­¥éª¤"><a href="#6-1-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨æ­¥éª¤" class="headerlink" title="6.1 åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨æ­¥éª¤"></a>6.1 åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨æ­¥éª¤</h3><h4 id="6-1-1-æ·»åŠ ä¾èµ–"><a href="#6-1-1-æ·»åŠ ä¾èµ–" class="headerlink" title="6.1.1 æ·»åŠ ä¾èµ–"></a>6.1.1 æ·»åŠ ä¾èµ–</h4><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;    &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;    &lt;version&gt;5.3.0&lt;/version&gt;&lt;/dependency&gt;</code></pre><h4 id="6-1-2-é…ç½®åˆ†é¡µæ’ä»¶"><a href="#6-1-2-é…ç½®åˆ†é¡µæ’ä»¶" class="headerlink" title="6.1.2 é…ç½®åˆ†é¡µæ’ä»¶"></a>6.1.2 é…ç½®åˆ†é¡µæ’ä»¶</h4><p>åœ¨<strong>MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­</strong>é…ç½®æ’ä»¶</p><pre><code class="xml">&lt;!--æ³¨æ„ä½ç½®--&gt;&lt;plugins&gt;    &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;/&gt;&lt;/plugins&gt;</code></pre><h3 id="6-2-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"><a href="#6-2-åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="6.2 åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"></a>6.2 åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</h3><blockquote><p>MySQLä¸­æŒ‡å®šæŸ¥è¯¢ä½ç½®åŠæ¡æ•°çš„è¯­æ³•ï¼š<code>limit index, pagesize</code>ï¼Œä¹Ÿé€šå¸¸ç”¨äºåˆ†é¡µ</p><p>indexï¼šå½“å‰é¡µçš„èµ·å§‹ç´¢å¼•</p><p>pagesizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p><p>pageNumï¼šå½“å‰é¡µçš„é¡µç </p><p>index=( pageNum-1 )*pagesize</p></blockquote><p>åˆ†é¡µæ’ä»¶Pagehelperçš„ä½¿ç”¨ï¼š</p><ol><li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½<ul><li><code>pageNum</code>ï¼šå½“å‰é¡µçš„é¡µç </li><li><code>pageSize</code>ï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li></ul></li><li>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, int navigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®<ul><li><code>list</code>ï¼šåˆ†é¡µä¹‹åçš„æ•°æ®</li><li><code>navigatePages</code>ï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°ï¼ˆæ¯”å¦‚ï¼Œæˆ‘ä»¬å½“å‰åœ¨ç¬¬5é¡µï¼Œè€ŒæŒ‡å®šçš„navigatePagesä¸º5ï¼Œé‚£ä¹ˆæ­¤æ—¶å¯ä»¥æ˜¾ç¤ºå‡ºæ¥çš„é¡µç å°±æ˜¯3ã€4ã€5ã€6ã€7è¿™5ä¸ªé¡µç ï¼Œå…¶ä½™é¡µç éƒ½ç”¨<code>...</code>ä»£æ›¿ï¼‰</li><li>ç±»ä¼¼è¿™ç§åŠŸèƒ½ï¼š<div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100900327.png' data-fancybox='default' data-caption='image-20220510090040104'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100900327.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100900327.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220510090040104"></a><span class='image-caption'>image-20220510090040104</span></div></div></li></ul></li></ol><p>æµ‹è¯•ï¼š</p><pre><code class="java">@Testpublic void testPageHelper()&#123;    try &#123;        InputStream resource = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resource);        SqlSession sqlSession = sqlSessionFactory.openSession(true);        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);        PageHelper.startPage(1, 3);//å¼€å¯åˆ†é¡µ        //æŸ¥è¯¢æ‰€æœ‰æ•°æ®        List&lt;Employee&gt; employees = employeeMapper.selectByExample(null);        employees.forEach(employee -&gt; System.out.println(employee));        PageInfo&lt;Employee&gt; pageInfo = new PageInfo&lt;&gt;(employees,4);//é€šè¿‡PageInfoå¯¹è±¡è·å–é¡µé¢ç›¸å…³ä¿¡æ¯ï¼Œ4ä¸ºæˆ‘ä»¬æŒ‡å®šçš„å¯¼èˆªé¡µæ˜¾ç¤ºçš„é¡µç ä¸ªæ•°        System.out.println(pageInfo);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100914457.png' data-fancybox='default' data-caption='image-20220510091429312'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100914457.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100914457.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220510091429312"></a><span class='image-caption'>image-20220510091429312</span></div></div><p>æ­¤æ—¶ï¼ŒPageInfoå¯¹è±¡ä¸ºï¼š</p><blockquote><p>PageInfo{pageNum=1, pageSize=3, size=3, startRow=1, endRow=3, total=13, pages=5, list=Page{count=true, pageNum=1, pageSize=3, startRow=0, endRow=3, total=13, pages=5, reasonable=false, pageSizeZero=false}</p><p>ä¸­é—´è¿™éƒ¨åˆ†æ˜¯æˆ‘ä»¬æŸ¥è¯¢åˆ°çš„æ•°æ®</p><p>prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=4, navigateFirstPage=1, navigateLastPage=4, navigatepageNums=[1, 2, 3, 4]}</p></blockquote><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100921913.png' data-fancybox='default' data-caption='image-20220510092111757'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100921913.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205100921913.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220510092111757"></a><span class='image-caption'>image-20220510092111757</span></div></div>æ­¤æ—¶çš„PageInfoå¯¹è±¡ä¸ºï¼š<blockquote><p>PageInfo{pageNum=3, pageSize=3, size=3, startRow=7, endRow=9, total=13, pages=5, list=Page{count=true, pageNum=3, pageSize=3, startRow=6, endRow=9, total=13, pages=5, reasonable=false, pageSizeZero=false}</p><p>ä¸­é—´éƒ¨åˆ†ä»æ˜¯æˆ‘ä»¬æŸ¥è¯¢åˆ°çš„æ•°æ®</p><p>prePage=2, nextPage=4, isFirstPage=false, isLastPage=false, hasPreviousPage=true, hasNextPage=true, navigatePages=4, navigateFirstPage=1, navigateLastPage=4, navigatepageNums=[1, 2, 3, 4]}</p></blockquote><p>PageInfoå¯¹è±¡ä¸­ï¼Œå¸¸ç”¨çš„æ•°æ®ï¼š</p><blockquote><p>pageNumï¼šå½“å‰é¡µçš„é¡µç </p><p>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</p><p>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</p><p>totalï¼šæ€»è®°å½•æ•°ï¼ˆå³æˆ‘ä»¬æ•°æ®åº“ä¸­çš„æ•°æ®æ¡æ•°ï¼‰</p><p>pagesï¼šæ€»é¡µæ•°ï¼ˆç”±æˆ‘ä»¬çš„æ€»è®°å½•æ•°è®¡ç®—å¾—åˆ°ï¼‰</p><p>prePageï¼šä¸Šä¸€é¡µçš„é¡µç ï¼ˆç”±å½“å‰é¡µçš„é¡µç è®¡ç®—å¾—åˆ°ï¼‰</p><p>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç ï¼ˆç”±å½“å‰é¡µçš„é¡µç è®¡ç®—å¾—åˆ°ï¼‰</p><p>isFirstPage/isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ/æœ€åä¸€é¡µ</p><p>hasPreviousPage/hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ</p><p>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</p><p>navigateFirstPageï¼šå¯¼èˆªåˆ†é¡µè¦æ˜¾ç¤ºå‡ºæ¥çš„ç¬¬ä¸€é¡µçš„é¡µç </p><p>navigateLastPageï¼šå¯¼èˆªåˆ†é¡µè¦æ˜¾ç¤ºå‡ºæ¥çš„æœ€åä¸€é¡µçš„é¡µç </p><p>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4]ï¼Œå³æˆ‘ä»¬ä¼šå…ˆæ˜¾ç¤ºå‡ºæ¥çš„é¡µç </p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Mybatiså­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#Mybatiså­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;Mybatiså­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;Mybatiså­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;p&gt;è¾¹åšç¬”è®°è¾¹å­¦ä¹ æ˜¯çœŸçš„æ…¢å•Šï¼Œ10ä¸ªå°æ—¶çš„è§†é¢‘éƒ½çœ‹äº†5å¤©ğŸ¤”ï¼Œè™½ç„¶è¿™èƒ½è®©</summary>
      
    
    
    
    <category term="åç«¯" scheme="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Mybatis" scheme="http://rainvex.com/tags/Mybatis/"/>
    
    <category term="Java" scheme="http://rainvex.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>SpringMVCç¬”è®°</title>
    <link href="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/SpringMVC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/SpringMVC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-05-04T13:02:33.000Z</published>
    <updated>2022-05-04T13:02:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´ä»¥è¯¾ç¨‹è®¾è®¡é¡¹ç›®ä¸ºå€Ÿå£å·äº†ä¸¤ä¸‰ä¸ªæ˜ŸæœŸçš„æ‡’æ²¡æœ‰ç»§ç»­çœ‹è§†é¢‘å­¦ä¹ ğŸ˜‚ï¼Œæœ€è¿‘ç»ˆäºæŠŠSpringMVCçœ‹å®Œäº†ã€‚è¿™ç¯‡ç¬”è®°çš„è¯æˆ‘æ˜¯ç›´æ¥ç”¨çš„è§†é¢‘é…å¥—çš„ç¬”è®°ï¼Œå› ä¸ºæˆ‘è§‰å¾—å†™çš„æŒºæ¸…æ¥šçš„ï¼Œå°±æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹ä¸å¤ªè¯¦ç»†ï¼Œå†åŠ ä¸Šè§†é¢‘è€å¸ˆè™½ç„¶è®²çš„æŒºæ¸…æ¥šï¼Œä½†æ˜¯ä»–ä¸çˆ±åšç¬”è®°ğŸ¤”ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå¢åŠ ä¿®æ”¹äº†ï¼Œæˆ‘ä¹Ÿå¤§å¤šæ˜¯å¯¹ä¸€äº›å…·ä½“æ­¥éª¤è¿›è¡Œæ·»åŠ ä¿®æ”¹ï¼Œç„¶åå°±æ˜¯é’ˆå¯¹æºç è®²è§£éƒ¨åˆ†å’Œè‡ªå·±çš„ç†è§£è¿›è¡Œäº†ä¸€ä¸ªç¬”è®°çš„è¡¥å……</p><h1 id="ä¸€ã€SpringMVCç®€ä»‹"><a href="#ä¸€ã€SpringMVCç®€ä»‹" class="headerlink" title="ä¸€ã€SpringMVCç®€ä»‹"></a>ä¸€ã€SpringMVCç®€ä»‹</h1><h3 id="1ã€ä»€ä¹ˆæ˜¯MVC"><a href="#1ã€ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯MVC"></a>1ã€ä»€ä¹ˆæ˜¯MVC</h3><p>MVCæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„çš„æ€æƒ³ï¼Œå°†è½¯ä»¶æŒ‰ç…§æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨æ¥åˆ’åˆ†</p><p>Mï¼šModelï¼Œæ¨¡å‹å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„JavaBeanï¼Œä½œç”¨æ˜¯å¤„ç†æ•°æ®</p><p>JavaBeanåˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>ä¸€ç±»ç§°ä¸ºå®ä½“ç±»Beanï¼šä¸“é—¨å­˜å‚¨ä¸šåŠ¡æ•°æ®çš„ï¼Œå¦‚ Studentã€User ç­‰</li><li>ä¸€ç±»ç§°ä¸ºä¸šåŠ¡å¤„ç† Beanï¼šæŒ‡ Service æˆ– Dao å¯¹è±¡ï¼Œä¸“é—¨ç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®ã€‚</li></ul><p>Vï¼šViewï¼Œè§†å›¾å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„htmlæˆ–jspç­‰é¡µé¢ï¼Œä½œç”¨æ˜¯ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå±•ç¤ºæ•°æ®</p><p>Cï¼šControllerï¼Œæ§åˆ¶å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„servletï¼Œä½œç”¨æ˜¯æ¥æ”¶è¯·æ±‚å’Œå“åº”æµè§ˆå™¨</p><p>MVCçš„å·¥ä½œæµç¨‹ï¼š<br>ç”¨æˆ·é€šè¿‡è§†å›¾å±‚å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ä¸­è¯·æ±‚è¢«Controlleræ¥æ”¶ï¼ŒControllerè°ƒç”¨ç›¸åº”çš„Modelå±‚å¤„ç†è¯·æ±‚ï¼Œå¤„ç†å®Œæ¯•å°†ç»“æœè¿”å›åˆ°Controllerï¼ŒControllerå†æ ¹æ®è¯·æ±‚å¤„ç†çš„ç»“æœæ‰¾åˆ°ç›¸åº”çš„Viewè§†å›¾ï¼Œæ¸²æŸ“æ•°æ®åæœ€ç»ˆå“åº”ç»™æµè§ˆå™¨</p><h3 id="2ã€ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2ã€ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2ã€ä»€ä¹ˆæ˜¯SpringMVC"></a>2ã€ä»€ä¹ˆæ˜¯SpringMVC</h3><p>SpringMVCæ˜¯Springçš„ä¸€ä¸ªåç»­äº§å“ï¼Œæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®</p><p>SpringMVC æ˜¯ Spring ä¸ºè¡¨è¿°å±‚å¼€å‘æä¾›çš„ä¸€æ•´å¥—å®Œå¤‡çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨è¡¨è¿°å±‚æ¡†æ¶å†ç» Strustã€WebWorkã€Strust2 ç­‰è¯¸å¤šäº§å“çš„å†ä»£æ›´è¿­ä¹‹åï¼Œç›®å‰ä¸šç•Œæ™®éé€‰æ‹©äº† SpringMVC ä½œä¸º Java EE é¡¹ç›®è¡¨è¿°å±‚å¼€å‘çš„<strong>é¦–é€‰æ–¹æ¡ˆ</strong>ã€‚</p><blockquote><p>æ³¨ï¼šä¸‰å±‚æ¶æ„åˆ†ä¸ºè¡¨è¿°å±‚ï¼ˆæˆ–è¡¨ç¤ºå±‚ï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚ï¼Œè¡¨è¿°å±‚è¡¨ç¤ºå‰å°é¡µé¢å’Œåå°servlet</p></blockquote><h3 id="3ã€SpringMVCçš„ç‰¹ç‚¹"><a href="#3ã€SpringMVCçš„ç‰¹ç‚¹" class="headerlink" title="3ã€SpringMVCçš„ç‰¹ç‚¹"></a>3ã€SpringMVCçš„ç‰¹ç‚¹</h3><ul><li><strong>Spring å®¶æ—åŸç”Ÿäº§å“</strong>ï¼Œä¸ IOC å®¹å™¨ç­‰åŸºç¡€è®¾æ–½æ— ç¼å¯¹æ¥</li><li><strong>åŸºäºåŸç”Ÿçš„Servlet</strong>ï¼Œé€šè¿‡äº†åŠŸèƒ½å¼ºå¤§çš„<strong>å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</strong>ï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œç»Ÿä¸€å¤„ç†</li><li>è¡¨è¿°å±‚å„ç»†åˆ†é¢†åŸŸéœ€è¦è§£å†³çš„é—®é¢˜<strong>å…¨æ–¹ä½è¦†ç›–</strong>ï¼Œæä¾›<strong>å…¨é¢è§£å†³æ–¹æ¡ˆ</strong></li><li><strong>ä»£ç æ¸…æ–°ç®€æ´</strong>ï¼Œå¤§å¹…åº¦æå‡å¼€å‘æ•ˆç‡</li><li>å†…éƒ¨ç»„ä»¶åŒ–ç¨‹åº¦é«˜ï¼Œå¯æ’æ‹”å¼ç»„ä»¶<strong>å³æ’å³ç”¨</strong>ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½é…ç½®ç›¸åº”ç»„ä»¶å³å¯</li><li><strong>æ€§èƒ½å“è‘—</strong>ï¼Œå°¤å…¶é€‚åˆç°ä»£å¤§å‹ã€è¶…å¤§å‹äº’è”ç½‘é¡¹ç›®è¦æ±‚</li></ul><h1 id="äºŒã€HelloWorld"><a href="#äºŒã€HelloWorld" class="headerlink" title="äºŒã€HelloWorld"></a>äºŒã€HelloWorld</h1><h3 id="1ã€å¼€å‘ç¯å¢ƒ"><a href="#1ã€å¼€å‘ç¯å¢ƒ" class="headerlink" title="1ã€å¼€å‘ç¯å¢ƒ"></a>1ã€å¼€å‘ç¯å¢ƒ</h3><p>IDEï¼šidea 2021.2</p><p>æ„å»ºå·¥å…·ï¼šmaven3.8.1</p><p>æœåŠ¡å™¨ï¼štomcat9</p><p>Springç‰ˆæœ¬ï¼šæœ€æ–°ç‰ˆ</p><h3 id="2ã€åˆ›å»ºmavenå·¥ç¨‹"><a href="#2ã€åˆ›å»ºmavenå·¥ç¨‹" class="headerlink" title="2ã€åˆ›å»ºmavenå·¥ç¨‹"></a>2ã€åˆ›å»ºmavenå·¥ç¨‹</h3><p>æ–°å»ºmavenå·¥ç¨‹åï¼Œåœ¨çˆ¶å·¥ç¨‹ä¸­æ–°å»ºä¸€ä¸ªæ¨¡å—ï¼ˆæˆ–è€…ç›´æ¥æ–°å»ºä¸€ä¸ªmavenå·¥ç¨‹ä¹Ÿè¡Œï¼Œæ–°å»ºæ¨¡å—åªæ˜¯ä¸ºäº†åŒºåˆ†ä¸åŒå†…å®¹ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172045557.png' data-fancybox='default' data-caption='image-20220417204458446'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172045557.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172045557.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220417204458446"></a><span class='image-caption'>image-20220417204458446</span></div></div><h5 id="a-gt-æ‰“åŒ…æ–¹å¼ï¼šwar"><a href="#a-gt-æ‰“åŒ…æ–¹å¼ï¼šwar" class="headerlink" title="a&gt;æ‰“åŒ…æ–¹å¼ï¼šwar"></a>a&gt;æ‰“åŒ…æ–¹å¼ï¼šwar</h5><p>åœ¨æ–°å»ºçš„SpringMVC-day1æ¨¡å—ä¸‹çš„pomæ–‡ä»¶ä¸­æ·»åŠ <code>&lt;packaging&gt;war&lt;/packaging&gt;</code></p><h5 id="b-gt-å¼•å…¥ä¾èµ–"><a href="#b-gt-å¼•å…¥ä¾èµ–" class="headerlink" title="b&gt;å¼•å…¥ä¾èµ–"></a>b&gt;å¼•å…¥ä¾èµ–</h5><p>åœ¨pomæ–‡ä»¶ä¸­å¼•å…¥ä¸‹æ–¹ä¾èµ–</p><pre><code class="xml">&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework&lt;/groupId&gt;        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;        &lt;version&gt;5.3.16&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;        &lt;version&gt;1.2.11&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;        &lt;version&gt;4.0.1&lt;/version&gt;        &lt;scope&gt;provided&lt;/scope&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;        &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;        &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;</code></pre><p>æ³¨ï¼šç”±äº Maven çš„ä¼ é€’æ€§ï¼Œæˆ‘ä»¬ä¸å¿…å°†æ‰€æœ‰éœ€è¦çš„åŒ…å…¨éƒ¨é…ç½®ä¾èµ–ï¼Œè€Œæ˜¯é…ç½®æœ€é¡¶ç«¯çš„ä¾èµ–ï¼Œå…¶ä»–é ä¼ é€’æ€§å¯¼å…¥ã€‚</p><h5 id="c-gt-æ·»åŠ webæ¨¡å—"><a href="#c-gt-æ·»åŠ webæ¨¡å—" class="headerlink" title="c&gt;æ·»åŠ webæ¨¡å—"></a>c&gt;æ·»åŠ webæ¨¡å—</h5><p>åœ¨<code>src</code>-&gt;<code>main</code>ä¸­æ–°å»ºä¸€ä¸ªç›®å½•<code>webapp</code></p><p>ç„¶åï¼Œåœ¨é¡¹ç›®ç»“æ„ä¸­ï¼Œ<code>æ¨¡å—</code>-&gt;<code>éœ€è¦æ·»åŠ web.xmlçš„é¡¹ç›®æ¨¡å—</code>-&gt;<code>æ‰¾åˆ°Web</code>-&gt;<code>ç‚¹å‡»éƒ¨ç½²æè¿°ç¬¦æ—çš„+å·</code>-&gt;<code>ç‚¹å‡»web.xml</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172050341.png' data-fancybox='default' data-caption='image-20220417205043236'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172050341.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172050341.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220417205043236"></a><span class='image-caption'>image-20220417205043236</span></div></div><p>åœ¨ç‚¹å‡»<code>web.xml</code>åå¼¹å‡ºæ¡†ä¸­æ›´æ”¹web.xmlçš„è·¯å¾„ï¼Œç„¶åç¡®å®šï¼Œç‚¹å‡»åº”ç”¨å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172053776.png' data-fancybox='default' data-caption='image-20220417205313678'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172053776.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172053776.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220417205313678"></a><span class='image-caption'>image-20220417205313678</span></div></div><p>åˆ›å»ºå¥½åå¦‚å›¾æ‰€ç¤º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172102472.png' data-fancybox='default' data-caption='image-20220417210222391'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172102472.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204172102472.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220417210222391"></a><span class='image-caption'>image-20220417210222391</span></div></div><h3 id="3ã€é…ç½®web-xml"><a href="#3ã€é…ç½®web-xml" class="headerlink" title="3ã€é…ç½®web.xml"></a>3ã€é…ç½®web.xml</h3><p>æ³¨å†ŒSpringMVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</p><h5 id="a-gt-é»˜è®¤é…ç½®æ–¹å¼"><a href="#a-gt-é»˜è®¤é…ç½®æ–¹å¼" class="headerlink" title="a&gt;é»˜è®¤é…ç½®æ–¹å¼"></a>a&gt;é»˜è®¤é…ç½®æ–¹å¼</h5><p>æ­¤é…ç½®ä½œç”¨ä¸‹ï¼ŒSpringMVCçš„é…ç½®æ–‡ä»¶é»˜è®¤ä½äºWEB-INFä¸‹ï¼Œé»˜è®¤åç§°ä¸º&lt;servlet-name&gt;-servlet.xmlï¼Œä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®æ‰€å¯¹åº”SpringMVCçš„é…ç½®æ–‡ä»¶ä½äºWEB-INFä¸‹ï¼Œæ–‡ä»¶åä¸ºspringMVC-servlet.xml</p><pre><code class="xml">&lt;!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚ç»Ÿä¸€è¿›è¡Œå¤„ç† --&gt;&lt;servlet&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;!--        è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„        ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚    --&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;</code></pre><h5 id="b-gt-æ‰©å±•é…ç½®æ–¹å¼"><a href="#b-gt-æ‰©å±•é…ç½®æ–¹å¼" class="headerlink" title="b&gt;æ‰©å±•é…ç½®æ–¹å¼"></a>b&gt;æ‰©å±•é…ç½®æ–¹å¼</h5><p>å¯é€šè¿‡init-paramæ ‡ç­¾<strong>è®¾ç½®SpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°</strong>ï¼Œé€šè¿‡load-on-startupæ ‡ç­¾è®¾ç½®SpringMVCå‰ç«¯æ§åˆ¶å™¨DispatcherServletçš„<strong>åˆå§‹åŒ–æ—¶é—´</strong></p><pre><code class="xml">&lt;!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚ç»Ÿä¸€è¿›è¡Œå¤„ç† --&gt;&lt;servlet&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    &lt;!-- é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§° --&gt;    &lt;init-param&gt;        &lt;!-- contextConfigLocationä¸ºå›ºå®šå€¼ --&gt;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;        &lt;!-- ä½¿ç”¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾„æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚mavenå·¥ç¨‹ä¸­çš„src/main/resources --&gt;        &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;!--          ä½œä¸ºæ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æœ‰å¤§é‡çš„åˆå§‹åŒ–æ“ä½œè¦åš        è€Œè¿™äº›æ“ä½œæ”¾åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ‰æ‰§è¡Œä¼šä¸¥é‡å½±å“è®¿é—®é€Ÿåº¦        å› æ­¤éœ€è¦é€šè¿‡æ­¤æ ‡ç­¾å°†å¯åŠ¨æ§åˆ¶DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶    --&gt;    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;!--        è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„        ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚    --&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;</code></pre><blockquote><p>æ³¨ï¼š</p><p>&lt;url-pattern&gt;æ ‡ç­¾ä¸­ä½¿ç”¨/å’Œ/*çš„åŒºåˆ«ï¼š</p><p>/æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„ï¼Œä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚</p><p>å› æ­¤å°±å¯ä»¥é¿å…åœ¨è®¿é—®jspé¡µé¢æ—¶ï¼Œè¯¥è¯·æ±‚è¢«DispatcherServletå¤„ç†ï¼Œä»è€Œæ‰¾ä¸åˆ°ç›¸åº”çš„é¡µé¢</p><p>/*åˆ™èƒ½å¤ŸåŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œè‹¥éœ€è¦å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œå°±éœ€è¦ä½¿ç”¨/*çš„å†™æ³•</p></blockquote><h3 id="4ã€åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨"><a href="#4ã€åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨" class="headerlink" title="4ã€åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨"></a>4ã€åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨</h3><p>ç”±äºå‰ç«¯æ§åˆ¶å™¨å¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œäº†ç»Ÿä¸€çš„å¤„ç†ï¼Œä½†æ˜¯å…·ä½“çš„è¯·æ±‚æœ‰ä¸åŒçš„å¤„ç†è¿‡ç¨‹ï¼Œå› æ­¤éœ€è¦åˆ›å»ºå¤„ç†å…·ä½“è¯·æ±‚çš„ç±»ï¼Œå³è¯·æ±‚æ§åˆ¶å™¨</p><p>è¯·æ±‚æ§åˆ¶å™¨ä¸­æ¯ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•æˆä¸ºæ§åˆ¶å™¨æ–¹æ³•</p><p>å› ä¸ºSpringMVCçš„æ§åˆ¶å™¨ç”±ä¸€ä¸ªPOJOï¼ˆæ™®é€šçš„Javaç±»ï¼‰æ‹…ä»»ï¼Œå› æ­¤éœ€è¦é€šè¿‡@Controlleræ³¨è§£å°†å…¶æ ‡è¯†ä¸ºä¸€ä¸ªæ§åˆ¶å±‚ç»„ä»¶ï¼Œäº¤ç»™Springçš„IoCå®¹å™¨ç®¡ç†ï¼Œæ­¤æ—¶SpringMVCæ‰èƒ½å¤Ÿè¯†åˆ«æ§åˆ¶å™¨çš„å­˜åœ¨</p><pre><code class="java">@Controllerpublic class HelloController &#123;    &#125;</code></pre><h3 id="5ã€åˆ›å»ºspringMVCçš„é…ç½®æ–‡ä»¶"><a href="#5ã€åˆ›å»ºspringMVCçš„é…ç½®æ–‡ä»¶" class="headerlink" title="5ã€åˆ›å»ºspringMVCçš„é…ç½®æ–‡ä»¶"></a>5ã€åˆ›å»ºspringMVCçš„é…ç½®æ–‡ä»¶</h3><pre><code class="xml">&lt;!-- è‡ªåŠ¨æ‰«æåŒ… --&gt;&lt;context:component-scan base-package=&quot;com.springMVC&quot;/&gt;&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;&lt;bean id=&quot;viewResolver&quot; class=&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;&gt;    &lt;property name=&quot;order&quot; value=&quot;1&quot;/&gt;    &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;    &lt;property name=&quot;templateEngine&quot;&gt;        &lt;bean class=&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;&gt;            &lt;property name=&quot;templateResolver&quot;&gt;                &lt;bean class=&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;&gt;                        &lt;!-- è§†å›¾å‰ç¼€ --&gt;                    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot;/&gt;                        &lt;!-- è§†å›¾åç¼€ --&gt;                    &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;/&gt;                    &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot;/&gt;                    &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot; /&gt;                &lt;/bean&gt;            &lt;/property&gt;        &lt;/bean&gt;    &lt;/property&gt;&lt;/bean&gt;&lt;!--åé¢ä¸¤ä¸ªé…ç½®å¯ä»¥ç­‰åé¢ç”¨åˆ°å†æ·»åŠ --&gt;&lt;!--    å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htmlã€jsã€cssã€jpg  è‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—®  æ­¤æ—¶å¿…é¡»è®¾ç½®&lt;mvc:annotation-driven/&gt;è§£å†³é—®é¢˜ --&gt;&lt;mvc:default-servlet-handler/&gt;&lt;!-- å¼€å¯mvcæ³¨è§£é©±åŠ¨ --&gt;&lt;mvc:annotation-driven&gt;    &lt;mvc:message-converters&gt;        &lt;!-- å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç  --&gt;        &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;            &lt;property name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot; /&gt;            &lt;property name=&quot;supportedMediaTypes&quot;&gt;                &lt;list&gt;                    &lt;value&gt;text/html&lt;/value&gt;                    &lt;value&gt;application/json&lt;/value&gt;                &lt;/list&gt;            &lt;/property&gt;        &lt;/bean&gt;    &lt;/mvc:message-converters&gt;&lt;/mvc:annotation-driven&gt;</code></pre><h3 id="6ã€è¿è¡Œé…ç½®"><a href="#6ã€è¿è¡Œé…ç½®" class="headerlink" title="6ã€è¿è¡Œé…ç½®"></a>6ã€è¿è¡Œé…ç½®</h3><p>åœ¨IDEAå³ä¸Šæ–¹ç‚¹å‡»<code>æ·»åŠ é…ç½®</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201717001.png' data-fancybox='default' data-caption='image-20220420171741927'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201717001.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201717001.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420171741927"></a><span class='image-caption'>image-20220420171741927</span></div></div><p>ç‚¹å‡»â€™+â€™å·ï¼Œé€‰æ‹©TomcatæœåŠ¡å™¨çš„æœ¬åœ°<div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201719946.png' data-fancybox='default' data-caption='image-20220420171903803'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201719946.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201719946.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420171903803"></a><span class='image-caption'>image-20220420171903803</span></div></div></p><p>ä¿®æ”¹é…ç½®åç§°ï¼Œåœ¨éƒ¨ç½²é¡µæ·»åŠ å·¥ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201721272.png' data-fancybox='default' data-caption='image-20220420172102138'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201721272.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201721272.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420172102138"></a><span class='image-caption'>image-20220420172102138</span></div></div><p>é€‰æ‹©<code>:war exploded</code>çš„å·¥ä»¶ï¼ˆå› ä¸ºæ–°å»ºSpringMVC-day1åä¿®æ”¹æˆäº†demo1ï¼Œæ‰€ä»¥è¿™é‡Œè·Ÿä¸Šæ–¹æ–°å»ºæ¨¡å—çš„æˆªå›¾ä¸­åç§°ä¸ä¸€æ ·ï¼Œå¯ä»¥å¿½ç•¥ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201725344.png' data-fancybox='default' data-caption='image-20220420172544274'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201725344.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201725344.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420172544274"></a><span class='image-caption'>image-20220420172544274</span></div></div><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥æŠŠåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¿®æ”¹ä¸€ä¸‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201728887.png' data-fancybox='default' data-caption='image-20220420172853770'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201728887.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201728887.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420172853770"></a><span class='image-caption'>image-20220420172853770</span></div></div><p>ç„¶åï¼Œç‚¹å‡»åº”ç”¨ç¡®å®šå³å¯</p><h3 id="7ã€æµ‹è¯•HelloWorld"><a href="#7ã€æµ‹è¯•HelloWorld" class="headerlink" title="7ã€æµ‹è¯•HelloWorld"></a>7ã€æµ‹è¯•HelloWorld</h3><h5 id="a-gt-å®ç°å¯¹é¦–é¡µçš„è®¿é—®"><a href="#a-gt-å®ç°å¯¹é¦–é¡µçš„è®¿é—®" class="headerlink" title="a&gt;å®ç°å¯¹é¦–é¡µçš„è®¿é—®"></a>a&gt;å®ç°å¯¹é¦–é¡µçš„è®¿é—®</h5><p>åœ¨è¯·æ±‚æ§åˆ¶å™¨ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p><pre><code class="java">// @RequestMappingæ³¨è§£ï¼šå¤„ç†è¯·æ±‚å’Œæ§åˆ¶å™¨æ–¹æ³•ä¹‹é—´çš„æ˜ å°„å…³ç³»// @RequestMappingæ³¨è§£çš„valueå±æ€§å¯ä»¥é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚ï¼Œ/è¡¨ç¤ºçš„å½“å‰å·¥ç¨‹çš„ä¸Šä¸‹æ–‡è·¯å¾„// localhost:8080/springMVC/@RequestMapping(&quot;/&quot;)public String index() &#123;    //è®¾ç½®è§†å›¾åç§°    return &quot;index&quot;;&#125;</code></pre><h5 id="b-gt-é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢"><a href="#b-gt-é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢" class="headerlink" title="b&gt;é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢"></a>b&gt;é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢</h5><p>åœ¨ä¸»é¡µindex.htmlä¸­è®¾ç½®è¶…é“¾æ¥</p><pre><code class="html">&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;é¦–é¡µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;h1&gt;é¦–é¡µ&lt;/h1&gt;    &lt;a th:href=&quot;@&#123;/hello&#125;&quot;&gt;HelloWorld&lt;/a&gt;&lt;br/&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>åœ¨è¯·æ±‚æ§åˆ¶å™¨ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p><pre><code class="java">@RequestMapping(&quot;/hello&quot;)public String HelloWorld() &#123;    return &quot;target&quot;;&#125;</code></pre><h3 id="8ã€æ€»ç»“"><a href="#8ã€æ€»ç»“" class="headerlink" title="8ã€æ€»ç»“"></a>8ã€æ€»ç»“</h3><p>æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè‹¥è¯·æ±‚åœ°å€ç¬¦åˆå‰ç«¯æ§åˆ¶å™¨çš„url-patternï¼Œè¯¥è¯·æ±‚å°±ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨DispatcherServletå¤„ç†ã€‚å‰ç«¯æ§åˆ¶å™¨ä¼šè¯»å–SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æ‰«æç»„ä»¶æ‰¾åˆ°æ§åˆ¶å™¨ï¼Œå°†è¯·æ±‚åœ°å€å’Œæ§åˆ¶å™¨ä¸­@RequestMappingæ³¨è§£çš„valueå±æ€§å€¼è¿›è¡ŒåŒ¹é…ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œè¯¥æ³¨è§£æ‰€æ ‡è¯†çš„æ§åˆ¶å™¨æ–¹æ³•å°±æ˜¯å¤„ç†è¯·æ±‚çš„æ–¹æ³•ã€‚å¤„ç†è¯·æ±‚çš„æ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„è§†å›¾åç§°ï¼Œè¯¥è§†å›¾åç§°ä¼šè¢«è§†å›¾è§£æå™¨è§£æï¼ŒåŠ ä¸Šå‰ç¼€å’Œåç¼€ç»„æˆè§†å›¾çš„è·¯å¾„ï¼Œé€šè¿‡Thymeleafå¯¹è§†å›¾è¿›è¡Œæ¸²æŸ“ï¼Œæœ€ç»ˆè½¬å‘åˆ°è§†å›¾æ‰€å¯¹åº”é¡µé¢</p><h1 id="ä¸‰ã€-RequestMappingæ³¨è§£"><a href="#ä¸‰ã€-RequestMappingæ³¨è§£" class="headerlink" title="ä¸‰ã€@RequestMappingæ³¨è§£"></a>ä¸‰ã€@RequestMappingæ³¨è§£</h1><h3 id="1ã€-RequestMappingæ³¨è§£çš„åŠŸèƒ½"><a href="#1ã€-RequestMappingæ³¨è§£çš„åŠŸèƒ½" class="headerlink" title="1ã€@RequestMappingæ³¨è§£çš„åŠŸèƒ½"></a>1ã€@RequestMappingæ³¨è§£çš„åŠŸèƒ½</h3><p>ä»æ³¨è§£åç§°ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ@RequestMappingæ³¨è§£çš„ä½œç”¨å°±æ˜¯å°†è¯·æ±‚å’Œå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨æ–¹æ³•å…³è”èµ·æ¥ï¼Œå»ºç«‹æ˜ å°„å…³ç³»ã€‚</p><p>SpringMVC æ¥æ”¶åˆ°æŒ‡å®šçš„è¯·æ±‚ï¼Œå°±ä¼šæ¥æ‰¾åˆ°åœ¨æ˜ å°„å…³ç³»ä¸­å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</p><h3 id="2ã€-RequestMappingæ³¨è§£çš„ä½ç½®"><a href="#2ã€-RequestMappingæ³¨è§£çš„ä½ç½®" class="headerlink" title="2ã€@RequestMappingæ³¨è§£çš„ä½ç½®"></a>2ã€@RequestMappingæ³¨è§£çš„ä½ç½®</h3><p>@RequestMappingæ ‡è¯†ä¸€ä¸ªç±»ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„çš„åˆå§‹ä¿¡æ¯</p><p>@RequestMappingæ ‡è¯†ä¸€ä¸ªæ–¹æ³•ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚è¯·æ±‚è·¯å¾„çš„å…·ä½“ä¿¡æ¯</p><pre><code class="java">@Controller@RequestMapping(&quot;/test&quot;)public class RequestMappingController &#123;    //æ­¤æ—¶è¯·æ±‚æ˜ å°„æ‰€æ˜ å°„çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„ä¸ºï¼š/test/testRequestMapping    @RequestMapping(&quot;/testRequestMapping&quot;)    public String testRequestMapping()&#123;        return &quot;success&quot;;    &#125;&#125;</code></pre><h3 id="3ã€-RequestMappingæ³¨è§£çš„valueå±æ€§"><a href="#3ã€-RequestMappingæ³¨è§£çš„valueå±æ€§" class="headerlink" title="3ã€@RequestMappingæ³¨è§£çš„valueå±æ€§"></a>3ã€@RequestMappingæ³¨è§£çš„valueå±æ€§</h3><p>@RequestMappingæ³¨è§£çš„valueå±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMappingæ³¨è§£çš„valueå±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šä¸ªè¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è¯·æ±‚</p><p>@RequestMappingæ³¨è§£çš„valueå±æ€§å¿…é¡»è®¾ç½®ï¼Œè‡³å°‘é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</p><pre><code class="html">&lt;a th:href=&quot;@&#123;/testRequestMapping&#125;&quot;&gt;æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/testRequestMapping&lt;/a&gt;&lt;br&gt;&lt;a th:href=&quot;@&#123;/test&#125;&quot;&gt;æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/test&lt;/a&gt;&lt;br&gt;</code></pre><pre><code class="java">@RequestMapping(        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;)public String testRequestMapping()&#123;    return &quot;success&quot;;&#125;</code></pre><h3 id="4ã€-RequestMappingæ³¨è§£çš„methodå±æ€§"><a href="#4ã€-RequestMappingæ³¨è§£çš„methodå±æ€§" class="headerlink" title="4ã€@RequestMappingæ³¨è§£çš„methodå±æ€§"></a>4ã€@RequestMappingæ³¨è§£çš„methodå±æ€§</h3><p>@RequestMappingæ³¨è§£çš„methodå±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ï¼ˆgetæˆ–postï¼‰åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMappingæ³¨è§£çš„methodå±æ€§æ˜¯ä¸€ä¸ªRequestMethodç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šç§è¯·æ±‚æ–¹å¼çš„è¯·æ±‚</p><p>è‹¥å½“å‰è¯·æ±‚çš„è¯·æ±‚åœ°å€æ»¡è¶³è¯·æ±‚æ˜ å°„çš„valueå±æ€§ï¼Œä½†æ˜¯è¯·æ±‚æ–¹å¼ä¸æ»¡è¶³methodå±æ€§ï¼Œåˆ™æµè§ˆå™¨æŠ¥é”™405ï¼šRequest method â€˜POSTâ€™ not supported</p><pre><code class="html">&lt;a th:href=&quot;@&#123;/test&#125;&quot;&gt;æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/test&lt;/a&gt;&lt;br&gt;&lt;form th:action=&quot;@&#123;/test&#125;&quot; method=&quot;post&quot;&gt;    &lt;input type=&quot;submit&quot;&gt;&lt;/form&gt;</code></pre><pre><code class="java">@RequestMapping(        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;,        method = &#123;RequestMethod.GET, RequestMethod.POST&#125;)public String testRequestMapping()&#123;    return &quot;success&quot;;&#125;</code></pre><blockquote><p>æ³¨ï¼š</p><p>1ã€å¯¹äºå¤„ç†æŒ‡å®šè¯·æ±‚æ–¹å¼çš„æ§åˆ¶å™¨æ–¹æ³•ï¼ŒSpringMVCä¸­æä¾›äº†@RequestMappingçš„æ´¾ç”Ÿæ³¨è§£</p><p>å¤„ç†getè¯·æ±‚çš„æ˜ å°„â€“&gt;@GetMapping</p><p>å¤„ç†postè¯·æ±‚çš„æ˜ å°„â€“&gt;@PostMapping</p><p>å¤„ç†putè¯·æ±‚çš„æ˜ å°„â€“&gt;@PutMapping</p><p>å¤„ç†deleteè¯·æ±‚çš„æ˜ å°„â€“&gt;@DeleteMapping</p><p>2ã€å¸¸ç”¨çš„è¯·æ±‚æ–¹å¼æœ‰getï¼Œpostï¼Œputï¼Œdelete</p><p>ä½†æ˜¯ç›®å‰æµè§ˆå™¨åªæ”¯æŒgetå’Œpostï¼Œè‹¥åœ¨formè¡¨å•æäº¤æ—¶ï¼Œä¸ºmethodè®¾ç½®äº†å…¶ä»–è¯·æ±‚æ–¹å¼çš„å­—ç¬¦ä¸²ï¼ˆputæˆ–deleteï¼‰ï¼Œåˆ™æŒ‰ç…§é»˜è®¤çš„è¯·æ±‚æ–¹å¼getå¤„ç†</p><p>è‹¥è¦å‘é€putå’Œdeleteè¯·æ±‚ï¼Œåˆ™éœ€è¦é€šè¿‡springæä¾›çš„è¿‡æ»¤å™¨HiddenHttpMethodFilterï¼Œåœ¨RESTfuléƒ¨åˆ†ä¼šè®²åˆ°</p></blockquote><h3 id="5ã€-RequestMappingæ³¨è§£çš„paramså±æ€§ï¼ˆäº†è§£ï¼‰"><a href="#5ã€-RequestMappingæ³¨è§£çš„paramså±æ€§ï¼ˆäº†è§£ï¼‰" class="headerlink" title="5ã€@RequestMappingæ³¨è§£çš„paramså±æ€§ï¼ˆäº†è§£ï¼‰"></a>5ã€@RequestMappingæ³¨è§£çš„paramså±æ€§ï¼ˆäº†è§£ï¼‰</h3><p>@RequestMappingæ³¨è§£çš„paramså±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å‚æ•°åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMappingæ³¨è§£çš„paramså±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å‚æ•°å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»</p><p>â€œparamâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°</p><p>â€œ!paramâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦paramè¯·æ±‚å‚æ•°</p><p>â€œparam=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä¸”param=value</p><p>â€œparam!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ä½†æ˜¯param!=value</p><pre><code class="html">&lt;a th:href=&quot;@&#123;/test(username=&#39;admin&#39;,password=123456)&quot;&gt;æµ‹è¯•@RequestMappingçš„paramså±æ€§--&gt;/test&lt;/a&gt;&lt;br&gt;</code></pre><pre><code class="java">@RequestMapping(        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;        ,method = &#123;RequestMethod.GET, RequestMethod.POST&#125;        ,params = &#123;&quot;username&quot;,&quot;password!=123456&quot;&#125;)public String testRequestMapping()&#123;    return &quot;success&quot;;&#125;</code></pre><blockquote><p>æ³¨ï¼š</p><p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMappingæ³¨è§£çš„valueå’Œmethodå±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³paramså±æ€§ï¼Œæ­¤æ—¶é¡µé¢å›æŠ¥é”™400ï¼šParameter conditions â€œusername, password!=123456â€ not met for actual request parameters: username={admin}, password={123456}</p></blockquote><h3 id="6ã€-RequestMappingæ³¨è§£çš„headerså±æ€§ï¼ˆäº†è§£ï¼‰"><a href="#6ã€-RequestMappingæ³¨è§£çš„headerså±æ€§ï¼ˆäº†è§£ï¼‰" class="headerlink" title="6ã€@RequestMappingæ³¨è§£çš„headerså±æ€§ï¼ˆäº†è§£ï¼‰"></a>6ã€@RequestMappingæ³¨è§£çš„headerså±æ€§ï¼ˆäº†è§£ï¼‰</h3><p>@RequestMappingæ³¨è§£çš„headerså±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMappingæ³¨è§£çš„headerså±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»</p><p>â€œheaderâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯</p><p>â€œ!headerâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯</p><p>â€œheader=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header=value</p><p>â€œheader!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header!=value</p><p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMappingæ³¨è§£çš„valueå’Œmethodå±æ€§ï¼Œä½†æ˜¯<strong>ä¸æ»¡è¶³headerså±æ€§ï¼Œæ­¤æ—¶é¡µé¢æ˜¾ç¤º404é”™è¯¯</strong>ï¼Œå³èµ„æºæœªæ‰¾åˆ°</p><h3 id="7ã€SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„"><a href="#7ã€SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„" class="headerlink" title="7ã€SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„"></a>7ã€SpringMVCæ”¯æŒanté£æ ¼çš„è·¯å¾„</h3><p>ï¼Ÿï¼šè¡¨ç¤ºä»»æ„çš„<strong>å•ä¸ª</strong>å­—ç¬¦</p><p>*ï¼šè¡¨ç¤ºä»»æ„çš„<strong>0ä¸ªæˆ–å¤šä¸ª</strong>å­—ç¬¦</p><p>**ï¼šè¡¨ç¤ºä»»æ„çš„<strong>ä¸€å±‚æˆ–å¤šå±‚</strong>ç›®å½•</p><p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨**æ—¶ï¼Œåªèƒ½ä½¿ç”¨/**/xxxçš„æ–¹å¼</p><h3 id="8ã€SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰"><a href="#8ã€SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="8ã€SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰"></a>8ã€SpringMVCæ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰</h3><p>åŸå§‹è¯·æ±‚å‘é€æ–¹å¼ï¼š/deleteUser?id=1</p><p>restè¯·æ±‚å‘é€æ–¹å¼ï¼š/deleteUser/1</p><p>SpringMVCè·¯å¾„ä¸­çš„å ä½ç¬¦å¸¸ç”¨äºRESTfulé£æ ¼ä¸­ï¼Œå½“è¯·æ±‚è·¯å¾„ä¸­å°†æŸäº›æ•°æ®<strong>é€šè¿‡è·¯å¾„çš„æ–¹å¼</strong>ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸­ï¼Œå°±å¯ä»¥åœ¨ç›¸åº”çš„@RequestMappingæ³¨è§£çš„valueå±æ€§ä¸­é€šè¿‡å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾“çš„æ•°æ®ï¼Œå†é€šè¿‡@PathVariableæ³¨è§£ï¼Œå°†å ä½ç¬¦æ‰€è¡¨ç¤ºçš„æ•°æ®èµ‹å€¼ç»™æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚</p><pre><code class="html">&lt;a th:href=&quot;@&#123;/testRest/1/admin&#125;&quot;&gt;æµ‹è¯•è·¯å¾„ä¸­çš„å ä½ç¬¦--&gt;/testRest&lt;/a&gt;&lt;br&gt;</code></pre><pre><code class="java">@RequestMapping(&quot;/testRest/&#123;id&#125;/&#123;username&#125;&quot;)public String testRest(@PathVariable(&quot;id&quot;) String id, @PathVariable(&quot;username&quot;) String username)&#123;    System.out.println(&quot;id:&quot;+id+&quot;,username:&quot;+username);    return &quot;success&quot;;&#125;//æœ€ç»ˆè¾“å‡ºçš„å†…å®¹ä¸º--&gt;id:1,username:admin</code></pre><h1 id="å››ã€SpringMVCè·å–è¯·æ±‚å‚æ•°"><a href="#å››ã€SpringMVCè·å–è¯·æ±‚å‚æ•°" class="headerlink" title="å››ã€SpringMVCè·å–è¯·æ±‚å‚æ•°"></a>å››ã€SpringMVCè·å–è¯·æ±‚å‚æ•°</h1><h3 id="1ã€é€šè¿‡ServletAPIè·å–"><a href="#1ã€é€šè¿‡ServletAPIè·å–" class="headerlink" title="1ã€é€šè¿‡ServletAPIè·å–"></a>1ã€é€šè¿‡ServletAPIè·å–</h3><p>å°†HttpServletRequestä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ï¼Œæ­¤æ—¶HttpServletRequestç±»å‹çš„å‚æ•°è¡¨ç¤ºå°è£…äº†å½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡çš„å¯¹è±¡</p><pre><code class="java">@RequestMapping(&quot;/testParam&quot;)public String testParam(HttpServletRequest request)&#123;    String username = request.getParameter(&quot;username&quot;);    String password = request.getParameter(&quot;password&quot;);    System.out.println(&quot;username:&quot;+username+&quot;,password:&quot;+password);    return &quot;success&quot;;&#125;//getParameterè·å–å•ä¸ªå‚æ•°å€¼//getParameterValuesè·å–å¤šä¸ªå‚æ•°å€¼ï¼ˆæ•°ç»„å½¢å¼ï¼‰</code></pre><h3 id="2ã€é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"><a href="#2ã€é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°" class="headerlink" title="2ã€é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"></a>2ã€é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°</h3><p>åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®ï¼Œè®¾ç½®å’Œè¯·æ±‚å‚æ•°åŒåçš„å½¢å‚ï¼Œå½“æµè§ˆå™¨å‘é€è¯·æ±‚ï¼ŒåŒ¹é…åˆ°è¯·æ±‚æ˜ å°„æ—¶ï¼Œåœ¨DispatcherServletä¸­å°±ä¼šå°†è¯·æ±‚å‚æ•°èµ‹å€¼ç»™ç›¸åº”çš„å½¢å‚</p><pre><code class="html">&lt;a th:href=&quot;@&#123;/testParam(username=&#39;admin&#39;,password=123456)&#125;&quot;&gt;æµ‹è¯•è·å–è¯·æ±‚å‚æ•°--&gt;/testParam&lt;/a&gt;&lt;br&gt;</code></pre><pre><code class="java">@RequestMapping(&quot;/testParam&quot;)public String testParam(String username, String password)&#123;    System.out.println(&quot;username:&quot;+username+&quot;,password:&quot;+password);    return &quot;success&quot;;&#125;</code></pre><blockquote><p>æ³¨ï¼š</p><p>è‹¥è¯·æ±‚æ‰€ä¼ è¾“çš„è¯·æ±‚å‚æ•°ä¸­æœ‰<strong>å¤šä¸ªåŒå</strong>çš„è¯·æ±‚å‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä¸­è®¾ç½®<strong>å­—ç¬¦ä¸²æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²ç±»å‹</strong>çš„å½¢å‚æ¥æ”¶æ­¤è¯·æ±‚å‚æ•°</p><p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„æ•°ç»„ä¸­åŒ…å«äº†æ¯ä¸€ä¸ªæ•°æ®</p><p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„å€¼ä¸ºæ¯ä¸ªæ•°æ®ä¸­é—´ä½¿ç”¨<strong>é€—å·æ‹¼æ¥</strong>çš„ç»“æœ</p></blockquote><h3 id="3ã€-RequestParam"><a href="#3ã€-RequestParam" class="headerlink" title="3ã€@RequestParam"></a>3ã€@RequestParam</h3><p>@RequestParamæ˜¯å°†è¯·æ±‚å‚æ•°å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@RequestParamæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼š</p><p>valueï¼šæŒ‡å®šä¸ºå½¢å‚èµ‹å€¼çš„è¯·æ±‚å‚æ•°çš„å‚æ•°å</p><p>requiredï¼šè®¾ç½®<strong>æ˜¯å¦å¿…é¡»</strong>ä¼ è¾“æ­¤è¯·æ±‚å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºtrue</p><p>è‹¥è®¾ç½®ä¸ºtrueæ—¶ï¼Œåˆ™å½“å‰è¯·æ±‚å¿…é¡»ä¼ è¾“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“è¯¥è¯·æ±‚å‚æ•°ï¼Œä¸”æ²¡æœ‰è®¾ç½®defaultValueå±æ€§ï¼Œåˆ™é¡µé¢æŠ¥é”™400ï¼šRequired String parameter â€˜xxxâ€™ is not presentï¼›è‹¥è®¾ç½®ä¸ºfalseï¼Œåˆ™å½“å‰è¯·æ±‚ä¸æ˜¯å¿…é¡»ä¼ è¾“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“ï¼Œåˆ™æ³¨è§£æ‰€æ ‡è¯†çš„å½¢å‚çš„å€¼ä¸ºnull</p><p>defaultValueï¼šä¸ç®¡requiredå±æ€§å€¼ä¸ºtrueæˆ–falseï¼Œå½“valueæ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°æ²¡æœ‰ä¼ è¾“æˆ–ä¼ è¾“çš„å€¼ä¸ºâ€â€æ—¶ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ä¸ºå½¢å‚èµ‹å€¼</p><pre><code class="java">@RequestMapping(&quot;/testRequestParam&quot;)public String testRequestParam(@RequestParam(&quot;username&quot;) String username,@RequestParam(&quot;password&quot;) String password)&#123;    System.out.println(&quot;username:&quot;+username);    System.out.println(&quot;password:&quot;+password);    return &quot;success&quot;;&#125;</code></pre><h3 id="4ã€-RequestHeader"><a href="#4ã€-RequestHeader" class="headerlink" title="4ã€@RequestHeader"></a>4ã€@RequestHeader</h3><p>@RequestHeaderæ˜¯å°†è¯·æ±‚å¤´ä¿¡æ¯å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@RequestHeaderæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p><p><strong>è·å–è¯·æ±‚ä¸­çš„è¯·æ±‚å¤´ä¿¡æ¯å¿…é¡»ä½¿ç”¨</strong></p><h3 id="5ã€-CookieValue"><a href="#5ã€-CookieValue" class="headerlink" title="5ã€@CookieValue"></a>5ã€@CookieValue</h3><p>@CookieValueæ˜¯å°†cookieæ•°æ®å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@CookieValueæ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p><h3 id="6ã€é€šè¿‡POJOè·å–è¯·æ±‚å‚æ•°"><a href="#6ã€é€šè¿‡POJOè·å–è¯·æ±‚å‚æ•°" class="headerlink" title="6ã€é€šè¿‡POJOè·å–è¯·æ±‚å‚æ•°"></a>6ã€é€šè¿‡POJOè·å–è¯·æ±‚å‚æ•°</h3><p>å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®ä¸€ä¸ªå®ä½“ç±»ç±»å‹çš„å½¢å‚ï¼Œæ­¤æ—¶è‹¥æµè§ˆå™¨<strong>ä¼ è¾“çš„è¯·æ±‚å‚æ•°çš„å‚æ•°åå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸€è‡´</strong>ï¼Œé‚£ä¹ˆè¯·æ±‚å‚æ•°å°±ä¼šä¸ºæ­¤å±æ€§èµ‹å€¼</p><pre><code class="html">&lt;form th:action=&quot;@&#123;/testpojo&#125;&quot; method=&quot;post&quot;&gt;    ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;    å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;    æ€§åˆ«ï¼š&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;ç”·&quot;&gt;ç”·&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt;å¥³&lt;br&gt;    å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;    é‚®ç®±ï¼š&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br&gt;    &lt;input type=&quot;submit&quot;&gt;&lt;/form&gt;</code></pre><pre><code class="java">@RequestMapping(&quot;/testpojo&quot;)public String testPOJO(User user)&#123;    System.out.println(user);    return &quot;success&quot;;&#125;//æœ€ç»ˆç»“æœ--&gt;User&#123;id=null, username=&#39;å¼ ä¸‰&#39;, password=&#39;123&#39;, age=23, sex=&#39;ç”·&#39;, email=&#39;123@qq.com&#39;&#125;</code></pre><h3 id="7ã€è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"><a href="#7ã€è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜" class="headerlink" title="7ã€è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"></a>7ã€è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜</h3><p>è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨SpringMVCæä¾›çš„ç¼–ç è¿‡æ»¤å™¨CharacterEncodingFilterï¼Œä½†æ˜¯å¿…é¡»åœ¨web.xmlä¸­è¿›è¡Œæ³¨å†Œ</p><pre><code class="xml">&lt;!--é…ç½®springMVCçš„ç¼–ç è¿‡æ»¤å™¨--&gt;&lt;filter&gt;    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;    &lt;init-param&gt;        &lt;param-name&gt;encoding&lt;/param-name&gt;        &lt;param-value&gt;UTF-8&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;init-param&gt;        &lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;        &lt;param-value&gt;true&lt;/param-value&gt;    &lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt;    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201614224.png' data-fancybox='default' data-caption='image-20220420161434054'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201614224.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204201614224.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220420161434054"></a><span class='image-caption'>image-20220420161434054</span></div></div><p>é€šè¿‡<code>CharacterEncodingFilter</code>æºç å¯ä»¥å¤§è‡´æ¸…æ¥šä¸ºä»€ä¹ˆåœ¨é…ç½®æ–‡ä»¶ä¸­éœ€è¦è¿™æ ·é…ç½®ï¼Œåˆå§‹åŒ–å‚æ•°ä¸­<code>encoding</code>æ˜¯è®¾ç½®æˆ‘ä»¬éœ€è¦çš„ç¼–ç æ ¼å¼ï¼Œæºç ä¸­è®¾ç½®è¯·æ±‚ç¼–ç æ ¼å¼æ—¶çš„æ¡ä»¶ä¸­ï¼Œ<code>isForceRequestEncoding</code>è¿”å›çš„æ˜¯é»˜è®¤çš„falseï¼Œç”±äºä¹‹å‰æˆ‘ä»¬å¹¶æ²¡æœ‰è®¾ç½®è¿‡è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œé‚£ä¹ˆ<code>request.getCharacterEncoding</code>è¿”å›çš„æ˜¯nullï¼Œæ­¤æ—¶å°±æ»¡è¶³äº†è®¾ç½®è¯·æ±‚ç¼–ç çš„æ¡ä»¶ï¼Œåˆ™è¯·æ±‚çš„ç¼–ç æ ¼å¼è¢«è®¾ä¸ºUTF-8ï¼›åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œ<code>forceResponseEncoding</code>è¢«è®¾ç½®ä¸ºtrueï¼Œé‚£ä¹ˆæºç ä¸­è®¾ç½®å“åº”ç¼–ç æ ¼å¼çš„æ¡ä»¶åˆ™æˆç«‹ï¼Œæ­¤æ—¶å“åº”çš„ç¼–ç æ ¼å¼ä¹Ÿä¼šè¢«è®¾ç½®ä¸ºUTF-8</p><blockquote><p>æ³¨ï¼š</p><p>SpringMVCä¸­å¤„ç†ç¼–ç çš„è¿‡æ»¤å™¨ä¸€å®šè¦é…ç½®åˆ°å…¶ä»–è¿‡æ»¤å™¨ä¹‹å‰ï¼Œå¦åˆ™æ— æ•ˆ</p></blockquote><h1 id="äº”ã€åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#äº”ã€åŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="äº”ã€åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>äº”ã€åŸŸå¯¹è±¡å…±äº«æ•°æ®</h1><p>ä¸»è¦äº†è§£requestï¼ˆä¸€æ¬¡è¯·æ±‚çš„èŒƒå›´ï¼‰ã€sessionï¼ˆä¸€æ¬¡ä¼šè¯çš„èŒƒå›´ï¼Œæµè§ˆå™¨çš„å¼€å¯å’Œå…³é—­ï¼‰ã€servletcontextï¼ˆä¹Ÿå«applicationï¼Œæ•´ä¸ªåº”ç”¨çš„èŒƒå›´ï¼ŒæœåŠ¡å™¨å¼€å¯åˆ°å…³é—­ï¼‰ä¸‰ä¸ªåŸŸå¯¹è±¡</p><h3 id="1ã€ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#1ã€ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="1ã€ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>1ã€ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testServletAPI&quot;)public String testServletAPI(HttpServletRequest request)&#123;    request.setAttribute(&quot;testScope&quot;, &quot;hello,servletAPI&quot;);    return &quot;success&quot;;&#125;</code></pre><h3 id="2ã€ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#2ã€ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="2ã€ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>2ã€ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testModelAndView&quot;)public ModelAndView testModelAndView()&#123;    /**     * ModelAndViewæœ‰Modelå’ŒViewçš„åŠŸèƒ½     * Modelä¸»è¦ç”¨äºå‘è¯·æ±‚åŸŸå…±äº«æ•°æ®     * Viewä¸»è¦ç”¨äºè®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬     */    ModelAndView mav = new ModelAndView();    //å‘è¯·æ±‚åŸŸå…±äº«æ•°æ®    mav.addObject(&quot;testScope&quot;, &quot;hello,ModelAndView&quot;);    //è®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬    mav.setViewName(&quot;success&quot;);    return mav;&#125;</code></pre><h3 id="3ã€ä½¿ç”¨Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#3ã€ä½¿ç”¨Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="3ã€ä½¿ç”¨Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>3ã€ä½¿ç”¨Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testModel&quot;)public String testModel(Model model)&#123;    model.addAttribute(&quot;testScope&quot;, &quot;hello,Model&quot;);    return &quot;success&quot;;&#125;</code></pre><h3 id="4ã€ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#4ã€ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="4ã€ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>4ã€ä½¿ç”¨mapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testMap&quot;)public String testMap(Map&lt;String, Object&gt; map)&#123;    map.put(&quot;testScope&quot;, &quot;hello,Map&quot;);    return &quot;success&quot;;&#125;</code></pre><h3 id="5ã€ä½¿ç”¨ModelMapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"><a href="#5ã€ä½¿ç”¨ModelMapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®" class="headerlink" title="5ã€ä½¿ç”¨ModelMapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®"></a>5ã€ä½¿ç”¨ModelMapå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testModelMap&quot;)public String testModelMap(ModelMap modelMap)&#123;    modelMap.addAttribute(&quot;testScope&quot;, &quot;hello,ModelMap&quot;);    return &quot;success&quot;;&#125;</code></pre><h3 id="6ã€Modelã€ModelMapã€Mapçš„å…³ç³»"><a href="#6ã€Modelã€ModelMapã€Mapçš„å…³ç³»" class="headerlink" title="6ã€Modelã€ModelMapã€Mapçš„å…³ç³»"></a>6ã€Modelã€ModelMapã€Mapçš„å…³ç³»</h3><p>é€šè¿‡åœ¨javaç¨‹åºä¸­è¾“å‡ºModelã€ModelMapã€Mapç±»å‹çš„å‚æ•°å¯ä»¥å‘ç°è¾“å‡ºçš„å†…å®¹å’Œæ•°æ®ç±»å‹éƒ½æ˜¯ä¸€æ ·ï¼Œå…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯ <code>BindingAwareModelMap</code> ç±»å‹çš„ï¼Œè€Œè¿™ä¸‰ç§ç±»å‹éƒ½æ˜¯<code>BindingAwareModelMap</code>çš„çˆ¶ç±»æˆ–å…¶çˆ¶ç±»å®ç°çš„æ¥å£ï¼Œå¹¶ä¸”è¿™ä¸‰ç§æ•°æ®ç±»å‹éƒ½æœ‰åŒä¸€ä¸ªè¢«é‡å†™çš„<code>toString</code>æ–¹æ³•</p><pre><code class="java">public class BindingAwareModelMap extends ExtendedModelMap &#123;&#125;public class ExtendedModelMap extends ModelMap implements Model &#123;&#125;public class ModelMap extends LinkedHashMap&lt;String, Object&gt; &#123;&#125;public interface Model&#123;&#125;public class LinkedHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements Map&lt;K,V&gt;&#123;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271358562.png' data-fancybox='default' data-caption='image-20220427135823738'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271358562.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271358562.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220427135823738"></a><span class='image-caption'>image-20220427135823738</span></div></div>t<p>é€šè¿‡ä¸Šå›¾å’Œä»£ç å¯ä»¥å‘ç°å…¶ä¸­çš„ç»§æ‰¿å’Œå®ç°å…³ç³»ï¼Œè€Œå…¶ä¸­è¿™ä¸‰ç§ç±»å‹çš„å‚æ•°æ‰€æ‹¥æœ‰çš„<code>toStirng</code>æ–¹æ³•éƒ½ç»§æ‰¿è‡ª<code>HashMap</code>ç±»</p><h3 id="7ã€å‘sessionåŸŸå…±äº«æ•°æ®"><a href="#7ã€å‘sessionåŸŸå…±äº«æ•°æ®" class="headerlink" title="7ã€å‘sessionåŸŸå…±äº«æ•°æ®"></a>7ã€å‘sessionåŸŸå…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testSession&quot;)public String testSession(HttpSession session)&#123;    session.setAttribute(&quot;testSessionScope&quot;, &quot;hello,session&quot;);    return &quot;success&quot;;&#125;</code></pre><h3 id="8ã€å‘applicationåŸŸå…±äº«æ•°æ®"><a href="#8ã€å‘applicationåŸŸå…±äº«æ•°æ®" class="headerlink" title="8ã€å‘applicationåŸŸå…±äº«æ•°æ®"></a>8ã€å‘applicationåŸŸå…±äº«æ•°æ®</h3><pre><code class="java">@RequestMapping(&quot;/testApplication&quot;)public String testApplication(HttpSession session)&#123;    ServletContext application = session.getServletContext();    application.setAttribute(&quot;testApplicationScope&quot;, &quot;hello,application&quot;);    return &quot;success&quot;;&#125;</code></pre><h1 id="å…­ã€SpringMVCçš„è§†å›¾"><a href="#å…­ã€SpringMVCçš„è§†å›¾" class="headerlink" title="å…­ã€SpringMVCçš„è§†å›¾"></a>å…­ã€SpringMVCçš„è§†å›¾</h1><p>SpringMVCä¸­çš„è§†å›¾æ˜¯Viewæ¥å£ï¼Œè§†å›¾çš„ä½œç”¨æ¸²æŸ“æ•°æ®ï¼Œå°†æ¨¡å‹Modelä¸­çš„æ•°æ®å±•ç¤ºç»™ç”¨æˆ·</p><p>SpringMVCè§†å›¾çš„ç§ç±»å¾ˆå¤šï¼Œé»˜è®¤æœ‰è½¬å‘è§†å›¾å’Œé‡å®šå‘è§†å›¾</p><p>å½“å·¥ç¨‹å¼•å…¥jstlçš„ä¾èµ–ï¼Œè½¬å‘è§†å›¾ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJstlView</p><p>è‹¥ä½¿ç”¨çš„è§†å›¾æŠ€æœ¯ä¸ºThymeleafï¼Œåœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†Thymeleafçš„è§†å›¾è§£æå™¨ï¼Œç”±æ­¤è§†å›¾è§£æå™¨è§£æä¹‹åæ‰€å¾—åˆ°çš„æ˜¯ThymeleafView</p><h3 id="1ã€ThymeleafView"><a href="#1ã€ThymeleafView" class="headerlink" title="1ã€ThymeleafView"></a>1ã€ThymeleafView</h3><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„<strong>è§†å›¾åç§°æ²¡æœ‰ä»»ä½•å‰ç¼€æ—¶</strong>ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè§†å›¾åç§°æ‹¼æ¥è§†å›¾å‰ç¼€å’Œè§†å›¾åç¼€æ‰€å¾—åˆ°çš„æœ€ç»ˆè·¯å¾„ï¼Œä¼šé€šè¿‡<strong>è½¬å‘</strong>çš„æ–¹å¼å®ç°è·³è½¬</p><pre><code class="java">@RequestMapping(&quot;/testHello&quot;)public String testHello()&#123;    return &quot;hello&quot;;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271408705.png' data-fancybox='default' data-caption='image-202204271408705'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271408705.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204271408705.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202204271408705"></a><span class='image-caption'>image-202204271408705</span></div></div><h3 id="2ã€è½¬å‘è§†å›¾"><a href="#2ã€è½¬å‘è§†å›¾" class="headerlink" title="2ã€è½¬å‘è§†å›¾"></a>2ã€è½¬å‘è§†å›¾</h3><p>SpringMVCä¸­<strong>é»˜è®¤çš„è½¬å‘è§†å›¾æ˜¯InternalResourceView</strong></p><p>SpringMVCä¸­åˆ›å»ºè½¬å‘è§†å›¾çš„æƒ…å†µï¼š</p><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥â€forward:â€ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºInternalResourceViewè§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†<strong>å‰ç¼€â€forward:â€å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬</strong></p><p>ä¾‹å¦‚â€forward:/â€œï¼Œâ€forward:/employeeâ€</p><pre><code class="java">@RequestMapping(&quot;/testForward&quot;)public String testForward()&#123;    return &quot;forward:/testHello&quot;;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041617834.png' data-fancybox='default' data-caption='image-202204271408705'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041617834.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041617834.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202204271408705"></a><span class='image-caption'>image-202204271408705</span></div></div><h3 id="3ã€é‡å®šå‘è§†å›¾"><a href="#3ã€é‡å®šå‘è§†å›¾" class="headerlink" title="3ã€é‡å®šå‘è§†å›¾"></a>3ã€é‡å®šå‘è§†å›¾</h3><p>SpringMVCä¸­é»˜è®¤çš„é‡å®šå‘è§†å›¾æ˜¯RedirectView</p><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥â€redirect:â€ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»ºRedirectViewè§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢«SpringMVCé…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†<strong>å‰ç¼€â€redirect:â€å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡é‡å®šå‘çš„æ–¹å¼å®ç°è·³è½¬</strong></p><p>ä¾‹å¦‚â€redirect:/â€œï¼Œâ€redirect:/employeeâ€</p><pre><code class="java">@RequestMapping(&quot;/testRedirect&quot;)public String testRedirect()&#123;    return &quot;redirect:/testHello&quot;;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041619137.png' data-fancybox='default' data-caption='image-202205041619137'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041619137.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041619137.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205041619137"></a><span class='image-caption'>image-202205041619137</span></div></div><blockquote><p>æ³¨ï¼š</p><p>é‡å®šå‘è§†å›¾åœ¨è§£ææ—¶ï¼Œä¼šå…ˆå°†redirect:å‰ç¼€å»æ‰ï¼Œç„¶åä¼šåˆ¤æ–­å‰©ä½™éƒ¨åˆ†æ˜¯å¦ä»¥/å¼€å¤´ï¼Œè‹¥æ˜¯åˆ™ä¼šè‡ªåŠ¨æ‹¼æ¥ä¸Šä¸‹æ–‡è·¯å¾„</p></blockquote><h3 id="4ã€å›é¡¾è½¬å‘å’Œé‡å®šå‘"><a href="#4ã€å›é¡¾è½¬å‘å’Œé‡å®šå‘" class="headerlink" title="4ã€å›é¡¾è½¬å‘å’Œé‡å®šå‘"></a>4ã€å›é¡¾è½¬å‘å’Œé‡å®šå‘</h3><p>åŒºåˆ«ï¼š</p><ol><li>URLåœ°å€é—®é¢˜<ul><li>è¯·æ±‚è½¬å‘<strong>ä¸ä¼šæ”¹å˜</strong>åœ°å€æ çš„URLåœ°å€</li><li>è¯·æ±‚é‡å®šå‘<strong>ä¼šæ”¹å˜</strong>åœ°å€æ çš„URLåœ°å€</li></ul></li><li>æ•°æ®å…±äº«é—®é¢˜<ul><li>è¯·æ±‚è½¬å‘çš„æ•°æ®å¤„ç†æ˜¯åœ¨<strong>åŒä¸€æ¬¡è¯·æ±‚</strong>ä¸­ï¼Œ<strong>å¯ä»¥</strong>ä½¿ç”¨requestå¯¹è±¡å®ç°<strong>æ•°æ®å…±äº«</strong>ã€‚</li><li>è¯·æ±‚é‡å®šå‘æ˜¯å‘æœåŠ¡å™¨å‘é€äº†<strong>ä¸¤æ¬¡è¯·æ±‚</strong>ï¼Œ<strong>ä¸èƒ½</strong>ä½¿ç”¨requestå¯¹è±¡å®ç°<strong>æ•°æ®å…±äº«</strong>ï¼Œæƒ³è¦è®©ä¸¤æ¬¡è¯·æ±‚æ•°æ®å…±äº«å¿…é¡»ä½¿ç”¨sessionå¯¹è±¡ã€‚</li></ul></li><li>æ•ˆç‡é—®é¢˜<ul><li>è¯·æ±‚<strong>è½¬å‘çš„æ•ˆç‡é«˜äºé‡å®šå‘</strong>(æœåŠ¡å™¨å†…éƒ¨çš„é¡µé¢è·³è½¬ &gt; å†æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚è°ƒç”¨servletå®Œæˆé¡µé¢è·³è½¬)</li></ul></li><li>æœ¬è´¨åŒºåˆ«<ul><li>è¯·æ±‚è½¬å‘æ˜¯<strong>å±äºè¯·æ±‚å¯¹è±¡</strong>çš„æ–¹æ³•ï¼ˆè°ƒç”¨HttpServletRequestå¯¹è±¡çš„æ–¹æ³•ï¼‰</li><li>è¯·æ±‚é‡å®šå‘æ˜¯<strong>å±äºå“åº”å¯¹è±¡</strong>çš„æ–¹æ³•ï¼ˆè°ƒç”¨HttpServletResponseå¯¹è±¡çš„æ–¹æ³•ï¼‰</li></ul></li></ol><p>ä½¿ç”¨æ—¶æœºï¼š</p><ul><li>è¯·æ±‚è½¬å‘ä¼šåœ¨æ¯æ¬¡åˆ·æ–°æ—¶ä¼šé‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œæ¯åˆ·æ–°ä¸€æ¬¡ï¼Œå°±é‡æ–°å‘é€ä¸€æ¬¡è¯·æ±‚ã€‚å¯¹äºè¡¨å•æäº¤æ¥è®²ï¼Œè‹¥æäº¤è¡¨å•åå†é‡æ–°åŠ è½½é¡µé¢ï¼Œä½¿ç”¨è½¬å‘å¯èƒ½ä¼šå¯¼è‡´ä¿¡æ¯çš„é‡å¤æäº¤ï¼Œå› æ­¤ï¼Œ<strong>è¡¨å•æäº¤éœ€è¦ä½¿ç”¨è¯·æ±‚é‡å®šå‘</strong></li><li>è¯·æ±‚è½¬å‘åªèƒ½è®¿é—®å½“å‰æœåŠ¡å™¨ä¸­çš„æŸäº›é¡µé¢ï¼Œå› æ­¤è‹¥è¦<strong>è®¿é—®å…¶ä»–æœåŠ¡å™¨ä¸Šçš„é¡µé¢ï¼Œéœ€è¦ä½¿ç”¨è¯·æ±‚é‡å®šå‘</strong></li></ul><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/weixin_43490440/article/details/100920817">https://blog.csdn.net/weixin_43490440/article/details/100920817</a></p><h3 id="5ã€è§†å›¾æ§åˆ¶å™¨view-controller"><a href="#5ã€è§†å›¾æ§åˆ¶å™¨view-controller" class="headerlink" title="5ã€è§†å›¾æ§åˆ¶å™¨view-controller"></a>5ã€è§†å›¾æ§åˆ¶å™¨view-controller</h3><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­ï¼Œä»…ä»…ç”¨æ¥å®ç°é¡µé¢è·³è½¬ï¼Œå³<strong>åªéœ€è¦è®¾ç½®è§†å›¾åç§°æ—¶ï¼Œå¯ä»¥å°†å¤„ç†å™¨æ–¹æ³•ä½¿ç”¨<code>view-controller</code>æ ‡ç­¾è¿›è¡Œè¡¨ç¤º</strong></p><pre><code class="xml">&lt;!--    pathï¼šè®¾ç½®å¤„ç†çš„è¯·æ±‚åœ°å€    view-nameï¼šè®¾ç½®è¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è§†å›¾åç§°--&gt;&lt;mvc:view-controller path=&quot;/testView&quot; view-name=&quot;success&quot;&gt;&lt;/mvc:view-controller&gt;</code></pre><blockquote><p>æ³¨ï¼š</p><p>å½“SpringMVCä¸­è®¾ç½®<strong>ä»»ä½•ä¸€ä¸ª</strong>view-controlleræ—¶ï¼Œå…¶ä»–<strong>æ§åˆ¶å™¨ä¸­çš„è¯·æ±‚æ˜ å°„å°†å…¨éƒ¨å¤±æ•ˆ</strong>ï¼Œæ­¤æ—¶éœ€è¦åœ¨SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¼€å¯mvcæ³¨è§£é©±åŠ¨çš„æ ‡ç­¾ï¼š**&lt;mvc:annotation-driven /&gt;**</p></blockquote><h3 id="6ã€é…ç½®jspæ–‡ä»¶çš„è§†å›¾è§£æ"><a href="#6ã€é…ç½®jspæ–‡ä»¶çš„è§†å›¾è§£æ" class="headerlink" title="6ã€é…ç½®jspæ–‡ä»¶çš„è§†å›¾è§£æ"></a>6ã€é…ç½®jspæ–‡ä»¶çš„è§†å›¾è§£æ</h3><pre><code class="xml">&lt;!--åœ¨springMVC.xmlé…ç½®æ–‡ä»¶ä¸­é…ç½®--&gt;&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    &lt;!-- è§†å›¾å‰ç¼€ --&gt;    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot;/&gt;    &lt;!-- è§†å›¾åç¼€ --&gt;    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;&lt;/bean&gt;&lt;!--å…¶ä½™é…ç½®éƒ½å’Œå‰é¢ä¸€æ ·--&gt;</code></pre><h1 id="ä¸ƒã€RESTful"><a href="#ä¸ƒã€RESTful" class="headerlink" title="ä¸ƒã€RESTful"></a>ä¸ƒã€RESTful</h1><h3 id="1ã€RESTfulç®€ä»‹"><a href="#1ã€RESTfulç®€ä»‹" class="headerlink" title="1ã€RESTfulç®€ä»‹"></a>1ã€RESTfulç®€ä»‹</h3><p>RESTï¼š<strong>Re</strong>presentational <strong>S</strong>tate <strong>T</strong>ransferï¼Œè¡¨ç°å±‚èµ„æºçŠ¶æ€è½¬ç§»ã€‚</p><h5 id="a-gt-èµ„æº"><a href="#a-gt-èµ„æº" class="headerlink" title="a&gt;èµ„æº"></a>a&gt;èµ„æº</h5><p>èµ„æºæ˜¯ä¸€ç§çœ‹å¾…æœåŠ¡å™¨çš„æ–¹å¼ï¼Œå³ï¼Œå°†æœåŠ¡å™¨çœ‹ä½œæ˜¯ç”±å¾ˆå¤šç¦»æ•£çš„èµ„æºç»„æˆã€‚æ¯ä¸ªèµ„æºæ˜¯æœåŠ¡å™¨ä¸Šä¸€ä¸ªå¯å‘½åçš„æŠ½è±¡æ¦‚å¿µã€‚å› ä¸ºèµ„æºæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ‰€ä»¥å®ƒä¸ä»…ä»…èƒ½ä»£è¡¨æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶ã€æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ç­‰ç­‰å…·ä½“çš„ä¸œè¥¿ï¼Œå¯ä»¥å°†èµ„æºè®¾è®¡çš„è¦å¤šæŠ½è±¡æœ‰å¤šæŠ½è±¡ï¼Œåªè¦æƒ³è±¡åŠ›å…è®¸è€Œä¸”å®¢æˆ·ç«¯åº”ç”¨å¼€å‘è€…èƒ½å¤Ÿç†è§£ã€‚ä¸é¢å‘å¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼Œèµ„æºæ˜¯ä»¥åè¯ä¸ºæ ¸å¿ƒæ¥ç»„ç»‡çš„ï¼Œé¦–å…ˆå…³æ³¨çš„æ˜¯åè¯ã€‚ä¸€ä¸ªèµ„æºå¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªURIæ¥æ ‡è¯†ã€‚URIæ—¢æ˜¯èµ„æºçš„åç§°ï¼Œä¹Ÿæ˜¯èµ„æºåœ¨Webä¸Šçš„åœ°å€ã€‚å¯¹æŸä¸ªèµ„æºæ„Ÿå…´è¶£çš„å®¢æˆ·ç«¯åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡èµ„æºçš„URIä¸å…¶è¿›è¡Œäº¤äº’ã€‚</p><h5 id="b-gt-èµ„æºçš„è¡¨è¿°"><a href="#b-gt-èµ„æºçš„è¡¨è¿°" class="headerlink" title="b&gt;èµ„æºçš„è¡¨è¿°"></a>b&gt;èµ„æºçš„è¡¨è¿°</h5><p>èµ„æºçš„è¡¨è¿°æ˜¯ä¸€æ®µå¯¹äºèµ„æºåœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»çš„çŠ¶æ€çš„æè¿°ã€‚å¯ä»¥åœ¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆäº¤æ¢ï¼‰ã€‚èµ„æºçš„è¡¨è¿°å¯ä»¥æœ‰å¤šç§æ ¼å¼ï¼Œä¾‹å¦‚HTML/XML/JSON/çº¯æ–‡æœ¬/å›¾ç‰‡/è§†é¢‘/éŸ³é¢‘ç­‰ç­‰ã€‚èµ„æºçš„è¡¨è¿°æ ¼å¼å¯ä»¥é€šè¿‡åå•†æœºåˆ¶æ¥ç¡®å®šã€‚è¯·æ±‚-å“åº”æ–¹å‘çš„è¡¨è¿°é€šå¸¸ä½¿ç”¨ä¸åŒçš„æ ¼å¼ã€‚</p><h5 id="c-gt-çŠ¶æ€è½¬ç§»"><a href="#c-gt-çŠ¶æ€è½¬ç§»" class="headerlink" title="c&gt;çŠ¶æ€è½¬ç§»"></a>c&gt;çŠ¶æ€è½¬ç§»</h5><p>çŠ¶æ€è½¬ç§»è¯´çš„æ˜¯ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆtransferï¼‰ä»£è¡¨èµ„æºçŠ¶æ€çš„è¡¨è¿°ã€‚é€šè¿‡è½¬ç§»å’Œæ“ä½œèµ„æºçš„è¡¨è¿°ï¼Œæ¥é—´æ¥å®ç°æ“ä½œèµ„æºçš„ç›®çš„ã€‚</p><h3 id="2ã€RESTfulçš„å®ç°"><a href="#2ã€RESTfulçš„å®ç°" class="headerlink" title="2ã€RESTfulçš„å®ç°"></a>2ã€RESTfulçš„å®ç°</h3><p>å…·ä½“è¯´ï¼Œå°±æ˜¯ HTTP åè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETã€POSTã€PUTã€DELETEã€‚</p><p>å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼šGET ç”¨æ¥è·å–èµ„æºï¼ŒPOST ç”¨æ¥æ–°å»ºèµ„æºï¼ŒPUT ç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETE ç”¨æ¥åˆ é™¤èµ„æºã€‚</p><p>REST é£æ ¼æå€¡ URL åœ°å€ä½¿ç”¨ç»Ÿä¸€çš„é£æ ¼è®¾è®¡ï¼Œä»å‰åˆ°åå„ä¸ªå•è¯ä½¿ç”¨æ–œæ åˆ†å¼€ï¼Œä¸ä½¿ç”¨é—®å·é”®å€¼å¯¹æ–¹å¼æºå¸¦è¯·æ±‚å‚æ•°ï¼Œè€Œæ˜¯å°†è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ä½œä¸º URL åœ°å€çš„ä¸€éƒ¨åˆ†ï¼Œä»¥ä¿è¯æ•´ä½“é£æ ¼çš„ä¸€è‡´æ€§ã€‚</p><table><thead><tr><th>æ“ä½œ</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>RESTé£æ ¼</th></tr></thead><tbody><tr><td>æŸ¥è¯¢æ“ä½œ</td><td>getUserById?id=1</td><td>user/1â€“&gt;getè¯·æ±‚æ–¹å¼</td></tr><tr><td>ä¿å­˜æ“ä½œ</td><td>saveUser</td><td>userâ€“&gt;postè¯·æ±‚æ–¹å¼</td></tr><tr><td>åˆ é™¤æ“ä½œ</td><td>deleteUser?id=1</td><td>user/1â€“&gt;deleteè¯·æ±‚æ–¹å¼</td></tr><tr><td>æ›´æ–°æ“ä½œ</td><td>updateUser</td><td>userâ€“&gt;putè¯·æ±‚æ–¹å¼</td></tr></tbody></table><h3 id="3ã€HiddenHttpMethodFilter"><a href="#3ã€HiddenHttpMethodFilter" class="headerlink" title="3ã€HiddenHttpMethodFilter"></a>3ã€HiddenHttpMethodFilter</h3><p>ç”±äºæµè§ˆå™¨åªæ”¯æŒå‘é€getå’Œpostæ–¹å¼çš„è¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å‘é€putå’Œdeleteè¯·æ±‚å‘¢ï¼Ÿ</p><p>SpringMVC æä¾›äº† <strong>HiddenHttpMethodFilter</strong> å¸®åŠ©æˆ‘ä»¬<strong>å°† POST è¯·æ±‚è½¬æ¢ä¸º DELETE æˆ– PUT è¯·æ±‚</strong></p><p>HiddenHttpMethodFilterçš„æºç éƒ¨åˆ†ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021551339.png' data-fancybox='default' data-caption='image-20220502155150101'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021551339.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021551339.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220502155150101"></a><span class='image-caption'>image-20220502155150101</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021552933.png' data-fancybox='default' data-caption='image-20220502155210796'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021552933.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205021552933.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220502155210796"></a><span class='image-caption'>image-20220502155210796</span></div></div><p>é€šè¿‡æºç å¯ä»¥å‘ç°<strong>HiddenHttpMethodFilter</strong> å¤„ç†putå’Œdeleteè¯·æ±‚çš„æ¡ä»¶ï¼š</p><p>a&gt;å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼<strong>å¿…é¡»ä¸ºpost</strong></p><p>b&gt;å½“å‰è¯·æ±‚<strong>å¿…é¡»ä¼ è¾“å‚æ•°åä¸º<code>_method</code>çš„å‚æ•°</strong></p><p>æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œ<strong>HiddenHttpMethodFilter</strong> è¿‡æ»¤å™¨å°±ä¼šå°†å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼postè½¬æ¢ä¸ºè¯·æ±‚å‚æ•°_methodçš„å€¼ï¼Œå› æ­¤è¯·æ±‚å‚æ•°_methodçš„å€¼æ‰æ˜¯æœ€ç»ˆçš„è¯·æ±‚æ–¹å¼</p><p>åœ¨web.xmlä¸­æ³¨å†Œ<strong>HiddenHttpMethodFilter</strong> </p><pre><code class="xml">&lt;filter&gt;    &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;/filter-class&gt;&lt;/filter&gt;&lt;filter-mapping&gt;    &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;</code></pre><pre><code class="html">&lt;!--æ¯”å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨ajaxçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦æäº¤ä¸€ä¸ªputè¯·æ±‚ï¼Œåªéœ€è¦å°†è¡¨å•æ–¹æ³•è®¾ç½®ä¸ºpostï¼Œç„¶åå†æ·»åŠ ä¸€ä¸ªéšè—åŸŸï¼Œæäº¤åä¸º_methodï¼Œå€¼ä¸ºputï¼Œç»è¿‡è¿‡æ»¤å™¨å¤„ç†åï¼Œè¿™ä¸ªè¯·æ±‚å°±ä¼šå˜æˆputè¯·æ±‚--&gt;&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot;&gt;    ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;    å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt;</code></pre><p>deleteè¯·æ±‚æ–¹å¼çš„å¤„ç†è§<a href="#5%E3%80%81%E5%85%B7%E4%BD%93%E5%8A%9F%E8%83%BD%EF%BC%9A%E5%88%A0%E9%99%A4">8.5èŠ‚</a></p><blockquote><p>æ³¨ï¼š</p><p>ç›®å‰ä¸ºæ­¢ï¼ŒSpringMVCä¸­æä¾›äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ï¼šCharacterEncodingFilterå’ŒHiddenHttpMethodFilter</p><p>åœ¨web.xmlä¸­æ³¨å†Œæ—¶ï¼Œ<strong>å¿…é¡»å…ˆæ³¨å†ŒCharacterEncodingFilterï¼Œå†æ³¨å†ŒHiddenHttpMethodFilter</strong></p><p>åŸå› ï¼š</p><ul><li><p>åœ¨ CharacterEncodingFilter ä¸­é€šè¿‡ request.setCharacterEncoding(encoding) æ–¹æ³•è®¾ç½®å­—ç¬¦é›†çš„</p></li><li><p>request.setCharacterEncoding(encoding) æ–¹æ³•è¦æ±‚å‰é¢<strong>ä¸èƒ½æœ‰ä»»ä½•è·å–è¯·æ±‚å‚æ•°çš„æ“ä½œ</strong></p></li><li><p>è€Œ HiddenHttpMethodFilter æ°æ°æœ‰ä¸€ä¸ªè·å–è¯·æ±‚æ–¹å¼çš„æ“ä½œï¼š</p></li><li><pre><code>String paramValue = request.getParameter(this.methodParam);</code></pre></li></ul></blockquote><h1 id="å…«ã€RESTfulæ¡ˆä¾‹"><a href="#å…«ã€RESTfulæ¡ˆä¾‹" class="headerlink" title="å…«ã€RESTfulæ¡ˆä¾‹"></a>å…«ã€RESTfulæ¡ˆä¾‹</h1><h3 id="1ã€å‡†å¤‡å·¥ä½œ"><a href="#1ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="1ã€å‡†å¤‡å·¥ä½œ"></a>1ã€å‡†å¤‡å·¥ä½œ</h3><p>å’Œä¼ ç»Ÿ CRUD ä¸€æ ·ï¼Œå®ç°å¯¹å‘˜å·¥ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥ã€‚</p><ul><li><p>æ­å»ºç¯å¢ƒ</p></li><li><p>å‡†å¤‡å®ä½“ç±»</p><pre><code class="java">package com.atguigu.mvc.bean;public class Employee &#123;   private Integer id;   private String lastName;   private String email;   //1 male, 0 female   private Integer gender;      public Integer getId() &#123;      return id;   &#125;   public void setId(Integer id) &#123;      this.id = id;   &#125;   public String getLastName() &#123;      return lastName;   &#125;   public void setLastName(String lastName) &#123;      this.lastName = lastName;   &#125;   public String getEmail() &#123;      return email;   &#125;   public void setEmail(String email) &#123;      this.email = email;   &#125;   public Integer getGender() &#123;      return gender;   &#125;   public void setGender(Integer gender) &#123;      this.gender = gender;   &#125;   public Employee(Integer id, String lastName, String email, Integer gender) &#123;      super();      this.id = id;      this.lastName = lastName;      this.email = email;      this.gender = gender;   &#125;   public Employee() &#123;   &#125;&#125;</code></pre></li><li><p>å‡†å¤‡daoæ¨¡æ‹Ÿæ•°æ®</p><pre><code class="java">package com.atguigu.mvc.dao;import java.util.Collection;import java.util.HashMap;import java.util.Map;import com.atguigu.mvc.bean.Employee;import org.springframework.stereotype.Repository;@Repositorypublic class EmployeeDao &#123;   private static Map&lt;Integer, Employee&gt; employees = null;      static&#123;      employees = new HashMap&lt;Integer, Employee&gt;();      employees.put(1001, new Employee(1001, &quot;E-AA&quot;, &quot;aa@163.com&quot;, 1));      employees.put(1002, new Employee(1002, &quot;E-BB&quot;, &quot;bb@163.com&quot;, 1));      employees.put(1003, new Employee(1003, &quot;E-CC&quot;, &quot;cc@163.com&quot;, 0));      employees.put(1004, new Employee(1004, &quot;E-DD&quot;, &quot;dd@163.com&quot;, 0));      employees.put(1005, new Employee(1005, &quot;E-EE&quot;, &quot;ee@163.com&quot;, 1));   &#125;      private static Integer initId = 1006;      public void save(Employee employee)&#123;      if(employee.getId() == null)&#123;         employee.setId(initId++);      &#125;      employees.put(employee.getId(), employee);   &#125;      public Collection&lt;Employee&gt; getAll()&#123;      return employees.values();   &#125;      public Employee get(Integer id)&#123;      return employees.get(id);   &#125;      public void delete(Integer id)&#123;      employees.remove(id);   &#125;&#125;</code></pre></li></ul><h3 id="2ã€åŠŸèƒ½æ¸…å•"><a href="#2ã€åŠŸèƒ½æ¸…å•" class="headerlink" title="2ã€åŠŸèƒ½æ¸…å•"></a>2ã€åŠŸèƒ½æ¸…å•</h3><table><thead><tr><th>åŠŸèƒ½</th><th>URL åœ°å€</th><th>è¯·æ±‚æ–¹å¼</th></tr></thead><tbody><tr><td>è®¿é—®é¦–é¡µâˆš</td><td>/</td><td>GET</td></tr><tr><td>æŸ¥è¯¢å…¨éƒ¨æ•°æ®âˆš</td><td>/employee</td><td>GET</td></tr><tr><td>åˆ é™¤âˆš</td><td>/employee/2</td><td>DELETE</td></tr><tr><td>è·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢âˆš</td><td>/toAdd</td><td>GET</td></tr><tr><td>æ‰§è¡Œä¿å­˜âˆš</td><td>/employee</td><td>POST</td></tr><tr><td>è·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢âˆš</td><td>/employee/2</td><td>GET</td></tr><tr><td>æ‰§è¡Œæ›´æ–°âˆš</td><td>/employee</td><td>PUT</td></tr></tbody></table><h3 id="3ã€å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ"><a href="#3ã€å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ" class="headerlink" title="3ã€å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ"></a>3ã€å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ</h3><h5 id="a-gt-é…ç½®view-controller"><a href="#a-gt-é…ç½®view-controller" class="headerlink" title="a&gt;é…ç½®view-controller"></a>a&gt;é…ç½®view-controller</h5><pre><code class="xml">&lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;index&quot;/&gt;</code></pre><h5 id="b-gt-åˆ›å»ºé¡µé¢"><a href="#b-gt-åˆ›å»ºé¡µé¢" class="headerlink" title="b&gt;åˆ›å»ºé¡µé¢"></a>b&gt;åˆ›å»ºé¡µé¢</h5><pre><code class="html">&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot; &gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;é¦–é¡µ&lt;/h1&gt;&lt;a th:href=&quot;@&#123;/employee&#125;&quot;&gt;è®¿é—®å‘˜å·¥ä¿¡æ¯&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="4ã€å…·ä½“åŠŸèƒ½ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®"><a href="#4ã€å…·ä½“åŠŸèƒ½ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®" class="headerlink" title="4ã€å…·ä½“åŠŸèƒ½ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®"></a>4ã€å…·ä½“åŠŸèƒ½ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®</h3><h5 id="a-gt-æ§åˆ¶å™¨æ–¹æ³•"><a href="#a-gt-æ§åˆ¶å™¨æ–¹æ³•" class="headerlink" title="a&gt;æ§åˆ¶å™¨æ–¹æ³•"></a>a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><pre><code class="java">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.GET)public String getEmployeeList(Model model)&#123;    Collection&lt;Employee&gt; employeeList = employeeDao.getAll();    model.addAttribute(&quot;employeeList&quot;, employeeList);    return &quot;employee_list&quot;;&#125;</code></pre><h5 id="b-gt-åˆ›å»ºemployee-list-html"><a href="#b-gt-åˆ›å»ºemployee-list-html" class="headerlink" title="b&gt;åˆ›å»ºemployee_list.html"></a>b&gt;åˆ›å»ºemployee_list.html</h5><pre><code class="html">&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Employee Info&lt;/title&gt;    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@&#123;/static/js/vue.js&#125;&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;    &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;text-align: center;&quot; id=&quot;dataTable&quot;&gt;        &lt;tr&gt;            &lt;th colspan=&quot;5&quot;&gt;Employee Info&lt;/th&gt;        &lt;/tr&gt;        &lt;tr&gt;            &lt;th&gt;id&lt;/th&gt;            &lt;th&gt;lastName&lt;/th&gt;            &lt;th&gt;email&lt;/th&gt;            &lt;th&gt;gender&lt;/th&gt;            &lt;th&gt;options(&lt;a th:href=&quot;@&#123;/toAdd&#125;&quot;&gt;add&lt;/a&gt;)&lt;/th&gt;        &lt;/tr&gt;        &lt;tr th:each=&quot;employee : $&#123;employeeList&#125;&quot;&gt;            &lt;td th:text=&quot;$&#123;employee.id&#125;&quot;&gt;&lt;/td&gt;            &lt;td th:text=&quot;$&#123;employee.lastName&#125;&quot;&gt;&lt;/td&gt;            &lt;td th:text=&quot;$&#123;employee.email&#125;&quot;&gt;&lt;/td&gt;            &lt;td th:text=&quot;$&#123;employee.gender&#125;&quot;&gt;&lt;/td&gt;            &lt;td&gt;                &lt;a class=&quot;deleteA&quot; @click=&quot;deleteEmployee&quot; th:href=&quot;@&#123;&#39;/employee/&#39;+$&#123;employee.id&#125;&#125;&quot;&gt;delete&lt;/a&gt;                &lt;a th:href=&quot;@&#123;&#39;/employee/&#39;+$&#123;employee.id&#125;&#125;&quot;&gt;update&lt;/a&gt;            &lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="5ã€å…·ä½“åŠŸèƒ½ï¼šåˆ é™¤"><a href="#5ã€å…·ä½“åŠŸèƒ½ï¼šåˆ é™¤" class="headerlink" title="5ã€å…·ä½“åŠŸèƒ½ï¼šåˆ é™¤"></a>5ã€å…·ä½“åŠŸèƒ½ï¼šåˆ é™¤</h3><h5 id="a-gt-åˆ›å»ºå¤„ç†deleteè¯·æ±‚æ–¹å¼çš„è¡¨å•"><a href="#a-gt-åˆ›å»ºå¤„ç†deleteè¯·æ±‚æ–¹å¼çš„è¡¨å•" class="headerlink" title="a&gt;åˆ›å»ºå¤„ç†deleteè¯·æ±‚æ–¹å¼çš„è¡¨å•"></a>a&gt;åˆ›å»ºå¤„ç†deleteè¯·æ±‚æ–¹å¼çš„è¡¨å•</h5><pre><code class="html">&lt;!-- ä½œç”¨ï¼šé€šè¿‡è¶…é“¾æ¥æ§åˆ¶è¡¨å•çš„æäº¤ï¼Œå°†postè¯·æ±‚è½¬æ¢ä¸ºdeleteè¯·æ±‚ --&gt;&lt;form id=&quot;delete_form&quot; method=&quot;post&quot;&gt;    &lt;!-- HiddenHttpMethodFilterè¦æ±‚ï¼šå¿…é¡»ä¼ è¾“_methodè¯·æ±‚å‚æ•°ï¼Œå¹¶ä¸”å€¼ä¸ºæœ€ç»ˆçš„è¯·æ±‚æ–¹å¼ --&gt;    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot;/&gt;&lt;/form&gt;</code></pre><h5 id="b-gt-åˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶"><a href="#b-gt-åˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶" class="headerlink" title="b&gt;åˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶"></a>b&gt;åˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶</h5><p>å¼•å…¥vue.js</p><pre><code class="html">&lt;script type=&quot;text/javascript&quot; th:src=&quot;@&#123;/static/js/vue.js&#125;&quot;&gt;&lt;/script&gt;</code></pre><p>åˆ é™¤è¶…é“¾æ¥</p><pre><code class="html">&lt;a class=&quot;deleteA&quot; @click=&quot;deleteEmployee&quot; th:href=&quot;@&#123;&#39;/employee/&#39;+$&#123;employee.id&#125;&#125;&quot;&gt;delete&lt;/a&gt;</code></pre><p>é€šè¿‡vueå¤„ç†ç‚¹å‡»äº‹ä»¶</p><pre><code class="html">&lt;script type=&quot;text/javascript&quot;&gt;    var vue = new Vue(&#123;        el:&quot;#dataTable&quot;,        methods:&#123;            //eventè¡¨ç¤ºå½“å‰äº‹ä»¶            deleteEmployee:function (event) &#123;                //é€šè¿‡idè·å–è¡¨å•æ ‡ç­¾                var delete_form = document.getElementById(&quot;delete_form&quot;);                //å°†è§¦å‘äº‹ä»¶çš„è¶…é“¾æ¥çš„hrefå±æ€§ä¸ºè¡¨å•çš„actionå±æ€§èµ‹å€¼                delete_form.action = event.target.href;                //æäº¤è¡¨å•                delete_form.submit();                //é˜»æ­¢è¶…é“¾æ¥çš„é»˜è®¤è·³è½¬è¡Œä¸º                event.preventDefault();            &#125;        &#125;    &#125;);&lt;/script&gt;</code></pre><h5 id="c-gt-æ§åˆ¶å™¨æ–¹æ³•"><a href="#c-gt-æ§åˆ¶å™¨æ–¹æ³•" class="headerlink" title="c&gt;æ§åˆ¶å™¨æ–¹æ³•"></a>c&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><pre><code class="java">@RequestMapping(value = &quot;/employee/&#123;id&#125;&quot;, method = RequestMethod.DELETE)public String deleteEmployee(@PathVariable(&quot;id&quot;) Integer id)&#123;    employeeDao.delete(id);    return &quot;redirect:/employee&quot;;&#125;</code></pre><p>æµ‹è¯•æ—¶å‘ç°vue.jsé™æ€èµ„æºæ‰¾ä¸åˆ°ï¼Œå¯¼è‡´å‘é€åˆ é™¤è¯·æ±‚æ—¶ä»æ˜¯å‘é€çš„getè¯·æ±‚ï¼ŒæŠ¥å‡º<code>method get not suppport</code>çš„é”™è¯¯ï¼Œè§£å†³æ–¹æ³•åˆ†ä¸¤æ­¥ï¼š</p><p>â‘ æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†<strong>é¡¹ç›®é‡æ–°æ‰“åŒ…</strong>åå†è¿è¡Œè€Œä¸æ˜¯ç›´æ¥é‡æ–°éƒ¨ç½²å°±å®Œäº‹äº†ï¼Œå› ä¸ºæˆ‘ä»¬åæ¥æ·»åŠ çš„vue.jsèµ„æºå¹¶æ²¡æœ‰è¢«æ‰“åŒ…åˆ°é¡¹ç›®ä¸­</p><p>â‘¡ç„¶åï¼Œé‡æ–°æ‰“åŒ…å†è¿è¡Œæµ‹è¯•æ—¶ï¼Œåœ¨æ§åˆ¶å°ä»ç„¶æŠ¥å‡ºæ‰¾ä¸åˆ°vue.jsçš„é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºå¤„ç†å‰ç«¯è¯·æ±‚çš„DispatcherServletä¸èƒ½å¤„ç†é™æ€èµ„æºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨<code>springMVC.xml</code>æ–‡ä»¶ä¸­<strong>æ·»åŠ <code>&lt;mvc:default-servlet-handler/&gt;</code>æ ‡ç­¾</strong>æ¥è®©springMVCä¸­çš„DefaultServletHttpRequestHandlerå¤„ç†å¯¹é™æ€èµ„æºçš„è¯·æ±‚</p><h3 id="6ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢"><a href="#6ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢" class="headerlink" title="6ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢"></a>6ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢</h3><h5 id="a-gt-é…ç½®view-controller-1"><a href="#a-gt-é…ç½®view-controller-1" class="headerlink" title="a&gt;é…ç½®view-controller"></a>a&gt;é…ç½®view-controller</h5><pre><code class="xml">&lt;mvc:view-controller path=&quot;/toAdd&quot; view-name=&quot;employee_add&quot;&gt;&lt;/mvc:view-controller&gt;</code></pre><h5 id="b-gt-åˆ›å»ºemployee-add-html"><a href="#b-gt-åˆ›å»ºemployee-add-html" class="headerlink" title="b&gt;åˆ›å»ºemployee_add.html"></a>b&gt;åˆ›å»ºemployee_add.html</h5><pre><code class="html">&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Add Employee&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form th:action=&quot;@&#123;/employee&#125;&quot; method=&quot;post&quot;&gt;    lastName:&lt;input type=&quot;text&quot; name=&quot;lastName&quot;&gt;&lt;br&gt;    email:&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br&gt;    gender:&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot;&gt;male    &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot;&gt;female&lt;br&gt;    &lt;input type=&quot;submit&quot; value=&quot;add&quot;&gt;&lt;br&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="7ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œä¿å­˜"><a href="#7ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œä¿å­˜" class="headerlink" title="7ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œä¿å­˜"></a>7ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œä¿å­˜</h3><h5 id="a-gt-æ§åˆ¶å™¨æ–¹æ³•-1"><a href="#a-gt-æ§åˆ¶å™¨æ–¹æ³•-1" class="headerlink" title="a&gt;æ§åˆ¶å™¨æ–¹æ³•"></a>a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><pre><code class="java">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.POST)public String addEmployee(Employee employee)&#123;    employeeDao.save(employee);    return &quot;redirect:/employee&quot;;&#125;</code></pre><h3 id="8ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢"><a href="#8ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢" class="headerlink" title="8ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢"></a>8ã€å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢</h3><h5 id="a-gt-ä¿®æ”¹è¶…é“¾æ¥"><a href="#a-gt-ä¿®æ”¹è¶…é“¾æ¥" class="headerlink" title="a&gt;ä¿®æ”¹è¶…é“¾æ¥"></a>a&gt;ä¿®æ”¹è¶…é“¾æ¥</h5><pre><code class="html">&lt;a th:href=&quot;@&#123;&#39;/employee/&#39;+$&#123;employee.id&#125;&#125;&quot;&gt;update&lt;/a&gt;</code></pre><h5 id="b-gt-æ§åˆ¶å™¨æ–¹æ³•"><a href="#b-gt-æ§åˆ¶å™¨æ–¹æ³•" class="headerlink" title="b&gt;æ§åˆ¶å™¨æ–¹æ³•"></a>b&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><pre><code class="java">@RequestMapping(value = &quot;/employee/&#123;id&#125;&quot;, method = RequestMethod.GET)public String getEmployeeById(@PathVariable(&quot;id&quot;) Integer id, Model model)&#123;    Employee employee = employeeDao.get(id);    model.addAttribute(&quot;employee&quot;, employee);    //æ­¤å¤„åº”è¯¥æ˜¯ä½¿ç”¨çš„è½¬å‘è¿›è¡Œè·³è½¬ï¼Œå› ä¸ºè¿›å…¥åˆ°æ›´æ”¹ä¿¡æ¯é¡µé¢æˆ‘ä»¬è¿˜ä¼šç”¨åˆ°è¿™æ¬¡è¯·æ±‚çš„æ•°æ®ï¼Œä½†æ˜¯å› ä¸ºé»˜è®¤å°±æ˜¯è½¬å‘è·³è½¬ï¼Œæ‰€ä»¥è¿™å„¿å°±æ²¡æœ‰åŠ å‰ç¼€forwrad    return &quot;employee_update&quot;;&#125;</code></pre><h5 id="c-gt-åˆ›å»ºemployee-update-html"><a href="#c-gt-åˆ›å»ºemployee-update-html" class="headerlink" title="c&gt;åˆ›å»ºemployee_update.html"></a>c&gt;åˆ›å»ºemployee_update.html</h5><pre><code class="html">&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Update Employee&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form th:action=&quot;@&#123;/employee&#125;&quot; method=&quot;post&quot;&gt;    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot;&gt;    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;$&#123;employee.id&#125;&quot;&gt;    lastName:&lt;input type=&quot;text&quot; name=&quot;lastName&quot; th:value=&quot;$&#123;employee.lastName&#125;&quot;&gt;&lt;br&gt;    email:&lt;input type=&quot;text&quot; name=&quot;email&quot; th:value=&quot;$&#123;employee.email&#125;&quot;&gt;&lt;br&gt;    &lt;!--        th:field=&quot;$&#123;employee.gender&#125;&quot;å¯ç”¨äºå•é€‰æ¡†æˆ–å¤é€‰æ¡†çš„å›æ˜¾        è‹¥å•é€‰æ¡†çš„valueå’Œemployee.genderçš„å€¼ä¸€è‡´ï¼Œåˆ™æ·»åŠ checked=&quot;checked&quot;å±æ€§    --&gt;    gender:&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot; th:field=&quot;$&#123;employee.gender&#125;&quot;&gt;male    &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot; th:field=&quot;$&#123;employee.gender&#125;&quot;&gt;female&lt;br&gt;    &lt;input type=&quot;submit&quot; value=&quot;update&quot;&gt;&lt;br&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="9ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œæ›´æ–°"><a href="#9ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œæ›´æ–°" class="headerlink" title="9ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œæ›´æ–°"></a>9ã€å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œæ›´æ–°</h3><h5 id="a-gt-æ§åˆ¶å™¨æ–¹æ³•-2"><a href="#a-gt-æ§åˆ¶å™¨æ–¹æ³•-2" class="headerlink" title="a&gt;æ§åˆ¶å™¨æ–¹æ³•"></a>a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><pre><code class="java">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.PUT)public String updateEmployee(Employee employee)&#123;    employeeDao.save(employee);    return &quot;redirect:/employee&quot;;&#125;</code></pre><h3 id="10ã€é™æ€èµ„æºå¤„ç†çš„è¿‡ç¨‹"><a href="#10ã€é™æ€èµ„æºå¤„ç†çš„è¿‡ç¨‹" class="headerlink" title="10ã€é™æ€èµ„æºå¤„ç†çš„è¿‡ç¨‹"></a>10ã€é™æ€èµ„æºå¤„ç†çš„è¿‡ç¨‹</h3><p>ç»è¿‡ç¬¬5ç‚¹æµ‹è¯•åˆ é™¤åŠŸèƒ½æ—¶æŠ¥é”™ï¼Œè¿™é‡Œç¨å¾®è¯¦ç»†è¯´ä¸€ä¸‹springmvcå¤„ç†é™æ€èµ„æºçš„è¿‡ç¨‹</p><p>åœ¨Tomcatä¸­æœ‰ä¸€ä¸ªweb.xmlæ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè®¾ç½®é»˜è®¤Servletå’Œæ˜ å°„è·¯å¾„çš„çš„è®¾ç½®ï¼š</p><pre><code class="xml">&lt;servlet&gt;    &lt;servlet-name&gt;default&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;    &lt;init-param&gt;        &lt;param-name&gt;debug&lt;/param-name&gt;        &lt;param-value&gt;0&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;init-param&gt;        &lt;param-name&gt;listings&lt;/param-name&gt;        &lt;param-value&gt;false&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;default&lt;/servlet-name&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;&lt;!--è¿™ä¸ªè®¾ç½®å°±è¡¨ç¤ºå°†æ‰€æœ‰è¯·æ±‚éƒ½äº¤ç»™DefaultServletè¿›è¡Œå¤„ç†--&gt;</code></pre><p>ä½†æ˜¯åœ¨é¡¹ç›®å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªweb.xmlæ–‡ä»¶è¿›è¡Œäº†é‡æ–°è®¾ç½®ï¼Œå³ä¸‹æ–¹é…ç½®ï¼Œå°†æ‰€æœ‰è¯·æ±‚éƒ½äº¤ç»™DispatcherServletè¿›è¡Œå¤„ç†ï¼Œæ­¤æ—¶Tomcatä¼šæ ¹æ®<strong>â€œå°±è¿‘åŸåˆ™â€</strong>ä½¿ç”¨é¡¹ç›®å·¥ç¨‹ä¸­çš„web.xmlæ–‡ä»¶é…ç½®ï¼Œä½†æ˜¯DispatcherServletåˆä¸èƒ½å¤„ç†é™æ€èµ„æºçš„è¯·æ±‚</p><pre><code class="xml">&lt;servlet&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    &lt;init-param&gt;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;        &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;</code></pre><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±åœ¨springmvcé…ç½®æ–‡ä»¶ä¸­æ·»åŠ äº†<code>&lt;mvc:default-servlet-handler/&gt;</code>æ ‡ç­¾ï¼Œè®©DispatcherServletå¤„ç†ä¸äº†çš„è¯·æ±‚äº¤ç»™DefaultServletå¤„ç†</p><p>ä½†æ˜¯<code>&lt;mvc:default-servlet-handler/&gt;</code>æ ‡ç­¾åˆå¿…é¡»å’Œ<code>&lt;mvc:annotation-driven/&gt;</code>æ ‡ç­¾é…åˆä½¿ç”¨ï¼Œå¦‚æœä¸ç”¨<code>&lt;mvc:annotation-driven/&gt;</code>æ ‡ç­¾ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„è¯·æ±‚åˆéƒ½ä¼šè¢«DefaultServletå¤„ç†ï¼Œè¿™æ ·å°±åªèƒ½å¤„ç†é™æ€èµ„æºçš„è¯·æ±‚ï¼Œå…¶å®ƒç”±æ³¨è§£é©±åŠ¨çš„è¯·æ±‚å°±éƒ½ä¸ä¼šè¢«å¤„ç†äº†ã€‚å¦‚æœåŠ ä¸Š<code>&lt;mvc:annotation-driven/&gt;</code>æ ‡ç­¾ï¼Œé‚£ä¹ˆè¯·æ±‚å°±éƒ½ä¼šå…ˆè¢«DispatcherServletå¤„ç†ï¼Œå¦‚æœå¤„ç†ä¸äº†å†äº¤ç»™DefaultServletå¤„ç†</p><h1 id="å…«ã€HttpMessageConverter"><a href="#å…«ã€HttpMessageConverter" class="headerlink" title="å…«ã€HttpMessageConverter"></a>å…«ã€HttpMessageConverter</h1><p>HttpMessageConverterï¼ŒæŠ¥æ–‡ä¿¡æ¯è½¬æ¢å™¨ï¼Œå°†è¯·æ±‚æŠ¥æ–‡è½¬æ¢ä¸ºJavaå¯¹è±¡ï¼Œæˆ–å°†Javaå¯¹è±¡è½¬æ¢ä¸ºå“åº”æŠ¥æ–‡</p><p>HttpMessageConverteræä¾›äº†ä¸¤ä¸ªæ³¨è§£å’Œä¸¤ä¸ªç±»å‹ï¼š@RequestBodyï¼Œ@ResponseBodyï¼ŒRequestEntityï¼Œ</p><p>ResponseEntity</p><h3 id="1ã€-RequestBody"><a href="#1ã€-RequestBody" class="headerlink" title="1ã€@RequestBody"></a>1ã€@RequestBody</h3><p>@RequestBodyå¯ä»¥è·å–è¯·æ±‚ä½“ï¼Œéœ€è¦åœ¨æ§åˆ¶å™¨æ–¹æ³•è®¾ç½®ä¸€ä¸ªå½¢å‚ï¼Œä½¿ç”¨@RequestBodyè¿›è¡Œæ ‡è¯†ï¼Œå½“å‰è¯·æ±‚çš„è¯·æ±‚ä½“å°±ä¼šä¸ºå½“å‰æ³¨è§£æ‰€æ ‡è¯†çš„å½¢å‚èµ‹å€¼</p><pre><code class="html">&lt;form th:action=&quot;@&#123;/testRequestBody&#125;&quot; method=&quot;post&quot;&gt;    ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;    å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;    &lt;input type=&quot;submit&quot;&gt;&lt;/form&gt;</code></pre><pre><code class="java">@RequestMapping(&quot;/testRequestBody&quot;)public String testRequestBody(@RequestBody String requestBody)&#123;    System.out.println(&quot;requestBody:&quot;+requestBody);    return &quot;success&quot;;&#125;</code></pre><p>è¾“å‡ºç»“æœï¼š</p><p>requestBody:username=admin&amp;password=123456</p><h3 id="2ã€RequestEntity"><a href="#2ã€RequestEntity" class="headerlink" title="2ã€RequestEntity"></a>2ã€RequestEntity</h3><p>RequestEntityå°è£…è¯·æ±‚æŠ¥æ–‡çš„ä¸€ç§ç±»å‹ï¼Œéœ€è¦åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä¸­è®¾ç½®è¯¥ç±»å‹çš„å½¢å‚ï¼Œ<strong>å½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡å°±ä¼šèµ‹å€¼ç»™è¯¥å½¢å‚</strong>ï¼Œå¯ä»¥é€šè¿‡getHeaders()è·å–è¯·æ±‚å¤´ä¿¡æ¯ï¼Œé€šè¿‡getBody()è·å–è¯·æ±‚ä½“ä¿¡æ¯</p><pre><code class="java">@RequestMapping(&quot;/testRequestEntity&quot;)public String testRequestEntity(RequestEntity&lt;String&gt; requestEntity)&#123;    //å½“å‰RequestEntityè¡¨ç¤ºæ•´ä¸ªè¯·æ±‚æŠ¥æ–‡ä¿¡æ¯    System.out.println(&quot;requestHeader:&quot;+requestEntity.getHeaders());    System.out.println(&quot;requestBody:&quot;+requestEntity.getBody());    return &quot;success&quot;;&#125;</code></pre><p>è¾“å‡ºç»“æœï¼š<br>requestHeader:[host:â€localhost:8080â€, connection:â€keep-aliveâ€, content-length:â€27â€, cache-control:â€max-age=0â€, sec-ch-ua:â€â€ Not A;Brandâ€;v=â€99â€, â€œChromiumâ€;v=â€90â€, â€œGoogle Chromeâ€;v=â€90â€â€, sec-ch-ua-mobile:â€?0â€, upgrade-insecure-requests:â€1â€, origin:â€<a href="http://localhost:8080&quot;">http://localhost:8080&quot;</a>, user-agent:â€Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36â€]<br>requestBody:username=admin&amp;password=123</p><h3 id="3ã€-ResponseBody"><a href="#3ã€-ResponseBody" class="headerlink" title="3ã€@ResponseBody"></a>3ã€@ResponseBody</h3><p>é€šè¿‡ServletAPIå“åº”æ•°æ®ç»™æµè§ˆå™¨</p><pre><code class="java">@RequestMapping(&quot;/testResponseBody&quot;)public String testResponseBody(HttpServletResponse response) throws IOException &#123;   response.getWriter().print(&quot;hello world&quot;);//å°†hello worldå“åº”ç»™æµè§ˆå™¨&#125;</code></pre><p>@ResponseBodyç”¨äºæ ‡è¯†ä¸€ä¸ªæ§åˆ¶å™¨æ–¹æ³•ï¼Œå¯ä»¥å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼ç›´æ¥ä½œä¸ºå“åº”æŠ¥æ–‡çš„å“åº”ä½“å“åº”åˆ°æµè§ˆå™¨</p><pre><code class="java">@RequestMapping(&quot;/testResponseBody&quot;)@ResponseBodypublic String testResponseBody()&#123;    return &quot;success&quot;;&#125;</code></pre><p>ç»“æœï¼šæµè§ˆå™¨é¡µé¢æ˜¾ç¤ºsuccessï¼Œè¿™ä¸ªå°±æ˜¯å°†successä½œä¸ºå“åº”æŠ¥æ–‡çš„å“åº”ä½“å“åº”åˆ°æµè§ˆå™¨ç„¶ååœ¨æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œä¸æ˜¯è¿”å›çš„success.htmlè¿™ä¸ªé¡µé¢</p><h3 id="4ã€SpringMVCå¤„ç†json"><a href="#4ã€SpringMVCå¤„ç†json" class="headerlink" title="4ã€SpringMVCå¤„ç†json"></a>4ã€SpringMVCå¤„ç†json</h3><p>@ResponseBodyå¤„ç†jsonçš„æ­¥éª¤ï¼š</p><p>a&gt;<strong>å¯¼å…¥jacksonçš„ä¾èµ–</strong></p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    &lt;version&gt;2.12.1&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>b&gt;åœ¨SpringMVCçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­<strong>å¼€å¯mvcçš„æ³¨è§£é©±åŠ¨</strong>ï¼Œæ­¤æ—¶åœ¨HandlerAdaptorä¸­ä¼šè‡ªåŠ¨è£…é…ä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨ï¼šMappingJackson2HttpMessageConverterï¼Œå¯ä»¥å°†å“åº”åˆ°æµè§ˆå™¨çš„Javaå¯¹è±¡è½¬æ¢ä¸ºJsonæ ¼å¼çš„å­—ç¬¦ä¸²</p><pre><code>&lt;mvc:annotation-driven /&gt;</code></pre><p>c&gt;åœ¨å¤„ç†å™¨æ–¹æ³•ä¸Šä½¿ç”¨**@ResponseBodyæ³¨è§£è¿›è¡Œæ ‡è¯†**</p><p>d&gt;å°†Javaå¯¹è±¡ç›´æ¥ä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œå°±ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJsonæ ¼å¼çš„<strong>å­—ç¬¦ä¸²</strong></p><pre><code class="java">@RequestMapping(&quot;/testResponseUser&quot;)@ResponseBodypublic User testResponseUser()&#123;    return new User(1001,&quot;admin&quot;,&quot;123456&quot;,23,&quot;ç”·&quot;);&#125;</code></pre><p>æµè§ˆå™¨çš„é¡µé¢ä¸­å±•ç¤ºçš„ç»“æœï¼š</p><p>{â€œidâ€:1001,â€usernameâ€:â€adminâ€,â€passwordâ€:â€123456â€,â€ageâ€:23,â€sexâ€:â€ç”·â€}</p><p><strong>å¤„ç†å“åº”ä¸­æ–‡ä¹±ç </strong></p><pre><code class="xml">&lt;mvc:annotation-driven&gt;    &lt;mvc:message-converters&gt;        &lt;!--å¤„ç†å“åº”ä¸­æ–‡ä¹±ç --&gt;        &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;            &lt;property name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;            &lt;property name=&quot;supportedMediaTypes&quot;&gt;                &lt;list&gt;                    &lt;value&gt;text/html&lt;/value&gt;                    &lt;value&gt;application/json&lt;/value&gt;                &lt;/list&gt;            &lt;/property&gt;        &lt;/bean&gt;    &lt;/mvc:message-converters&gt;&lt;/mvc:annotation-driven&gt;</code></pre><h3 id="5ã€SpringMVCå¤„ç†ajax"><a href="#5ã€SpringMVCå¤„ç†ajax" class="headerlink" title="5ã€SpringMVCå¤„ç†ajax"></a>5ã€SpringMVCå¤„ç†ajax</h3><p>a&gt;è¯·æ±‚è¶…é“¾æ¥ï¼š</p><pre><code class="html">&lt;div id=&quot;app&quot;&gt;    &lt;a th:href=&quot;@&#123;/testAjax&#125;&quot; @click=&quot;testAjax&quot;&gt;testAjax&lt;/a&gt;&lt;br&gt;&lt;/div&gt;</code></pre><p>b&gt;é€šè¿‡vueå’Œaxioså¤„ç†ç‚¹å‡»äº‹ä»¶ï¼š</p><pre><code class="html">&lt;script type=&quot;text/javascript&quot; th:src=&quot;@&#123;/static/js/vue.js&#125;&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; th:src=&quot;@&#123;/static/js/axios.min.js&#125;&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;    var vue = new Vue(&#123;        el:&quot;#app&quot;,        methods:&#123;            testAjax:function (event) &#123;                axios(&#123;                    method:&quot;post&quot;,                    url:event.target.href,                    params:&#123;                        username:&quot;admin&quot;,                        password:&quot;123456&quot;                    &#125;                &#125;).then(function (response) &#123;                    alert(response.data);                &#125;);                event.preventDefault();            &#125;        &#125;    &#125;);&lt;/script&gt;</code></pre><p>c&gt;æ§åˆ¶å™¨æ–¹æ³•ï¼š</p><pre><code class="java">@RequestMapping(&quot;/testAjax&quot;)@ResponseBodypublic String testAjax(String username, String password)&#123;    System.out.println(&quot;username:&quot;+username+&quot;,password:&quot;+password);    return &quot;hello,ajax&quot;;&#125;</code></pre><h3 id="6ã€-RestControlleræ³¨è§£"><a href="#6ã€-RestControlleræ³¨è§£" class="headerlink" title="6ã€@RestControlleræ³¨è§£"></a>6ã€@RestControlleræ³¨è§£</h3><p>@RestControlleræ³¨è§£æ˜¯springMVCæä¾›çš„ä¸€ä¸ªå¤åˆæ³¨è§£ï¼Œæ ‡è¯†åœ¨æ§åˆ¶å™¨çš„ç±»ä¸Šï¼Œå°±ç›¸å½“äºä¸ºç±»æ·»åŠ äº†@Controlleræ³¨è§£ï¼Œå¹¶ä¸”ä¸ºå…¶ä¸­çš„æ¯ä¸ªæ–¹æ³•æ·»åŠ äº†@ResponseBodyæ³¨è§£</p><h3 id="7ã€ResponseEntity"><a href="#7ã€ResponseEntity" class="headerlink" title="7ã€ResponseEntity"></a>7ã€ResponseEntity</h3><p>ResponseEntityç”¨äºæ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œè¯¥æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯å“åº”åˆ°æµè§ˆå™¨çš„å“åº”æŠ¥æ–‡</p><h1 id="ä¹ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#ä¹ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="ä¹ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>ä¹ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><h3 id="1ã€æ–‡ä»¶ä¸‹è½½"><a href="#1ã€æ–‡ä»¶ä¸‹è½½" class="headerlink" title="1ã€æ–‡ä»¶ä¸‹è½½"></a>1ã€æ–‡ä»¶ä¸‹è½½</h3><p>ä½¿ç”¨ResponseEntityå®ç°ä¸‹è½½æ–‡ä»¶çš„åŠŸèƒ½</p><pre><code class="java">@RequestMapping(&quot;/fileDown&quot;)    public ResponseEntity&lt;byte[]&gt; testResponseEntity(HttpSession session) throws IOException, IOException &#123;        //è·å–ServletContextå¯¹è±¡        ServletContext servletContext = session.getServletContext();        //è·å–æœåŠ¡å™¨ä¸­æ–‡ä»¶çš„çœŸå®è·¯å¾„        String realPath = servletContext.getRealPath(&quot;/static/file/about.md&quot;);        System.out.println(realPath);        //åˆ›å»ºè¾“å…¥æµ        InputStream is = new FileInputStream(realPath);        //åˆ›å»ºå­—èŠ‚æ•°ç»„        byte[] bytes = new byte[is.available()]; //is.available()æ˜¯è·å–åˆ°éœ€è¦ä¸‹è½½çš„æ–‡ä»¶çš„è¾“å…¥æµå­—èŠ‚å¤§å°        //å°†æµè¯»åˆ°å­—èŠ‚æ•°ç»„ä¸­        is.read(bytes);        //åˆ›å»ºHttpHeaderså¯¹è±¡è®¾ç½®å“åº”å¤´ä¿¡æ¯        MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();        //è®¾ç½®è¦ä¸‹è½½æ–¹å¼ä»¥åŠä¸‹è½½æ–‡ä»¶çš„åå­—        headers.add(&quot;Content-Disposition&quot;, &quot;attachment;filename=about.md&quot;); //è¿™å„¿é™¤äº†filenameçš„å€¼éœ€è¦æ”¹å˜ï¼Œå…¶ä»–éƒ½æ˜¯å›ºå®šæ ¼å¼        //è®¾ç½®å“åº”çŠ¶æ€ç         HttpStatus statusCode = HttpStatus.OK;        //åˆ›å»ºResponseEntityå¯¹è±¡        ResponseEntity&lt;byte[]&gt; responseEntity = new ResponseEntity&lt;&gt;(bytes, headers, statusCode);        //å…³é—­è¾“å…¥æµ        is.close();        return responseEntity;    &#125;</code></pre><h3 id="2ã€æ–‡ä»¶ä¸Šä¼ "><a href="#2ã€æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="2ã€æ–‡ä»¶ä¸Šä¼ "></a>2ã€æ–‡ä»¶ä¸Šä¼ </h3><p>æ–‡ä»¶ä¸Šä¼ è¦æ±‚formè¡¨å•çš„è¯·æ±‚æ–¹å¼å¿…é¡»ä¸ºpostï¼Œå¹¶ä¸”æ·»åŠ å±æ€§enctype=â€multipart/form-dataâ€</p><pre><code class="html">&lt;form th:action=&quot;@&#123;/fileUpload&#125;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;    å¤´åƒï¼š&lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;    &lt;input type=&quot;submit&quot; value=&quot;ä¸Šä¼ &quot;&gt;&lt;/form&gt;</code></pre><p>SpringMVCä¸­å°†ä¸Šä¼ çš„æ–‡ä»¶å°è£…åˆ°MultipartFileå¯¹è±¡ä¸­ï¼Œé€šè¿‡æ­¤å¯¹è±¡å¯ä»¥è·å–æ–‡ä»¶ç›¸å…³ä¿¡æ¯</p><p><strong>ä¸Šä¼ æ­¥éª¤ï¼š</strong></p><p>a&gt;æ·»åŠ ä¾èµ–ï¼š</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;    &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>b&gt;åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ï¼š</p><pre><code class="xml">&lt;!--å¿…é¡»é€šè¿‡æ–‡ä»¶è§£æå™¨çš„è§£ææ‰èƒ½å°†æ–‡ä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡ï¼Œè€Œä¸”è¦åŠ ä¸Šidï¼Œå› ä¸ºspringæ˜¯é€šè¿‡idæ¥è¾¨è®¤æ³¨å…¥beançš„--&gt;&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;/&gt;</code></pre><p>c&gt;æ§åˆ¶å™¨æ–¹æ³•ï¼š</p><pre><code class="java">@RequestMapping(&quot;/fileUpload&quot;)public String testUpoad(MultipartFile file,HttpSession session) throws IOException &#123; //è¿™å„¿çš„MultipartFileç±»å‹çš„å½¢å‚åå¿…é¡»è¦å’Œè¡¨å•ä¸­ä¸Šä¼ æ–‡ä»¶çš„inputæ ‡ç­¾çš„nameå±æ€§å€¼ä¸€æ ·ï¼Œå¦åˆ™å°±ç®—åŠ ä¸Šäº†æ–‡ä»¶è§£æå™¨ä¹Ÿä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸    //è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„æ–‡ä»¶å    String fileName = file.getOriginalFilename();    //å¤„ç†æ–‡ä»¶é‡åé—®é¢˜    String hzName = fileName.substring(fileName.lastIndexOf(&quot;.&quot;));    fileName = UUID.randomUUID().toString() + hzName;    //è·å–æœåŠ¡å™¨ä¸­fileç›®å½•çš„è·¯å¾„    ServletContext servletContext = session.getServletContext();    String filePath = servletContext.getRealPath(&quot;/static/file&quot;);    File path = new File(filePath);    if(!path.exists())&#123;        path.mkdir();    &#125;    String finalPath = path + File.separator + fileName;    //å®ç°ä¸Šä¼ åŠŸèƒ½    file.transferTo(new File(finalPath));    return &quot;success&quot;;&#125;</code></pre><h1 id="åã€æ‹¦æˆªå™¨"><a href="#åã€æ‹¦æˆªå™¨" class="headerlink" title="åã€æ‹¦æˆªå™¨"></a>åã€æ‹¦æˆªå™¨</h1><p>æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨ã€ç›‘å¬å™¨çš„æ‰§è¡Œé¡ºåºï¼šç›‘å¬å™¨ -&gt; è¿‡æ»¤å™¨ -&gt; æ‹¦æˆªå™¨ -&gt; servletæ‰§è¡Œ -&gt; æ‹¦æˆªå™¨ -&gt; è¿‡æ»¤å™¨ -&gt; ç›‘å¬å™¨  </p><p>æ‹¦æˆªå™¨ä½œç”¨äºcontrollerå‰å</p><h3 id="1ã€æ‹¦æˆªå™¨çš„é…ç½®"><a href="#1ã€æ‹¦æˆªå™¨çš„é…ç½®" class="headerlink" title="1ã€æ‹¦æˆªå™¨çš„é…ç½®"></a>1ã€æ‹¦æˆªå™¨çš„é…ç½®</h3><p>SpringMVCä¸­çš„æ‹¦æˆªå™¨ç”¨äºæ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œ</p><p>SpringMVCä¸­çš„æ‹¦æˆªå™¨éœ€è¦<strong>å®ç°HandlerInterceptoræ¥å£</strong></p><p>SpringMVCçš„æ‹¦æˆªå™¨å¿…é¡»<strong>åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</strong>ï¼š</p><pre><code class="xml">&lt;!--é¦–å…ˆè¦å…ˆåˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨ç±»ï¼Œå®ç°HandlerInterceptoræ¥å£--&gt;&lt;!--ç„¶ååœ¨springMVCé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®--&gt;&lt;mvc:interceptors&gt;    &lt;bean class=&quot;com.springMVC.interceptor.FirstInterceptor&quot;/&gt;&lt;/mvc:interceptors&gt;&lt;mvc:interceptors&gt;    &lt;!--è¿™ç§é…ç½®æ–¹å¼éœ€è¦å…ˆåœ¨æ‹¦æˆªå™¨ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£ï¼Œå¹¶ä¸”ç¡®ä¿èƒ½è¢«æ‰«æåˆ°--&gt;    &lt;ref bean=&quot;firstInterceptor&quot;&gt;&lt;/ref&gt;&lt;/mvc:interceptors&gt;&lt;!-- ä»¥ä¸Šä¸¤ç§é…ç½®æ–¹å¼éƒ½æ˜¯å¯¹DispatcherServletæ‰€å¤„ç†çš„æ‰€æœ‰çš„è¯·æ±‚è¿›è¡Œæ‹¦æˆª --&gt;&lt;mvc:interceptor&gt;    &lt;mvc:mapping path=&quot;/**&quot;/&gt;    &lt;mvc:exclude-mapping path=&quot;/testRequestEntity&quot;/&gt;    &lt;ref bean=&quot;firstInterceptor&quot;&gt;&lt;/ref&gt;&lt;/mvc:interceptor&gt;&lt;!--     ä»¥ä¸Šé…ç½®æ–¹å¼å¯ä»¥é€šè¿‡refæˆ–beanæ ‡ç­¾è®¾ç½®æ‹¦æˆªå™¨ï¼Œé€šè¿‡mvc:mappingè®¾ç½®éœ€è¦æ‹¦æˆªçš„è¯·æ±‚ï¼Œé€šè¿‡mvc:exclude-mappingè®¾ç½®éœ€è¦æ’é™¤çš„è¯·æ±‚ï¼Œå³ä¸éœ€è¦æ‹¦æˆªçš„è¯·æ±‚--&gt;</code></pre><h3 id="2ã€æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•"><a href="#2ã€æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•" class="headerlink" title="2ã€æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•"></a>2ã€æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•</h3><p>SpringMVCä¸­çš„æ‹¦æˆªå™¨æœ‰ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•ï¼š</p><p>preHandleï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡ŒpreHandle()ï¼Œå…¶booleanç±»å‹çš„è¿”å›å€¼è¡¨ç¤ºæ˜¯å¦æ‹¦æˆªæˆ–æ”¾è¡Œï¼Œè¿”å›trueä¸ºæ”¾è¡Œï¼Œå³è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•ï¼›è¿”å›falseè¡¨ç¤ºæ‹¦æˆªï¼Œå³ä¸è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•</p><p>postHandleï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡ŒpostHandle()</p><p>afterComplationï¼šå¤„ç†å®Œè§†å›¾å’Œæ¨¡å‹æ•°æ®ï¼Œæ¸²æŸ“è§†å›¾å®Œæ¯•ä¹‹åæ‰§è¡ŒafterComplation()</p><p><code>DispatcherServlet</code>ç±»ä¸­<code>doDispatch</code>æ–¹æ³•çš„æºç ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031624239.png' data-fancybox='default' data-caption='image-20220503162430030'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031624239.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031624239.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503162430030"></a><span class='image-caption'>image-20220503162430030</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031626055.png' data-fancybox='default' data-caption='image-20220503162649914'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031626055.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031626055.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503162649914"></a><span class='image-caption'>image-20220503162649914</span></div></div><h3 id="3ã€å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"><a href="#3ã€å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="3ã€å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"></a>3ã€å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº</h3><p>a&gt;<strong>è‹¥æ¯ä¸ªæ‹¦æˆªå™¨çš„preHandle()éƒ½è¿”å›true</strong></p><p>æ­¤æ—¶å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºå’Œæ‹¦æˆªå™¨åœ¨SpringMVCçš„é…ç½®æ–‡ä»¶çš„<strong>é…ç½®é¡ºåºæœ‰å…³</strong>ï¼š</p><p>preHandle()ä¼šæŒ‰ç…§é…ç½®çš„é¡ºåºæ‰§è¡Œï¼Œè€ŒpostHandle()å’ŒafterComplation()ä¼šæŒ‰ç…§é…ç½®çš„ååºæ‰§è¡Œ</p><p><strong>æºç åˆ†æï¼š</strong>ï¼ˆæˆ‘æ‰€ä½¿ç”¨çš„jdkç‰ˆæœ¬è·Ÿè€å¸ˆçš„ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æºç ä¹Ÿæœ‰äº›ä¸ä¸€æ ·ï¼‰</p><p>â‘ é¦–å…ˆæ˜¯æ‹¦æˆªå™¨çš„<code>preHandle</code>æ–¹æ³•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031742887.png' data-fancybox='default' data-caption='image-20220503174247758'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031742887.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031742887.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503174247758"></a><span class='image-caption'>image-20220503174247758</span></div></div><p>è¿›å…¥åˆ°<code>applyPreHandle</code>æ–¹æ³•ä¸­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031748688.png' data-fancybox='default' data-caption='image-20220503174811560'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031748688.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031748688.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503174811560"></a><span class='image-caption'>image-20220503174811560</span></div></div><p>ä»ä¸Šæ–¹ç¨‹åºå¯ä»¥çœ‹å‡ºï¼Œå½“æ¯ä¸ªæ‹¦æˆªå™¨çš„<code>preHandle</code>æ–¹æ³•è¿”å›çš„éƒ½æ˜¯trueï¼Œé‚£ä¹ˆ<code>applyPreHandle</code>æ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯trueï¼Œå°±ä¼šç»§ç»­æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031753300.png' data-fancybox='default' data-caption='image-20220503175340203'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031753300.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031753300.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503175340203"></a><span class='image-caption'>image-20220503175340203</span></div></div><p>åœ¨<code>applyPostHandle</code>æ–¹æ³•ä¸­ï¼Œå¯ä»¥çœ‹å‡ºæ‹¦æˆªå™¨çš„<code>postHandle</code>æ–¹æ³•å°±æ˜¯æŒ‰æ‹¦æˆªå™¨çš„é…ç½®é¡ºåºçš„å€’åºè¿›è¡Œæ‰§è¡Œçš„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031755939.png' data-fancybox='default' data-caption='image-20220503175522838'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031755939.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031755939.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503175522838"></a><span class='image-caption'>image-20220503175522838</span></div></div><p>åˆ°äº†æœ€åå¤„ç†å¥½æ•°æ®å’Œæ¸²æŸ“è§†å›¾ä¹‹åï¼Œå°±å¼€å§‹è°ƒç”¨æ‰§è¡Œæ‹¦æˆªå™¨çš„<code>afterCompletion</code>æ–¹æ³•ï¼ŒåŒæ ·ï¼Œè¿™å„¿ä¹Ÿæ˜¯ç›´æ¥æŒ‰å€’åºè¿›è¡Œè°ƒç”¨æ‰§è¡Œçš„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031759480.png' data-fancybox='default' data-caption='image-20220503175910374'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031759480.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205031759480.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220503175910374"></a><span class='image-caption'>image-20220503175910374</span></div></div><p>æ‰€ä»¥ï¼Œæœ€åæ‰§è¡Œçš„é¡ºåºå³ï¼š</p><pre><code class="xml">æ‹¦æˆªå™¨é…ç½®é¡ºåºï¼š&lt;mvc:interceptors&gt;    &lt;bean class=&quot;com.springMVC.interceptor.FirstInterceptor&quot;/&gt;    &lt;bean class=&quot;com.springMVC.interceptor.SecondInterceptor&quot;/&gt;&lt;/mvc:interceptors&gt;FirstInterceptor ---&gt;  preHandleSecondInterceptor ---&gt;  preHandleSecondInterceptor ---&gt;  postHandleFirstInterceptor ---&gt;  postHandleSecondInterceptor ---&gt;  afterCompletionFirstInterceptor ---&gt;  afterCompletion</code></pre><p>b&gt;<strong>è‹¥æŸä¸ªæ‹¦æˆªå™¨çš„preHandle()è¿”å›äº†false</strong></p><p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†<strong>ä¸‰ä¸ª</strong>æ‹¦æˆªå™¨è¿›è¡Œæµ‹è¯•</p><p>å¦‚æœç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨çš„<code>preHandle()</code>å°±è¿”å›falseï¼Œé‚£ä¹ˆåªä¼šæ‰§è¡Œå®Œç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨çš„<code>preHandle</code>æ–¹æ³•ï¼š</p><pre><code class="java">FirstInterceptor ---&gt;  preHandle</code></pre><p>å¦‚æœæ˜¯ç¬¬äºŒä¸ªæ‹¦æˆªå™¨çš„<code>preHandle()</code>è¿”å›falseï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨çš„<code>postHandle</code>æ–¹æ³•ä¸ä¼šæ‰§è¡Œï¼Œä½†ä¼šæ‰§è¡Œ<code>afterCompletion</code>æ–¹æ³•ï¼›è€Œç¬¬äºŒä¸ªæ‹¦æˆªå™¨å°±åªä¼šæ‰§è¡Œ<code>preHandle</code>æ–¹æ³•</p><pre><code class="java">FirstInterceptor ---&gt;  preHandleSecondInterceptor ---&gt;  preHandleFirstInterceptor ---&gt;  afterCompletion</code></pre><p>å¦‚æœæ˜¯ç¬¬ä¸‰ä¸ªæ‹¦æˆªå™¨çš„<code>preHandle()</code>è¿”å›falseï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ‹¦æˆªå™¨çš„<code>postHandle</code>æ–¹æ³•ä¸ä¼šæ‰§è¡Œï¼Œä½†ä¼šæ‰§è¡Œ<code>afterCompletion</code>æ–¹æ³•ï¼›è€Œç¬¬ä¸‰ä¸ªæ‹¦æˆªå™¨å°±åªä¼šæ‰§è¡Œ<code>preHandle</code>æ–¹æ³•</p><pre><code class="java">FirstInterceptor ---&gt;  preHandleSecondInterceptor ---&gt;  preHandleThirdInterceptor ---&gt; preHandleSecondInterceptor ---&gt;  afterCompletionFirstInterceptor ---&gt;  afterCompletion</code></pre><p><strong>æ€»ç»“ï¼špreHandle()è¿”å›falseå’Œå®ƒä¹‹å‰çš„æ‹¦æˆªå™¨çš„preHandle()æ–¹æ³•éƒ½ä¼šæ‰§è¡Œï¼Œè¿”å›falseä¹‹å‰çš„æ‹¦æˆªå™¨çš„afterComplation()ä¹Ÿä¼šæ‰§è¡Œè€Œä¸”æ˜¯æŒ‰é€†åºæ‰§è¡Œï¼Œä½†æ˜¯postHandle()éƒ½ä¸æ‰§è¡Œï¼Œè€Œåœ¨è¿”å›falseçš„æ‹¦æˆªå™¨ä¹‹åçš„æ‹¦æˆªå™¨æ‰€æœ‰æ–¹æ³•éƒ½ä¸æ‰§è¡Œ</strong></p><h1 id="åä¸€ã€å¼‚å¸¸å¤„ç†å™¨"><a href="#åä¸€ã€å¼‚å¸¸å¤„ç†å™¨" class="headerlink" title="åä¸€ã€å¼‚å¸¸å¤„ç†å™¨"></a>åä¸€ã€å¼‚å¸¸å¤„ç†å™¨</h1><h3 id="1ã€åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†"><a href="#1ã€åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†" class="headerlink" title="1ã€åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†"></a>1ã€åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†</h3><p>SpringMVCæä¾›äº†ä¸€ä¸ªå¤„ç†æ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€å‡ºç°çš„å¼‚å¸¸çš„æ¥å£ï¼šHandlerExceptionResolver</p><p>HandlerExceptionResolveræ¥å£çš„å®ç°ç±»æœ‰ï¼šDefaultHandlerExceptionResolverå’ŒSimpleMappingExceptionResolver</p><p>SpringMVCæä¾›äº†è‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†å™¨SimpleMappingExceptionResolverï¼Œä½¿ç”¨æ–¹å¼ï¼š</p><pre><code class="xml">&lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt;    &lt;property name=&quot;exceptionMappings&quot;&gt;        &lt;props&gt;            &lt;!--                propertiesçš„é”®è¡¨ç¤ºå¤„ç†å™¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸                propertiesçš„å€¼è¡¨ç¤ºè‹¥å‡ºç°æŒ‡å®šå¼‚å¸¸æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„è§†å›¾åç§°ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢            --&gt;            &lt;prop key=&quot;java.lang.ArithmeticException&quot;&gt;error&lt;/prop&gt; &lt;!--å½“å‡ºç°ArithmeticExceptionå¼‚å¸¸æ—¶å°±ä¼šè·³è½¬åˆ°errorè§†å›¾é¡µé¢--&gt;        &lt;/props&gt;    &lt;/property&gt;    &lt;!--        exceptionAttributeå±æ€§è®¾ç½®ä¸€ä¸ªå±æ€§åï¼Œå°†å‡ºç°çš„å¼‚å¸¸ä¿¡æ¯åœ¨è¯·æ±‚åŸŸä¸­è¿›è¡Œå…±äº«        ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿”å›erroré¡µé¢ä½¿ç”¨&lt;p th:text=&quot;$&#123;ex&#125;&quot;&gt;&lt;/p&gt;çš„æ–¹å¼å°†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥    --&gt;    &lt;property name=&quot;exceptionAttribute&quot; value=&quot;ex&quot;&gt;&lt;/property&gt;&lt;/bean&gt;</code></pre><h3 id="2ã€åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†"><a href="#2ã€åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†" class="headerlink" title="2ã€åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†"></a>2ã€åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†</h3><pre><code class="java">//@ControllerAdviceå°†å½“å‰ç±»æ ‡è¯†ä¸ºå¼‚å¸¸å¤„ç†çš„ç»„ä»¶@ControllerAdvicepublic class ExceptionController &#123;    //@ExceptionHandlerç”¨äºè®¾ç½®æ‰€æ ‡è¯†æ–¹æ³•å¤„ç†çš„å¼‚å¸¸    @ExceptionHandler(ArithmeticException.class)  //valueå¯ä»¥æ˜¯ä¸€ä¸ªå¼‚å¸¸æ•°ç»„ï¼Œvalue=&#123;&#125;    //exè¡¨ç¤ºå½“å‰è¯·æ±‚å¤„ç†ä¸­å‡ºç°çš„å¼‚å¸¸å¯¹è±¡    public String handleArithmeticException(Exception ex, Model model)&#123;        model.addAttribute(&quot;ex&quot;, ex);        return &quot;error&quot;;    &#125;&#125;</code></pre><h1 id="åäºŒã€æ³¨è§£é…ç½®SpringMVC"><a href="#åäºŒã€æ³¨è§£é…ç½®SpringMVC" class="headerlink" title="åäºŒã€æ³¨è§£é…ç½®SpringMVC"></a>åäºŒã€æ³¨è§£é…ç½®SpringMVC</h1><p>ä½¿ç”¨é…ç½®ç±»å’Œæ³¨è§£ä»£æ›¿web.xmlå’ŒSpringMVCé…ç½®æ–‡ä»¶çš„åŠŸèƒ½</p><h3 id="1ã€åˆ›å»ºåˆå§‹åŒ–ç±»ï¼Œä»£æ›¿web-xml"><a href="#1ã€åˆ›å»ºåˆå§‹åŒ–ç±»ï¼Œä»£æ›¿web-xml" class="headerlink" title="1ã€åˆ›å»ºåˆå§‹åŒ–ç±»ï¼Œä»£æ›¿web.xml"></a>1ã€åˆ›å»ºåˆå§‹åŒ–ç±»ï¼Œä»£æ›¿web.xml</h3><p>åœ¨Servlet3.0ç¯å¢ƒä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾<strong>å®ç°javax.servlet.ServletContainerInitializeræ¥å£çš„ç±»</strong>ï¼Œå¦‚æœæ‰¾åˆ°çš„è¯å°±ç”¨å®ƒæ¥é…ç½®Servletå®¹å™¨ã€‚<br>Springæä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œåä¸ºSpringServletContainerInitializerï¼Œè¿™ä¸ªç±»åè¿‡æ¥åˆä¼šæŸ¥æ‰¾<strong>å®ç°WebApplicationInitializerçš„ç±»</strong>å¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™å®ƒä»¬æ¥å®Œæˆã€‚Spring3.2å¼•å…¥äº†ä¸€ä¸ªä¾¿åˆ©çš„WebApplicationInitializeråŸºç¡€å®ç°ï¼Œåä¸º<code>AbstractAnnotationConfigDispatcherServletInitializer</code>ï¼Œå½“æˆ‘ä»¬çš„ç±»æ‰©å±•äº†AbstractAnnotationConfigDispatcherServletInitializerå¹¶å°†å…¶éƒ¨ç½²åˆ°<strong>Servlet3.0å®¹å™¨</strong>çš„æ—¶å€™ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å‘ç°å®ƒï¼Œå¹¶ç”¨å®ƒæ¥é…ç½®Servletä¸Šä¸‹æ–‡</p><pre><code class="java">//webå·¥ç¨‹çš„åˆå§‹åŒ–é…ç½®ç±»ï¼Œä»£æ›¿web.xmlpublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer &#123;    /**     * æŒ‡å®šspringçš„é…ç½®ç±»     * @return     */    @Override    protected Class&lt;?&gt;[] getRootConfigClasses() &#123;        return new Class[]&#123;SpringConfig.class&#125;;    &#125;    /**     * æŒ‡å®šSpringMVCçš„é…ç½®ç±»     * @return     */    @Override    protected Class&lt;?&gt;[] getServletConfigClasses() &#123;        return new Class[]&#123;WebConfig.class&#125;;    &#125;    /**     * æŒ‡å®šDispatcherServletçš„æ˜ å°„è§„åˆ™ï¼Œå³url-pattern     * @return     */    @Override    protected String[] getServletMappings() &#123;        return new String[]&#123;&quot;/&quot;&#125;;    &#125;    /**     * æ·»åŠ è¿‡æ»¤å™¨     * @return     */    @Override    protected Filter[] getServletFilters() &#123;        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();        encodingFilter.setEncoding(&quot;UTF-8&quot;);        encodingFilter.setForceRequestEncoding(true);        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();        return new Filter[]&#123;encodingFilter, hiddenHttpMethodFilter&#125;;    &#125;&#125;</code></pre><h3 id="2ã€åˆ›å»ºSpringConfigé…ç½®ç±»ï¼Œä»£æ›¿springçš„é…ç½®æ–‡ä»¶"><a href="#2ã€åˆ›å»ºSpringConfigé…ç½®ç±»ï¼Œä»£æ›¿springçš„é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€åˆ›å»ºSpringConfigé…ç½®ç±»ï¼Œä»£æ›¿springçš„é…ç½®æ–‡ä»¶"></a>2ã€åˆ›å»ºSpringConfigé…ç½®ç±»ï¼Œä»£æ›¿springçš„é…ç½®æ–‡ä»¶</h3><pre><code class="java">@Configurationpublic class SpringConfig &#123;    //ssmæ•´åˆä¹‹åï¼Œspringçš„é…ç½®ä¿¡æ¯å†™åœ¨æ­¤ç±»ä¸­    //ä¹Ÿå¯ä»¥å‚è€ƒä¹‹å‰çš„Springç¬”è®°&#125;</code></pre><h3 id="3ã€åˆ›å»ºWebConfigé…ç½®ç±»ï¼Œä»£æ›¿SpringMVCçš„é…ç½®æ–‡ä»¶"><a href="#3ã€åˆ›å»ºWebConfigé…ç½®ç±»ï¼Œä»£æ›¿SpringMVCçš„é…ç½®æ–‡ä»¶" class="headerlink" title="3ã€åˆ›å»ºWebConfigé…ç½®ç±»ï¼Œä»£æ›¿SpringMVCçš„é…ç½®æ–‡ä»¶"></a>3ã€åˆ›å»ºWebConfigé…ç½®ç±»ï¼Œä»£æ›¿SpringMVCçš„é…ç½®æ–‡ä»¶</h3><pre><code class="java">//ä»£æ›¿SpringMVCé…ç½®æ–‡ä»¶//1ã€æ‰«æç»„ä»¶//2ã€å¼€å¯MVCæ³¨è§£é©±åŠ¨//3ã€è§†å›¾è§£æå™¨//4ã€view-controller//5ã€default-servlet-handler//6ã€æ–‡ä»¶ä¸Šä¼ è§£æå™¨//7ã€å¼‚å¸¸å¤„ç†//8ã€æ‹¦æˆªå™¨@Configuration@ComponentScan(&quot;com.springMVC&quot;)  //1ã€æ‰«æç»„ä»¶@EnableWebMvc  //2ã€å¼€å¯MVCæ³¨è§£é©±åŠ¨public class WebConfig implements WebMvcConfigurer &#123;    //3ã€è§†å›¾è§£æå™¨  é…ç½®ç”Ÿæˆæ¨¡æ¿è§£æå™¨    @Bean    public ITemplateResolver templateResolver() &#123;        WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext();        // ServletContextTemplateResolveréœ€è¦ä¸€ä¸ªServletContextä½œä¸ºæ„é€ å‚æ•°ï¼Œå¯é€šè¿‡WebApplicationContext çš„æ–¹æ³•è·å¾—        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(webApplicationContext.getServletContext());        templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);        templateResolver.setSuffix(&quot;.html&quot;);        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);        templateResolver.setTemplateMode(TemplateMode.HTML);        return templateResolver;    &#125;    //ç”Ÿæˆæ¨¡æ¿å¼•æ“å¹¶ä¸ºæ¨¡æ¿å¼•æ“æ³¨å…¥æ¨¡æ¿è§£æå™¨    @Bean    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) &#123;        SpringTemplateEngine templateEngine = new SpringTemplateEngine();        templateEngine.setTemplateResolver(templateResolver);        return templateEngine;    &#125;    //ç”Ÿæˆè§†å›¾è§£æå™¨å¹¶æœªè§£æå™¨æ³¨å…¥æ¨¡æ¿å¼•æ“    @Bean    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) &#123;        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);        viewResolver.setTemplateEngine(templateEngine);        return viewResolver;    &#125;    //4ã€view-controller  é…ç½®è§†å›¾æ§åˆ¶    @Override    public void addViewControllers(ViewControllerRegistry registry) &#123;        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);    &#125;    //5ã€default-servlet-handler  ä½¿ç”¨é»˜è®¤çš„servletå¤„ç†é™æ€èµ„æº    @Override    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) &#123;        configurer.enable();    &#125;    //6ã€é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨    @Bean    public CommonsMultipartResolver multipartResolver()&#123;        return new CommonsMultipartResolver();    &#125;    //7ã€å¼‚å¸¸å¤„ç†    @Override    public void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) &#123;        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();        Properties prop = new Properties();        prop.setProperty(&quot;java.lang.ArithmeticException&quot;, &quot;error&quot;);        //è®¾ç½®å¼‚å¸¸æ˜ å°„        exceptionResolver.setExceptionMappings(prop);        //è®¾ç½®å…±äº«å¼‚å¸¸ä¿¡æ¯çš„é”®        exceptionResolver.setExceptionAttribute(&quot;exceptionInfo&quot;);        resolvers.add(exceptionResolver);    &#125;    //8ã€é…ç½®æ‹¦æˆªå™¨    @Override    public void addInterceptors(InterceptorRegistry registry) &#123;        FirstInterceptor firstInterceptor = new FirstInterceptor();        registry.addInterceptor(firstInterceptor).addPathPatterns(&quot;/**&quot;);    &#125;&#125;</code></pre><h1 id="åä¸‰ã€SpringMVCæ‰§è¡Œæµç¨‹"><a href="#åä¸‰ã€SpringMVCæ‰§è¡Œæµç¨‹" class="headerlink" title="åä¸‰ã€SpringMVCæ‰§è¡Œæµç¨‹"></a>åä¸‰ã€SpringMVCæ‰§è¡Œæµç¨‹</h1><h3 id="1ã€SpringMVCå¸¸ç”¨ç»„ä»¶"><a href="#1ã€SpringMVCå¸¸ç”¨ç»„ä»¶" class="headerlink" title="1ã€SpringMVCå¸¸ç”¨ç»„ä»¶"></a>1ã€SpringMVCå¸¸ç”¨ç»„ä»¶</h3><ul><li>DispatcherServletï¼š<strong>å‰ç«¯æ§åˆ¶å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šç»Ÿä¸€å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œ<strong>æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒ</strong>ï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p><ul><li>HandlerMappingï¼š<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šæ ¹æ®è¯·æ±‚çš„urlã€methodç­‰ä¿¡æ¯<strong>æŸ¥æ‰¾Handler</strong>ï¼Œå³æ§åˆ¶å™¨æ–¹æ³•ï¼ˆcontrollerï¼‰</p><ul><li>Handlerï¼š<strong>å¤„ç†å™¨</strong>ï¼Œéœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼ˆå³å¹³æ—¶å†™çš„controlleræ–¹æ³•ï¼‰</li></ul><p>ä½œç”¨ï¼šåœ¨DispatcherServletçš„æ§åˆ¶ä¸‹Handlerå¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†</p><ul><li>HandlerAdapterï¼š<strong>å¤„ç†å™¨é€‚é…å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šé€šè¿‡HandlerAdapterå¯¹å¤„ç†å™¨ï¼ˆæ§åˆ¶å™¨æ–¹æ³•ï¼‰è¿›è¡Œæ‰§è¡Œ</p><p>å³åœ¨ä¸€ä¸ªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±<code>HandlerMapping</code>è´Ÿè´£æ‰¾åˆ°æˆ‘ä»¬çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œç„¶åäº¤ç»™<code>HandlerAdapter</code>å»è°ƒç”¨æ‰§è¡Œ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041607107.png' data-fancybox='default' data-caption='image-20220504160653908'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041607107.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041607107.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504160653908"></a><span class='image-caption'>image-20220504160653908</span></div></div><ul><li>ViewResolverï¼š<strong>è§†å›¾è§£æå™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šè¿›è¡Œè§†å›¾è§£æï¼Œå¾—åˆ°ç›¸åº”çš„è§†å›¾ï¼Œä¾‹å¦‚ï¼šThymeleafViewã€InternalResourceViewã€RedirectView</p><ul><li>Viewï¼š<strong>è§†å›¾</strong></li></ul><p>ä½œç”¨ï¼šå°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·</p><h3 id="2ã€DispatcherServletåˆå§‹åŒ–è¿‡ç¨‹"><a href="#2ã€DispatcherServletåˆå§‹åŒ–è¿‡ç¨‹" class="headerlink" title="2ã€DispatcherServletåˆå§‹åŒ–è¿‡ç¨‹"></a>2ã€DispatcherServletåˆå§‹åŒ–è¿‡ç¨‹</h3><p>DispatcherServlet æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Servletï¼Œæ‰€ä»¥å¤©ç„¶çš„éµå¾ª Servlet çš„ç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥å®è§‚ä¸Šæ˜¯ Servlet ç”Ÿå‘½å‘¨æœŸæ¥è¿›è¡Œè°ƒåº¦ã€‚</p><p>ç»§æ‰¿å…³ç³»ï¼š</p><pre><code class="java">public class DispatcherServlet extends FrameworkServlet&#123;&#125;        â†“ç»§æ‰¿public abstract class FrameworkServlet extends HttpServletBean implements ApplicationContextAware &#123;&#125;        â†“ç»§æ‰¿public abstract class HttpServletBean extends HttpServlet implements EnvironmentCapable, EnvironmentAware &#123;&#125;        â†“ç»§æ‰¿public abstract class HttpServlet extends GenericServlet &#123;&#125;        â†“ç»§æ‰¿public abstract class GenericServlet implements Servlet, ServletConfig, Serializable &#123;&#125;        â†“ç»§æ‰¿public interface Servlet &#123;&#125;</code></pre><p>åˆå§‹åŒ–å¤§è‡´è¿‡ç¨‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041736600.png' data-fancybox='default' data-caption='image-20220504173626189'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041736600.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041736600.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504173626189"></a><span class='image-caption'>image-20220504173626189</span></div></div><p><strong>æ³¨ï¼š</strong>åœ¨ç¬¬å…­æ­¥ä¸­ï¼Œåº”è¯¥æ˜¯<code>initServletBean</code>å»è°ƒç”¨<code>initWebApplicationContext</code>æ–¹æ³•ï¼Œç„¶åå†ç”±<code>initWebApplicationContext</code>æ–¹æ³•å»è°ƒç”¨<code>createWebApplicationContext</code>æ–¹æ³•ï¼›å¦å¤–ï¼Œåœ¨ç¬¬ä¹æ­¥ä¸­ï¼Œ<code>DispatcherServlet</code>çš„<code>onRefresh</code>æ–¹æ³•åº”è¯¥æ˜¯å»è°ƒç”¨è‡ªå·±çš„<code>initStrategies</code>æ–¹æ³•ï¼Œåœ¨<code>initStrategies</code>ä¸­æ‰è¿›è¡Œå„ç§åˆå§‹åŒ–ï¼ˆç”»å›¾æ—¶ç”±äºæ˜¯é€šè¿‡æˆªå±è¿›è¡Œç¼–è¾‘çš„ï¼Œä¸­é—´åˆä¸èƒ½é€€å‡ºï¼Œè®°ä¸æ¸…è¿‡ç¨‹å°±æ¼æ‰äº†ï¼‰</p><p>ä¸‹æ–¹æ˜¯æºç ä¸­çš„<strong>åˆå§‹åŒ–å®ç°è¿‡ç¨‹</strong>ï¼ˆä»<code>FrameworkServlet</code>çš„<code>initServletBean</code>æ–¹æ³•å¼€å§‹ï¼‰</p><h5 id="a-gt-åˆå§‹åŒ–WebApplicationContext"><a href="#a-gt-åˆå§‹åŒ–WebApplicationContext" class="headerlink" title="a&gt;åˆå§‹åŒ–WebApplicationContext"></a>a&gt;åˆå§‹åŒ–WebApplicationContext</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>FrameworkServlet</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041747431.png' data-fancybox='default' data-caption='image-20220504174714246'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041747431.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041747431.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504174714246"></a><span class='image-caption'>image-20220504174714246</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041748976.png' data-fancybox='default' data-caption='image-20220504174859776'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041748976.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041748976.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504174859776"></a><span class='image-caption'>image-20220504174859776</span></div></div><h5 id="b-gt-åˆ›å»ºWebApplicationContext"><a href="#b-gt-åˆ›å»ºWebApplicationContext" class="headerlink" title="b&gt;åˆ›å»ºWebApplicationContext"></a>b&gt;åˆ›å»ºWebApplicationContext</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>FrameworkServlet</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041751760.png' data-fancybox='default' data-caption='image-20220504175104551'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041751760.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041751760.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504175104551"></a><span class='image-caption'>image-20220504175104551</span></div></div><h5 id="c-gt-DispatcherServletåˆå§‹åŒ–ç­–ç•¥"><a href="#c-gt-DispatcherServletåˆå§‹åŒ–ç­–ç•¥" class="headerlink" title="c&gt;DispatcherServletåˆå§‹åŒ–ç­–ç•¥"></a>c&gt;DispatcherServletåˆå§‹åŒ–ç­–ç•¥</h5><p>FrameworkServletåˆ›å»ºWebApplicationContextåï¼Œåˆ·æ–°å®¹å™¨ï¼Œè°ƒç”¨onRefresh(wac)</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041755059.png' data-fancybox='default' data-caption='image-20220504175511923'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041755059.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041755059.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504175511923"></a><span class='image-caption'>image-20220504175511923</span></div></div><p>æ­¤æ–¹æ³•åœ¨DispatcherServletä¸­è¿›è¡Œäº†é‡å†™ï¼Œè°ƒç”¨äº†initStrategies(context)æ–¹æ³•ï¼Œåˆå§‹åŒ–ç­–ç•¥ï¼Œå³åˆå§‹åŒ–DispatcherServletçš„å„ä¸ªç»„ä»¶</p><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>DispatcherServlet</strong></p><pre><code class="java">protected void initStrategies(ApplicationContext context) &#123;   initMultipartResolver(context);   initLocaleResolver(context);   initThemeResolver(context);   initHandlerMappings(context);   initHandlerAdapters(context);   initHandlerExceptionResolvers(context);   initRequestToViewNameTranslator(context);   initViewResolvers(context);   initFlashMapManager(context);&#125;</code></pre><h3 id="3ã€DispatcherServletè°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚"><a href="#3ã€DispatcherServletè°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚" class="headerlink" title="3ã€DispatcherServletè°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚"></a>3ã€DispatcherServletè°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚</h3><p>å¤„ç†è¯·æ±‚çš„å¤§è‡´æµç¨‹å›¾ï¼š</p><p>ï¼ˆç¬¬ä¸€ä¸ªæ¡†é”™äº†ï¼Œåº”è¯¥æ˜¯serviceæ–¹æ³•ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041851763.png' data-fancybox='default' data-caption='image-20220504185121356'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041851763.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041851763.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220504185121356"></a><span class='image-caption'>image-20220504185121356</span></div></div><h5 id="a-gt-processRequest"><a href="#a-gt-processRequest" class="headerlink" title="a&gt;processRequest()"></a>a&gt;processRequest()</h5><p>FrameworkServleté‡å†™HttpServletä¸­çš„service()å’ŒdoXxx()ï¼Œè¿™äº›æ–¹æ³•æœ€ç»ˆéƒ½ä¼šå»è°ƒç”¨processRequest(HttpServletRequest, HttpServletResponse)</p><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>FrameworkServlet</strong></p><pre><code class="java">protected final void processRequest(HttpServletRequest request, HttpServletResponse response)    throws ServletException, IOException &#123;    long startTime = System.currentTimeMillis();    Throwable failureCause = null;    LocaleContext previousLocaleContext = LocaleContextHolder.getLocaleContext();    LocaleContext localeContext = buildLocaleContext(request);    RequestAttributes previousAttributes = RequestContextHolder.getRequestAttributes();    ServletRequestAttributes requestAttributes = buildRequestAttributes(request, response, previousAttributes);    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new RequestBindingInterceptor());    initContextHolders(request, localeContext, requestAttributes);    try &#123;        // æ‰§è¡ŒæœåŠ¡ï¼Œè°ƒç”¨doService()æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåœ¨DispatcherServletä¸­è¿›è¡Œäº†é‡å†™        doService(request, response);    &#125;    catch (ServletException | IOException ex) &#123;        failureCause = ex;        throw ex;    &#125;    catch (Throwable ex) &#123;        failureCause = ex;        throw new NestedServletException(&quot;Request processing failed&quot;, ex);    &#125;    finally &#123;        resetContextHolders(request, previousLocaleContext, previousAttributes);        if (requestAttributes != null) &#123;            requestAttributes.requestCompleted();        &#125;        logResult(request, response, failureCause, asyncManager);        publishRequestHandledEvent(request, response, startTime, failureCause);    &#125;&#125;</code></pre><h5 id="b-gt-doService"><a href="#b-gt-doService" class="headerlink" title="b&gt;doService()"></a>b&gt;doService()</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>DispatcherServlet</strong></p><pre><code class="java">@Overrideprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;    logRequest(request);    // Keep a snapshot of the request attributes in case of an include,    // to be able to restore the original attributes after the include.    Map&lt;String, Object&gt; attributesSnapshot = null;    if (WebUtils.isIncludeRequest(request)) &#123;        attributesSnapshot = new HashMap&lt;&gt;();        Enumeration&lt;?&gt; attrNames = request.getAttributeNames();        while (attrNames.hasMoreElements()) &#123;            String attrName = (String) attrNames.nextElement();            if (this.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) &#123;                attributesSnapshot.put(attrName, request.getAttribute(attrName));            &#125;        &#125;    &#125;    // Make framework objects available to handlers and view objects.    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver);    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver);    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());    if (this.flashMapManager != null) &#123;        FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response);        if (inputFlashMap != null) &#123;            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));        &#125;        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap());        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager);    &#125;    RequestPath requestPath = null;    if (this.parseRequestPath &amp;&amp; !ServletRequestPathUtils.hasParsedRequestPath(request)) &#123;        requestPath = ServletRequestPathUtils.parseAndCache(request);    &#125;    try &#123;        // è°ƒç”¨doDispatch()æ–¹æ³•å¤„ç†è¯·æ±‚å’Œå“åº”        doDispatch(request, response);    &#125;    finally &#123;        if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123;            // Restore the original attribute snapshot, in case of an include.            if (attributesSnapshot != null) &#123;                restoreAttributesAfterInclude(request, attributesSnapshot);            &#125;        &#125;        if (requestPath != null) &#123;            ServletRequestPathUtils.clearParsedRequestPath(request);        &#125;    &#125;&#125;</code></pre><h5 id="c-gt-doDispatch"><a href="#c-gt-doDispatch" class="headerlink" title="c&gt;doDispatch()"></a>c&gt;doDispatch()</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.<strong>DispatcherServlet</strong></p><pre><code class="java">protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;    HttpServletRequest processedRequest = request;    HandlerExecutionChain mappedHandler = null;    boolean multipartRequestParsed = false;    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);    try &#123;        ModelAndView mv = null;        Exception dispatchException = null;        try &#123;            processedRequest = checkMultipart(request);            multipartRequestParsed = (processedRequest != request);            // Determine handler for the current request.            /*                mappedHandlerï¼šè°ƒç”¨é“¾                åŒ…å«handlerã€interceptorListã€interceptorIndex                handlerï¼šæµè§ˆå™¨å‘é€çš„è¯·æ±‚æ‰€åŒ¹é…çš„æ§åˆ¶å™¨æ–¹æ³•                interceptorListï¼šå¤„ç†æ§åˆ¶å™¨æ–¹æ³•çš„æ‰€æœ‰æ‹¦æˆªå™¨é›†åˆ                interceptorIndexï¼šæ‹¦æˆªå™¨ç´¢å¼•ï¼Œæ§åˆ¶æ‹¦æˆªå™¨afterCompletion()çš„æ‰§è¡Œ            */            mappedHandler = getHandler(processedRequest);            if (mappedHandler == null) &#123;                noHandlerFound(processedRequest, response);                return;            &#125;            // Determine handler adapter for the current request.               // é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•åˆ›å»ºç›¸åº”çš„å¤„ç†å™¨é€‚é…å™¨ï¼Œè°ƒç”¨æ‰€å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•            HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());            // Process last-modified header, if supported by the handler.            String method = request.getMethod();            boolean isGet = &quot;GET&quot;.equals(method);            if (isGet || &quot;HEAD&quot;.equals(method)) &#123;                long lastModified = ha.getLastModified(request, mappedHandler.getHandler());                if (new ServletWebRequest(request, response).checkNotModified(lastModified) &amp;&amp; isGet) &#123;                    return;                &#125;            &#125;                        // è°ƒç”¨æ‹¦æˆªå™¨çš„preHandle()            if (!mappedHandler.applyPreHandle(processedRequest, response)) &#123;                return;            &#125;            // Actually invoke the handler.            // ç”±å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨å…·ä½“çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œæœ€ç»ˆè·å¾—ModelAndViewå¯¹è±¡            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());            if (asyncManager.isConcurrentHandlingStarted()) &#123;                return;            &#125;            applyDefaultViewName(processedRequest, mv);            // è°ƒç”¨æ‹¦æˆªå™¨çš„postHandle()            mappedHandler.applyPostHandle(processedRequest, response, mv);        &#125;        catch (Exception ex) &#123;            dispatchException = ex;        &#125;        catch (Throwable err) &#123;            // As of 4.3, we&#39;re processing Errors thrown from handler methods as well,            // making them available for @ExceptionHandler methods and other scenarios.            dispatchException = new NestedServletException(&quot;Handler dispatch failed&quot;, err);        &#125;        // åç»­å¤„ç†ï¼šå¤„ç†æ¨¡å‹æ•°æ®å’Œæ¸²æŸ“è§†å›¾        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);    &#125;    catch (Exception ex) &#123;        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);    &#125;    catch (Throwable err) &#123;        triggerAfterCompletion(processedRequest, response, mappedHandler,                               new NestedServletException(&quot;Handler processing failed&quot;, err));    &#125;    finally &#123;        if (asyncManager.isConcurrentHandlingStarted()) &#123;            // Instead of postHandle and afterCompletion            if (mappedHandler != null) &#123;                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);            &#125;        &#125;        else &#123;            // Clean up any resources used by a multipart request.            if (multipartRequestParsed) &#123;                cleanupMultipart(processedRequest);            &#125;        &#125;    &#125;&#125;</code></pre><h5 id="d-gt-processDispatchResult"><a href="#d-gt-processDispatchResult" class="headerlink" title="d&gt;processDispatchResult()"></a>d&gt;processDispatchResult()</h5><pre><code class="java">private void processDispatchResult(HttpServletRequest request, HttpServletResponse response,                                   @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv,                                   @Nullable Exception exception) throws Exception &#123;    boolean errorView = false;    if (exception != null) &#123;        if (exception instanceof ModelAndViewDefiningException) &#123;            logger.debug(&quot;ModelAndViewDefiningException encountered&quot;, exception);            mv = ((ModelAndViewDefiningException) exception).getModelAndView();        &#125;        else &#123;            Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);            mv = processHandlerException(request, response, handler, exception);            errorView = (mv != null);        &#125;    &#125;    // Did the handler return a view to render?    if (mv != null &amp;&amp; !mv.wasCleared()) &#123;        // å¤„ç†æ¨¡å‹æ•°æ®å’Œæ¸²æŸ“è§†å›¾        render(mv, request, response);        if (errorView) &#123;            WebUtils.clearErrorRequestAttributes(request);        &#125;    &#125;    else &#123;        if (logger.isTraceEnabled()) &#123;            logger.trace(&quot;No view rendering, null ModelAndView returned.&quot;);        &#125;    &#125;    if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123;        // Concurrent handling started during a forward        return;    &#125;    if (mappedHandler != null) &#123;        // Exception (if any) is already handled..        // è°ƒç”¨æ‹¦æˆªå™¨çš„afterCompletion()        mappedHandler.triggerAfterCompletion(request, response, null);    &#125;&#125;</code></pre><h3 id="4ã€SpringMVCçš„æ‰§è¡Œæµç¨‹"><a href="#4ã€SpringMVCçš„æ‰§è¡Œæµç¨‹" class="headerlink" title="4ã€SpringMVCçš„æ‰§è¡Œæµç¨‹"></a>4ã€SpringMVCçš„æ‰§è¡Œæµç¨‹</h3><ol><li><p>ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚è¢«SpringMVC å‰ç«¯æ§åˆ¶å™¨ DispatcherServletæ•è·ã€‚</p></li><li><p>DispatcherServletå¯¹è¯·æ±‚URLè¿›è¡Œè§£æï¼Œå¾—åˆ°è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰ï¼Œåˆ¤æ–­è¯·æ±‚URIå¯¹åº”çš„æ˜ å°„ï¼š</p></li></ol><p><strong>a) ä¸å­˜åœ¨</strong></p><p>i. å†åˆ¤æ–­æ˜¯å¦é…ç½®äº†mvc:default-servlet-handler</p><p>ii. å¦‚æœæ²¡é…ç½®ï¼Œåˆ™æ§åˆ¶å°æŠ¥æ˜ å°„æŸ¥æ‰¾ä¸åˆ°ï¼Œå®¢æˆ·ç«¯å±•ç¤º404é”™è¯¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041904853.png' data-fancybox='default' data-caption='image-202205041904853'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041904853.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041904853.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205041904853"></a><span class='image-caption'>image-202205041904853</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905142.png' data-fancybox='default' data-caption='image-202205041905142'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905142.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905142.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205041905142"></a><span class='image-caption'>image-202205041905142</span></div></div><p>iii. å¦‚æœæœ‰é…ç½®ï¼Œåˆ™è®¿é—®ç›®æ ‡èµ„æºï¼ˆä¸€èˆ¬ä¸ºé™æ€èµ„æºï¼Œå¦‚ï¼šJS,CSS,HTMLï¼‰ï¼Œæ‰¾ä¸åˆ°å®¢æˆ·ç«¯ä¹Ÿä¼šå±•ç¤º404é”™è¯¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905293.png' data-fancybox='default' data-caption='image-202205041905293'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905293.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041905293.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205041905293"></a><span class='image-caption'>image-202205041905293</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041906372.png' data-fancybox='default' data-caption='image-202205041906372'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041906372.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205041906372.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-202205041906372"></a><span class='image-caption'>image-202205041906372</span></div></div><p><strong>b) å­˜åœ¨åˆ™æ‰§è¡Œä¸‹é¢çš„æµç¨‹</strong></p><ol start="3"><li><p>æ ¹æ®è¯¥URIï¼Œè°ƒç”¨HandlerMappingè·å¾—è¯¥Handleré…ç½®çš„æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬Handlerå¯¹è±¡ä»¥åŠHandlerå¯¹è±¡å¯¹åº”çš„æ‹¦æˆªå™¨ï¼‰ï¼Œæœ€åä»¥HandlerExecutionChainæ‰§è¡Œé“¾å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚</p></li><li><p>DispatcherServlet æ ¹æ®è·å¾—çš„Handlerï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„HandlerAdapterã€‚</p></li><li><p>å¦‚æœæˆåŠŸè·å¾—HandlerAdapterï¼Œæ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„preHandler(â€¦)æ–¹æ³•ã€æ­£å‘ã€‘</p></li><li><p>æå–Requestä¸­çš„æ¨¡å‹æ•°æ®ï¼Œå¡«å……Handlerå…¥å‚ï¼Œå¼€å§‹æ‰§è¡ŒHandlerï¼ˆController)æ–¹æ³•ï¼Œå¤„ç†è¯·æ±‚ã€‚åœ¨å¡«å……Handlerçš„å…¥å‚è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä½ çš„é…ç½®ï¼ŒSpringå°†å¸®ä½ åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼š</p></li></ol><ul><li>(a) HttpMessageConveterï¼š å°†è¯·æ±‚æ¶ˆæ¯ï¼ˆå¦‚Jsonã€xmlç­‰æ•°æ®ï¼‰è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„å“åº”ä¿¡æ¯</li><li>(b) æ•°æ®è½¬æ¢ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®è½¬æ¢ã€‚å¦‚Stringè½¬æ¢æˆIntegerã€Doubleç­‰</li><li>(c) æ•°æ®æ ¼å¼åŒ–ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®æ ¼å¼åŒ–ã€‚ å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ ¼å¼åŒ–æ•°å­—æˆ–æ ¼å¼åŒ–æ—¥æœŸç­‰</li><li>(d) æ•°æ®éªŒè¯ï¼š éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆé•¿åº¦ã€æ ¼å¼ç­‰ï¼‰ï¼ŒéªŒè¯ç»“æœå­˜å‚¨åˆ°BindingResultæˆ–Errorä¸­</li></ul><ol start="7"><li><p>Handleræ‰§è¡Œå®Œæˆåï¼Œå‘DispatcherServlet è¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ã€‚</p></li><li><p>æ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„postHandle(â€¦)æ–¹æ³•ã€é€†å‘ã€‘ã€‚</p></li><li><p>æ ¹æ®è¿”å›çš„ModelAndViewï¼ˆæ­¤æ—¶ä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨å¼‚å¸¸ï¼šå¦‚æœå­˜åœ¨å¼‚å¸¸ï¼Œåˆ™æ‰§è¡ŒHandlerExceptionResolverè¿›è¡Œå¼‚å¸¸å¤„ç†ï¼‰é€‰æ‹©ä¸€ä¸ªé€‚åˆçš„ViewResolverè¿›è¡Œè§†å›¾è§£æï¼Œæ ¹æ®Modelå’ŒViewï¼Œæ¥æ¸²æŸ“è§†å›¾ã€‚</p></li><li><p>æ¸²æŸ“è§†å›¾å®Œæ¯•æ‰§è¡Œæ‹¦æˆªå™¨çš„afterCompletion(â€¦)æ–¹æ³•ã€é€†å‘ã€‘ã€‚</p></li><li><p>å°†æ¸²æŸ“ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´ä»¥è¯¾ç¨‹è®¾è®¡é¡¹ç›®ä¸ºå€Ÿå£å·äº†ä¸¤ä¸‰ä¸ªæ˜ŸæœŸçš„æ‡’æ²¡æœ‰ç»§ç»­çœ‹è§†é¢‘å­¦ä¹ ğŸ˜‚ï¼Œæœ€è¿‘ç»ˆäºæŠŠSpringMVCçœ‹å®Œäº†ã€‚è¿™ç¯‡ç¬”è®°çš„è¯æˆ‘æ˜¯ç›´æ¥ç”¨çš„è§†é¢‘é…å¥—çš„ç¬”è®°ï¼Œå› ä¸ºæˆ‘è§‰å¾—å†™çš„æŒºæ¸…æ¥šçš„ï¼Œå°±æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹ä¸å¤ªè¯¦ç»†ï¼Œå†åŠ ä¸Šè§†é¢‘è€å¸ˆè™½ç„¶è®²çš„æŒºæ¸…æ¥šï¼Œä½†æ˜¯ä»–ä¸çˆ±åšç¬”è®°ğŸ¤”ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå¢åŠ </summary>
      
    
    
    
    <category term="åç«¯" scheme="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Java" scheme="http://rainvex.com/tags/Java/"/>
    
    <category term="SpringMVC" scheme="http://rainvex.com/tags/SpringMVC/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤</title>
    <link href="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/Ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAHadoop%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4.html"/>
    <id>http://rainvex.com/categories/%E6%95%99%E7%A8%8B/Ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAHadoop%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4.html</id>
    <published>2022-04-30T10:37:34.000Z</published>
    <updated>2022-04-30T10:37:34.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤"><a href="#Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤" class="headerlink" title="Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤"></a>Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤</h1><p>åº”è¯¾ç¨‹è¦æ±‚ï¼Œè¿™å­¦æœŸå­¦ä¹ åˆ°äº†äº‘è®¡ç®—ä¸å¤§æ•°æ®ï¼Œè¿™æ¬¡å®éªŒå°±æ˜¯è®©æˆ‘ä»¬åœ¨ubuntuä¸­é…ç½®å¥½hadoopåˆ†å¸ƒå¼é›†ç¾¤ï¼Œè¿™ä¸¤å¤©å°±ä»ç½‘ä¸Šä¸€è¾¹æœå¯»æ•™ç¨‹å¹¶ç»“åˆè¯¾æœ¬ï¼ˆè¯¾æœ¬ä¸Šæ˜¯ä½¿ç”¨çš„centosï¼Œè€Œä¸”ç‰ˆæœ¬è¾ƒè€ï¼Œä¸å¤ªé€‚ç”¨ï¼‰ä¸€è¾¹è‡ªå·±åŠ¨æ‰‹åšï¼Œé¡ºä¾¿è‡ªå·±ä¹Ÿå†™ä¸€ç¯‡æ•™ç¨‹è®°å½•ä¸€ä¸‹ï¼Œå…¶ä¸­ä¹ŸåŒ…å«ä¸€äº›é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ã€‚å› ä¸ºç¬¬ä¸€æ¬¡æ¥è§¦åˆ°è¿™æ–¹é¢æ‰€ä»¥æœ‰å¾ˆå¤šä¸è¶³çš„åœ°æ–¹ï¼Œä¹Ÿæœ‰å†™çš„ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œè§è°…ï¼</p><p>åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å‡ ç¯‡å†™å¾—å¾ˆè¯¦ç»†ä¸”æ–‡ç« æ’ç‰ˆæ¸…æ™°çš„åšå®¢ï¼Œå¯ä¾›å‚è€ƒï¼š</p><p><a href="https://blog.csdn.net/zyw2002/article/details/123486055">https://blog.csdn.net/zyw2002/article/details/123486055</a></p><p><a href="http://dblab.xmu.edu.cn/blog/2775-2/">http://dblab.xmu.edu.cn/blog/2775-2/</a></p><p><a href="https://blog.csdn.net/Pro_MikeXiao/article/details/108740821">https://blog.csdn.net/Pro_MikeXiao/article/details/108740821</a></p><p>å¦å¤–ï¼Œæ•™ç¨‹ä¸­æ¶‰åŠåˆ°å­˜æ”¾è·¯å¾„ç­‰æ“ä½œå¯ä»¥è§†è‡ªå·±æƒ…å†µè€Œå®šï¼Œåªéœ€è¦åœ¨æ“ä½œæ—¶æ³¨æ„æ”¹æˆè‡ªå·±çš„è·¯å¾„å³å¯</p><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><p><strong>æ³¨ï¼šç¬”è€…è™šæ‹Ÿæœºç¯å¢ƒæ˜¯ubuntu20.04.3</strong>ï¼Œæ•™ç¨‹ä¸­æ­¥éª¤å¤§å¤šå±äºå‘½ä»¤è¡Œæ“ä½œï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†è®©è‡ªå·±å›é¡¾ä¸€ä¸‹Linuxå‘½ä»¤è¡Œæ“ä½œæ–¹å¼ï¼Œå¦‚æœå¯¹Linuxæ“ä½œä¸å¤ªç†Ÿæ‚‰çš„å¯ä»¥æ ¹æ®æ•™ç¨‹çš„æè¿°è¿›è¡Œçª—å£åŒ–çš„æ“ä½œï¼Œå½“é‡åˆ°æŸäº›æ“ä½œéœ€è¦ç®¡ç†å‘˜æƒé™çš„å†ç”¨å‘½ä»¤è¡Œ</p><p>æ•™ç¨‹é…ç½®çš„æ˜¯åˆ†å¸ƒå¼Hadoopé›†ç¾¤ï¼Œæ‰€ä»¥è¯·å…ˆå‡†å¤‡å¥½ä¸¤å°è™šæ‹Ÿæœºï¼ˆmasterå’Œslaveï¼‰åˆ†åˆ«ä½œä¸ºä¸»ä»æœºï¼Œå…¶ä¸­æœ‰äº›é…ç½®æ˜¯ä¸»ä»æœºéƒ½éœ€è¦åšçš„é…ç½®ï¼ˆæ¯”å¦‚å‰è¦é…ç½®ä¸­çš„å‰ä¸‰ç‚¹å’ŒJDKçš„é…ç½®ï¼‰ï¼Œæœ‰äº›æ˜¯åªç”¨åœ¨ä¸»æœºä¸Šé…ç½®ï¼ˆæ¯”å¦‚å‰è¦é…ç½®ä¸­çš„ç¬¬å››ç‚¹å’ŒHadoopçš„é…ç½®ï¼‰ï¼Œç„¶åå¤åˆ¶åˆ°ä»æœºå³å¯ï¼ˆåœ¨è¿›è¡Œè¿™äº›æ­¥éª¤ä¹‹å‰æˆ‘éƒ½ä¼šæç¤ºæ˜¯å¦éœ€è¦å¯¹ä¸¤å°è™šæ‹Ÿæœºè¿›è¡Œç›¸åŒæ“ä½œï¼‰</p><p>ä¸ºäº†çœæ‰å¾ˆå¤šå‘½ä»¤ä¸­å› ç»ˆç«¯ä½ç½®ä¸æ“ä½œç›®å½•ä½ç½®ä¸ä¸€è‡´å¸¦æ¥çš„éº»çƒ¦ï¼Œä½ å¯ä»¥åœ¨çª—å£ç•Œé¢è¿›å…¥åˆ°éœ€è¦æ“ä½œçš„ç›®å½•åï¼Œå³é”®å•å‡»ï¼Œé€‰æ‹©åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ï¼Œç„¶åå†è¾“å…¥å‘½ä»¤è¿›è¡Œæ“ä½œ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011514184.png' data-fancybox='default' data-caption='image-20220501145549350'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011514184.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011514184.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501145549350"></a><span class='image-caption'>image-20220501145549350</span></div></div><h3 id="1-1-ä¸‹è½½JDK"><a href="#1-1-ä¸‹è½½JDK" class="headerlink" title="1.1 ä¸‹è½½JDK"></a>1.1 ä¸‹è½½JDK</h3><p>å‰å¾€<a href="https://www.oracle.com/java/technologies/downloads/">oracleå®˜ç½‘</a>ï¼Œæ‰¾åˆ°éœ€è¦ä¸‹è½½çš„ç‰ˆæœ¬ï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯jdk8ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±é€‰æ‹©å…¶ä»–jdkç‰ˆæœ¬ï¼‰ï¼Œé€‰æ‹©linuxçš„x64ç‰ˆæœ¬ï¼Œç„¶åç‚¹å‡»ä¸‹è½½</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘åˆ†äº«çš„<a href="https://pan.baidu.com/s/1E-gQruiAiDTkiZqnLrxEWA">é“¾æ¥</a>ï¼ˆæå–ç : 4xt3ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302158601.png' data-fancybox='default' data-caption='image-20220430215832297'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302158601.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302158601.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430215832297"></a><span class='image-caption'>image-20220430215832297</span></div></div><h3 id="1-2-ä¸‹è½½Hadoop"><a href="#1-2-ä¸‹è½½Hadoop" class="headerlink" title="1.2 ä¸‹è½½Hadoop"></a>1.2 ä¸‹è½½Hadoop</h3><p>å‰å¾€apacheä¸‹çš„<a href="https://hadoop.apache.org/">Hadoopå®˜ç½‘</a>ï¼ˆå¯èƒ½ä¼šå‡ºç°è¿›ä¸å»çš„æƒ…å†µï¼Œéœ€è¦æ–‡æ˜ä¸Šç½‘ä¸€ä¸‹ï¼‰ï¼Œç‚¹å‡»ä¸‹è½½</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘åˆ†äº«çš„<a href="https://pan.baidu.com/s/13PBu_fCaDFt1KimU1gL8lA">é“¾æ¥</a>ï¼ˆæå–ç : ufxvï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302201786.png' data-fancybox='default' data-caption='image-20220430220126570'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302201786.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302201786.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430220126570"></a><span class='image-caption'>image-20220430220126570</span></div></div><p>åœ¨ä¸‹è½½é¡µé¢é€‰æ‹©è¦ä¸‹è½½çš„ç‰ˆæœ¬ï¼Œç‚¹å‡»Release notesä¸‹çš„<code>Announcement</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302202200.png' data-fancybox='default' data-caption='image-20220430220217098'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302202200.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302202200.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430220217098"></a><span class='image-caption'>image-20220430220217098</span></div></div><p>ç„¶åç‚¹å‡»ä¸‹è½½å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302203965.png' data-fancybox='default' data-caption='image-20220430220331866'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302203965.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302203965.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430220331866"></a><span class='image-caption'>image-20220430220331866</span></div></div><h3 id="1-3-ä¼ è¾“æ–‡ä»¶"><a href="#1-3-ä¼ è¾“æ–‡ä»¶" class="headerlink" title="1.3 ä¼ è¾“æ–‡ä»¶"></a>1.3 ä¼ è¾“æ–‡ä»¶</h3><p>å°†ä¸‹è½½çš„JDKå’ŒHadoopä»windowsä¼ è¾“åˆ°Ubuntuä¸­ï¼Œå¯ä»¥ä½¿ç”¨Xftpï¼ˆå‰ææ˜¯å·²å®‰è£…å¹¶å¼€å¯sshæœåŠ¡ï¼Œå¯å‚è€ƒ[2.2èŠ‚](#2.2 ç¡®ä¿Ubuntuç¯å¢ƒå·²å®‰è£…ssh)ï¼‰æˆ–æ˜¯ç›´æ¥å¤åˆ¶è¿‡å»ï¼ˆå‰ææ˜¯è™šæ‹Ÿæœºå®‰è£…äº†vmtoolsï¼Œä¸æ¸…æ¥šçš„å¯ä»¥è¯•è¯•ç›´æ¥å¤åˆ¶åˆ°è™šæ‹Ÿæœºï¼‰</p><p>å°†è¿™ä¸¤ä¸ªæ–‡ä»¶ç§»åŠ¨åˆ°ubuntuä¸­çš„<code>/usr</code>æ–‡ä»¶å¤¹ä¸­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302223447.png' data-fancybox='default' data-caption='image-20220430222343101'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302223447.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302223447.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430222343101"></a><span class='image-caption'>image-20220430222343101</span></div></div><p>å¦‚æœä¼ è¾“çš„è¿‡ç¨‹ä¸­å‡ºç°å¤±è´¥ï¼ŒåŸå› ä¸º<code>permission is not allowed</code>è¯´æ˜è¢«ä¼ è¾“çš„æ–‡ä»¶å¤¹æƒé™ä¸å¤Ÿï¼Œåªéœ€åœ¨ubuntuç»ˆç«¯ä¸­è¾“å…¥<code>sudo chmod 777 æ–‡ä»¶å¤¹åç§°</code>æ›´æ”¹æ–‡ä»¶å¤¹çš„æƒé™</p><p><strong>æ³¨ï¼š</strong>rè¡¨æ˜¯è¯» (Read) ã€wè¡¨ç¤ºå†™ (Write) ã€xè¡¨ç¤ºæ‰§è¡Œ (execute)<br>è¯»ã€å†™ã€è¿è¡Œä¸‰é¡¹æƒé™å¯ä»¥ç”¨æ•°å­—è¡¨ç¤ºï¼Œå°±æ˜¯r=4,w=2,x=1ï¼Œ777å°±æ˜¯rwxrwxrwxï¼Œå³ç»™æ‰€æœ‰ç”¨æˆ·èµ‹äºˆå¯¹è¯¥ç›®å½•çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™</p><p>å› ä¸ºæœ¬äººåœ¨ä¼ è¾“æ—¶å°±é‡åˆ°è¯¥é—®é¢˜ï¼Œç„¶åé€šè¿‡<a href="https://blog.csdn.net/m0_38072683/article/details/83099200">è¿™ç¯‡æ–‡ç« </a>è§£å†³</p><h2 id="äºŒã€å‰è¦é…ç½®"><a href="#äºŒã€å‰è¦é…ç½®" class="headerlink" title="äºŒã€å‰è¦é…ç½®"></a>äºŒã€å‰è¦é…ç½®</h2><p>è¿™äº›é…ç½®å¤§å¤šæ˜¯å®‰è£…é…ç½®Hadoopéœ€è¦çš„ï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°å®‰è£…å¥½JDKåè¿›è¡Œ</p><h3 id="2-1-æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å…³é—­"><a href="#2-1-æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å…³é—­" class="headerlink" title="2.1 æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å…³é—­"></a>2.1 æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å…³é—­</h3><p>åœ¨ç»ˆç«¯è¾“å…¥<code>sudo ufw status</code></p><ul><li>å¦‚æœå‡ºç°<code>inactive</code>è¯´æ˜é˜²ç«å¢™æ˜¯å…³é—­çš„ï¼Œ<code>active</code>è¯´æ˜é˜²ç«å¢™æ˜¯å¼€å¯çš„ï¼Œè‹¥é˜²ç«å¢™æ˜¯å…³é—­çš„å°±å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥äº†</li><li>å…³é—­é˜²ç«å¢™å‘½ä»¤ï¼š<code>sudo ufw disable</code></li><li>å¼€å¯é˜²ç«å¢™å‘½ä»¤ï¼š<code>sudo ufw enable</code></li></ul><h3 id="2-2-ç¡®ä¿Ubuntuç¯å¢ƒå·²å®‰è£…ssh"><a href="#2-2-ç¡®ä¿Ubuntuç¯å¢ƒå·²å®‰è£…ssh" class="headerlink" title="2.2 ç¡®ä¿Ubuntuç¯å¢ƒå·²å®‰è£…ssh"></a>2.2 ç¡®ä¿Ubuntuç¯å¢ƒå·²å®‰è£…ssh</h3><p>åœ¨ubuntuç»ˆç«¯ä¸­è¾“å…¥<code>sudo ps -e |grep ssh</code></p><ul><li>å¦‚æœ<strong>æœ‰sshd</strong>çš„é¡¹è¯´æ˜å·²ç»å®‰è£…sshæˆ–æ˜¯sshæœåŠ¡å·²å¯åŠ¨</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302209806.png' data-fancybox='default' data-caption='image-20220430220942704'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302209806.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302209806.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430220942704"></a><span class='image-caption'>image-20220430220942704</span></div></div><ul><li>å¦‚æœ<strong>å·²å®‰è£…sshä½†æ˜¯æŸ¥çœ‹sshçŠ¶æ€å´æ²¡æœ‰sshd</strong>é¡¹ï¼Œåˆ™è¯´æ˜sshæœåŠ¡æœªå¼€å¯ï¼Œä½¿ç”¨<code>sudo service ssh start</code>å¼€å¯sshæœåŠ¡</li><li>å¦‚æœæœªå®‰è£…sshï¼Œåˆ™åœ¨ç»ˆç«¯è¾“å…¥<code>sudo apt-get update</code>å’Œ<code>sudo apt-get install openssh-server</code>å®‰è£…sshï¼Œç„¶åå†æŸ¥çœ‹sshæ˜¯å¦å¼€å¯</li></ul><h3 id="2-3-é…ç½®ä¸»æœºåå’Œhostsåˆ—è¡¨"><a href="#2-3-é…ç½®ä¸»æœºåå’Œhostsåˆ—è¡¨" class="headerlink" title="2.3 é…ç½®ä¸»æœºåå’Œhostsåˆ—è¡¨"></a>2.3 é…ç½®ä¸»æœºåå’Œhostsåˆ—è¡¨</h3><p>è¿™ä¸ªæ ¹æ®ä¸ªäººå®‰è£…çš„Linuxå‘è¡Œç‰ˆä»¥åŠå¯¹åº”ç‰ˆæœ¬çš„ä¸åŒè€Œä¼šæœ‰æ‰€å·®å¼‚ï¼ˆæ¯”å¦‚CentOSå’ŒUbuntué…ç½®ä¸»æœºåçš„æ–‡ä»¶å°±ä¸ä¸€æ ·ï¼‰ï¼Œå¦‚æœç”±äºä½¿ç”¨çš„Linuxå‘è¡Œç‰ˆåŠç‰ˆæœ¬ä¸ç¬”è€…ä¸ä¸€æ ·ï¼Œåˆ™åªèƒ½è‡ªå·±å†å»ç™¾åº¦ä¸€ä¸‹</p><p>â‘ <strong>é…ç½®ä¸»æœºå</strong></p><p>åœ¨ç»ˆç«¯è¾“å…¥<code>sudo vi /etc/hostname</code>ï¼Œæ›´æ”¹<strong>hostname</strong>æ–‡ä»¶ä¸­çš„ä¸»æœºåä¸ºmasterï¼ˆå¦ä¸€å°è™šæ‹Ÿæœºå‘½åä¸ºslaveï¼‰</p><p>â‘¡<strong>é…ç½®hostsåˆ—è¡¨</strong></p><p><strong>æ³¨ï¼š</strong>ä¸¤ä¸ªè™šæ‹Ÿæœºéƒ½éœ€è¦è¿›è¡Œ<strong>åŒæ ·</strong>çš„æ“ä½œ</p><p>è¾“å…¥<code>sudo vi /etc/hosts</code>ï¼Œå°†<strong>hosts</strong>æ–‡ä»¶ä¸­çš„<code>127.0.1.1</code>é‚£ä¸€è¡Œå†…å®¹åˆ é™¤</p><p>ç„¶åæ·»åŠ </p><pre><code class="shell">(ä½ è‡ªå·±çš„è™šæ‹Ÿæœºçš„ipåœ°å€åŠ ä¸Šä¸»æœºå)192.168.228.128   master192.168.228.129   slave è™šæ‹Ÿæœºçš„IPåœ°å€éœ€è¦ä½¿ç”¨ifconfigå‘½ä»¤æŸ¥è¯¢å¾—åˆ°</code></pre><p>ç„¶åé‡å¯è™šæ‹Ÿæœºï¼Œå†æ‰“å¼€ç»ˆç«¯ï¼Œå³å¯å‘ç°è™šæ‹Ÿæœºä¸»æœºåå·²æ”¹å˜</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302338066.png' data-fancybox='default' data-caption='image-20220430233810751'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302338066.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302338066.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430233810751"></a><span class='image-caption'>image-20220430233810751</span></div></div><p><strong>â‘¢æµ‹è¯•</strong></p><p>åœ¨masterå’Œslaveä¸­å‡è¾“å…¥<code>ping master -c 4</code>å’Œ<code>ping slave -c 4</code>è¿›è¡Œæµ‹è¯•ï¼ˆè¡¨ç¤º<code>ping</code>4æ¬¡å°±ç»“æŸï¼‰ï¼Œè‹¥å‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºåˆ™è¯´æ˜ä¸»æœºåå’Œhostsåˆ—è¡¨é…ç½®æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302349732.png' data-fancybox='default' data-caption='image-20220430234941547'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302349732.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302349732.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430234941547"></a><span class='image-caption'>image-20220430234941547</span></div></div><p><a href="https://blog.csdn.net/L1643319918/article/details/120346390">å‚è€ƒåšå®¢</a></p><h3 id="2-4-é…ç½®sshå…å¯†åŒ™ç™»å½•"><a href="#2-4-é…ç½®sshå…å¯†åŒ™ç™»å½•" class="headerlink" title="2.4 é…ç½®sshå…å¯†åŒ™ç™»å½•"></a>2.4 é…ç½®sshå…å¯†åŒ™ç™»å½•</h3><p><strong>æ³¨ï¼šè¯·ç¡®ä¿å·²å®‰è£…å¥½ssh</strong></p><p>è¿™å„¿é…ç½®çš„æ˜¯masterå…å¯†ç™»å½•åˆ°slave</p><h4 id="2-4-1-åœ¨masterä¸‹è¿›è¡Œæ“ä½œ"><a href="#2-4-1-åœ¨masterä¸‹è¿›è¡Œæ“ä½œ" class="headerlink" title="2.4.1 åœ¨masterä¸‹è¿›è¡Œæ“ä½œ"></a>2.4.1 åœ¨masterä¸‹è¿›è¡Œæ“ä½œ</h4><p>åœ¨ç»ˆç«¯è¾“å…¥<code>ssh-keygen -t rsa</code>å‘½ä»¤ç”Ÿæˆå¯†åŒ™ï¼Œå‡ºç°ä»¥ä¸‹æç¤º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011318222.png' data-fancybox='default' data-caption='image-20220501131836959'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011318222.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011318222.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501131836959"></a><span class='image-caption'>image-20220501131836959</span></div></div><p>æ­¤æ—¶æŒ‰ä¸‹å›è½¦ç¡®è®¤å°†sshçš„å¯†åŒ™æ–‡ä»¶ä¿å­˜åˆ°é»˜è®¤æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åä¼šå†å‡ºç°ä¸¤æ¬¡æç¤ºï¼Œéƒ½æŒ‰ä¸‹å›è½¦é”®ç¡®è®¤å³å¯</p><p>æŒ‰ä¸‹ä¸‰æ¬¡å›è½¦é”®åï¼Œå‡ºç°è¿™ç§å›¾ç¤ºè¯´æ˜ç”Ÿæˆå¯†åŒ™æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011321356.png' data-fancybox='default' data-caption='image-20220501132145146'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011321356.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011321356.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501132145146"></a><span class='image-caption'>image-20220501132145146</span></div></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>cd</code>å’Œ<code>ls</code>å‘½ä»¤å»åˆ°<code>/home/ä½ çš„ç”¨æˆ·å/.ssh</code>æ–‡ä»¶å¤¹ä¸­å¹¶æŸ¥çœ‹æ˜¯å¦æœ‰åä¸º<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯ç”Ÿæˆçš„å…¬é’¥å’Œç§é’¥æ–‡ä»¶</p><p>å¦‚æœä¸æƒ³ä½¿ç”¨å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥åœ¨çª—å£è¿›å…¥<code>.ssh</code>æ–‡ä»¶å¤¹æŸ¥çœ‹ï¼Œå¦‚æœåœ¨<code>/home/ä½ çš„ç”¨æˆ·å</code>ä¸­æ²¡æœ‰çœ‹åˆ°.sshæ–‡ä»¶å¤¹ï¼Œéœ€è¦åœ¨å³ä¸Šæ–¹çš„å‹¾é€‰<strong>æ˜¾ç¤ºéšè—æ–‡ä»¶</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011325653.png' data-fancybox='default' data-caption='image-20220501132555423'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011325653.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011325653.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501132555423"></a><span class='image-caption'>image-20220501132555423</span></div></div><p>ç„¶åï¼Œç»§ç»­è¾“å…¥<code>cat id_rsa.pub &gt;&gt; authorized_keys</code>å¤åˆ¶ä¸€ä»½å…¬é’¥æ–‡ä»¶</p><p><strong>æ³¨ï¼š</strong>ç”±äºåˆšåˆšæˆ‘æ˜¯è¿›å…¥åˆ°äº†<code>/home/ä½ çš„ç”¨æˆ·å/.ssh</code>æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘æ‰€åœ¨ä½ç½®å°±æ˜¯åœ¨.sshæ–‡ä»¶å¤¹ä¸­ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ç›´æ¥è¿™æ ·å¤åˆ¶ï¼Œå¦‚æœä½ æ‰€åœ¨ä½ç½®å¹¶ä¸æ˜¯åœ¨.sshæ–‡ä»¶å¤¹ä¸­åˆ™éœ€è¦åœ¨å‘½ä»¤ä¸­å†™å¥½å…·ä½“è·¯å¾„ï¼Œæ¯”å¦‚ï¼Œ<code>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code>æˆ–<code>cat /home/ä½ çš„ç”¨æˆ·å/.ssh/id_rsa.pub &gt;&gt; /home/ä½ çš„ç”¨æˆ·å/.ssh/authorized_keys</code></p><p>ç„¶åï¼Œä¿®æ”¹authorized_keysæ–‡ä»¶çš„æƒé™ï¼Œå‘½ä»¤ä¸ºï¼š<code>chmod 600 ~/.ssh/authorized_keys</code></p><p>ä¿®æ”¹åæˆ‘ä»¬å¯ä»¥åœ¨.sshæ–‡ä»¶å¤¹ä¸­ä½¿ç”¨<code>ls -l</code>å‘½ä»¤æŸ¥çœ‹åˆ°è¯¥æ–‡ä»¶çš„æƒé™ï¼Œå¦‚æœä¸º<code>-rw------</code>è¯´æ˜ä¿®æ”¹æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011352195.png' data-fancybox='default' data-caption='image-20220501135221827'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011352195.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011352195.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501135221827"></a><span class='image-caption'>image-20220501135221827</span></div></div><p>ç„¶åï¼Œå°†authorized_keysæ–‡ä»¶å¤åˆ¶åˆ°slaveèŠ‚ç‚¹çš„<strong>æ ¹ç›®å½•ä¸‹</strong>ï¼Œå‘½ä»¤ä¸º<code>scp ~/.ssh/authorized_keys ä½ çš„è™šæ‹Ÿæœºç”¨æˆ·å@è™šæ‹Ÿæœºä¸»æœºå:~/</code>ï¼Œæ¯”å¦‚æˆ‘çš„å‘½ä»¤å°±ä¸º<code>scp ~/.ssh/authorized_keys ç”¨æˆ·å@slave:~/</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011344641.png' data-fancybox='default' data-caption='image-20220501134442538'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011344641.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011344641.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501134442538"></a><span class='image-caption'>image-20220501134442538</span></div></div><p>è¾“å…¥å‘½ä»¤ä¸ºå‡ºç°ä»¥ä¸Šæç¤ºï¼Œè¾“å…¥<code>yes</code>ï¼Œå›è½¦</p><p>ç„¶åæŒ‰æç¤ºè¾“å…¥slaveçš„ç™»å½•å¯†ç ï¼ŒéªŒè¯é€šè¿‡åä»–ä¼šè‡ªåŠ¨å°†<code>authorized_keys</code>æ–‡ä»¶å¤åˆ¶åˆ°slaveç»“ç‚¹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011357409.png' data-fancybox='default' data-caption='image-20220501135726126'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011357409.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011357409.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501135726126"></a><span class='image-caption'>image-20220501135726126</span></div></div><p>æ­¤æ—¶æˆ‘ä»¬åœ¨slaveç»“ç‚¹è¾“å…¥<code>cd ~/</code>å’Œ<code>ls</code>å‘½ä»¤å³å¯çœ‹è§è¢«å¤åˆ¶è¿‡æ¥<code>authorized_keys</code>æ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011400461.png' data-fancybox='default' data-caption='image-20220501140009361'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011400461.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011400461.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501140009361"></a><span class='image-caption'>image-20220501140009361</span></div></div><h4 id="2-4-2-åœ¨slaveä¸‹è¿›è¡Œæ“ä½œ"><a href="#2-4-2-åœ¨slaveä¸‹è¿›è¡Œæ“ä½œ" class="headerlink" title="2.4.2 åœ¨slaveä¸‹è¿›è¡Œæ“ä½œ"></a>2.4.2 åœ¨slaveä¸‹è¿›è¡Œæ“ä½œ</h4><p>åŒæ ·ï¼Œä½¿ç”¨<code>ssh-keygen -t rsa</code>å‘½ä»¤ç”Ÿæˆå¯†åŒ™</p><p>ç„¶åï¼Œå°†ä»masterå¤åˆ¶åˆ°slaveçš„<code>authorized_keys</code>æ–‡ä»¶ç§»åŠ¨åˆ°slaveä¸­çš„<code>.ssh</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå‘½ä»¤ä¸º<code>mv ~/authorized_keys ~/.ssh/</code></p><p>ç„¶åï¼Œä¿®æ”¹slaveä¸­çš„<code>authorized_keys</code>æ–‡ä»¶çš„æƒé™ï¼Œå‘½ä»¤ï¼š<code>chmod 600 ~/.ssh/authorized_keys</code>ï¼Œä¿®æ”¹åï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ä¸Šé¢è¯´åˆ°çš„æ–¹æ³•æŸ¥çœ‹<code>authorized_keys</code>æ–‡ä»¶çš„æƒé™æ˜¯å¦ä¿®æ”¹æˆåŠŸ</p><h4 id="2-4-3-æµ‹è¯•"><a href="#2-4-3-æµ‹è¯•" class="headerlink" title="2.4.3 æµ‹è¯•"></a>2.4.3 æµ‹è¯•</h4><p>å°†ä»¥ä¸Šä¸¤æ­¥é…ç½®æˆåŠŸåï¼Œæˆ‘ä»¬åœ¨masterä¸­è¾“å…¥<code>ssh slave</code>ï¼Œå¦‚æœæœªæç¤ºè¾“å…¥å¯†ç è€Œæ˜¯ç›´æ¥å‡ºç°æ¬¢è¿æç¤ºï¼Œè¯´æ˜é…ç½®æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011416998.png' data-fancybox='default' data-caption='image-20220501141623776'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011416998.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011416998.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501141623776"></a><span class='image-caption'>image-20220501141623776</span></div></div><h2 id="ä¸‰ã€å®‰è£…é…ç½®JDK"><a href="#ä¸‰ã€å®‰è£…é…ç½®JDK" class="headerlink" title="ä¸‰ã€å®‰è£…é…ç½®JDK"></a>ä¸‰ã€å®‰è£…é…ç½®JDK</h2><p>æ³¨ï¼šä¸»ä»æœºéƒ½éœ€è¦è¿›è¡ŒåŒæ ·æ“ä½œ</p><h3 id="3-1-æ–°å»ºæ–‡ä»¶å¤¹"><a href="#3-1-æ–°å»ºæ–‡ä»¶å¤¹" class="headerlink" title="3.1 æ–°å»ºæ–‡ä»¶å¤¹"></a>3.1 æ–°å»ºæ–‡ä»¶å¤¹</h3><p>åœ¨/usræ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾jdkï¼ˆå­˜æ”¾ä½ç½®å¯ä»¥è‡ªå·±å†³å®šï¼Œä½†æ˜¯åé¢é…ç½®ç¯å¢ƒå˜é‡ç­‰å°±éœ€è¦æ³¨æ„ä¸€ä¸‹æ”¹æˆè‡ªå·±çš„å­˜æ”¾è·¯å¾„ï¼‰</p><p>åœ¨ç»ˆç«¯ä¸­ä¾æ¬¡ä½¿ç”¨<code>sudo mkdir /usr/java</code>å’Œ<code>sudo mkdir /usr/java/jdk</code></p><h3 id="3-2-è§£å‹jdk"><a href="#3-2-è§£å‹jdk" class="headerlink" title="3.2 è§£å‹jdk"></a>3.2 è§£å‹jdk</h3><p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤<code>sudo tar -xvf /usr/jdk-8u331-linux-x64.tar.gz -C /usr/java/jdk</code>å°†jdkè§£å‹åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆ<code>-C æ–‡ä»¶å¤¹å</code>å³æ˜¯æŒ‡å®šè§£å‹åˆ°å“ªä¸ªç›®å½•ï¼‰</p><p>è§£å‹å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>/usr/java/jdk</code>ä¸­çœ‹åˆ°ä¸€ä¸ªåä¸º<code>jdk1.8.0_331</code>çš„æ–‡ä»¶å¤¹ï¼Œä¸ºäº†ä¸€ä¼šå„¿é…ç½®ç¯å¢ƒå˜é‡æ–¹ä¾¿ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶é‡å‘½åä¸€ä¸‹</p><p>ä½¿ç”¨<code>sudo mv /usr/java/jdk/jdk1.8.0_331 /usr/java/jdk/jdk8</code>å°†å…¶é‡å‘½å</p><p><strong>Tipsï¼š</strong>mvæŒ‡ä»¤ï¼š<strong>ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•æˆ–é‡å‘½å</strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>mv oldNameFile newNameFile</code>(åŠŸèƒ½æè¿°ï¼š<strong>é‡å‘½å</strong>)<br><code>mv /temp/movefile /targetFolder</code>(åŠŸèƒ½æè¿°ï¼š<strong>ç§»åŠ¨æ–‡ä»¶</strong>)</p><h3 id="3-3-é…ç½®ç¯å¢ƒå˜é‡"><a href="#3-3-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="3.3 é…ç½®ç¯å¢ƒå˜é‡"></a>3.3 é…ç½®ç¯å¢ƒå˜é‡</h3><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>sudo vi /etc/profile</code>ç¼–è¾‘profileæ–‡ä»¶ï¼ˆè¿™ç§æ–¹å¼æ˜¯ä¸ºè¯¥ç³»ç»Ÿä¸‹æ‰€æœ‰ç”¨æˆ·é…ç½®ï¼Œè‹¥åªæƒ³ä¸ºå½“å‰ç”¨æˆ·é…ç½®åˆ™ç¼–è¾‘<code>~/.bashrc</code>ï¼‰</p><p>åœ¨profileæ–‡ä»¶æœ«å°¾è¿½åŠ ï¼š</p><pre><code class="shell"># JDK8export JAVA_HOME=/usr/java/jdk/jdk8export JRE_HOME=$JAVA_HOME/jre    export export CLASSPATH=.:%JAVA_HOME%/lib:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin# JDK 11åçš„ç¯å¢ƒå˜é‡é…ç½®æ–¹æ³•export JAVA_HOME=/usr/java/jdk-11.0.12export CLASSPATH=$JAVA_HOME/libexport PATH=$PATH:$JAVA_HOME/bin</code></pre><p>ç„¶åæŒ‰<code>ESC</code>è¿”å›æ­£å¸¸æ¨¡å¼ï¼Œå†æŒ‰<code>:</code>é”®ï¼Œè¾“å…¥<code>wq</code>ä¿å­˜é€€å‡º</p><p>è¾“å…¥<code>source /etc/profile</code>ä½¿é…ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><h3 id="3-4-æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#3-4-æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="3.4 æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"></a>3.4 æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>è¾“å…¥å‘½ä»¤<code>java -version</code>ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºè¯´æ˜æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302255699.png' data-fancybox='default' data-caption='image-20220430225547535'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302255699.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204302255699.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220430225547535"></a><span class='image-caption'>image-20220430225547535</span></div></div><p><strong>æ³¨ï¼š</strong>å¦‚æœæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œå†æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šå‡ºç°java not foundä¹‹ç±»çš„é”™è¯¯ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>é‡å¯</strong>ä¸€ä¸‹è™šæ‹Ÿæœºå³å¯ï¼Œå› ä¸ºæ¯æ¬¡å½“è™šæ‹Ÿæœºå¼€å¯æ—¶éƒ½ä¼šåŠ è½½<code>/etc/profile</code>æ–‡ä»¶ï¼Œä»è€Œæ‰ä¼šåŠ è½½é…ç½®çš„jdkç¯å¢ƒå˜é‡</p><p><a href="https://blog.csdn.net/qq_42730750/article/details/120706996">å‚è€ƒåšå®¢</a>ï¼Œå†™çš„æŒºè¯¦ç»†çš„</p><h2 id="å››ã€å®‰è£…é…ç½®Hadoop"><a href="#å››ã€å®‰è£…é…ç½®Hadoop" class="headerlink" title="å››ã€å®‰è£…é…ç½®Hadoop"></a>å››ã€å®‰è£…é…ç½®Hadoop</h2><h3 id="4-1-æ–°å»ºæ–‡ä»¶å¤¹"><a href="#4-1-æ–°å»ºæ–‡ä»¶å¤¹" class="headerlink" title="4.1 æ–°å»ºæ–‡ä»¶å¤¹"></a>4.1 æ–°å»ºæ–‡ä»¶å¤¹</h3><p>åœ¨/usræ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾hadoop</p><p>åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨<code>sudo mkdir /usr/hadoop</code>æ¥åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹</p><h3 id="4-2-è§£å‹hadoop"><a href="#4-2-è§£å‹hadoop" class="headerlink" title="4.2 è§£å‹hadoop"></a>4.2 è§£å‹hadoop</h3><p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤<code>sudo tar -xvf /usr/hadoop-3.2.3.tar.gz -C /usr/hadoop</code>å°†ä¸‹è½½å¥½çš„hadoopè§£å‹åˆ°æŒ‡å®šæ–‡ä»¶å¤¹</p><p>è§£å‹å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>/usr/hadoop</code>ä¸­çœ‹åˆ°ä¸€ä¸ªåä¸º<code>hadoop-3.2.3</code>çš„æ–‡ä»¶å¤¹ï¼ŒåŒæ ·ä¸ºäº†é…ç½®ç¯å¢ƒå˜é‡æ–¹ä¾¿ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶é‡å‘½åä¸€ä¸‹</p><p>ä½¿ç”¨<code>sudo mv /usr/hadoop/hadoop-3.2.3 /usr/hadoop/hadoop</code>å°†å…¶é‡å‘½å</p><h3 id="4-3-é…ç½®ç¯å¢ƒå˜é‡"><a href="#4-3-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="4.3 é…ç½®ç¯å¢ƒå˜é‡"></a>4.3 é…ç½®ç¯å¢ƒå˜é‡</h3><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>sudo vi /etc/profile</code>ç¼–è¾‘profileæ–‡ä»¶ï¼ˆä¸jdkä¸€æ ·ï¼Œè¿™ç§æ–¹å¼æ˜¯ä¸ºè¯¥ç³»ç»Ÿä¸‹æ‰€æœ‰ç”¨æˆ·é…ç½®ï¼Œè‹¥åªæƒ³ä¸ºå½“å‰ç”¨æˆ·é…ç½®åˆ™ç¼–è¾‘<code>~/.bashrc</code>ï¼‰</p><p>åœ¨profileæ–‡ä»¶æœ«å°¾è¿½åŠ ï¼š</p><pre><code class="shell">export HADOOP_HOME=/usr/hadoop/hadoopexport CLASSPATH=$HADOOP_HOME/bin/hadoop export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/nativeexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</code></pre><p>ç„¶åæŒ‰<code>ESC</code>è¿”å›æ­£å¸¸æ¨¡å¼ï¼Œå†æŒ‰<code>:</code>é”®ï¼Œè¾“å…¥<code>wq</code>ä¿å­˜é€€å‡º</p><p>è¾“å…¥<code>source /etc/profile</code>ä½¿é…ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼Œæˆ–æ˜¯é‡å¯ä¸€ä¸‹è™šæ‹Ÿæœºï¼ˆ<strong>å»ºè®®</strong>ï¼Œä¸é‡å¯çš„è¯é‡æ–°å¼€ä¸€ä¸ªç»ˆç«¯è¿›è¡Œæµ‹è¯•ä¼šå’Œæµ‹è¯•jdkä¸€æ ·æŠ¥é”™hadoopæ‰¾ä¸åˆ°çš„é”™è¯¯ï¼‰</p><p>è¾“å…¥<code>hadoop version</code>ï¼Œå‡ºç°ä»¥ä¸‹ç±»ä¼¼ä¿¡æ¯è¯´æ˜æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011516768.png' data-fancybox='default' data-caption='image-20220501151641615'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011516768.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011516768.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501151641615"></a><span class='image-caption'>image-20220501151641615</span></div></div><h3 id="4-4-é…ç½®hadoop"><a href="#4-4-é…ç½®hadoop" class="headerlink" title="4.4 é…ç½®hadoop"></a>4.4 é…ç½®hadoop</h3><p><strong>ï¼ˆä»¥ä¸‹å‡åœ¨ä¸»èŠ‚ç‚¹masterçš„hadoopä¸­è¿›è¡Œé…ç½®ï¼‰</strong></p><p>è¿™é‡Œçš„æ“ä½œéƒ½å¯ä»¥ç›´æ¥æ‰“å¼€éœ€è¦ç¼–è¾‘çš„æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œä¸éœ€è¦ä½¿ç”¨viæˆ–vim</p><p>ä¸ºäº†å¿«æ·ï¼Œé™¤äº†ç¬¬ä¸€å°èŠ‚åé¢çš„é…ç½®æˆ‘éƒ½æ˜¯ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ç›´æ¥ç¼–è¾‘</p><p>è¿™é‡Œé…ç½®çš„æ–‡ä»¶éƒ½åœ¨<code>/usr/hadoop/hadoop/etc/hadoop</code>æ–‡ä»¶å¤¹ä¸­</p><h4 id="4-4-1-é…ç½®ç¯å¢ƒå˜é‡hadoop-env-sh"><a href="#4-4-1-é…ç½®ç¯å¢ƒå˜é‡hadoop-env-sh" class="headerlink" title="4.4.1 é…ç½®ç¯å¢ƒå˜é‡hadoop-env.sh"></a>4.4.1 é…ç½®ç¯å¢ƒå˜é‡hadoop-env.sh</h4><p>åœ¨<code>/usr/hadoop/hadoop/etc/hadoop</code>ï¼ˆæ³¨æ„ä½ç½®ï¼ï¼ï¼‰æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨ç»ˆç«¯æ‰“å¼€</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011524402.png' data-fancybox='default' data-caption='image-20220501152420189'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011524402.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011524402.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501152420189"></a><span class='image-caption'>image-20220501152420189</span></div></div><p>ä½¿ç”¨å‘½ä»¤<code>vi hadoop-env.sh</code>ï¼Œæ‰“å¼€å¹¶ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š</p><pre><code class="shell"># ä½ è‡ªå·±jdkçš„ä¿å­˜ä½ç½®ï¼Œä¹Ÿæ˜¯ä½ é…ç½®jdkç¯å¢ƒå˜é‡æ—¶çš„java_homeçš„å€¼export JAVA_HOME=/usr/java/jdk/jdk8export HADOOP_OPTS=&quot;-Djava.library.path=$&#123;HADOOP_HOME&#125;/lib/native&quot;  # è¿™ä¸ªæ˜¯åé¢æˆ‘é‡åˆ°é—®é¢˜åŠ çš„ï¼Œå»ºè®®ç›´æ¥åŠ ä¸Š</code></pre><p>æŒ‰<code>esc</code>å›åˆ°æ­£å¸¸æ¨¡å¼ï¼Œè¾“å…¥<code>:wq</code>ä¿å­˜é€€å‡º</p><h4 id="4-4-2-é…ç½®ç¯å¢ƒå˜é‡yarn-env-sh"><a href="#4-4-2-é…ç½®ç¯å¢ƒå˜é‡yarn-env-sh" class="headerlink" title="4.4.2 é…ç½®ç¯å¢ƒå˜é‡yarn-env.sh"></a>4.4.2 é…ç½®ç¯å¢ƒå˜é‡yarn-env.sh</h4><p>è¿™ä¸ªå’Œé…ç½®hadoop-env.shä¸€æ ·ï¼Œåœ¨æœ«å°¾æ·»åŠ <code>export JAVA_HOME=/usr/java/jdk/jdk8</code>å³å¯</p><h4 id="4-4-3-é…ç½®æ ¸å¿ƒç»„ä»¶core-site-xml"><a href="#4-4-3-é…ç½®æ ¸å¿ƒç»„ä»¶core-site-xml" class="headerlink" title="4.4.3 é…ç½®æ ¸å¿ƒç»„ä»¶core-site.xml"></a>4.4.3 é…ç½®æ ¸å¿ƒç»„ä»¶core-site.xml</h4><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘core-site.xmlæ–‡ä»¶ï¼Œåœ¨<configuration>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;fs.defaultFS&lt;/name&gt;    &lt;value&gt;hdfs://master:9000&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;    &lt;value&gt;/usr/hadoop/hadoop/tmp&lt;/value&gt;  &lt;!--ä¸éœ€è¦æˆ‘ä»¬æå‰å»ºå¥½æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç­‰ä¼šå„¿æ ¼å¼åŒ–åç§°èŠ‚ç‚¹æ—¶å®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åˆ›å»º--&gt;&lt;/property&gt;</code></pre><h4 id="4-4-4-é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site-xml"><a href="#4-4-4-é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site-xml" class="headerlink" title="4.4.4 é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site.xml"></a>4.4.4 é…ç½®æ–‡ä»¶ç³»ç»Ÿhdfs-site.xml</h4><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘hdfs-site.xmlæ–‡ä»¶ï¼Œåœ¨<configuration>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;dfs.replication&lt;/name&gt;    &lt;value&gt;1&lt;/value&gt;    &lt;!--å¯¹äºHadoopçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSè€Œè¨€ï¼Œä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨å†—ä½™å­˜å‚¨ï¼Œå†—ä½™å› å­é€šå¸¸ä¸º3ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä»½æ•°æ®ä¿å­˜ä¸‰ä»½å‰¯æœ¬ã€‚ä½†æ˜¯ï¼Œæœ¬æ•™ç¨‹åªæœ‰ä¸€ä¸ªSlaveèŠ‚ç‚¹ä½œä¸ºæ•°æ®èŠ‚ç‚¹ï¼Œå³é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼Œæ•°æ®åªèƒ½ä¿å­˜ä¸€ä»½ï¼Œæ‰€ä»¥ï¼Œdfs.replicationçš„å€¼è¿˜æ˜¯è®¾ç½®ä¸º 1--&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;    &lt;value&gt;/usr/hadoop/hadoop/tmp/dfs/name&lt;/value&gt;  &lt;!--ä¸éœ€è¦æˆ‘ä»¬æå‰å»ºå¥½æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç­‰ä¼šå„¿æ ¼å¼åŒ–åç§°èŠ‚ç‚¹æ—¶å®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åˆ›å»º--&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;    &lt;value&gt;/usr/hadoop/hadoop/tmp/dfs/data&lt;/value&gt;  &lt;!--ä¸éœ€è¦æˆ‘ä»¬æå‰å»ºå¥½æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç­‰ä¼šå„¿æ ¼å¼åŒ–åç§°èŠ‚ç‚¹æ—¶å®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åˆ›å»º--&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;    &lt;value&gt;master:50070&lt;/value&gt;&lt;/property&gt;</code></pre><h4 id="4-4-5-é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site-xml"><a href="#4-4-5-é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site-xml" class="headerlink" title="4.4.5 é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site.xml"></a>4.4.5 é…ç½®æ–‡ä»¶ç³»ç»Ÿyarn-site.xml</h4><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘yarn-site.xmlæ–‡ä»¶ï¼Œåœ¨<configuration>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;    &lt;value&gt;master&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;    &lt;value&gt;master:18040&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;    &lt;value&gt;master:18030&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;    &lt;value&gt;master:18025&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;    &lt;value&gt;master:18141&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;    &lt;value&gt;master:18088&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;!--è¿™ä¸€ç‚¹æ˜¯åé¢æˆ‘æµ‹è¯•çš„æ—¶å€™å‡ºé”™æ·»åŠ çš„ï¼Œå¦‚æœä¸åŠ åé¢æµ‹è¯•å¯èƒ½ä¼šå‡ºç°æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» org.apache.hadoop.mapreduce.v2.app.MRAppMasterçš„é”™è¯¯--&gt;    &lt;!--è¿™ä¸ªé…ç½®çš„å€¼å¯ä»¥é€šè¿‡hadoop classpathå‘½ä»¤è·å–ï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°æ­¤å¤„ï¼Œåé¢çš„mapred-site.xmlæ–‡ä»¶ä¸­ä¹Ÿæ·»åŠ äº†è¿™ä¸ªé…ç½®ï¼Œä½†æ˜¯nameä¸ä¸€æ ·--&gt;    &lt;name&gt;yarn.application.classpath&lt;/name&gt;&lt;value&gt;/usr/hadoop/hadoop/etc/hadoop:/usr/hadoop/hadoop/share/hadoop/common/lib/*:/usr/hadoop/hadoop/share/hadoop/common/*:/usr/hadoop/hadoop/share/hadoop/hdfs:/usr/hadoop/hadoop/share/hadoop/hdfs/lib/*:/usr/hadoop/hadoop/share/hadoop/hdfs/*:/usr/hadoop/hadoop/share/hadoop/mapreduce/lib/*:/usr/hadoop/hadoop/share/hadoop/mapreduce/*:/usr/hadoop/hadoop/share/hadoop/yarn:/usr/hadoop/hadoop/share/hadoop/yarn/lib/*:/usr/hadoop/hadoop/share/hadoop/yarn/*&lt;/value&gt;&lt;/property&gt;</code></pre><h4 id="4-4-6-é…ç½®è®¡ç®—æ¡†æ¶mapred-site-xml"><a href="#4-4-6-é…ç½®è®¡ç®—æ¡†æ¶mapred-site-xml" class="headerlink" title="4.4.6 é…ç½®è®¡ç®—æ¡†æ¶mapred-site.xml"></a>4.4.6 é…ç½®è®¡ç®—æ¡†æ¶mapred-site.xml</h4><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘mapred-site.xmlæ–‡ä»¶ï¼Œåœ¨<configuration>æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p><pre><code class="xml">&lt;property&gt;    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;    &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;    &lt;value&gt;master:10020&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;    &lt;value&gt;master:19888&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/hadoop/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.map.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/hadoop/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/hadoop/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;    &lt;!--è¿™ä¸€ç‚¹æ˜¯åé¢æˆ‘æµ‹è¯•çš„æ—¶å€™å‡ºé”™æ·»åŠ çš„ï¼Œå¦‚æœä¸åŠ å¯èƒ½ä¼šå‡ºç°æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» org.apache.hadoop.mapreduce.v2.app.MRAppMasterçš„é”™è¯¯--&gt;    &lt;!--è¿™ä¸ªé…ç½®çš„å€¼å¯ä»¥é€šè¿‡hadoop classpathå‘½ä»¤è·å–ï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°æ­¤å¤„--&gt;    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;&lt;value&gt;/usr/hadoop/hadoop/etc/hadoop:/usr/hadoop/hadoop/share/hadoop/common/lib/*:/usr/hadoop/hadoop/share/hadoop/common/*:/usr/hadoop/hadoop/share/hadoop/hdfs:/usr/hadoop/hadoop/share/hadoop/hdfs/lib/*:/usr/hadoop/hadoop/share/hadoop/hdfs/*:/usr/hadoop/hadoop/share/hadoop/mapreduce/lib/*:/usr/hadoop/hadoop/share/hadoop/mapreduce/*:/usr/hadoop/hadoop/share/hadoop/yarn:/usr/hadoop/hadoop/share/hadoop/yarn/lib/*:/usr/hadoop/hadoop/share/hadoop/yarn/*&lt;/value&gt;&lt;/property&gt;</code></pre><h4 id="4-4-7-é…ç½®ä¸»ä»ç»“ç‚¹"><a href="#4-4-7-é…ç½®ä¸»ä»ç»“ç‚¹" class="headerlink" title="4.4.7 é…ç½®ä¸»ä»ç»“ç‚¹"></a>4.4.7 é…ç½®ä¸»ä»ç»“ç‚¹</h4><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å¹¶ç¼–è¾‘workersæ–‡ä»¶ï¼ˆhadoopç‰ˆæœ¬3.xä»¥ä¸‹æ˜¯slavesæ–‡ä»¶ï¼‰ï¼Œå°†å…¶ä¸­çš„localhostä¿®æ”¹ä¸ºslaveå³å¯</p><h3 id="4-5-å¤åˆ¶åˆ°ä»èŠ‚ç‚¹slave"><a href="#4-5-å¤åˆ¶åˆ°ä»èŠ‚ç‚¹slave" class="headerlink" title="4.5 å¤åˆ¶åˆ°ä»èŠ‚ç‚¹slave"></a>4.5 å¤åˆ¶åˆ°ä»èŠ‚ç‚¹slave</h3><p>æˆ‘ä»¬åœ¨<code>/usr/hadoop</code>æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨ç»ˆç«¯æ‰“å¼€ï¼Œç„¶åä½¿ç”¨å‘½ä»¤<code>scp -r hadoop ä½ çš„ç”¨æˆ·å@slave:/usr/hadoop/</code>å°†é…ç½®å¥½çš„hadoopæ•´ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä»èŠ‚ç‚¹slaveä¸­ï¼ˆå› ä¸ºæˆ‘ä»¬å·²ç»é…ç½®å¥½äº†sshå…å¯†ç™»å½•ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å¤åˆ¶è¿‡å»ï¼Œ<strong>è®°å¾—å¤åˆ¶è¿‡å»ååœ¨slaveä¸­ä¹Ÿè¦é…ç½®å¥½hadoopçš„ç¯å¢ƒå˜é‡ï¼ï¼ï¼</strong>ï¼‰</p><p>ç”±äºæˆ‘masterå’ŒslaveèŠ‚ç‚¹å¯¹jdkå’Œhadoopçš„å­˜æ”¾ä½ç½®åŠé…ç½®éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥åœ¨slaveä¸­æˆ‘å°±ä¸éœ€è¦å†åšå…¶å®ƒä¿®æ”¹äº†</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011635453.png' data-fancybox='default' data-caption='image-20220501163515256'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011635453.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011635453.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501163515256"></a><span class='image-caption'>image-20220501163515256</span></div></div><p>ç­‰å¾…ä¸€ä¼šå„¿å³å¯å¤åˆ¶å®Œæˆ</p><h3 id="4-6-å¯åŠ¨Hadoopé›†ç¾¤"><a href="#4-6-å¯åŠ¨Hadoopé›†ç¾¤" class="headerlink" title="4.6 å¯åŠ¨Hadoopé›†ç¾¤"></a>4.6 å¯åŠ¨Hadoopé›†ç¾¤</h3><p>å¯åŠ¨hadoopé›†ç¾¤åªéœ€è¦åœ¨masterèŠ‚ç‚¹ä¸‹è¿›è¡Œå³å¯</p><p>åœ¨<code>/usr/hadoop/hadoop/bin</code>ä¸­æ‰“å¼€ç»ˆç«¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011658338.png' data-fancybox='default' data-caption='image-20220501165827074'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011658338.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011658338.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501165827074"></a><span class='image-caption'>image-20220501165827074</span></div></div><p>æ‰§è¡Œå‘½ä»¤<code>hdfs namenode -format</code>ï¼Œå¦‚æœä¸­é—´å‡ºç°æç¤ºï¼ŒæŒ‰æç¤ºè¾“å…¥<code>Y</code>æˆ–<code>yes</code>å³å¯ï¼ˆè¿™ä¸ªåªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨é›†ç¾¤æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥åå¯åŠ¨å°±ä¸éœ€è¦æ‰§è¡Œäº†ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011700709.png' data-fancybox='default' data-caption='image-20220501170056265'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011700709.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011700709.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501170056265"></a><span class='image-caption'>image-20220501170056265</span></div></div><p>æ‰§è¡Œå®Œæˆåï¼Œå†è¿›å…¥<code>/usr/hadoop/hadoop/sbin</code>æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œ<code>start-all.sh</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011704555.png' data-fancybox='default' data-caption='image-20220501170359974'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011704555.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011704555.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501170359974"></a><span class='image-caption'>image-20220501170359974</span></div></div><p>åœ¨ä¸»èŠ‚ç‚¹masterä½¿ç”¨å‘½ä»¤<code>jps</code>æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å¯åŠ¨ï¼Œå‡ºç°äº†å¦‚ä¸‹å‡ ä¸ªè¿›ç¨‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012316066.png' data-fancybox='default' data-caption='image-20220501231624470'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012316066.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012316066.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501231624470"></a><span class='image-caption'>image-20220501231624470</span></div></div><p>å†åœ¨ä»èŠ‚ç‚¹slaveä¸­ä½¿ç”¨<code>jps</code>æŸ¥çœ‹ï¼Œå‡ºç°å¦‚ä¸‹å‡ ä¸ªè¿›ç¨‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011719881.png' data-fancybox='default' data-caption='image-20220501171940540'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011719881.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011719881.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501171940540"></a><span class='image-caption'>image-20220501171940540</span></div></div><p>ç„¶åï¼Œæˆ‘ä»¬åœ¨masterèŠ‚ç‚¹ä¸­æ‰“å¼€firefoxæµè§ˆå™¨ï¼Œè¾“å…¥<code>http://master:50070/</code>,å¦‚å›¾æ‰€ç¤º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011723872.png' data-fancybox='default' data-caption='image-20220501172346442'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011723872.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011723872.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501172346442"></a><span class='image-caption'>image-20220501172346442</span></div></div><p>å†è¾“å…¥<code>http://master:18088/</code>ï¼Œå¦‚å›¾æ‰€ç¤º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011724214.png' data-fancybox='default' data-caption='image-20220501172440779'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011724214.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011724214.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501172440779"></a><span class='image-caption'>image-20220501172440779</span></div></div><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨masterèŠ‚ç‚¹ä¸­ä½¿ç”¨å‘½ä»¤<code>hdfs dfsadmin -report</code>æŸ¥çœ‹æ•°æ®èŠ‚ç‚¹æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼Œå¦‚æœå±å¹•ä¿¡æ¯ä¸­çš„â€œLive datanodesâ€ä¸ä¸º 0 ï¼Œåˆ™è¯´æ˜é›†ç¾¤å¯åŠ¨æˆåŠŸã€‚ç”±äºæˆ‘ä»¬åªæœ‰1ä¸ªslaveèŠ‚ç‚¹å……å½“æ•°æ®èŠ‚ç‚¹ï¼Œå› æ­¤ï¼Œæ•°æ®èŠ‚ç‚¹å¯åŠ¨æˆåŠŸä»¥åï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºä¿¡æ¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012321094.png' data-fancybox='default' data-caption='image-20220501232116810'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012321094.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012321094.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501232116810"></a><span class='image-caption'>image-20220501232116810</span></div></div><p>æœ€åï¼Œå†è¿›å…¥åˆ°<code>/usr/hadoop/hadoop/share/hadoop/mapreduce</code>æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰§è¡Œ<code>hadoop jar /usr/hadoop/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.3.jar pi 10 10</code>æµ‹è¯•PIå®ä¾‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011728391.png' data-fancybox='default' data-caption='image-20220501172828082'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011728391.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205011728391.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220501172828082"></a><span class='image-caption'>image-20220501172828082</span></div></div><p>æ­£å¸¸çš„æƒ…å†µä¸‹åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012332555.jpg' data-fancybox='default' data-caption='image_20220501233122'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012332555.jpg" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202205012332555.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image_20220501233122"></a><span class='image-caption'>image_20220501233122</span></div></div><p>ä½†æ˜¯å› ä¸ºé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ˆæˆ‘åœ¨4.7ä¸­ç¬¬4ç‚¹æåˆ°çš„ï¼‰ä¸€ç›´è§£å†³ä¸äº†ï¼Œä¹Ÿå°±è¿è¡Œä¸å‡ºæ¥</p><h3 id="4-7-å¯åŠ¨ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#4-7-å¯åŠ¨ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="4.7 å¯åŠ¨ä¸­é‡åˆ°çš„é—®é¢˜"></a>4.7 å¯åŠ¨ä¸­é‡åˆ°çš„é—®é¢˜</h3><p>1ã€å½“æˆ‘åœ¨<code>/usr/hadoop/hadoop/sbin</code>æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œ<code>start-all.sh</code>å‘½ä»¤æ—¶ï¼Œè™½ç„¶å¯åŠ¨æˆåŠŸäº†ï¼Œä½†æ˜¯å‡ºç°<code>WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</code>çš„è­¦å‘Šï¼Œè¿™ä¹Ÿå¯¼è‡´äº†æˆ‘åœ¨æµ‹è¯•PIå®ä¾‹æ—¶ä¹ŸæŠ¥é”™ï¼Œè¯´æ˜å…¶æ²¡æœ‰åŠ è½½hadoopçš„æœ¬åœ°åº“ï¼Œæˆ‘ä»¬åªéœ€åœ¨<code>hadoop-env.sh</code>æ–‡ä»¶ä¸­æ·»åŠ <code>export HADOOP_OPTS=&quot;-Djava.library.path=$&#123;HADOOP_HOME&#125;/lib/native&quot;</code>å³å¯</p><p>2ã€å¯åŠ¨hadoopåï¼Œæµ‹è¯•PIå®ä¾‹å‡ºç°äº†<code>æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» org.apache.hadoop.mapreduce.v2.app.MRAppMaster</code>ï¼Œæ­¤é”™è¯¯çš„è§£å†³æ–¹æ³•å°±æ˜¯åœ¨<code>yarn-site.xml</code>å’Œ<code>mapred-site.xml</code>æ–‡ä»¶æ·»åŠ <code>classpath</code>å€¼ï¼Œè€Œ<code>classpath</code>çš„å€¼é€šè¿‡<code>hadoop classpath</code>å‘½ä»¤è·å–ï¼Œè¿™é‡Œåœ¨4.4.5å’Œ4.4.6å·²ç»æåˆ°è¿‡</p><p>3ã€å½“æˆ‘å¤šæ¬¡æµ‹è¯•PIå®ä¾‹å‡ºç°æŠ¥é”™<code>org.apache.hadoop.hdfs.server.namenode.SafeModeException: Cannot create directory /user/xk/QuasiMonteCarlo_1651405036380_1661124003/in. Name node is in safe mode</code>ï¼ŒåŸå› ï¼šå®‰å…¨æ¨¡å¼æ˜¯hdfsæ‰€å¤„çš„ä¸€ç§ç‰¹æ®ŠçŠ¶æ€ï¼Œåœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œæ–‡ä»¶ç³»ç»Ÿåªæ¥å—è¯»æ•°æ®è¯·æ±‚ï¼Œè€Œä¸æ¥å—åˆ é™¤ã€ä¿®æ”¹ç­‰å˜æ›´è¯·æ±‚</p><p>è§£å†³æ–¹æ³•ï¼šæ‰§è¡Œæ”¹å‘½ä»¤å…³é—­å®‰å…¨æ¨¡å¼<code>hdfs dfsadmin -safemode leave</code></p><p>4ã€è§£å†³å®Œä¸Šé¢çš„é—®é¢˜åå†æµ‹è¯•PIå®ä¾‹æŠ¥é”™<code>ipc.Client: Retrying connect to server: slave/192.168.228.129:41589. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=3, sleepTime=1000 MILLISECONDS)</code>ï¼Œé€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› åœ¨<a href="https://blog.csdn.net/xk1835217729/article/details/124535639">Cç«™</a>çš„æ–‡ç« è¯„è®ºä¸­å·²ç»æœ‰å°ä¼™ä¼´æå‡ºæ¥äº†ï¼ŒåŸå› æ˜¯piåé¢çš„10 10è®©æœºå™¨å¤ªä¹…æ²¡è·‘å‡ºæ¥å¯¼è‡´å´©æºƒäº†ï¼ˆåº”è¯¥æ˜¯è¿™ä¸ªåŸå› ï¼‰ï¼Œæ‰€ä»¥å°†10 10æ”¹æˆä¸¤ä¸ªå°ä¸€ç‚¹çš„æ•°å°±OKäº†ã€‚</p><p>æ•™ç¨‹ä¸­å¯¹hadoopçš„é…ç½®é¡¹æœ‰ç‚¹å¤šï¼Œæˆ‘ä¹Ÿæ˜¯æŠŠå‡ ç¯‡å‚è€ƒæ•™ç¨‹é‡Œé¢çš„ç»¼åˆèµ·æ¥çš„ï¼Œè‡³äºä¸ºä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Œé™¤äº†æœ‰å‡ ä¸ªé…ç½®é¡¹æ˜¯çŸ¥é“çš„ï¼Œå…¶ä»–ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œè¿™ä¸ªå°±éœ€è¦å¤§å®¶å»å‚è€ƒå‚è€ƒå®˜æ–¹æ–‡æ¡£ğŸ˜†</p><p>ä»¥ä¸Šå°±æ˜¯æ­å»ºhadoopåˆ†å¸ƒå¼é›†ç¾¤çš„å…¨éƒ¨å†…å®¹äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤&quot;&gt;&lt;a href=&quot;#Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤&quot; class=&quot;headerlink&quot; title=&quot;Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤&quot;&gt;&lt;/a&gt;Ubuntuä¸‹æ­å»ºHadoopåˆ†å¸ƒå¼é›†ç¾¤&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Linux" scheme="http://rainvex.com/tags/Linux/"/>
    
    <category term="Ubuntu" scheme="http://rainvex.com/tags/Ubuntu/"/>
    
    <category term="Hadoop" scheme="http://rainvex.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>Typora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ</title>
    <link href="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/Typora-PicGo-%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A.html"/>
    <id>http://rainvex.com/categories/%E6%95%99%E7%A8%8B/Typora-PicGo-%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A.html</id>
    <published>2022-04-04T06:29:40.000Z</published>
    <updated>2022-04-04T06:29:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Typora-PicGo-è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ"><a href="#Typora-PicGo-è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ" class="headerlink" title="Typora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ"></a>Typora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ</h1><p>å°±åœ¨å‰ä¸ä¹…ï¼ŒGiteeå›¾åºŠåºŸäº†ï¼åšå®¢æ–‡ç« ä¸­ä½¿ç”¨åˆ°çš„æ‰€æœ‰å›¾ç‰‡å…¨éƒ¨å˜æˆäº†Giteeçš„å›¾æ ‡ï¼Œç”šè‡³å¾ˆå¤šä½¿ç”¨Giteeä½œä¸ºå›¾åºŠçš„å¼€æºé¡¹ç›®æ–‡æ¡£ä¹Ÿå—åˆ°äº†å½±å“ï¼Œè¿˜æœ‰ä¸€äº›ä½œè€…å¼•æµã€æ‰“èµçš„äºŒç»´ç å›¾ç‰‡éƒ½å˜æˆäº†Giteeå›¾æ ‡ï¼Œç›´æ¥å½±å“äº†ä»–ä»¬çš„æ”¶å…¥ã€‚å¦‚æœå›¾åºŠä¸­å›¾ç‰‡å¤ªå¤šï¼Œè¦æƒ³è½¬ç§»ã€æ›´æ”¹æ–‡ç« ä¸­å›¾ç‰‡çš„å·¥ä½œé‡ä¹Ÿæ˜¯éå¸¸å·¨å¤§çš„ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆGiteeå›¾åºŠä¼šæ— ç¼˜æ— æ•…åºŸæ‰äº†å‘¢ï¼ŸGiteeå› ä¸ºè®¿é—®å¤–é“¾å¤ªå¤šï¼Œç»™å›¾ç‰‡æ·»åŠ äº†é˜²ç›—é“¾ï¼Œä»è€Œå¯¼è‡´ä¸èƒ½ç›´æ¥é€šè¿‡urlè®¿é—®åˆ°å›¾ç‰‡ï¼Œå…·ä½“åŸç†å¯ä»¥å‚è€ƒ<a href="https://juejin.cn/post/7079321533558030349">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><p>çŸ¥æ™“æƒ…å†µåçš„æˆ‘ç«‹é©¬è·‘å»ä¹‹å‰å‘å¸ƒè¿‡æ–‡ç« çš„å¹³å°ä¸­è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°å¹³å°ä¸Šçš„æ–‡ç« å¹¶æ²¡æœ‰å—å½±å“ï¼Œåº”è¯¥æ˜¯åœ¨æˆ‘ä»¬å†™å®Œæ–‡ç« å‘å¸ƒæ—¶å¹³å°éƒ½å°†è¿™äº›å›¾ç‰‡å­˜æ”¾åˆ°äº†è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œä½†æ˜¯æœ¬åœ°çš„æ–‡ç« å°±æ— ä¸€å¹¸å…äº†ï¼Œä¸å‡ºæ„å¤–çš„å›¾ç‰‡å…¨å˜æˆäº†Giteeå›¾æ ‡ğŸ˜­ã€‚åæ¥è€ƒè™‘åˆ°Githubå›¾åºŠè®¿é—®å¤ªæ…¢äºæ˜¯å°±å†³å®šä½¿ç”¨è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨COSé‡æ–°æ­å»ºä¸€ä¸ªå›¾åºŠæ¥ä½¿ç”¨äº†ï¼Œæ¯•ç«Ÿç™½å«–äººå®¶çš„CDNå¸¦å®½å’Œå®¹é‡ç©ºé—´ç¡®å®ä¸å¤ªå¥½ğŸ¤­ï¼Œè€Œä¸”ä½¿ç”¨å¯¹è±¡å­˜å‚¨ä¹Ÿä¸è´µï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸Šé¢å­˜å‚¨æ–‡ä»¶ä¹‹ç±»çš„</p><p>é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å°±æ­£å¼å¼€å§‹ä½¿ç”¨Typora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠäº†</p><h2 id="1-ä¸‹è½½Typoraå’ŒPicGo"><a href="#1-ä¸‹è½½Typoraå’ŒPicGo" class="headerlink" title="1.ä¸‹è½½Typoraå’ŒPicGo"></a>1.ä¸‹è½½Typoraå’ŒPicGo</h2><h3 id="1-1-ä¸‹è½½Typora"><a href="#1-1-ä¸‹è½½Typora" class="headerlink" title="1.1 ä¸‹è½½Typora"></a>1.1 ä¸‹è½½Typora</h3><p>Typoraä»1.0.0ç‰ˆæœ¬ä»¥åå¼€å§‹æ”¶è´¹äº†ï¼ŒåŠŸèƒ½æ›´åŠ é½å…¨ç¨³å®šï¼Œå¦‚æœæœ‰æ›´å¤šçš„éœ€æ±‚ï¼Œè¿˜æ˜¯å»ºè®®è´­ä¹°ï¼Œä¸è¿‡æµ‹è¯•ç‰ˆçš„åŠŸèƒ½å·²ç»æ»¡è¶³äº†ç”¨æˆ·å¤§éƒ¨åˆ†çš„éœ€æ±‚äº†ï¼Œå¦‚æœéœ€è¦æœ€åä¸€ä¸ªå…è´¹ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç‚¹å‡»<a href="https://pan.baidu.com/s/1eesTkZ0TWtoIPbUcyvGPfw?pwd=fr4c">ç½‘ç›˜é“¾æ¥</a>è¿›è¡Œä¸‹è½½ï¼ˆæå–ç : fr4cï¼‰ï¼Œä¹Ÿå¯ä»¥ä»å®˜ç½‘ä¸­æ‰¾åˆ°æ‰€æœ‰çš„è€ç‰ˆæœ¬ï¼Œç„¶åä¸‹è½½Old Beta 0.11.18ç‰ˆï¼Œåªè¦ä»¥åä¸æ›´æ–°å³å¯ç™½å«–</p><p>Typora<a href="https://typora.io/">å®˜ç½‘ä¸‹è½½é“¾æ¥</a></p><p>å®‰è£…è¿‡ç¨‹å°±æ˜¯ä¸€ç›´ä¸‹ä¸€æ­¥ï¼Œæ›´æ”¹æ–‡ä»¶ä¸‹è½½è·¯å¾„å³å¯</p><h3 id="1-2-ä¸‹è½½PicGo"><a href="#1-2-ä¸‹è½½PicGo" class="headerlink" title="1.2 ä¸‹è½½PicGo"></a>1.2 ä¸‹è½½PicGo</h3><p>è¿›å…¥<a href="https://molunerfinn.com/PicGo/">PicGoå®˜ç½‘</a>ï¼Œç‚¹å‡»å…è´¹ä¸‹è½½å³å¯è¿›å…¥åˆ°PicGoåœ¨Githubä¸Šçš„é¡¹ç›®<a href="https://github.com/Molunerfinn/picgo/releases">ä¸‹è½½åœ°å€</a></p><p>ç„¶åæ‰¾åˆ°æœ€æ–°çš„ç¨³å®šæ­£å¼ç‰ˆ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041625484.png' data-fancybox='default' data-caption='image-20220404162505254'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041625484.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041625484.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404162505254"></a><span class='image-caption'>image-20220404162505254</span></div></div><p>æ‰¾åˆ°å®‰è£…åŒ…ä¸‹è½½é“¾æ¥ï¼Œç‚¹å‡»ä¸‹è½½å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041626746.png' data-fancybox='default' data-caption='image-20220404162605642'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041626746.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041626746.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404162605642"></a><span class='image-caption'>image-20220404162605642</span></div></div><p>å®‰è£…åŒæ ·å¾ˆç®€å•ï¼Œè¿™é‡Œå°±åœ¨èµ˜è¿°</p><h2 id="2-è®¾ç½®Typora"><a href="#2-è®¾ç½®Typora" class="headerlink" title="2.è®¾ç½®Typora"></a>2.è®¾ç½®Typora</h2><p>é¦–å…ˆï¼Œæ‰“å¼€åˆšåˆšä¸‹è½½çš„Markdownç¼–è¾‘å™¨Typoraï¼Œç‚¹å‡»<code>æ–‡ä»¶</code>&gt;<code>åå¥½è®¾ç½®</code>&gt;<code>å›¾åƒ</code></p><p>ç„¶åè¿›è¡Œä»¥ä¸‹è®¾ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041631045.png' data-fancybox='default' data-caption='image-20220404163134962'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041631045.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041631045.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404163134962"></a><span class='image-caption'>image-20220404163134962</span></div></div><h2 id="3-å¼€é€šé…ç½®è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨"><a href="#3-å¼€é€šé…ç½®è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨" class="headerlink" title="3.å¼€é€šé…ç½®è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨"></a>3.å¼€é€šé…ç½®è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨</h2><p>è¿›å…¥<a href="https://cloud.tencent.com/">è…¾è®¯äº‘å®˜ç½‘</a>ï¼Œæ³¨å†Œç™»å½•è…¾è®¯äº‘è´¦å·ï¼Œå¦‚è¿˜æœªè¿›è¡Œå®åè®¤è¯ï¼Œéœ€è¦å…ˆå®åè®¤è¯</p><p>ç„¶åï¼Œåœ¨é¦–é¡µæ‰¾åˆ°<code>äº§å“</code>&gt;<code>å­˜å‚¨</code>&gt;<code>å¯¹è±¡å­˜å‚¨</code>ï¼Œç‚¹å‡»å¯¹è±¡å­˜å‚¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041640308.png' data-fancybox='default' data-caption='image-20220404164027060'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041640308.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041640308.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404164027060"></a><span class='image-caption'>image-20220404164027060</span></div></div><p>ç„¶åï¼Œè¿›å…¥åˆ°å¯¹è±¡å­˜å‚¨é¡µé¢ï¼Œç‚¹å‡»ç«‹å³ä½¿ç”¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041644008.png' data-fancybox='default' data-caption='image-20220404164425628'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041644008.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041644008.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404164425628"></a><span class='image-caption'>image-20220404164425628</span></div></div><p>ç„¶åï¼Œè¿›å…¥åˆ°å¯¹è±¡å­˜å‚¨çš„æ§åˆ¶å°ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºå¼€é€šå¯¹è±¡å­˜å‚¨COSæœåŠ¡ï¼Œç‚¹å‡»å¼€é€šå³å¯</p><p>å¼€é€šæˆåŠŸåï¼Œç‚¹å‡»å›¾ä¸­çš„<strong>åˆ›å»ºå­˜å‚¨æ¡¶</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041647489.png' data-fancybox='default' data-caption='image-20220404164750370'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041647489.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041647489.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404164750370"></a><span class='image-caption'>image-20220404164750370</span></div></div><p>ç„¶åè¿›å…¥åˆ°å­˜å‚¨æ¡¶åˆ—è¡¨é¡µé¢ï¼Œåœ¨è¯¥ç•Œé¢å†æ¬¡ç‚¹å‡»åˆ›å»ºå­˜å‚¨æ¡¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041656639.png' data-fancybox='default' data-caption='image-20220404165643505'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041656639.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041656639.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404165643505"></a><span class='image-caption'>image-20220404165643505</span></div></div><p>ç„¶åï¼Œå¯¹å­˜å‚¨æ¡¶è¿›è¡Œä»¥ä¸‹è®¾ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041709082.png' data-fancybox='default' data-caption='image-20220404170912979'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041709082.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041709082.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404170912979"></a><span class='image-caption'>image-20220404170912979</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041710570.png' data-fancybox='default' data-caption='image-20220404171049488'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041710570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041710570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404171049488"></a><span class='image-caption'>image-20220404171049488</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041711879.png' data-fancybox='default' data-caption='image-20220404171144792'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041711879.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041711879.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404171144792"></a><span class='image-caption'>image-20220404171144792</span></div></div><p>åˆ›å»ºæˆåŠŸåï¼Œä¼šè¿›å…¥åˆ°åˆšåˆšåˆ›å»ºçš„å­˜å‚¨æ¡¶çš„æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œå³æˆ‘ä»¬å­˜æ”¾æ–‡ä»¶çš„åœ°æ–¹ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ–°å»ºæ–‡ä»¶å¤¹æ¥å­˜å‚¨ç›¸å…³ç±»å‹çš„æ–‡ä»¶ï¼Œä¾¿äºç®¡ç†ï¼›è¿™å„¿æˆ‘ä»¬æ–°å»ºä¸€ä¸ªåä¸º<strong>images</strong>çš„æ–‡ä»¶å¤¹ï¼Œè¡¨ç¤ºå­˜æ”¾å›¾ç‰‡</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041730364.png' data-fancybox='default' data-caption='image-20220404173037257'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041730364.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041730364.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404173037257"></a><span class='image-caption'>image-20220404173037257</span></div></div><p>ç‚¹å‡»å›¾ä¸­ä¸Šæ–¹çš„è¿”å›æ¡¶åˆ—è¡¨ï¼Œç„¶ååœ¨å·¦ä¾§èœå•æ æ‰¾åˆ°å¯†é’¥ç®¡ç†ï¼Œç‚¹å‡»<strong>è®¿é—®å¯†é’¥</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041717992.png' data-fancybox='default' data-caption='image-20220404171751864'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041717992.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041717992.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404171751864"></a><span class='image-caption'>image-20220404171751864</span></div></div><p>ç‚¹å‡»è®¿é—®å¯†é’¥åï¼Œè¿›å…¥åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œåœ¨é«˜é£é™©æç¤ºä¸­ï¼Œå¦‚æœä¸ä¼šå­è´¦å·çš„ç›¸å…³æ“ä½œï¼Œç‚¹å‡»<strong>ç»§ç»­ä½¿ç”¨</strong>ä¸»è´¦å·ä¹Ÿè¡Œ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041721073.png' data-fancybox='default' data-caption='image-20220404172134964'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041721073.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041721073.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404172134964"></a><span class='image-caption'>image-20220404172134964</span></div></div><p>ç„¶åï¼Œç‚¹å‡»<strong>æ–°å»ºå¯†é’¥</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041725138.png' data-fancybox='default' data-caption='image-20220404172554016'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041725138.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041725138.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404172554016"></a><span class='image-caption'>image-20220404172554016</span></div></div><p>æ–°å»ºå¯†é’¥æˆåŠŸåï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†éœ€è¦çš„<strong>AAPID</strong>ã€<strong>SecretId</strong>å’Œ<strong>SecretKey</strong>çš„å€¼</p><p>ç„¶åï¼Œè¿”å›åˆ°å­˜å‚¨æ¡¶åˆ—è¡¨ï¼Œç‚¹å‡»åˆšåˆšåˆ›å»ºçš„å­˜å‚¨æ¡¶</p><p>ç„¶ååœ¨è¿™ä¸ªå­˜å‚¨æ¡¶çš„æ¦‚è§ˆä¸­æ‰¾åˆ°åŸºæœ¬ä¿¡æ¯ï¼Œè·å–åˆ°<strong>å­˜å‚¨æ¡¶åç§°</strong>ã€<strong>æ‰€å±åœ°åŸŸ</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041743450.png' data-fancybox='default' data-caption='image-20220404174359355'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041743450.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041743450.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404174359355"></a><span class='image-caption'>image-20220404174359355</span></div></div><h2 id="4-è®¾ç½®PicGo"><a href="#4-è®¾ç½®PicGo" class="headerlink" title="4.è®¾ç½®PicGo"></a>4.è®¾ç½®PicGo</h2><p>æ‰“å¼€PicGoï¼Œç‚¹å‡»PicGoè®¾ç½®ï¼Œæ ¹æ®ä¸ªäººéœ€è¦è¿›è¡Œä¸€äº›ç®€å•è®¾ç½®ï¼Œä¹Ÿå¯ä»¥å’Œæˆ‘è®¾ç½®ä¸€æ ·</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041634859.png' data-fancybox='default' data-caption='image-20220404163413743'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041634859.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041634859.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404163413743"></a><span class='image-caption'>image-20220404163413743</span></div></div><p>ç‚¹å‡»<code>å›¾åºŠè®¾ç½®</code>&gt;<code>è…¾è®¯äº‘COS</code>å°†ä¸Šæ–¹æˆ‘ä»¬è·å–åˆ°çš„<strong>SecretId</strong>ã€<strong>SecretKey</strong>ã€<strong>APPID</strong>ã€<strong>å­˜å‚¨ç©ºé—´å</strong>ã€**å­˜å‚¨åŒºåŸŸ(åœ°åŸŸ)**åˆ†åˆ«å¡«å…¥ä¸‹æ–¹</p><p>ç”±äºåˆšåˆšæˆ‘ä»¬åœ¨å­˜å‚¨æ¡¶çš„æ–‡ä»¶åˆ—è¡¨æ–°å»ºäº†ä¸€ä¸ª<strong>images</strong>æ–‡ä»¶å¤¹æ¥å­˜æ”¾å›¾ç‰‡ï¼Œé‚£ä¹ˆåœ¨ä¸‹æ–¹çš„å­˜å‚¨è·¯å¾„æˆ‘ä»¬å°±éœ€è¦æŒ‡å®šç›¸åº”æ–‡ä»¶å¤¹</p><p>ç„¶åç‚¹å‡»ç¡®å®šï¼Œå¹¶è®¾ä¸ºé»˜è®¤å›¾åºŠ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041735888.png' data-fancybox='default' data-caption='image-20220404173544803'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041735888.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041735888.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404173544803"></a><span class='image-caption'>image-20220404173544803</span></div></div><h2 id="5-éªŒè¯æ˜¯å¦æˆåŠŸ"><a href="#5-éªŒè¯æ˜¯å¦æˆåŠŸ" class="headerlink" title="5.éªŒè¯æ˜¯å¦æˆåŠŸ"></a>5.éªŒè¯æ˜¯å¦æˆåŠŸ</h2><p>åœ¨Typoraä¸­ï¼Œä»æ˜¯<code>åå¥½è®¾ç½®</code>&gt;<code>å›¾åƒ</code>ï¼Œç‚¹å‡»éªŒè¯å›¾ç‰‡ä¸Šä¼ </p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757997.png' data-fancybox='default' data-caption='image-20220404175711915'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757997.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757997.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404175711915"></a><span class='image-caption'>image-20220404175711915</span></div></div><p>å¦‚æœå‡ºç°ä»¥ä¸‹æç¤ºå³ä»£è¡¨æ­å»ºå›¾åºŠæˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757934.png' data-fancybox='default' data-caption='image-20220404175755855'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757934.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041757934.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404175755855"></a><span class='image-caption'>image-20220404175755855</span></div></div><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆ›å»ºçš„å­˜å‚¨æ¡¶ä¸­æŸ¥çœ‹å·²ä¸Šä¼ çš„å›¾ç‰‡äº†</p><p><strong>æ³¨ï¼š</strong>è¿™ç§æ–¹å¼æ­å»ºçš„å›¾åºŠæœ‰ä¸€ä¸ªå¼Šç«¯ï¼šå¦‚æœæˆ‘ä»¬åœ¨PicGoä¸­åˆ é™¤ä¸€å¼ ä¸éœ€è¦çš„å›¾ç‰‡åï¼Œå¯¹è±¡å­˜å‚¨ä¸­å¯¹åº”çš„è¿™å¼ å›¾ç‰‡ä¸ä¼šåŒæ­¥åˆ é™¤ï¼Œè€Œæ˜¯éœ€è¦æˆ‘ä»¬å»åˆ°å¯¹è±¡å­˜å‚¨æ§åˆ¶å°æ‰‹åŠ¨åˆ é™¤æ‰è¡Œ</p><h2 id="6-Giteeå›¾åºŠæ–‡ä»¶è½¬ç§»"><a href="#6-Giteeå›¾åºŠæ–‡ä»¶è½¬ç§»" class="headerlink" title="6.Giteeå›¾åºŠæ–‡ä»¶è½¬ç§»"></a>6.Giteeå›¾åºŠæ–‡ä»¶è½¬ç§»</h2><p><strong>æ³¨ï¼šå¦‚æœä¹‹å‰å¹¶æ²¡æœªä½¿ç”¨è¿‡Giteeä½œä¸ºå›¾åºŠå¯å¿½ç•¥</strong></p><p>åœ¨å·²æœ‰çš„Giteeå›¾åºŠä¸­å°†æ‰€æœ‰æ–‡ä»¶ä¸‹è½½ä¸‹æ¥å¹¶è§£å‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041802302.png' data-fancybox='default' data-caption='image-20220404180232224'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041802302.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041802302.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404180232224"></a><span class='image-caption'>image-20220404180232224</span></div></div><p>ç„¶åè¿›å…¥åˆ›å»ºå¥½çš„å­˜å‚¨æ¡¶çš„æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œè¿›å…¥åˆ°<strong>images</strong>æ–‡ä»¶å¤¹</p><p>ç„¶åç‚¹å‡»<strong>ä¸Šä¼ æ–‡ä»¶</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041808632.png' data-fancybox='default' data-caption='image-20220404180802570'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041808632.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041808632.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404180802570"></a><span class='image-caption'>image-20220404180802570</span></div></div><p>åœ¨çª—å£ä¸­ç‚¹å‡»<strong>é€‰æ‹©æ–‡ä»¶</strong>ï¼Œç„¶åé€‰ä¸­åˆšåˆšä¸‹è½½ä¸‹æ¥çš„Giteeå›¾åºŠä¸­æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041811256.png' data-fancybox='default' data-caption='image-20220404181121149'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041811256.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041811256.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404181121149"></a><span class='image-caption'>image-20220404181121149</span></div></div><p>é€‰æ‹©å¥½æ‰€æœ‰æ–‡ä»¶åï¼Œç‚¹å‡»å‚æ•°é…ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041814365.png' data-fancybox='default' data-caption='image-20220404181433278'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041814365.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041814365.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404181433278"></a><span class='image-caption'>image-20220404181433278</span></div></div><p>è®¾ç½®å¯¹è±¡å±æ€§ï¼Œå¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œä»¥ä¸‹è®¾ç½®ï¼ˆå¯æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041815517.png' data-fancybox='default' data-caption='image-20220404181536403'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041815517.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041815517.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404181536403"></a><span class='image-caption'>image-20220404181536403</span></div></div><p>ç„¶åç‚¹å‡»<strong>ä¸Šä¼ </strong>ç­‰å¾…ä¸Šä¼ æˆåŠŸå³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041817436.png' data-fancybox='default' data-caption='image-20220404181742322'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041817436.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041817436.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404181742322"></a><span class='image-caption'>image-20220404181742322</span></div></div><p>ç„¶åï¼Œæ ¹æ®åˆšåˆšåœ¨TyporaéªŒè¯å›¾ç‰‡ä¸Šä¼ æˆåŠŸåçš„æç¤ºå¯ä»¥çŸ¥é“æˆ‘ä»¬åˆšåˆšæ­å»ºçš„å¯¹è±¡å­˜å‚¨çš„<code>url</code>åœ°å€ï¼Œæ¯”å¦‚ï¼Œä¸Šä¼ æˆåŠŸåçš„<code>url</code>åœ°å€ä¸º<code>https://xxxx.myqcloud.com/images/202204041817436.png</code>ï¼Œæˆ‘ä»¬åªéœ€å¤åˆ¶<code>https://xxxx.myqcloud.com/images/</code>è¿™ä¸€éƒ¨åˆ†</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹å­˜å‚¨æ¡¶çš„åŸŸåä¿¡æ¯çŸ¥é“å­˜å‚¨æ¡¶çš„è®¿é—®åŸŸå<code>https://xxxx.myqcloud.com/</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204042129386.png' data-fancybox='default' data-caption='image-20220404212853236'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204042129386.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204042129386.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404212853236"></a><span class='image-caption'>image-20220404212853236</span></div></div><p>ç„¶åï¼Œæ‰“å¼€æˆ‘ä»¬éœ€è¦æ›´æ”¹å›¾ç‰‡åœ°å€çš„æ–‡ç« ï¼Œå¤åˆ¶ä¹‹å‰Giteeå›¾åºŠçš„<code>url</code>åœ°å€ï¼ˆåŒæ ·ä¹Ÿåªéœ€è¦å¤åˆ¶xxxx.pngå³æ–‡ä»¶åå‰é¢ä¸€éƒ¨åˆ†ï¼‰</p><p>ç„¶åï¼ŒæŒ‰ä¸‹<code>Ctrl</code>+<code>H</code>ï¼Œä½¿ç”¨å¯¹è±¡å­˜å‚¨çš„urlåœ°å€æ›¿æ¢æ‰Giteeå›¾åºŠçš„urlåœ°å€</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041830418.png' data-fancybox='default' data-caption='image-20220404183046353'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041830418.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202204041830418.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220404183046353"></a><span class='image-caption'>image-20220404183046353</span></div></div><p>æ³¨ï¼šå› ä¸ºæˆ‘ä»¬åœ¨PicGoè®¾ç½®ä¸­è®¾ç½®äº†å›¾ç‰‡ä¸Šä¼ ä½¿ç”¨æ—¶é—´æˆ³é‡å‘½åï¼Œæ‰€æœ‰å›¾ç‰‡åç§°éƒ½æ˜¯æ²¡å˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€æ›´æ”¹urlè·¯å¾„å³å¯</p><p><strong>ç»“è¯­ï¼š</strong>å…¶å®æ•´ä¸ªè¿‡ç¨‹æ˜¯å¾ˆç®€å•çš„ï¼Œå¦‚æœå¯¹äºå¯¹è±¡å­˜å‚¨æƒ³æœ‰æ›´é«˜çº§çš„ä½¿ç”¨ï¼Œæ¯”å¦‚ç»™å¯¹è±¡å­˜å‚¨è®¾ç½®é˜²ç›—é“¾ã€å­˜å‚¨æ¡¶çš„æƒé™ç®¡ç†ã€åŸŸåä¸ä¼ è¾“ç®¡ç†ç­‰ï¼Œå¯å‚è€ƒä¸€ä¸‹è…¾è®¯äº‘ä¸­çš„å®˜æ–¹æ–‡æ¡£ï¼Œä»”ç»†ç ”ç©¶ä¸€ä¸‹è¿˜æ˜¯å¾ˆå®¹æ˜“çœ‹æ‡‚çš„ã€‚å¯èƒ½å¾ˆå¤šäººå®³æ€•å¯¹è±¡å­˜å‚¨çš„è´¹ç”¨å¾ˆé«˜ï¼Œå…¶å®ä¸ç”¨æ‹…å¿ƒï¼Œè´¹ç”¨çœŸçš„å¾ˆå°‘ï¼Œä»–æ˜¯é»˜è®¤æŒ‰é‡è®¡è´¹ï¼Œæˆ‘ç”¨äº†åŠä¸ªæœˆæ‰ç”¨äº†å‡ åˆ†é’±ï¼ˆå¯èƒ½æˆ‘è¯·æ±‚é‡ä¹‹ç±»çš„æ¯”è¾ƒå°‘ï¼‰ï¼Œå¦‚æœå­˜æ”¾åœ¨å¯¹è±¡å­˜å‚¨ä¸Šçš„æ–‡ä»¶è®¿é—®çš„æ¯”è¾ƒå°‘ï¼Œå¯ä»¥å°†å®ƒä»¬è®¾ç½®ä¸ºä½é¢‘å­˜å‚¨ä¹‹ç±»ï¼Œè´¹ç”¨å°±ä¼šæ›´å°‘</p><p>åˆ°æ­¤ï¼ŒTypora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠå’Œå›¾åºŠæ–‡ä»¶è½¬ç§»å°±ç»“æŸäº†ï¼æœ‰ä¸è¶³ä¹‹å¤„æœ›æŒ‡å‡ºï¼ğŸ˜„</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Typora-PicGo-è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ&quot;&gt;&lt;a href=&quot;#Typora-PicGo-è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ&quot; class=&quot;headerlink&quot; title=&quot;Typora+PicGo+è…¾è®¯äº‘COSæ­å»ºå›¾åºŠ&quot;&gt;&lt;/a&gt;Typora+PicGo+è…¾è®¯äº‘C</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="http://rainvex.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Typora" scheme="http://rainvex.com/tags/Typora/"/>
    
    <category term="PicGo" scheme="http://rainvex.com/tags/PicGo/"/>
    
    <category term="å›¾åºŠ" scheme="http://rainvex.com/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆä¸Šï¼‰</title>
    <link href="http://rainvex.com/categories/Linux/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/Linux/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-03-27T14:14:34.000Z</published>
    <updated>2022-03-27T14:14:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯å»å¹´æš‘å‡å¿«ç»“æŸæ—¶çœ‹è§†é¢‘å­¦ä¹ åšçš„ç¬”è®°ï¼Œå½“æ—¶çœ‹äº†ä¸€åŠå¼€å­¦äº†åæ¥å°±å†ä¹Ÿæ²¡çœ‹è¿‡ï¼Œä½†æ˜¯ä¹Ÿè¶³å¤Ÿåº”ä»˜æ—¥å¸¸å­¦ä¹ ä½¿ç”¨äº†ï¼Œç°åœ¨åŸºæœ¬ä¹Ÿå·²ç»å¿˜å¾—å·®ä¸å¤šäº†ğŸ˜†ç­‰ä»¥åè…¾å‡ºæ—¶é—´äº†å†çœ‹åé¢çš„</p><h1 id="Linuxå­¦ä¹ ç¬”è®°"><a href="#Linuxå­¦ä¹ ç¬”è®°" class="headerlink" title="Linuxå­¦ä¹ ç¬”è®°"></a>Linuxå­¦ä¹ ç¬”è®°</h1><p>å­¦ä¹ æ¶æ„ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712064.png' data-fancybox='default' data-caption='image-20210814172313078'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712064.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712064.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814172313078"></a><span class='image-caption'>image-20210814172313078</span></div></div><h2 id="ä¸€ã€LinuxåŸºç¡€"><a href="#ä¸€ã€LinuxåŸºç¡€" class="headerlink" title="ä¸€ã€LinuxåŸºç¡€"></a>ä¸€ã€LinuxåŸºç¡€</h2><h3 id="1-1-Linuxä»‹ç»"><a href="#1-1-Linuxä»‹ç»" class="headerlink" title="1.1 Linuxä»‹ç»"></a>1.1 Linuxä»‹ç»</h3><h4 id="1-1-1-Linuxç®€ä»‹"><a href="#1-1-1-Linuxç®€ä»‹" class="headerlink" title="1.1.1 Linuxç®€ä»‹"></a>1.1.1 Linuxç®€ä»‹</h4><p>Linuxæ˜¯ä¸€æ¬¾<strong>æ“ä½œç³»ç»Ÿ</strong>ï¼Œ<strong>å…è´¹ï¼Œå¼€æºï¼Œå®‰å…¨ï¼Œé«˜æ•ˆï¼Œç¨³å®šï¼Œå¤„ç†é«˜å¹¶å‘éå¸¸å¼ºæ‚</strong>ï¼Œç°åœ¨å¾ˆå¤šçš„ä¼ä¸šçº§çš„é¡¹ç›®éƒ½éƒ¨ç½²åˆ°Linux/unixæœåŠ¡å™¨è¿è¡Œ</p><p>Linux å†…æ ¸æœ€åˆåªæ˜¯ç”±èŠ¬å…°äºº<strong>æ—çº³æ–¯Â·æ‰˜ç“¦å…¹</strong>ï¼ˆLinus Torvaldsï¼‰åœ¨èµ«å°”è¾›åŸºå¤§å­¦ä¸Šå­¦æ—¶å‡ºäºä¸ªäººçˆ±å¥½è€Œç¼–å†™çš„</p><p>Linux æ˜¯ä¸€å¥—<strong>å…è´¹ä½¿ç”¨</strong>å’Œ<strong>è‡ªç”±ä¼ æ’­</strong>çš„<strong>ç±» Unix æ“ä½œç³»ç»Ÿ</strong>ï¼Œæ˜¯ä¸€ä¸ª<strong>åŸºäº POSIX å’Œ UNIX çš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡ã€æ”¯æŒå¤šçº¿ç¨‹å’Œå¤š CPU çš„æ“ä½œç³»ç»Ÿ</strong></p><p>Linux <strong>èƒ½è¿è¡Œä¸»è¦çš„UNIXå·¥å…·è½¯ä»¶ã€åº”ç”¨ç¨‹åºå’Œç½‘ç»œåè®®</strong>ã€‚å®ƒæ”¯æŒ 32 ä½å’Œ 64 ä½ç¡¬ä»¶ã€‚<strong>Linux ç»§æ‰¿äº† Unix ä»¥ç½‘ç»œä¸ºæ ¸å¿ƒçš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯ä¸€ä¸ªæ€§èƒ½ç¨³å®šçš„å¤šç”¨æˆ·ç½‘ç»œæ“ä½œç³»ç»Ÿ</strong></p><p>ç›®å‰ä¸»è¦çš„æ“ä½œç³»ç»Ÿæœ‰ï¼šWindowsã€Androidã€Linuxã€IOSã€MacOSã€è½¦è½½ç³»ç»Ÿç­‰</p><h4 id="1-1-2-Linuxå‘è¡Œç‰ˆ"><a href="#1-1-2-Linuxå‘è¡Œç‰ˆ" class="headerlink" title="1.1.2 Linuxå‘è¡Œç‰ˆ"></a>1.1.2 Linuxå‘è¡Œç‰ˆ</h4><p>Linux çš„å‘è¡Œç‰ˆè¯´ç®€å•ç‚¹å°±æ˜¯<strong>å°† Linux å†…æ ¸ä¸åº”ç”¨è½¯ä»¶åšä¸€ä¸ªæ‰“åŒ…</strong></p><p>Linuxä¸»è¦çš„å‘è¡Œç‰ˆï¼š<strong>Ubuntu(ä¹Œç­å›¾)<strong>ã€</strong>RedHat(çº¢å¸½)<strong>ã€</strong>CentOS</strong>ã€Debain(è¶å˜)ã€Fedoraã€SuSEã€OpenSUSE</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712520.png' data-fancybox='default' data-caption='image-20210813104850192'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712520.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201712520.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813104850192"></a><span class='image-caption'>image-20210813104850192</span></div></div><h4 id="1-1-3-Linuxåº”ç”¨é¢†åŸŸ"><a href="#1-1-3-Linuxåº”ç”¨é¢†åŸŸ" class="headerlink" title="1.1.3 Linuxåº”ç”¨é¢†åŸŸ"></a>1.1.3 Linuxåº”ç”¨é¢†åŸŸ</h4><p>ç°å¦‚ä»Šå„ç§åœºåˆéƒ½æœ‰ä½¿ç”¨å„ç§ Linux å‘è¡Œç‰ˆï¼Œä»åµŒå…¥å¼è®¾å¤‡åˆ°è¶…çº§è®¡ç®—æœºï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨é¢†åŸŸç¡®å®šäº†åœ°ä½ï¼Œå„ç§åœºåˆéƒ½æœ‰ä½¿ç”¨å„ç§ Linux å‘è¡Œç‰ˆï¼Œä»åµŒå…¥å¼è®¾å¤‡åˆ°è¶…çº§è®¡ç®—æœºï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨é¢†åŸŸç¡®å®šäº†åœ°ä½ï¼Œé€šå¸¸<strong>æœåŠ¡å™¨ä½¿ç”¨ LAMPï¼ˆLinux + Apache + MySQL + PHPï¼‰æˆ– LNMPï¼ˆLinux + Nginx+ MySQL + PHPï¼‰ç»„åˆ</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713780.png' data-fancybox='default' data-caption='image-20210814175025164'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713780.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713780.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814175025164"></a><span class='image-caption'>image-20210814175025164</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713797.png' data-fancybox='default' data-caption='image-20210814175117344'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713797.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713797.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814175117344"></a><span class='image-caption'>image-20210814175117344</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713702.png' data-fancybox='default' data-caption='image-20210814175308356'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713702.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713702.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814175308356"></a><span class='image-caption'>image-20210814175308356</span></div></div><h4 id="1-1-4-Linuxä¸Unixçš„å…³ç³»"><a href="#1-1-4-Linuxä¸Unixçš„å…³ç³»" class="headerlink" title="1.1.4 Linuxä¸Unixçš„å…³ç³»"></a>1.1.4 Linuxä¸Unixçš„å…³ç³»</h4><h5 id="1-UNIXçš„æ¥å†"><a href="#1-UNIXçš„æ¥å†" class="headerlink" title="1.UNIXçš„æ¥å†"></a>1.UNIXçš„æ¥å†</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713017.png' data-fancybox='default' data-caption='image-20210814180911436'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713017.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713017.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814180911436"></a><span class='image-caption'>image-20210814180911436</span></div></div><h5 id="2-Linuxçš„æ¥å†"><a href="#2-Linuxçš„æ¥å†" class="headerlink" title="2.Linuxçš„æ¥å†"></a>2.Linuxçš„æ¥å†</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713566.png' data-fancybox='default' data-caption='image-20210814181029762'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713566.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713566.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814181029762"></a><span class='image-caption'>image-20210814181029762</span></div></div><h5 id="3-UNIXå’ŒLinuxçš„å…³ç³»"><a href="#3-UNIXå’ŒLinuxçš„å…³ç³»" class="headerlink" title="3.UNIXå’ŒLinuxçš„å…³ç³»"></a>3.UNIXå’ŒLinuxçš„å…³ç³»</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713324.png' data-fancybox='default' data-caption='image-20210814181201417'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713324.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713324.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814181201417"></a><span class='image-caption'>image-20210814181201417</span></div></div><h4 id="1-1-5-Linuxå’ŒWindowsçš„æ¯”è¾ƒ"><a href="#1-1-5-Linuxå’ŒWindowsçš„æ¯”è¾ƒ" class="headerlink" title="1.1.5 Linuxå’ŒWindowsçš„æ¯”è¾ƒ"></a>1.1.5 Linuxå’ŒWindowsçš„æ¯”è¾ƒ</h4><table><thead><tr><th>æ¯”è¾ƒ</th><th>Windows</th><th>Linux</th></tr></thead><tbody><tr><td>ç•Œé¢</td><td>ç•Œé¢ç»Ÿä¸€ï¼Œå¤–å£³ç¨‹åºå›ºå®šæ‰€æœ‰ Windows ç¨‹åºèœå•å‡ ä¹ä¸€è‡´ï¼Œå¿«æ·é”®ä¹Ÿå‡ ä¹ç›¸åŒ</td><td>å›¾å½¢ç•Œé¢é£æ ¼ä¾å‘å¸ƒç‰ˆä¸åŒè€Œä¸åŒï¼Œå¯èƒ½äº’ä¸å…¼å®¹ã€‚GNU/Linux çš„ç»ˆç«¯æœºæ˜¯ä» UNIX ä¼ æ‰¿ä¸‹æ¥ï¼ŒåŸºæœ¬å‘½ä»¤å’Œæ“ä½œæ–¹æ³•ä¹Ÿå‡ ä¹ä¸€è‡´</td></tr><tr><td>é©±åŠ¨ç¨‹åº</td><td>é©±åŠ¨ç¨‹åºä¸°å¯Œï¼Œç‰ˆæœ¬æ›´æ–°é¢‘ç¹ã€‚é»˜è®¤å®‰è£…ç¨‹åºé‡Œé¢ä¸€èˆ¬åŒ…å«æœ‰è¯¥ç‰ˆæœ¬å‘å¸ƒæ—¶æµè¡Œçš„ç¡¬ä»¶é©±åŠ¨ç¨‹åºï¼Œä¹‹åæ‰€å‡ºçš„æ–°ç¡¬ä»¶é©±åŠ¨ä¾èµ–äºç¡¬ä»¶å‚å•†æä¾›ã€‚å¯¹äºä¸€äº›è€ç¡¬ä»¶ï¼Œå¦‚æœæ²¡æœ‰äº†åŸé…çš„é©±åŠ¨æœ‰æ—¶å¾ˆéš¾æ”¯æŒã€‚å¦å¤–ï¼Œæœ‰æ—¶ç¡¬ä»¶å‚å•†æœªæä¾›æ‰€éœ€ç‰ˆæœ¬çš„ Windows ä¸‹çš„é©±åŠ¨ï¼Œä¹Ÿä¼šæ¯”è¾ƒå¤´ç—›</td><td>ç”±å¿—æ„¿è€…å¼€å‘ï¼Œç”± Linux  æ ¸å¿ƒå¼€å‘å°ç»„å‘å¸ƒï¼Œå¾ˆå¤šç¡¬ä»¶å‚å•†åŸºäºç‰ˆæƒè€ƒè™‘å¹¶æœªæä¾›é©±åŠ¨ç¨‹åºï¼Œå°½ç®¡å¤šæ•°æ— éœ€æ‰‹åŠ¨å®‰è£…ï¼Œä½†æ˜¯æ¶‰åŠå®‰è£…åˆ™ç›¸å¯¹å¤æ‚ï¼Œä½¿å¾—æ–°ç”¨æˆ·é¢å¯¹é©±åŠ¨ç¨‹åºé—®é¢˜ï¼ˆæ˜¯å¦å­˜åœ¨å’Œå®‰è£…æ–¹æ³•ï¼‰ä¼šä¸€ç­¹è«å±•ã€‚ä½†æ˜¯åœ¨å¼€æºå¼€å‘æ¨¡å¼ä¸‹ï¼Œè®¸å¤šè€ç¡¬ä»¶å°½ç®¡åœ¨Windowsä¸‹å¾ˆéš¾æ”¯æŒçš„ä¹Ÿå®¹æ˜“æ‰¾åˆ°é©±åŠ¨ã€‚HPã€Intelã€AMD ç­‰ç¡¬ä»¶å‚å•†é€æ­¥ä¸åŒç¨‹åº¦æ”¯æŒå¼€æºé©±åŠ¨ï¼Œé—®é¢˜æ­£åœ¨å¾—åˆ°ç¼“è§£</td></tr><tr><td>ä½¿ç”¨</td><td>ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œå®¹æ˜“å…¥é—¨ã€‚å›¾å½¢åŒ–ç•Œé¢å¯¹æ²¡æœ‰è®¡ç®—æœºèƒŒæ™¯çŸ¥è¯†çš„ç”¨æˆ·ä½¿ç”¨ååˆ†æœ‰åˆ©</td><td>å›¾å½¢ç•Œé¢ä½¿ç”¨ç®€å•ï¼Œå®¹æ˜“å…¥é—¨ã€‚æ–‡å­—ç•Œé¢ï¼Œéœ€è¦å­¦ä¹ æ‰èƒ½æŒæ¡</td></tr><tr><td>å­¦ä¹ </td><td>ç³»ç»Ÿæ„é€ å¤æ‚ã€å˜åŒ–é¢‘ç¹ï¼Œä¸”çŸ¥è¯†ã€æŠ€èƒ½æ·˜æ±°å¿«ï¼Œæ·±å…¥å­¦ä¹ å›°éš¾</td><td>ç³»ç»Ÿæ„é€ ç®€å•ã€ç¨³å®šï¼Œä¸”çŸ¥è¯†ã€æŠ€èƒ½ä¼ æ‰¿æ€§å¥½ï¼Œæ·±å…¥å­¦ä¹ ç›¸å¯¹å®¹æ˜“</td></tr><tr><td>è½¯ä»¶</td><td>æ¯ä¸€ç§ç‰¹å®šåŠŸèƒ½å¯èƒ½éƒ½éœ€è¦å•†ä¸šè½¯ä»¶çš„æ”¯æŒï¼Œéœ€è¦è´­ä¹°ç›¸åº”çš„æˆæƒ</td><td>å¤§éƒ¨åˆ†è½¯ä»¶éƒ½å¯ä»¥è‡ªç”±è·å–ï¼ŒåŒæ ·åŠŸèƒ½çš„è½¯ä»¶é€‰æ‹©è¾ƒå°‘</td></tr><tr><td>å®‰å…¨æ€§</td><td>ä¸‰å¤©ä¸¤å¤´æ‰“è¡¥ä¸å®‰è£…ç³»ç»Ÿå®‰å…¨æ›´æ–°,è¿˜æ˜¯ä¼šä¸­ç—…æ¯’æœ¨é©¬</td><td>è¦è¯´Linuxæ²¡æœ‰å®‰å…¨é—®é¢˜ï¼Œé‚£å½“ç„¶æ˜¯ä¸å¯èƒ½çš„,è¿™â€•ç‚¹ä»è€…è§ä»æ™ºè€…è§æ™ºï¼Œç›¸å¯¹æ¥è¯´è‚¯å®šæ¯”Windowså¹³å°è¦æ›´åŠ å®‰å…¨</td></tr><tr><td>å¯å®šåˆ¶æ€§</td><td>å°é—­çš„ï¼Œç³»ç»Ÿå¯å®šåˆ¶æ€§å¾ˆå·®</td><td>å¼€æºï¼Œå¯å®šåˆ¶åŒ–éå¸¸å¼º</td></tr><tr><td>åº”ç”¨åœºæ™¯</td><td>æ¡Œé¢æ“ä½œç³»ç»Ÿä¸»è¦ä½¿ç”¨çš„æ˜¯windows</td><td>æ”¯æ’‘ç™¾åº¦,è°·æ­Œ,æ·˜å®ç­‰åº”ç”¨è½¯ä»¶å’ŒæœåŠ¡çš„,æ˜¯åå°æˆåƒä¸Šæ–¹çš„LinuxæœåŠ¡å™¨ä¸»æœºã€‚ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†è½¯ä»¶å’ŒæœåŠ¡éƒ½æ˜¯è¿è¡Œåœ¨Linuxä¹‹ä¸Šçš„</td></tr></tbody></table><h3 id="1-2-Linuxå®‰è£…"><a href="#1-2-Linuxå®‰è£…" class="headerlink" title="1.2 Linuxå®‰è£…"></a>1.2 Linuxå®‰è£…</h3><p>å­¦ä¹ Linuxéœ€è¦ä¸€ä¸ªç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œç„¶ååœ¨è™šæ‹Ÿæœºä¸Šå®‰è£…ä¸€ä¸ªCentosç³»ç»Ÿæ¥å­¦ä¹ </p><ul><li>å…ˆå®‰è£…virtual machine ,vm12</li><li>å†å®‰è£…Linux (CentOS 6.8)</li><li>åŸç†ç¤ºæ„å›¾</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713775.png' data-fancybox='default' data-caption='image-20210813114435396'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713775.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713775.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813114435396"></a><span class='image-caption'>image-20210813114435396</span></div></div><h4 id="1-2-1-VMå®‰è£…-Virtual-Machine16"><a href="#1-2-1-VMå®‰è£…-Virtual-Machine16" class="headerlink" title="1.2.1 VMå®‰è£…(Virtual Machine16)"></a>1.2.1 VMå®‰è£…(Virtual Machine16)</h4><p>ä¸‹è½½é“¾æ¥ï¼š<a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html">https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html</a></p><p>å®‰è£…æ­¥éª¤å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/qq_40950957/article/details/80467513">https://blog.csdn.net/qq_40950957/article/details/80467513</a></p><h4 id="1-2-2-CentOS-8-4-å®‰è£…"><a href="#1-2-2-CentOS-8-4-å®‰è£…" class="headerlink" title="1.2.2 CentOS(8.4)å®‰è£…"></a>1.2.2 CentOS(8.4)å®‰è£…</h4><ol><li>åˆ›å»ºè™šæ‹Ÿæœº</li><li>å¼€å§‹å®‰è£…ç³»ç»Ÿ(CentOS)</li></ol><h5 id="1-åˆ›å»ºè™šæ‹Ÿæœº"><a href="#1-åˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="1.åˆ›å»ºè™šæ‹Ÿæœº"></a>1.åˆ›å»ºè™šæ‹Ÿæœº</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713015.png' data-fancybox='default' data-caption='image-20210813140324364'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713015.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201713015.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813140324364"></a><span class='image-caption'>image-20210813140324364</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714344.png' data-fancybox='default' data-caption='image-20210813140455830'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714344.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714344.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813140455830"></a><span class='image-caption'>image-20210813140455830</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714473.png' data-fancybox='default' data-caption='image-20210813140802838'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714473.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714473.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813140802838"></a><span class='image-caption'>image-20210813140802838</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714071.png' data-fancybox='default' data-caption='image-20210813141342050'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714071.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714071.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813141342050"></a><span class='image-caption'>image-20210813141342050</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714351.png' data-fancybox='default' data-caption='image-20210813141914033'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714351.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714351.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813141914033"></a><span class='image-caption'>image-20210813141914033</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714062.png' data-fancybox='default' data-caption='image-20210813142000323'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714062.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714062.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813142000323"></a><span class='image-caption'>image-20210813142000323</span></div></div><p>ç‚¹å‡»å®Œæˆåï¼Œå‡ºç°æ­¤é¡µé¢</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714833.png' data-fancybox='default' data-caption='image-20210813142301179'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714833.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714833.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813142301179"></a><span class='image-caption'>image-20210813142301179</span></div></div><h5 id="2-ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®"><a href="#2-ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®" class="headerlink" title="2.ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®"></a>2.ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®</h5><p>â‘ è®¾ç½®å†…å­˜</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714707.png' data-fancybox='default' data-caption='image-20210813142651409'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714707.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714707.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813142651409"></a><span class='image-caption'>image-20210813142651409</span></div></div><p>â‘¡è®¾ç½®å¤„ç†å™¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714792.png' data-fancybox='default' data-caption='image-20210813145038255'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714792.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714792.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813145038255"></a><span class='image-caption'>image-20210813145038255</span></div></div><p>â‘¢è®¾ç½®ç½‘ç»œé€‚é…å™¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714135.png' data-fancybox='default' data-caption='image-20210813150256348'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714135.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714135.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813150256348"></a><span class='image-caption'>image-20210813150256348</span></div></div><p><strong>è¯´æ˜ï¼š</strong></p><p>ç½‘ç»œè¿æ¥ç±»å‹çš„é€‰æ‹©ï¼Œç½‘ç»œè¿æ¥ç±»å‹ä¸€å…±æœ‰æ¡¥æ¥ã€NATã€ä»…ä¸»æœºå’Œä¸è”ç½‘å››ç§ã€‚</p><p>æ¡¥æ¥ï¼šé€‰æ‹©æ¡¥æ¥æ¨¡å¼çš„è¯<strong>è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºåœ¨ç½‘ç»œä¸Šå°±æ˜¯å¹³çº§çš„å…³ç³»ï¼Œç›¸å½“äºè¿æ¥åœ¨åŒä¸€äº¤æ¢æœºä¸Š</strong></p><p>NATï¼šNATæ¨¡å¼å°±æ˜¯<strong>è™šæ‹Ÿæœºè¦è”ç½‘å¾—å…ˆé€šè¿‡å®¿ä¸»æœºæ‰èƒ½å’Œå¤–é¢è¿›è¡Œé€šä¿¡</strong></p><p>ä»…ä¸»æœºï¼š<strong>è™šæ‹Ÿæœºä¸å®¿ä¸»æœºç›´æ¥è¿èµ·æ¥</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714780.png' data-fancybox='default' data-caption='image-20210813150926963'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714780.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714780.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813150926963"></a><span class='image-caption'>image-20210813150926963</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714795.png' data-fancybox='default' data-caption='image-20210814183433435'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714795.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714795.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814183433435"></a><span class='image-caption'>image-20210814183433435</span></div></div><h5 id="3-å¼€å§‹å®‰è£…CentOS"><a href="#3-å¼€å§‹å®‰è£…CentOS" class="headerlink" title="3.å¼€å§‹å®‰è£…CentOS"></a>3.å¼€å§‹å®‰è£…CentOS</h5><p>â‘ åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©ä¸‹è½½å¥½çš„é•œåƒæ–‡ä»¶ï¼Œç„¶åå¯åŠ¨è™šæ‹Ÿæœº</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714772.png' data-fancybox='default' data-caption='image-20210813205002332'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714772.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201714772.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813205002332"></a><span class='image-caption'>image-20210813205002332</span></div></div><p>â‘¡å¯åŠ¨åä¼šå‡ºç°æ­¤é¡µé¢ï¼Œåˆ©ç”¨â€œâ†‘å’Œâ†“é”®â€é€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œç„¶åEnter</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715525.png' data-fancybox='default' data-caption='image-20210814152521546'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715525.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715525.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814152521546"></a><span class='image-caption'>image-20210814152521546</span></div></div><p>â‘¢ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå‡ºç°ä¸‹æ–¹ç•Œé¢ï¼Œç„¶åæœç´¢â€chineseâ€ï¼Œç‚¹å‡»ä¸­æ–‡ï¼Œé€‰æ‹©ç®€ä½“ä¸­æ–‡ï¼Œç„¶åç‚¹å‡»ç»§ç»­</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715018.png' data-fancybox='default' data-caption='image-20210813205848078'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715018.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715018.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210813205848078"></a><span class='image-caption'>image-20210813205848078</span></div></div><p>â‘£ç„¶ååœ¨å‡ºç°çš„æ­¤ç•Œé¢è¿›è¡Œç›¸åº”è®¾ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715133.png' data-fancybox='default' data-caption='image-20210814145800843'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715133.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715133.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814145800843"></a><span class='image-caption'>image-20210814145800843</span></div></div><p>é¦–å…ˆï¼Œè®¾ç½®æ—¶åŒºå’Œæ—¥æœŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715299.png' data-fancybox='default' data-caption='image-20210814142100918'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715299.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715299.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814142100918"></a><span class='image-caption'>image-20210814142100918</span></div></div><p>ç„¶åï¼Œè®¾ç½®è¦å®‰è£…çš„è½¯ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715653.png' data-fancybox='default' data-caption='image-20210814153516061'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715653.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715653.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814153516061"></a><span class='image-caption'>image-20210814153516061</span></div></div><p>ç„¶åï¼Œè®¾ç½®å®‰è£…ç›®æ ‡ä½ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715428.png' data-fancybox='default' data-caption='image-20210814153933635'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715428.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715428.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814153933635"></a><span class='image-caption'>image-20210814153933635</span></div></div><p>ç„¶åä¼šå¼¹å‡ºä¸€ä¸ªé¡µé¢ï¼Œåœ¨æ­¤é¡µé¢ä¸­è®¾ç½®åˆ†åŒºå¤§å°</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715665.png' data-fancybox='default' data-caption='image-20210814155116665'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715665.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715665.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814155116665"></a><span class='image-caption'>image-20210814155116665</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715015.png' data-fancybox='default' data-caption='image-20210814155248764'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715015.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715015.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814155248764"></a><span class='image-caption'>image-20210814155248764</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715277.png' data-fancybox='default' data-caption='image-20210814155852518'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715277.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715277.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814155852518"></a><span class='image-caption'>image-20210814155852518</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715894.png' data-fancybox='default' data-caption='image-20210814160109595'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715894.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715894.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814160109595"></a><span class='image-caption'>image-20210814160109595</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715342.png' data-fancybox='default' data-caption='image-20210814160930075'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715342.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715342.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814160930075"></a><span class='image-caption'>image-20210814160930075</span></div></div><p>æ³¨ï¼šlinuxåˆ†åŒºä»‹ç»</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715515.png' data-fancybox='default' data-caption='image-20210814154748176'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715515.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715515.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814154748176"></a><span class='image-caption'>image-20210814154748176</span></div></div><p>ç„¶åï¼Œè®¾ç½®KDUMP</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715195.png' data-fancybox='default' data-caption='image-20210814161216554'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715195.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715195.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814161216554"></a><span class='image-caption'>image-20210814161216554</span></div></div><p>ç„¶åï¼Œè®¾ç½®ç½‘ç»œå’Œä¸»æœºå</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715797.png' data-fancybox='default' data-caption='image-20210814161454414'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715797.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715797.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814161454414"></a><span class='image-caption'>image-20210814161454414</span></div></div><p>ç„¶åï¼Œå®‰å…¨ç­–ç•¥å¯ä»¥ä¸ç”¨ç®¡ï¼Œæ˜¾ç¤ºä¸ºæ²¡æœ‰æ‰¾åˆ°å†…å®¹</p><p>ç„¶åï¼Œè®¾ç½®Rootå¯†ç ï¼Œç±»ä¼¼windowsçš„å¯†ç ï¼Œç”¨äºç™»å½•ç³»ç»Ÿ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715293.png' data-fancybox='default' data-caption='image-20210814142511862'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715293.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201715293.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814142511862"></a><span class='image-caption'>image-20210814142511862</span></div></div><p>ç„¶åï¼Œåˆ›å»ºç”¨æˆ·</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201716503.png' data-fancybox='default' data-caption='image-20210814162030103'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201716503.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201716503.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814162030103"></a><span class='image-caption'>image-20210814162030103</span></div></div><p>æœ€åï¼Œç¡®è®¤æ‰€æœ‰è®¾ç½®æ— è¯¯åï¼Œç‚¹å‡»å¼€å§‹å®‰è£…</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717474.png' data-fancybox='default' data-caption='image-20210814162339607'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717474.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717474.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814162339607"></a><span class='image-caption'>image-20210814162339607</span></div></div><p>â‘¤å®‰è£…å®Œæˆï¼Œé‡å¯ç³»ç»Ÿ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717951.png' data-fancybox='default' data-caption='image-20210814164515812'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717951.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717951.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814164515812"></a><span class='image-caption'>image-20210814164515812</span></div></div><p>â‘¥é‡å¯æˆåŠŸåï¼Œæ¥æ”¶è®¸å¯è¯ä¿¡æ¯ï¼Œå®Œæˆé…ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717810.png' data-fancybox='default' data-caption='image-20210814164944505'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717810.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717810.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814164944505"></a><span class='image-caption'>image-20210814164944505</span></div></div><p>â‘¦é€‰æ‹©ç”¨æˆ·ï¼Œè¾“å…¥å¯†ç ï¼Œç™»å½•ç³»ç»Ÿ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717570.png' data-fancybox='default' data-caption='image-20210814165142832'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165142832"></a><span class='image-caption'>image-20210814165142832</span></div></div><p>â‘§è¿›å…¥ç³»ç»Ÿï¼Œè¿›è¡Œä½¿ç”¨é…ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717140.png' data-fancybox='default' data-caption='image-20210814165345388'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717140.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717140.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165345388"></a><span class='image-caption'>image-20210814165345388</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717667.png' data-fancybox='default' data-caption='image-20210814165438081'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717667.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717667.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165438081"></a><span class='image-caption'>image-20210814165438081</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717000.png' data-fancybox='default' data-caption='image-20210814165521731'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717000.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717000.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165521731"></a><span class='image-caption'>image-20210814165521731</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717626.png' data-fancybox='default' data-caption='image-20210814165540765'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717626.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201717626.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165540765"></a><span class='image-caption'>image-20210814165540765</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718597.png' data-fancybox='default' data-caption='image-20210814165600033'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718597.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718597.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165600033"></a><span class='image-caption'>image-20210814165600033</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718388.png' data-fancybox='default' data-caption='image-20210814165828731'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718388.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718388.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165828731"></a><span class='image-caption'>image-20210814165828731</span></div></div><p>â‘¨å®‰è£…å®Œæˆ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718718.png' data-fancybox='default' data-caption='image-20210814165912479'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718718.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718718.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814165912479"></a><span class='image-caption'>image-20210814165912479</span></div></div><h3 id="1-3-è™šæ‹Ÿæœºç³»ç»Ÿç®¡ç†"><a href="#1-3-è™šæ‹Ÿæœºç³»ç»Ÿç®¡ç†" class="headerlink" title="1.3 è™šæ‹Ÿæœºç³»ç»Ÿç®¡ç†"></a>1.3 è™šæ‹Ÿæœºç³»ç»Ÿç®¡ç†</h3><h4 id="1-3-1-è™šæ‹Ÿæœºå…‹éš†"><a href="#1-3-1-è™šæ‹Ÿæœºå…‹éš†" class="headerlink" title="1.3.1 è™šæ‹Ÿæœºå…‹éš†"></a>1.3.1 è™šæ‹Ÿæœºå…‹éš†</h4><h5 id="æ–¹å¼1ï¼šç›´æ¥æ‹·è´ä¸€ä»½å®‰è£…å¥½çš„è™šæ‹Ÿæœºæ–‡ä»¶"><a href="#æ–¹å¼1ï¼šç›´æ¥æ‹·è´ä¸€ä»½å®‰è£…å¥½çš„è™šæ‹Ÿæœºæ–‡ä»¶" class="headerlink" title="æ–¹å¼1ï¼šç›´æ¥æ‹·è´ä¸€ä»½å®‰è£…å¥½çš„è™šæ‹Ÿæœºæ–‡ä»¶"></a>æ–¹å¼1ï¼šç›´æ¥æ‹·è´ä¸€ä»½å®‰è£…å¥½çš„è™šæ‹Ÿæœºæ–‡ä»¶</h5><p>é¦–å…ˆï¼Œæ‰¾åˆ°å·²æœ‰çš„è™šæ‹Ÿæœºæ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å¤åˆ¶ç²˜è´´åˆ°æƒ³å¤åˆ¶å­˜æ”¾çš„ä½ç½®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718610.png' data-fancybox='default' data-caption='image-20210814184615770'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718610.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718610.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814184615770"></a><span class='image-caption'>image-20210814184615770</span></div></div><p>ç„¶åï¼Œæ‰“å¼€VMware Workstationï¼Œç‚¹å‡»é€‰é¡¹å¡ä¸­çš„æ–‡ä»¶ï¼Œç‚¹å‡»æ‰“å¼€</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718094.png' data-fancybox='default' data-caption='image-20210814184840125'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718094.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718094.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814184840125"></a><span class='image-caption'>image-20210814184840125</span></div></div><p>æœ€åï¼Œåœ¨å¼¹çª—ä¸­æ‰¾åˆ°å¤åˆ¶çš„æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©<code>.vmx</code>æ–‡ä»¶ï¼Œç‚¹å‡»æ‰“å¼€å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718641.png' data-fancybox='default' data-caption='image-20210814185130636'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718641.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201718641.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814185130636"></a><span class='image-caption'>image-20210814185130636</span></div></div><h5 id="æ–¹å¼2ï¼šä½¿ç”¨VMwareçš„å…‹éš†æ“ä½œ"><a href="#æ–¹å¼2ï¼šä½¿ç”¨VMwareçš„å…‹éš†æ“ä½œ" class="headerlink" title="æ–¹å¼2ï¼šä½¿ç”¨VMwareçš„å…‹éš†æ“ä½œ"></a>æ–¹å¼2ï¼šä½¿ç”¨VMwareçš„å…‹éš†æ“ä½œ</h5><p><strong>æ³¨æ„ï¼šå…‹éš†æ—¶ï¼Œéœ€è¦å…ˆå…³é—­linuxç³»ç»Ÿ</strong></p><p>é¦–å…ˆï¼Œæ‰“å¼€VMwareï¼Œå³é”®å•å‡»å°†è¢«å…‹éš†çš„è™šæ‹Ÿæœºï¼Œåœ¨ç®¡ç†é¡¹ç‚¹å‡»å…‹éš†</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719856.png' data-fancybox='default' data-caption='image-20210814185805858'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719856.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719856.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814185805858"></a><span class='image-caption'>image-20210814185805858</span></div></div><p>ç„¶åï¼Œç‚¹å‡»ä¸‹ä¸€é¡µ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719456.png' data-fancybox='default' data-caption='image-20210814185923841'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719456.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719456.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814185923841"></a><span class='image-caption'>image-20210814185923841</span></div></div><p>ç„¶åï¼Œå†ç‚¹å‡»ä¸‹ä¸€é¡µ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719259.png' data-fancybox='default' data-caption='image-20210814190001421'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719259.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719259.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814190001421"></a><span class='image-caption'>image-20210814190001421</span></div></div><p>ç„¶åï¼Œé€‰æ‹©åˆ›å»ºå®Œæ•´å…‹éš†ï¼Œå†ç‚¹å‡»ä¸‹ä¸€é¡µ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719809.png' data-fancybox='default' data-caption='image-20210814190109420'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719809.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719809.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814190109420"></a><span class='image-caption'>image-20210814190109420</span></div></div><p>æœ€åï¼Œè¾“å…¥æ–°è™šæ‹Ÿæœºåç§°ï¼Œé€‰æ‹©å­˜æ”¾ä½ç½®ï¼Œç‚¹å‡»å®Œæˆå³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719443.png' data-fancybox='default' data-caption='image-20210814190234812'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719443.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719443.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814190234812"></a><span class='image-caption'>image-20210814190234812</span></div></div><h4 id="1-3-2-è™šæ‹Ÿæœºå¿«ç…§"><a href="#1-3-2-è™šæ‹Ÿæœºå¿«ç…§" class="headerlink" title="1.3.2 è™šæ‹Ÿæœºå¿«ç…§"></a>1.3.2 è™šæ‹Ÿæœºå¿«ç…§</h4><p>å¦‚æœä½ åœ¨ä½¿ç”¨è™šæ‹Ÿæœºç³»ç»Ÿçš„æ—¶å€™(æ¯”å¦‚Linux)ï¼Œä½ æƒ³<strong>å›åˆ°åŸå…ˆçš„æŸä¸€ä¸ªçŠ¶æ€</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ æ‹…å¿ƒå¯èƒ½æœ‰äº›è¯¯æ“ä½œé€ æˆç³»ç»Ÿå¼‚å¸¸ï¼Œéœ€è¦å›åˆ°åŸå…ˆæŸä¸ªæ­£å¸¸è¿è¡Œçš„çŠ¶æ€ï¼ŒVMwareä¹Ÿæä¾›äº†è¿™æ ·çš„åŠŸèƒ½ï¼Œå°±å«<strong>å¿«ç…§ç®¡ç†</strong></p><p>åº”ç”¨å®ä¾‹ï¼š</p><ol><li>å®‰è£…å¥½ç³»ç»Ÿä»¥åï¼Œå…ˆåšä¸€ä¸ªå¿«ç…§A</li><li>è¿›å…¥åˆ°ç³»ç»Ÿã€‚åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå†ä¿å­˜ä¸€ä¸ªå¿«ç…§B</li><li>å›åˆ°ç³»ç»Ÿåˆšåˆšå®‰è£…å¥½çš„çŠ¶æ€ï¼Œå³å¿«ç…§A</li><li>è¯•è¯•çœ‹ï¼Œæ˜¯å¦è¿˜èƒ½å†æ¬¡å›åˆ°å¿«ç…§B</li></ol><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719188.png' data-fancybox='default' data-caption='image-20210814205828065'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719188.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719188.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814205828065"></a><span class='image-caption'>image-20210814205828065</span></div></div><p>å…·ä½“æ“ä½œï¼š</p><p>é¦–å…ˆï¼Œå³é”®å•å‡»éœ€è¦è¢«å¿«ç…§çš„è™šæ‹Ÿæœºï¼Œé€‰æ‹©å¿«ç…§ï¼Œç‚¹å‡»æ‹æ‘„å¿«ç…§</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719715.png' data-fancybox='default' data-caption='image-20210814205232489'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719715.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719715.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814205232489"></a><span class='image-caption'>image-20210814205232489</span></div></div><p>ç„¶åï¼Œåœ¨å¼¹å‡ºçš„çª—å£ç»™å¿«ç…§å‘½åï¼Œæ·»åŠ æè¿°ï¼Œå†ç‚¹å‡»æ‹æ‘„å¿«ç…§</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719269.png' data-fancybox='default' data-caption='image-20210814205419056'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719269.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719269.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814205419056"></a><span class='image-caption'>image-20210814205419056</span></div></div><p>ç„¶åï¼Œæ‹æ‘„å¥½çš„å¿«ç…§å¯åœ¨å¿«ç…§ç®¡ç†å™¨ä¸­çœ‹åˆ°</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719261.png' data-fancybox='default' data-caption='image-20210814205510419'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719261.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719261.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814205510419"></a><span class='image-caption'>image-20210814205510419</span></div></div><p>æœ€åï¼Œå¦‚æœæˆ‘ä»¬è¦å›åˆ°åˆ°æŸä¸ªå¿«ç…§çš„çŠ¶æ€ï¼Œåªéœ€è¦åœ¨å¿«ç…§ç®¡ç†å™¨ä¸­ç‚¹å‡»è¦å›åˆ°çš„å¿«ç…§çŠ¶æ€ï¼Œç„¶åç‚¹å‡»è½¬åˆ°å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719483.png' data-fancybox='default' data-caption='image-20210814205653365'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719483.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719483.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210814205653365"></a><span class='image-caption'>image-20210814205653365</span></div></div><h4 id="1-3-3-è™šæ‹Ÿæœºè¿ç§»å’Œåˆ é™¤"><a href="#1-3-3-è™šæ‹Ÿæœºè¿ç§»å’Œåˆ é™¤" class="headerlink" title="1.3.3 è™šæ‹Ÿæœºè¿ç§»å’Œåˆ é™¤"></a>1.3.3 è™šæ‹Ÿæœºè¿ç§»å’Œåˆ é™¤</h4><p>è™šæ‹Ÿç³»ç»Ÿå®‰è£…å¥½åï¼Œå®ƒçš„<strong>æœ¬è´¨å°±æ˜¯æ–‡ä»¶(æ”¾åœ¨æ–‡ä»¶å¤¹çš„)</strong></p><p>å› æ­¤è™šæ‹Ÿç³»ç»Ÿçš„è¿ç§»å¾ˆæ–¹ä¾¿ï¼Œ<strong>å¯ä»¥æŠŠå®‰è£…å¥½çš„è™šæ‹Ÿç³»ç»Ÿè¿™ä¸ªæ–‡ä»¶å¤¹æ•´ä½“æ‹·è´æˆ–è€…å‰ªåˆ‡åˆ°å¦å¤–ä½ç½®ä½¿ç”¨</strong></p><p>åˆ é™¤ä¹Ÿå¾ˆç®€å•ï¼Œç”¨<strong>VMwareè¿›è¡Œç§»é™¤ï¼Œå†ç‚¹å‡»èœå•-&gt;ä»ç£ç›˜åˆ é™¤å³å¯</strong>ï¼Œæˆ–è€…<strong>ç›´æ¥æ‰‹åŠ¨åˆ é™¤è™šæ‹Ÿç³»ç»Ÿå¯¹åº”çš„æ–‡ä»¶å¤¹å³å¯</strong></p><h4 id="1-3-4-vmtoolså®‰è£…"><a href="#1-3-4-vmtoolså®‰è£…" class="headerlink" title="1.3.4 vmtoolså®‰è£…"></a>1.3.4 vmtoolså®‰è£…</h4><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.pianshen.com/article/81381979583/">https://www.pianshen.com/article/81381979583/</a></p><h5 id="1-vmtoolsçš„ä½œç”¨"><a href="#1-vmtoolsçš„ä½œç”¨" class="headerlink" title="1.vmtoolsçš„ä½œç”¨"></a>1.vmtoolsçš„ä½œç”¨</h5><ol><li><p>vmtoolså®‰è£…åï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨windowsä¸‹<strong>æ›´å¥½çš„ç®¡ç†vmè™šæ‹Ÿæœº</strong></p></li><li><p>å¯ä»¥<strong>è®¾ç½®windowså’Œcentosçš„å…±äº«æ–‡ä»¶å¤¹</strong></p><p> è®¾ç½®å…±äº«æ–‡ä»¶å¤¹çš„å…·ä½“æ­¥éª¤ï¼šï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªå…±äº«æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚d:/myshareï¼‰</p><ol><li><p>èœå•-&gt;vm-&gt;settingï¼Œå¦‚å›¾è®¾ç½®å³å¯æ³¨æ„ï¼šè®¾ç½®é€‰é¡¹ä¸ºalways enableï¼Œè¿™æ ·å¯ä»¥è¯»å†™äº†</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719475.png' data-fancybox='default' data-caption='image-20210816102943273'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719475.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201719475.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816102943273"></a><span class='image-caption'>image-20210816102943273</span></div></div></li><li><p>windowså’Œcentoså¯å…±äº«d:/myshareç›®å½•å¯ä»¥è¯»å†™æ–‡ä»¶äº†</p></li><li><p><strong>å…±äº«æ–‡ä»¶å¤¹åœ¨centosçš„/mnt/hgfs/ä¸‹</strong></p></li></ol><p> æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚è¯´æ˜ï¼š</p><ol><li>windowså’Œcontoså°±å¯ä»¥å…±äº«æ–‡ä»¶äº†ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½æ˜¯éœ€è¦<strong>ä½¿ç”¨è¿œç¨‹æ–¹å¼å®Œæˆ</strong>çš„</li><li>è¿œç¨‹æ–¹å¼ç™»å½•ï¼Œåé¢ä¼šå…·ä½“è®²è§£</li></ol></li></ol><h5 id="2-å®‰è£…vmtoolsçš„æ­¥éª¤"><a href="#2-å®‰è£…vmtoolsçš„æ­¥éª¤" class="headerlink" title="2.å®‰è£…vmtoolsçš„æ­¥éª¤"></a>2.å®‰è£…vmtoolsçš„æ­¥éª¤</h5><p>æ³¨ï¼š<strong>CentOS8.Xç‰ˆæœ¬å·²ç»è‡ªå¸¦vmtools</strong>ï¼Œä¸ç”¨è‡ªå·±å®‰è£…</p><ol><li><p>è¿›å…¥centos</p></li><li><p>ç‚¹å‡»vmèœå•çš„-&gt;install vmware tools</p></li><li><p>centosä¼šå‡ºç°ä¸€ä¸ªvmçš„å®‰è£…åŒ…ï¼Œxx.tar.gz</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720955.png' data-fancybox='default' data-caption='image-20210815131157018'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720955.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720955.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815131157018"></a><span class='image-caption'>image-20210815131157018</span></div></div></li><li><p>æ‹·è´åˆ°/opt</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720434.png' data-fancybox='default' data-caption='image-20210815131345378'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720434.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720434.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815131345378"></a><span class='image-caption'>image-20210815131345378</span></div></div> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720180.png' data-fancybox='default' data-caption='image-20210815131602434'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720180.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720180.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815131602434"></a><span class='image-caption'>image-20210815131602434</span></div></div></li><li><p>ä½¿ç”¨è§£å‹å‘½ä»¤tarï¼Œå¾—åˆ°ä¸€ä¸ªå®‰è£…æ–‡ä»¶ï¼ˆåœ¨ç»ˆç«¯ä½¿ç”¨å‘½ä»¤ cd /opt è¿›å…¥åˆ°optæ–‡ä»¶å¤¹ï¼ŒlsæŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œtar -zxvfè§£å‹æ–‡ä»¶å¤¹ï¼‰</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720820.png' data-fancybox='default' data-caption='image-20210815132144324'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720820.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720820.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815132144324"></a><span class='image-caption'>image-20210815132144324</span></div></div> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720579.png' data-fancybox='default' data-caption='image-20210815132903256'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720579.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720579.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815132903256"></a><span class='image-caption'>image-20210815132903256</span></div></div></li><li><p>è¿›å…¥è¯¥vmè§£å‹çš„ç›®å½•ï¼Œ/optç›®å½•ä¸‹</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720045.png' data-fancybox='default' data-caption='image-20210815133545684'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720045.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720045.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815133545684"></a><span class='image-caption'>image-20210815133545684</span></div></div></li><li><p>å®‰è£…./vmware-install.pl</p> <div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720245.png' data-fancybox='default' data-caption='image-20210815134239706'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720245.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720245.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815134239706"></a><span class='image-caption'>image-20210815134239706</span></div></div></li><li><p>å…¨éƒ¨ä½¿ç”¨é»˜è®¤è®¾ç½®å³å¯ï¼Œå°±å¯ä»¥å®‰è£…æˆåŠŸï¼ˆå®‰è£…è¿‡ç¨‹ä¸­å…¨éƒ¨å›è½¦å³å¯ï¼‰</p></li><li><p>æ³¨æ„ï¼šå®‰è£…vmtoolséœ€è¦æœ‰gcc</p></li><li><p>è¿›è¡Œå®Œä¸Šè¿°æ“ä½œä¹‹åï¼Œè¿˜éœ€è¦é‡å¯ä¸‹è™šæ‹Ÿæœºæ‰è¡Œã€‚è¿™é‡Œå¯ä»¥æµ‹è¯•ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨æœ¬æœºå¤åˆ¶ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååœ¨è™šæ‹Ÿæœºä¸­ç²˜è´´ï¼Œè‹¥ç²˜è´´æˆåŠŸå°±è¡¨æ˜ VMware Tools å®‰è£…æˆåŠŸäº†</p></li></ol><h5 id="3-é‡æ–°å®‰è£…vmtoolsä¸èƒ½ç‚¹å‡»çš„è§£å†³åŠæ³•"><a href="#3-é‡æ–°å®‰è£…vmtoolsä¸èƒ½ç‚¹å‡»çš„è§£å†³åŠæ³•" class="headerlink" title="3.é‡æ–°å®‰è£…vmtoolsä¸èƒ½ç‚¹å‡»çš„è§£å†³åŠæ³•"></a>3.é‡æ–°å®‰è£…vmtoolsä¸èƒ½ç‚¹å‡»çš„è§£å†³åŠæ³•</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720637.png' data-fancybox='default' data-caption='image-20210815125723711'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720637.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720637.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815125723711"></a><span class='image-caption'>image-20210815125723711</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720804.png' data-fancybox='default' data-caption='image-20210815125900331'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720804.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720804.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815125900331"></a><span class='image-caption'>image-20210815125900331</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720344.png' data-fancybox='default' data-caption='image-20210815125932435'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720344.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201720344.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815125932435"></a><span class='image-caption'>image-20210815125932435</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721674.png' data-fancybox='default' data-caption='image-20210815130228189'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721674.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721674.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815130228189"></a><span class='image-caption'>image-20210815130228189</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721716.png' data-fancybox='default' data-caption='image-20210815130457927'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721716.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721716.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210815130457927"></a><span class='image-caption'>image-20210815130457927</span></div></div><h3 id="1-4-Linuxç›®å½•ç»“æ„"><a href="#1-4-Linuxç›®å½•ç»“æ„" class="headerlink" title="1.4 Linuxç›®å½•ç»“æ„"></a>1.4 Linuxç›®å½•ç»“æ„</h3><h4 id="1-4-1-åŸºæœ¬ä»‹ç»"><a href="#1-4-1-åŸºæœ¬ä»‹ç»" class="headerlink" title="1.4.1 åŸºæœ¬ä»‹ç»"></a>1.4.1 åŸºæœ¬ä»‹ç»</h4><p>1.linuxçš„æ–‡ä»¶ç³»ç»Ÿæ˜¯<strong>é‡‡ç”¨çº§å±‚å¼çš„æ ‘çŠ¶ç›®å½•ç»“æ„</strong>ï¼Œåœ¨æ­¤ç»“æ„ä¸­çš„**æœ€ä¸Šå±‚æ˜¯æ ¹ç›®å½•â€/â€œ**ï¼Œç„¶ååœ¨æ­¤ç›®å½•ä¸‹å†åˆ›å»ºå…¶ä»–çš„ç›®å½•</p><p>2.æ·±åˆ»ç†è§£linuxæ ‘çŠ¶æ–‡ä»¶ç›®å½•æ˜¯éå¸¸é‡è¦çš„</p><p>3.åœ¨Linuxä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†æ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721114.png' data-fancybox='default' data-caption='image-20210816103910457'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721114.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721114.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816103910457"></a><span class='image-caption'>image-20210816103910457</span></div></div><h4 id="1-4-2-ç›®å½•ç»“æ„è¯¦è§£"><a href="#1-4-2-ç›®å½•ç»“æ„è¯¦è§£" class="headerlink" title="1.4.2 ç›®å½•ç»“æ„è¯¦è§£"></a>1.4.2 ç›®å½•ç»“æ„è¯¦è§£</h4><p>å…·ä½“çš„ç›®å½•ç»“æ„</p><ul><li><strong>/bin</strong>ï¼š(å¸¸ç”¨)(usr/binã€/usr/local/bin)æ˜¯Binaryçš„ç¼©å†™ï¼Œ<strong>è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤</strong></li><li><strong>/sbin</strong>ï¼š(/usr/sbinã€/usr/local/sbin) <strong>så°±æ˜¯Super User</strong>çš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯<strong>ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åº</strong></li><li><strong>/home</strong>ï¼š(å¸¸ç”¨)å­˜æ”¾<strong>æ™®é€šç”¨æˆ·çš„ä¸»ç›®å½•</strong>ï¼Œåœ¨Linuxä¸­<strong>æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•</strong>ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯<strong>ä»¥ç”¨æˆ·çš„è´¦å·å‘½å</strong></li><li><strong>/root</strong>ï¼š(å¸¸ç”¨)è¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œ<strong>è¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•</strong></li><li><strong>/lib</strong>ï¼š<strong>ç³»ç»Ÿå¼€æœºæ‰€éœ€è¦æœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“</strong>ï¼Œå…¶ä½œç”¨<strong>ç±»ä¼¼äºWindowsé‡Œçš„DLLæ–‡ä»¶</strong>ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“</li><li><strong>/lost+found</strong>ï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œ<strong>å½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶</strong></li><li><strong>/etc</strong>ï¼š(å¸¸ç”¨)æ‰€æœ‰çš„<strong>ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•</strong>ï¼Œæ¯”å¦‚å®‰è£…mysqlæ•°æ®åº“my.conf</li><li><strong>/usr</strong>ï¼š(å¸¸ç”¨)è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤š<strong>åº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•</strong>ä¸‹ï¼Œ<strong>ç±»ä¼¼ä¸windowsä¸‹çš„program filesç›®å½•</strong></li><li><strong>/boot</strong>ï¼š(å¸¸ç”¨)å­˜æ”¾çš„æ˜¯<strong>å¯åŠ¨Linuxæ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶</strong>ï¼ŒåŒ…æ‹¬ä¸€äº›<strong>è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶</strong></li><li><strong>/proc</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯<strong>ç³»ç»Ÿå†…å­˜çš„æ˜ å°„</strong>ï¼Œè®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯</li><li><strong>/srv</strong>ï¼šserviceç¼©å†™ï¼Œè¯¥ç›®å½•å­˜æ”¾<strong>ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®</strong></li><li><strong>/sys</strong>ï¼šè¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿsysfs</li><li><strong>/tmp</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥<strong>å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶</strong></li><li><strong>/dev</strong>ï¼š<strong>ç±»ä¼¼äºwindowsçš„è®¾å¤‡ç®¡ç†å™¨ï¼ŒæŠŠæ‰€æœ‰çš„ç¡¬ä»¶ç”¨æ–‡ä»¶çš„å½¢å¼å­˜å‚¨</strong></li><li><strong>/media</strong>ï¼š(å¸¸ç”¨)linuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinuxä¼š<strong>æŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹</strong></li><li><strong>/mnt</strong>ï¼š(å¸¸ç”¨)ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯<strong>ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤–éƒ¨çš„å­˜å‚¨æŒ‚è½½åœ¨/mnt/ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹é‡Œçš„å†…å®¹äº†ã€‚æ¯”å¦‚å…±äº«æ–‡ä»¶å¤¹d:/myshare</li><li><strong>/opt</strong>ï¼šè¿™æ˜¯ç»™<strong>ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•</strong>ã€‚å¦‚å®‰è£…ORACLEæ•°æ®åº“å°±å¯æ”¾åˆ°è¯¥ç›®å½•ä¸‹ã€‚<strong>é»˜è®¤ä¸ºç©º</strong></li><li><strong>/usr/local</strong>ï¼š(å¸¸ç”¨)è¿™æ˜¯<strong>å¦ä¸€ä¸ªç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€å®‰è£…çš„ç›®å½•</strong>ã€‚ä¸€èˆ¬æ˜¯é€šè¿‡<strong>ç¼–è¯‘æºç æ–¹å¼å®‰è£…</strong>çš„ç¨‹åº</li><li><strong>/var</strong>ï¼š(å¸¸ç”¨)è¿™ä¸ªç›®å½•ä¸­<strong>å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿</strong>ï¼Œä¹ æƒ¯å°†<strong>ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹</strong>ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶</li><li><strong>/selinux</strong>ï¼š(security-enhanced linux)<strong>SELinuxæ˜¯ä¸€ç§å®‰å…¨å­ç³»ç»Ÿ</strong>ï¼Œå®ƒèƒ½<strong>æ§åˆ¶ç¨‹åºåªèƒ½è®¿é—®ç‰¹å®šæ–‡ä»¶</strong>ï¼Œæœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼Œå¯ä»¥è‡ªè¡Œè®¾ç½®</li></ul><h2 id="äºŒã€Linuxå®æ“"><a href="#äºŒã€Linuxå®æ“" class="headerlink" title="äºŒã€Linuxå®æ“"></a>äºŒã€Linuxå®æ“</h2><h3 id="2-1-è¿œç¨‹ç™»å½•"><a href="#2-1-è¿œç¨‹ç™»å½•" class="headerlink" title="2.1 è¿œç¨‹ç™»å½•"></a>2.1 è¿œç¨‹ç™»å½•</h3><p>ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹ç™»é™†ï¼Ÿ</p><ol><li>linuxæœåŠ¡å™¨æ˜¯<strong>å¼€å‘å°ç»„å…±äº«</strong></li><li><strong>æ­£å¼ä¸Šçº¿çš„é¡¹ç›®æ˜¯è¿è¡Œåœ¨å…¬ç½‘</strong></li><li>å› æ­¤<strong>ç¨‹åºå‘˜éœ€è¦è¿œç¨‹ç™»å½•åˆ°Linuxè¿›è¡Œé¡¹ç›®ç®¡ç†æˆ–è€…å¼€å‘</strong></li><li><strong>è¿œç¨‹ç™»å½•å®¢æˆ·ç«¯æœ‰Xshell6ï¼ŒXftp6</strong>ï¼Œå­¦ä¹ ä½¿ç”¨Xshellå’Œ Xftp6ï¼Œå…¶å®ƒçš„è¿œç¨‹å·¥å…·å¤§åŒå°å¼‚</li></ol><p>Xshellå’ŒXftpä¸‹è½½é“¾æ¥ï¼š<a href="https://www.netsarang.com/en/free-for-home-school/">https://www.netsarang.com/en/free-for-home-school/</a></p><h4 id="2-1-1-ä½¿ç”¨Xshellè¿œç¨‹ç™»å½•"><a href="#2-1-1-ä½¿ç”¨Xshellè¿œç¨‹ç™»å½•" class="headerlink" title="2.1.1 ä½¿ç”¨Xshellè¿œç¨‹ç™»å½•"></a>2.1.1 ä½¿ç”¨Xshellè¿œç¨‹ç™»å½•</h4><p>é¦–å…ˆï¼Œåœ¨è™šæ‹ŸæœºLinuxç³»ç»Ÿçš„ç»ˆç«¯ä¸­ä½¿ç”¨**<code>ifconfig</code>å‘½ä»¤**æŸ¥çœ‹æœ¬è™šæ‹Ÿæœºçš„IP</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721616.png' data-fancybox='default' data-caption='image-20210816114840241'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721616.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721616.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816114840241"></a><span class='image-caption'>image-20210816114840241</span></div></div><p>ç„¶åï¼Œæ‰“å¼€ä¸‹è½½å®‰è£…å¥½çš„Xshellè½¯ä»¶ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªæ–°å»ºä¼šè¯çš„çª—å£ï¼Œç‚¹å‡»æ–°å»º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721873.png' data-fancybox='default' data-caption='image-20210816115008857'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721873.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721873.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816115008857"></a><span class='image-caption'>image-20210816115008857</span></div></div><p>ç„¶åï¼Œåœ¨å¼¹å‡ºçš„çª—å£è¿›è¡Œä¼šè¯ä¿¡æ¯å¡«å†™ï¼Œç„¶åå…³é—­æ–°å»ºä¼šè¯çš„çª—å£</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721261.png' data-fancybox='default' data-caption='image-20210816115322679'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721261.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721261.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816115322679"></a><span class='image-caption'>image-20210816115322679</span></div></div><p>ç„¶åï¼ŒåŒå‡»æ–°å»ºçš„è¿™ä¸ªä¼šè¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721382.png' data-fancybox='default' data-caption='image-20210816115738652'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721382.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721382.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816115738652"></a><span class='image-caption'>image-20210816115738652</span></div></div><p>ç„¶åï¼Œè¾“å…¥ç™»å½•çš„ç”¨æˆ·åå’Œå¯†ç </p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721558.png' data-fancybox='default' data-caption='image-20210816115922266'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721558.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721558.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816115922266"></a><span class='image-caption'>image-20210816115922266</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721264.png' data-fancybox='default' data-caption='image-20210816120151236'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721264.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721264.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816120151236"></a><span class='image-caption'>image-20210816120151236</span></div></div><p>æœ€åï¼ŒæŸ¥çœ‹æ˜¯å¦ç™»é™†æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721211.png' data-fancybox='default' data-caption='image-20210816120205231'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721211.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721211.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816120205231"></a><span class='image-caption'>image-20210816120205231</span></div></div><h4 id="2-1-2-ä½¿ç”¨Xftpè¿œç¨‹æ–‡ä»¶ä¼ è¾“"><a href="#2-1-2-ä½¿ç”¨Xftpè¿œç¨‹æ–‡ä»¶ä¼ è¾“" class="headerlink" title="2.1.2 ä½¿ç”¨Xftpè¿œç¨‹æ–‡ä»¶ä¼ è¾“"></a>2.1.2 ä½¿ç”¨Xftpè¿œç¨‹æ–‡ä»¶ä¼ è¾“</h4><p>åŒæ ·ï¼ŒXftpä¹Ÿéœ€è¦åƒXshellä¸€æ ·æ–°å»ºä¼šè¯æ‰èƒ½è¿›è¡Œæ–‡ä»¶ä¼ è¾“</p><p>é¦–å…ˆï¼Œè¿›å…¥Xftpä¼šå¼¹å‡ºæ–°å»ºä¼šè¯çš„çª—å£ï¼Œåœ¨æ­¤çª—å£ç‚¹å‡»æ–°å»º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721732.png' data-fancybox='default' data-caption='image-20210816142009785'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721732.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721732.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816142009785"></a><span class='image-caption'>image-20210816142009785</span></div></div><p>ç„¶åï¼Œåœ¨å¼¹å‡ºçš„çª—å£è¾“å…¥ç›¸å…³ä¿¡æ¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721915.png' data-fancybox='default' data-caption='image-20210816142342337'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721915.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201721915.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816142342337"></a><span class='image-caption'>image-20210816142342337</span></div></div><p>ç„¶åï¼Œåˆä¼šå‡ºç°å’ŒXshellä¸€æ ·çš„è®©ä½ é€‰æ‹©æ˜¯ä¸€æ¬¡æ€§è¿æ¥è¿˜æ˜¯ä¿å­˜è¿æ¥</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722462.png' data-fancybox='default' data-caption='image-20210816142608088'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722462.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722462.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816142608088"></a><span class='image-caption'>image-20210816142608088</span></div></div><p>æœ€åï¼Œè¿æ¥æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722481.png' data-fancybox='default' data-caption='image-20210816142846972'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722481.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722481.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816142846972"></a><span class='image-caption'>image-20210816142846972</span></div></div><p>ä¸Šå›¾ä¸­å‡ºç°<strong>Linuxæ–‡ä»¶åä¹±ç </strong>çš„æƒ…å†µï¼Œè§£å†³åŠæ³•å¦‚ä¸‹ï¼šæ­¤æ–¹æ³•æ˜¯é’ˆå¯¹æ‰€æœ‰ä¼šè¯ï¼Œè‹¥åªæƒ³é’ˆå¯¹ä¸€ä¸ªä¼šè¯è¿›è¡Œè®¾ç½®ï¼Œåªéœ€ç‚¹å‡»æ‰“å¼€åï¼Œå³é”®å•å‡»æƒ³è¦è®¾ç½®çš„ä¼šè¯ï¼Œç‚¹å‡»å±æ€§è¿›è¡Œè®¾ç½®å³å¯</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722598.png' data-fancybox='default' data-caption='image-20210816143209970'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722598.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722598.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816143209970"></a><span class='image-caption'>image-20210816143209970</span></div></div><p>è¿æ¥æˆåŠŸåï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©æƒ³è¦ä¼ è¾“çš„æ–‡ä»¶ï¼Œé€‰æ‹©è¦ä¼ è¾“åˆ°å“ªä¸ªä½ç½®ï¼Œç„¶åå³é”®å•å‡»æ–‡ä»¶ï¼Œé€‰æ‹©ä¼ è¾“å³å¯(Windows â€“&gt; Linuxæˆ–Linux â€“&gt; Windows)</p><h3 id="2-2-Viå’ŒVimç¼–è¾‘å™¨"><a href="#2-2-Viå’ŒVimç¼–è¾‘å™¨" class="headerlink" title="2.2 Viå’ŒVimç¼–è¾‘å™¨"></a>2.2 Viå’ŒVimç¼–è¾‘å™¨</h3><h4 id="2-2-1-Viå’ŒVimçš„ä»‹ç»"><a href="#2-2-1-Viå’ŒVimçš„ä»‹ç»" class="headerlink" title="2.2.1 Viå’ŒVimçš„ä»‹ç»"></a>2.2.1 Viå’ŒVimçš„ä»‹ç»</h4><p>Linuxç³»ç»Ÿä¼šå†…ç½®Viæ–‡æœ¬ç¼–è¾‘å™¨</p><p>Vimå…·æœ‰ç¨‹åºç¼–è¾‘çš„èƒ½åŠ›ï¼Œå¯ä»¥çœ‹åšæ˜¯<strong>Viçš„å¢å¼ºç‰ˆæœ¬</strong>ï¼Œ<strong>å¯ä»¥ä¸»åŠ¨çš„ä»¥å­—ä½“é¢œè‰²è¾¨åˆ«è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œæ–¹ä¾¿ç¨‹åºè®¾è®¡</strong>ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨</p><h4 id="2-2-2-Viå’ŒVimçš„ä¸‰ç§æ¨¡å¼"><a href="#2-2-2-Viå’ŒVimçš„ä¸‰ç§æ¨¡å¼" class="headerlink" title="2.2.2 Viå’ŒVimçš„ä¸‰ç§æ¨¡å¼"></a>2.2.2 Viå’ŒVimçš„ä¸‰ç§æ¨¡å¼</h4><ul><li><p>ä¸€èˆ¬/æ­£å¸¸æ¨¡å¼ï¼šä»¥vimæ‰“å¼€ä¸€ä¸ªæ¡£æ¡ˆå°±ç›´æ¥è¿›å…¥ä¸€èˆ¬æ¨¡å¼äº†(è¿™æ˜¯é»˜è®¤çš„æ¨¡å¼)ã€‚åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œä½ å¯ä»¥<strong>ä½¿ç”¨ã€ä¸Šä¸‹å·¦å³ã€‘æŒ‰é”®æ¥ç§»åŠ¨å…‰æ ‡</strong>ï¼Œä½ å¯ä»¥<strong>ä½¿ç”¨ã€Œåˆ é™¤å®‡ç¬¦ã€æˆ–ã€Œåˆ é™¤æ•´è¡Œã€æ¥å¤„ç†æ¡£æ¡ˆå†…å®¹</strong>,ä¹Ÿå¯ä»¥<strong>ä½¿ç”¨ã€Œå¤åˆ¶ã€ç²˜è´´ã€æ¥å¤„ç†ä½ çš„æ–‡ä»¶æ•°æ®</strong></p></li><li><p>æ’å…¥æ¨¡å¼<br>  æŒ‰ä¸‹iï¼ŒIï¼Œoï¼ŒOï¼Œaï¼ŒAï¼Œrï¼ŒRç­‰ä»»ä½•ä¸€ä¸ªå­—æ¯ä¹‹åæ‰ä¼š<strong>è¿›å…¥ç¼–è¾‘æ¨¡å¼</strong>ï¼Œ<strong>ä¸€èˆ¬æ¥è¯´æŒ‰iå³å¯</strong></p></li><li><p>å‘½ä»¤è¡Œæ¨¡å¼<br>  åœ¨è¿™ä¸ªæ¨¡å¼å½“ä¸­ï¼Œå¯ä»¥æä¾›ä½ ç›¸å…³æŒ‡ä»¤ï¼Œ<strong>å®Œæˆè¯»å–ã€å­˜ç›˜ã€æ›¿æ¢ã€ç¦»å¼€vimã€æ˜¾ç¤ºè¡Œå·ç­‰</strong>çš„åŠ¨ä½œåˆ™æ˜¯åœ¨æ­¤æ¨¡å¼ä¸­è¾¾æˆçš„ï¼›<strong>ä»æ’å…¥æ¨¡å¼è½¬æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼ï¼šå…ˆæŒ‰ä¸‹escå†è¾“å…¥ä¸€ä¸ªå†’å·ï¼šå³å¯</strong></p></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722645.png' data-fancybox='default' data-caption='image-20210816151348069'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722645.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722645.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816151348069"></a><span class='image-caption'>image-20210816151348069</span></div></div><h4 id="2-2-3-Viå’ŒVimçš„ä½¿ç”¨"><a href="#2-2-3-Viå’ŒVimçš„ä½¿ç”¨" class="headerlink" title="2.2.3 Viå’ŒVimçš„ä½¿ç”¨"></a>2.2.3 Viå’ŒVimçš„ä½¿ç”¨</h4><h5 id="1-æ–¹æ³•ä¸€ï¼šXshellä¸­ä½¿ç”¨"><a href="#1-æ–¹æ³•ä¸€ï¼šXshellä¸­ä½¿ç”¨" class="headerlink" title="1.æ–¹æ³•ä¸€ï¼šXshellä¸­ä½¿ç”¨"></a>1.æ–¹æ³•ä¸€ï¼šXshellä¸­ä½¿ç”¨</h5><p>é¦–å…ˆï¼Œåœ¨Xshellè¿æ¥æˆåŠŸåè¾“å…¥<code>vim hello.java</code>ï¼ŒæŒ‰å›è½¦</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722068.png' data-fancybox='default' data-caption='image-20210816145333825'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722068.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722068.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816145333825"></a><span class='image-caption'>image-20210816145333825</span></div></div><p>ç„¶åï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¿›å…¥äº†vimçš„æ­£å¸¸æ¨¡å¼</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722580.png' data-fancybox='default' data-caption='image-20210816150031122'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722580.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722580.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816150031122"></a><span class='image-caption'>image-20210816150031122</span></div></div><p>ç„¶åï¼ŒæŒ‰iï¼ŒIï¼Œoï¼ŒOï¼Œaï¼ŒAï¼Œrï¼ŒRé”®ä¸­ä»»æ„ä¸€ä¸ªå­—æ¯å°±å¯è¿›å…¥æ’å…¥æ¨¡å¼è¿›è¡Œç¼–è¾‘</p><p>ç„¶åï¼ŒæŒ‰Escé”®å†è¾“å…¥å†’å·<code>:</code>å³å¯è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åå†è¾“å…¥<code>wq</code>ï¼ŒæŒ‰å›è½¦ï¼Œå°±å¯ä¿å­˜ç¼–è¾‘çš„å†…å®¹å¹¶é€€å‡ºvim</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722685.png' data-fancybox='default' data-caption='image-20210816150639510'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722685.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722685.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816150639510"></a><span class='image-caption'>image-20210816150639510</span></div></div><p>æ­¤æ—¶æˆ‘ä»¬èƒ½åœ¨è™šæ‹Ÿæœºç³»ç»Ÿä¸­çœ‹åˆ°è¿™ä¸ªæ–°å»ºçš„æ–‡ä»¶</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722253.png' data-fancybox='default' data-caption='image-20210816150749412'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722253.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722253.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816150749412"></a><span class='image-caption'>image-20210816150749412</span></div></div><h5 id="2-è™šæ‹Ÿæœºç³»ç»Ÿä¸­ä½¿ç”¨"><a href="#2-è™šæ‹Ÿæœºç³»ç»Ÿä¸­ä½¿ç”¨" class="headerlink" title="2.è™šæ‹Ÿæœºç³»ç»Ÿä¸­ä½¿ç”¨"></a>2.è™šæ‹Ÿæœºç³»ç»Ÿä¸­ä½¿ç”¨</h5><p>é¦–å…ˆåœ¨è¦å­˜æ”¾æ–‡ä»¶çš„æ–‡ä»¶çš„ä½ç½®å³é”®å•å‡»ï¼Œé€‰æ‹©åœ¨ç»ˆç«¯æ‰“å¼€è¾“å…¥vim æ–‡ä»¶å</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722422.png' data-fancybox='default' data-caption='image-20210816162124932'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722422.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201722422.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816162124932"></a><span class='image-caption'>image-20210816162124932</span></div></div><p>ç„¶ååœ¨ç»ˆç«¯ä¸­å°±å¯ä»¥åƒXshellä¸­ä¸€æ ·è¿›è¡Œæ–‡ä»¶çš„ç¼–è¾‘äº†</p><p>æˆ–æ˜¯ç›´æ¥ç‚¹å‡»æ‰“å¼€è¦è¿›è¡Œç¼–è¾‘çš„æ–‡ä»¶ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨<code>touch æ–‡ä»¶å</code>æŒ‡ä»¤åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼‰ï¼Œå°±èƒ½ç”¨å›¾å½¢ç•Œé¢è¿›è¡Œç¼–è¾‘ï¼Œå¦‚ä¸‹å›¾</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723324.png' data-fancybox='default' data-caption='image-20210817145456270'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723324.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723324.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817145456270"></a><span class='image-caption'>image-20210817145456270</span></div></div><h4 id="2-2-4-Viå’ŒVimçš„å¿«æ·é”®"><a href="#2-2-4-Viå’ŒVimçš„å¿«æ·é”®" class="headerlink" title="2.2.4 Viå’ŒVimçš„å¿«æ·é”®"></a>2.2.4 Viå’ŒVimçš„å¿«æ·é”®</h4><p>å¿«æ·é”®ä½¿ç”¨ç»ƒä¹ ï¼š</p><ol><li><strong>æ‹·è´å½“å‰è¡Œ yyï¼Œæ‹·è´å½“å‰è¡Œå‘ä¸‹çš„5è¡Œ 5yyï¼Œå¹¶ç²˜è´´ï¼ˆè¾“å…¥pï¼‰</strong>[æ­£å¸¸æ¨¡å¼ä¸‹]</li><li>**åˆ é™¤å½“å‰è¡Œ ddï¼Œåˆ é™¤å½“å‰è¡Œå‘ä¸‹çš„5è¡Œ 5dd **[æ­£å¸¸æ¨¡å¼ä¸‹]</li><li>åœ¨æ–‡ä»¶ä¸­<strong>æŸ¥æ‰¾æŸä¸ªå•è¯</strong>[<strong>å‘½ä»¤è¡Œä¸‹ /å…³é”®å­—ï¼Œå›è½¦æŸ¥æ‰¾ï¼Œè¾“å…¥nå°±æ˜¯æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</strong>]</li><li><strong>è®¾ç½®æ–‡ä»¶çš„è¡Œå·ï¼Œå–æ¶ˆæ–‡ä»¶çš„è¡Œå·</strong>[<strong>å‘½ä»¤è¡Œä¸‹ï¼šset nuå’Œï¼šset nonu</strong>]</li><li>ç¼–è¾‘/etc/profileæ–‡ä»¶ï¼Œä½¿ç”¨<strong>å¿«æ·é”®åˆ°è¯¥æ–‡æ¡£çš„æœ€æœ«è¡Œ[G]å’Œæœ€é¦–è¡Œ[gg]</strong> [æ­£å¸¸æ¨¡å¼ä¸‹]</li><li>åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­è¾“å…¥â€helloâ€ï¼Œç„¶ååˆ<strong>æ’¤é”€è¿™ä¸ªåŠ¨ä½œ u</strong> [æ­£å¸¸æ¨¡å¼ä¸‹]</li><li>ç¼–è¾‘/etc/profile æ–‡ä»¶ï¼Œå¹¶<strong>å°†å…‰æ ‡ç§»åŠ¨åˆ°20è¡Œï¼Œè¾“å…¥20ï¼Œå†shift+g</strong> [æ­£å¸¸æ¨¡å¼ä¸‹]</li></ol><h4 id="2-2-5-Viå’ŒVimé”®ä½å›¾"><a href="#2-2-5-Viå’ŒVimé”®ä½å›¾" class="headerlink" title="2.2.5 Viå’ŒVimé”®ä½å›¾"></a>2.2.5 Viå’ŒVimé”®ä½å›¾</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723034.png' data-fancybox='default' data-caption='image-20210816155813164'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723034.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723034.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816155813164"></a><span class='image-caption'>image-20210816155813164</span></div></div><h3 id="2-3-å¼€æœºã€é‡å¯å’Œç”¨æˆ·ç™»å½•æ³¨é”€"><a href="#2-3-å¼€æœºã€é‡å¯å’Œç”¨æˆ·ç™»å½•æ³¨é”€" class="headerlink" title="2.3 å¼€æœºã€é‡å¯å’Œç”¨æˆ·ç™»å½•æ³¨é”€"></a>2.3 å¼€æœºã€é‡å¯å’Œç”¨æˆ·ç™»å½•æ³¨é”€</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723338.png' data-fancybox='default' data-caption='image-20210816162451855'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723338.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723338.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816162451855"></a><span class='image-caption'>image-20210816162451855</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723074.png' data-fancybox='default' data-caption='image-20210816163455963'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723074.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723074.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210816163455963"></a><span class='image-caption'>image-20210816163455963</span></div></div><h3 id="2-4-ç”¨æˆ·ç®¡ç†"><a href="#2-4-ç”¨æˆ·ç®¡ç†" class="headerlink" title="2.4 ç”¨æˆ·ç®¡ç†"></a>2.4 ç”¨æˆ·ç®¡ç†</h3><p>Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ª<strong>å¤šç”¨æˆ·å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿ</strong>ï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿ</p><h4 id="2-4-1-æ·»åŠ ç”¨æˆ·"><a href="#2-4-1-æ·»åŠ ç”¨æˆ·" class="headerlink" title="2.4.1 æ·»åŠ ç”¨æˆ·"></a>2.4.1 æ·»åŠ ç”¨æˆ·</h4><p>åŸºæœ¬è¯­æ³•ï¼š<code>useradd  ç”¨æˆ·å</code></p><p>åº”ç”¨æ¡ˆä¾‹<br>æ¡ˆä¾‹1ï¼šæ·»åŠ ä¸€ä¸ªç”¨æˆ·milanï¼Œé»˜è®¤è¯¥ç”¨æˆ·çš„å®¶ç›®å½•åœ¨/home/milanï¼ˆ<code>useradd milan</code>ï¼‰</p><p>ç»†èŠ‚è¯´æ˜<br>1.å½“åˆ›å»ºç”¨æˆ·æˆåŠŸåï¼Œ<strong>ä¼šè‡ªåŠ¨çš„åˆ›å»ºå’Œç”¨æˆ·åŒåçš„å®¶ç›®å½•</strong><br>2ä¹Ÿå¯ä»¥<strong>é€šè¿‡<code>useradd -d æŒ‡å®šç›®å½• æ–°çš„ç”¨æˆ·å</code>ï¼Œç»™æ–°åˆ›å»ºçš„ç”¨æˆ·æŒ‡å®šå®¶ç›®å½•</strong></p><h4 id="2-4-2-æŒ‡å®š-ä¿®æ”¹å¯†ç "><a href="#2-4-2-æŒ‡å®š-ä¿®æ”¹å¯†ç " class="headerlink" title="2.4.2 æŒ‡å®š/ä¿®æ”¹å¯†ç "></a>2.4.2 æŒ‡å®š/ä¿®æ”¹å¯†ç </h4><p>åŸºæœ¬è¯­æ³•ï¼š<code>passwd ç”¨æˆ·å</code></p><p>åº”ç”¨æ¡ˆä¾‹<br>ç»™milanæŒ‡å®šå¯†ç ï¼ˆ<code>passwd milan</code>ï¼‰</p><p>è¡¥å……ï¼šæ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰€åœ¨çš„ç›®å½• <code>pwd</code></p><h4 id="2-4-3-åˆ é™¤ç”¨æˆ·"><a href="#2-4-3-åˆ é™¤ç”¨æˆ·" class="headerlink" title="2.4.3 åˆ é™¤ç”¨æˆ·"></a>2.4.3 åˆ é™¤ç”¨æˆ·</h4><p>åŸºæœ¬è¯­æ³•ï¼š<code>userdel ç”¨æˆ·å</code></p><p>åº”ç”¨æ¡ˆä¾‹<br>1.åˆ é™¤ç”¨æˆ·milanï¼Œä½†æ˜¯è¦ä¿ç•™å®¶ç›®å½•ï¼ˆ<code>userdel milan</code>ï¼‰<br>2.åˆ é™¤ç”¨æˆ·ä»¥åŠç”¨æˆ·ä¸»ç›®å½•ï¼ˆ<code>userdel -r milan</code>ï¼‰</p><p>ç»†èŠ‚è¯´æ˜<br>æ˜¯å¦ä¿ç•™å®¶ç›®å½•çš„è®¨è®º?<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®ä¿ç•™</p><h4 id="2-4-4-æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æŒ‡ä»¤"><a href="#2-4-4-æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æŒ‡ä»¤" class="headerlink" title="2.4.4 æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æŒ‡ä»¤"></a>2.4.4 æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æŒ‡ä»¤</h4><p>åŸºæœ¬è¯­æ³•ï¼š<code>id ç”¨æˆ·å</code></p><p>åº”ç”¨å®ä¾‹<br>æ¡ˆä¾‹ï¼šè¯·æŸ¥è¯¢rootä¿¡æ¯ï¼ˆ<code>id root</code>ï¼‰</p><p>ç»†èŠ‚è¯´æ˜<br>å½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›æ— æ­¤ç”¨æˆ·</p><h4 id="2-4-5-åˆ‡æ¢ç”¨æˆ·"><a href="#2-4-5-åˆ‡æ¢ç”¨æˆ·" class="headerlink" title="2.4.5 åˆ‡æ¢ç”¨æˆ·"></a>2.4.5 åˆ‡æ¢ç”¨æˆ·</h4><p>ä»‹ç»<br>åœ¨æ“ä½œLinuxä¸­ï¼Œå¦‚æœå½“å‰ç”¨æˆ·çš„æƒé™ä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡su - æŒ‡ä»¤ï¼Œåˆ‡æ¢åˆ°é«˜æƒé™ç”¨æˆ·ï¼Œæ¯”å¦‚root</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>su - åˆ‡æ¢ç”¨æˆ·å</code></p><p>åº”ç”¨å®ä¾‹<br>åˆ›å»ºä¸€ä¸ªç”¨æˆ·jackï¼ŒæŒ‡å®šå¯†ç ï¼Œç„¶ååˆ‡æ¢åˆ° jackï¼ˆ<code>useradd jack</code>     <code>passwd jack</code>    <code>su - jack</code>ï¼‰</p><p>ç»†èŠ‚è¯´æ˜<br>1.ä»<strong>æƒé™é«˜çš„ç”¨æˆ·åˆ‡æ¢åˆ°æƒé™ä½çš„ç”¨æˆ·ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç </strong>ï¼Œåä¹‹éœ€è¦<br>2.å½“<strong>éœ€è¦è¿”å›åˆ°åŸæ¥ç”¨æˆ·æ—¶ï¼Œä½¿ç”¨exit/logoutæŒ‡ä»¤</strong></p><h4 id="2-4-6-æŸ¥çœ‹å½“å‰ç”¨æˆ·-ç™»å½•ç”¨æˆ·"><a href="#2-4-6-æŸ¥çœ‹å½“å‰ç”¨æˆ·-ç™»å½•ç”¨æˆ·" class="headerlink" title="2.4.6 æŸ¥çœ‹å½“å‰ç”¨æˆ·/ç™»å½•ç”¨æˆ·"></a>2.4.6 æŸ¥çœ‹å½“å‰ç”¨æˆ·/ç™»å½•ç”¨æˆ·</h4><p>åŸºæœ¬è¯­æ³•ï¼š<code>whoami</code>/<code>who am i</code></p><p>æŸ¥è¯¢çš„æ˜¯ç¬¬ä¸€æ¬¡ç™»å½•å½“å‰æœåŠ¡å™¨çš„ç”¨æˆ·ï¼ˆæ¯”å¦‚ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨rootç™»å½•ï¼Œç„¶ååˆ‡æ¢åˆ°jackï¼Œå†ä½¿ç”¨è¯¥å‘½ä»¤æŸ¥è¯¢åˆ°çš„ä¾ç„¶æ˜¯rootï¼‰</p><h4 id="2-4-7-ç”¨æˆ·ç»„"><a href="#2-4-7-ç”¨æˆ·ç»„" class="headerlink" title="2.4.7 ç”¨æˆ·ç»„"></a>2.4.7 ç”¨æˆ·ç»„</h4><p>ä»‹ç»<br>ç±»ä¼¼äºè§’è‰²ï¼Œç³»ç»Ÿå¯ä»¥å¯¹<strong>æœ‰å…±æ€§çš„å¤šä¸ªç”¨æˆ·</strong>è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†</p><p>æ–°å¢ç»„<br>æŒ‡ä»¤ï¼š<code>groupadd ç»„å</code></p><p>åˆ é™¤ç»„<br>æŒ‡ä»¤(åŸºæœ¬è¯­æ³•)ï¼š<code>groupdel ç»„å</code></p><p>å¢åŠ ç”¨æˆ·æ—¶ç›´æ¥åŠ ä¸Šç»„<br>æŒ‡ä»¤(åŸºæœ¬è¯­æ³•)ï¼š<code>useradd -g ç”¨æˆ·ç»„ ç”¨æˆ·å</code><br>è‹¥å¢åŠ ç”¨æˆ·æ—¶æ²¡æœ‰æŒ‡å®šå°†ç”¨æˆ·æ·»åŠ åˆ°å“ªä¸ªç»„ï¼Œä¼š<strong>é»˜è®¤åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·ååŒåçš„ç»„ï¼Œå°†ç”¨æˆ·å­˜æ”¾åœ¨å…¶ä¸­</strong><br>å¢åŠ ä¸€ä¸ªç”¨æˆ·zwjï¼Œç›´æ¥å°†ä»–æŒ‡å®šåˆ°wudangï¼ˆ<code>groupadd wudang</code>    <code>useradd -g wudang zwj</code>ï¼‰</p><p>ä¿®æ”¹ç”¨æˆ·çš„ç»„<br>æŒ‡ä»¤(åŸºæœ¬è¯­æ³•)ï¼š<code>usermod -g ç”¨æˆ·ç»„ ç”¨æˆ·å</code></p><h4 id="2-4-8-ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶"><a href="#2-4-8-ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶" class="headerlink" title="2.4.8 ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶"></a>2.4.8 ç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶</h4><p><strong>/etc/passwdæ–‡ä»¶</strong>ï¼š<strong>ç”¨æˆ·(user)çš„é…ç½®æ–‡ä»¶</strong>ï¼Œè®°å½•ç”¨æˆ·çš„å„ç§ä¿¡æ¯<br>æ¯è¡Œçš„å«ä¹‰ï¼š<strong>ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½•Shell</strong></p><p><strong>/etc/shadowæ–‡ä»¶</strong>ï¼š<strong>å£ä»¤çš„é…ç½®æ–‡ä»¶</strong><br>æ¯è¡Œçš„å«ä¹‰ï¼š<strong>ç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—</strong></p><p><strong>/etc/groupæ–‡ä»¶</strong>ï¼š<strong>ç»„(group)çš„é…ç½®æ–‡ä»¶</strong>ï¼Œè®°å½•LinuxåŒ…å«çš„ç»„çš„ä¿¡æ¯<br>æ¯è¡Œå«ä¹‰ï¼š<strong>ç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨</strong></p><h3 id="2-5-å®ç”¨æŒ‡ä»¤"><a href="#2-5-å®ç”¨æŒ‡ä»¤" class="headerlink" title="2.5 å®ç”¨æŒ‡ä»¤"></a>2.5 å®ç”¨æŒ‡ä»¤</h3><h4 id="2-5-1-æŒ‡å®šè¿è¡Œçº§åˆ«"><a href="#2-5-1-æŒ‡å®šè¿è¡Œçº§åˆ«" class="headerlink" title="2.5.1 æŒ‡å®šè¿è¡Œçº§åˆ«"></a>2.5.1 æŒ‡å®šè¿è¡Œçº§åˆ«</h4><h5 id="1-initæŒ‡ä»¤"><a href="#1-initæŒ‡ä»¤" class="headerlink" title="1.initæŒ‡ä»¤"></a>1.initæŒ‡ä»¤</h5><p>åˆ‡æ¢è¿è¡Œçº§åˆ«çš„å‘½ä»¤ï¼š<code>init [0123456]</code> </p><p><strong>è¿è¡Œçº§åˆ«è¯´æ˜ï¼š</strong></p><ul><li><strong>0ï¼šå…³æœº</strong></li><li><strong>1ï¼šå•ç”¨æˆ·ã€æ‰¾å›ä¸¢å¤±å¯†ç ã€‘</strong></li><li><strong>2âˆ¶å¤šç”¨æˆ·çŠ¶æ€æ²¡æœ‰ç½‘ç»œæœåŠ¡</strong></li><li><strong>3âˆ¶å¤šç”¨æˆ·çŠ¶æ€æœ‰ç½‘ç»œæœåŠ¡</strong></li><li><strong>4âˆ¶ç³»ç»Ÿæœªä½¿ç”¨ä¿ç•™ç»™ç”¨æˆ·</strong></li><li><strong>5ï¼šå›¾å½¢ç•Œé¢</strong></li><li><strong>6âˆ¶ç³»ç»Ÿé‡å¯</strong></li></ul><p>å¸¸ç”¨è¿è¡Œçº§åˆ«æ˜¯3å’Œ5ï¼Œä¹Ÿ<strong>å¯ä»¥æŒ‡å®šé»˜è®¤è¿è¡Œçº§åˆ«</strong></p><p><strong>CentOS7åè¿è¡Œçº§åˆ«è¯´æ˜ï¼š</strong><br>åœ¨CentOS7ä»¥å‰ï¼Œéƒ½åœ¨/etc/inittabæ–‡ä»¶ä¸­æ¥ä¿®æ”¹é»˜è®¤è¿è¡Œçº§åˆ«</p><p>åœ¨CentOS7ä¹‹åè¿›è¡Œäº†ç®€åŒ–ï¼Œå¦‚ä¸‹ï¼š</p><ul><li><p>multi-user.targetï¼šanalogous to runlevel 3ï¼ˆå³<strong>multi-user.targetç›¸å½“äºè¿è¡Œçº§åˆ«3</strong>ï¼‰</p></li><li><p>graphical.targetï¼šanalogous to runlevel 5ï¼ˆå³<strong>graphical.targetç›¸å½“äºè¿è¡Œçº§åˆ«5</strong>ï¼‰</p></li></ul><p>To view current default targetï¼Œrunï¼šsystemctl get-defaultï¼ˆæƒ³è¦**æŸ¥çœ‹å½“å‰é»˜è®¤targetï¼Œåœ¨ç»ˆç«¯è¾“å…¥<code>systemctl get-default</code>**å³å¯æŸ¥çœ‹ï¼‰</p><p>To set a default targetï¼Œrunï¼šsystemctl set-default TARGET.targetï¼ˆæƒ³è¦**è®¾ç½®é»˜è®¤targetï¼Œåœ¨ç»ˆç«¯è¾“å…¥<code>systemctl set-default TARGET.target</code>**å³å¯è®¾ç½®æˆç›¸å¯¹åº”çš„é»˜è®¤targetï¼‰</p><h4 id="2-5-2-æ‰¾å›rootå¯†ç "><a href="#2-5-2-æ‰¾å›rootå¯†ç " class="headerlink" title="2.5.2 æ‰¾å›rootå¯†ç "></a>2.5.2 æ‰¾å›rootå¯†ç </h4><p><strong>é¢è¯•é¢˜</strong><br>å¦‚ä½•æ‰¾å›rootå¯†ç </p><p><strong>è¯¾å ‚ç»ƒä¹ </strong><br>1.å‡è®¾rootå¯†ç å¿˜è®°äº†ï¼Œè¯·é—®å¦‚ä½•æ‰¾å›å¯†ç <br>2.è®¾ç½®è¿è¡Œçº§åˆ«ï¼Œlinuxè¿è¡Œåï¼Œç›´æ¥è¿›å…¥åˆ°å‘½ä»¤è¡Œç»ˆç«¯(3)</p><h5 id="æ­¥éª¤ï¼ˆCentOS7-6ä¸ºä¾‹ï¼‰ï¼š"><a href="#æ­¥éª¤ï¼ˆCentOS7-6ä¸ºä¾‹ï¼‰ï¼š" class="headerlink" title="æ­¥éª¤ï¼ˆCentOS7.6ä¸ºä¾‹ï¼‰ï¼š"></a><strong>æ­¥éª¤ï¼ˆCentOS7.6ä¸ºä¾‹ï¼‰ï¼š</strong></h5><p>1.é¦–å…ˆï¼Œå¯åŠ¨ç³»ç»Ÿï¼Œè¿›å…¥å¼€æœºç•Œé¢ï¼Œåœ¨ç•Œé¢ä¸­æŒ‰â€œeâ€è¿›å…¥ç¼–è¾‘ç•Œé¢        å¦‚å›¾</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723432.png' data-fancybox='default' data-caption='image-20210817112711386'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723432.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723432.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817112711386"></a><span class='image-caption'>image-20210817112711386</span></div></div><p>2.è¿›å…¥ç¼–è¾‘ç•Œé¢ï¼Œä½¿ç”¨é”®ç›˜ä¸Šçš„ä¸Šä¸‹é”®æŠŠå…‰æ ‡å¾€ä¸‹ç§»åŠ¨ï¼Œæ‰¾åˆ°ä»¥â€Linux16â€å¼€å¤´å†…å®¹æ‰€åœ¨çš„è¡Œæ•°ï¼Œåœ¨è¡Œçš„æœ€åé¢è¾“å…¥ï¼š<code>init=bin/sh</code>        å¦‚å›¾</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723585.png' data-fancybox='default' data-caption='image-20210817112918459'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723585.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723585.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817112918459"></a><span class='image-caption'>image-20210817112918459</span></div></div><p>3.æ¥ç€ï¼Œè¾“å…¥å®Œæˆåï¼Œç›´æ¥æŒ‰å¿«æ·é”®ï¼šCtrl+x <strong>è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</strong><br>4.æ¥ç€ï¼Œåœ¨å…‰æ ‡é—ªçƒçš„ä½ç½®ä¸­è¾“å…¥ï¼š<code>mount -o remount,rw /</code>(æ³¨æ„ï¼šå„ä¸ªå•è¯é—´æœ‰ç©ºæ ¼)ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®(Enter)å¦‚å›¾</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723356.png' data-fancybox='default' data-caption='image-20210817113238436'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723356.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723356.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817113238436"></a><span class='image-caption'>image-20210817113238436</span></div></div><p>5.åœ¨æ–°çš„ä¸€è¡Œæœ€åé¢è¾“å…¥ï¼š<code>passwd</code>ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®ã€ˆEnter)ã€‚è¾“å…¥å¯†ç ï¼Œç„¶åå†æ¬¡ç¡®è®¤å¯†ç å³å¯(å¯†ç é•¿åº¦æœ€å¥½8ä½ä»¥ä¸Šï¼Œä½†ä¸æ˜¯å¿…é¡»çš„)ï¼Œå¯†ç ä¿®æ”¹æˆåŠŸåï¼Œä¼šæ˜¾ç¤º<strong>passwdâ€¦..çš„æ ·å¼ï¼Œè¯´æ˜å¯†ç ä¿®æ”¹æˆåŠŸ</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723161.png' data-fancybox='default' data-caption='image-20210817113403201'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723161.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723161.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817113403201"></a><span class='image-caption'>image-20210817113403201</span></div></div><p>6.æ¥ç€ï¼Œåœ¨é¼ æ ‡é—ªçƒçš„ä½ç½®ä¸­ï¼ˆæœ€åä¸€è¡Œä¸­ï¼‰è¾“å…¥ï¼š<code>touch /.autorelabel</code>(æ³¨æ„ï¼štouchä¸/åé¢æœ‰ä¸€ä¸ªç©ºæ ¼)ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®(Enter)<br>7.ç»§ç»­åœ¨å…‰æ ‡é—ªçƒçš„ä½ç½®ä¸­ï¼Œè¾“å…¥ï¼š<code>exec /sbin/init</code>(æ³¨æ„ï¼šexecä¸/åé¢æœ‰ä¸€ä¸ªç©ºæ ¼)ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®(Enter)ï¼Œç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨ä¿®æ”¹å¯†ç (è¿™ä¸ªè¿‡ç¨‹æ—¶é—´å¯èƒ½æœ‰ç‚¹é•¿ï¼Œè€å¿ƒç­‰å¾…)ï¼Œå®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡å¯ï¼Œæ–°çš„å¯†ç ç”Ÿæ•ˆäº†</p><h5 id="æ­¥éª¤ï¼ˆCentOS8ä¸ºä¾‹ï¼‰ï¼š"><a href="#æ­¥éª¤ï¼ˆCentOS8ä¸ºä¾‹ï¼‰ï¼š" class="headerlink" title="æ­¥éª¤ï¼ˆCentOS8ä¸ºä¾‹ï¼‰ï¼š"></a><strong>æ­¥éª¤ï¼ˆCentOS8ä¸ºä¾‹ï¼‰ï¼š</strong></h5><p>å‚è€ƒé“¾æ¥1ï¼š<a href="https://blog.csdn.net/qq_37960324/article/details/107709858">https://blog.csdn.net/qq_37960324/article/details/107709858</a></p><p>å‚è€ƒé“¾æ¥2ï¼š<a href="https://www.jb51.net/article/182993.htm">https://www.jb51.net/article/182993.htm</a></p><p>1.å¯åŠ¨å‰æŒ‰â€œeâ€è¿›å…¥å¯åŠ¨é…ç½®ç¼–è¾‘æ¨¡å¼</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723122.png' data-fancybox='default' data-caption='image-20210817120518106'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723122.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723122.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817120518106"></a><span class='image-caption'>image-20210817120518106</span></div></div><p>2.ä¿®æ”¹å¯åŠ¨æƒé™é…ç½®ã€‚å°†<code>ro</code>æ”¹ä¸º<code>rw</code>ï¼Œåœ¨æœ«å°¾åŠ å…¥ï¼š<code>init=/bin/sh</code>ï¼Œå›¾ä¸­initåé¢çš„\æ˜¯ç³»ç»ŸåŠ çš„ï¼Œä¸ç”¨ç®¡</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723032.png' data-fancybox='default' data-caption='image-20210817120608582'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723032.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723032.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817120608582"></a><span class='image-caption'>image-20210817120608582</span></div></div><p>3.ctrl + x è¿›å…¥ç´§æ€¥æ¨¡å¼</p><p>4.æ›´æ”¹å¯†ç </p><p>è¾“å…¥passwdè®¾ç½®æ–°å¯†ç ï¼ˆå»ºè®®æ˜æ–‡ä¿®æ”¹ï¼Œä¿ä¸å‡†ä¸‡ä¸€é”®å…¥é—®é¢˜è¢«ææ­»ï¼‰ï¼Œä¿®æ”¹å®Œæˆåè¿è¡Œå‘½ä»¤<code>touch /.autorelabel</code>ä½¿SELinuxç”Ÿæ•ˆï¼Œå¯†ç ç”Ÿæ•ˆï¼Œç„¶åè¾“å…¥<code>exec /sbin/init</code>å¿«é€Ÿå¯åŠ¨</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723277.png' data-fancybox='default' data-caption='image-20210817120951267'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723277.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201723277.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817120951267"></a><span class='image-caption'>image-20210817120951267</span></div></div><h4 id="2-5-3-å¸®åŠ©æŒ‡ä»¤"><a href="#2-5-3-å¸®åŠ©æŒ‡ä»¤" class="headerlink" title="2.5.3 å¸®åŠ©æŒ‡ä»¤"></a>2.5.3 å¸®åŠ©æŒ‡ä»¤</h4><h5 id="1-manæŒ‡ä»¤"><a href="#1-manæŒ‡ä»¤" class="headerlink" title="1.manæŒ‡ä»¤"></a>1.manæŒ‡ä»¤</h5><p>manæŒ‡ä»¤ï¼š<strong>è·å¾—å¸®åŠ©ä¿¡æ¯</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>man [å‘½ä»¤æˆ–é…ç½®æ–‡ä»¶]</code><br>åº”ç”¨æ¡ˆä¾‹ï¼šæŸ¥çœ‹lså‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼ˆ<code>man ls</code>ï¼‰</p><h5 id="2-helpæŒ‡ä»¤"><a href="#2-helpæŒ‡ä»¤" class="headerlink" title="2.helpæŒ‡ä»¤"></a>2.helpæŒ‡ä»¤</h5><p>helpæŒ‡ä»¤ï¼š<strong>è·å¾—shellå†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>help å‘½ä»¤</code><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹ï¼šæŸ¥çœ‹cdå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼ˆ<code>help cd</code>ï¼‰</p><p>åœ¨linuxä¸‹ï¼Œéšè—æ–‡ä»¶æ˜¯ä»¥<code>.</code>å¼€å¤´ï¼Œé€‰é¡¹å¯ä»¥ç»„åˆä½¿ç”¨æ¯”å¦‚<code>ls -al</code>æ˜¯æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ç›®å½•ä»¥å•åˆ—å½¢å¼åˆ—å‡ºï¼›æ¯”å¦‚<code>ls -al /root</code>æ˜¯å°†rootæ–‡ä»¶å¤¹ä¹‹ä¸‹çš„æ‰€æœ‰ç›®å½•ä»¥å•åˆ—å½¢å¼åˆ—å‡º</p><h4 id="2-5-4-æ–‡ä»¶ç›®å½•æŒ‡ä»¤"><a href="#2-5-4-æ–‡ä»¶ç›®å½•æŒ‡ä»¤" class="headerlink" title="2.5.4 æ–‡ä»¶ç›®å½•æŒ‡ä»¤"></a>2.5.4 æ–‡ä»¶ç›®å½•æŒ‡ä»¤</h4><h5 id="1-pwdæŒ‡ä»¤"><a href="#1-pwdæŒ‡ä»¤" class="headerlink" title="1.pwdæŒ‡ä»¤"></a>1.pwdæŒ‡ä»¤</h5><p>pwdæŒ‡ä»¤ï¼š<strong>æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>pwd</code></p><h5 id="2-lsæŒ‡ä»¤"><a href="#2-lsæŒ‡ä»¤" class="headerlink" title="2.lsæŒ‡ä»¤"></a>2.lsæŒ‡ä»¤</h5><p>lsæŒ‡ä»¤ï¼š<strong>æŸ¥çœ‹æŒ‡å®šç›®å½•ä¸­çš„æ–‡ä»¶å’Œç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>ls [é€‰é¡¹] [ç›®å½•æˆ–æ˜¯æ–‡ä»¶]</code><br>å¸¸ç”¨é€‰é¡¹<br><code>-a</code>ï¼š<strong>æ˜¾ç¤ºå½“å‰ç›®å½•æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ…æ‹¬éšè—çš„</strong><br><code>-l</code>ï¼š<strong>ä»¥åˆ—è¡¨çš„æ–¹å¼æ˜¾ç¤ºä¿¡æ¯</strong><br>åº”ç”¨å®ä¾‹ï¼šæŸ¥çœ‹å½“å‰ç›®å½•çš„æ‰€æœ‰å†…å®¹ä¿¡æ¯ï¼ˆ<code>ls -al</code>ï¼‰</p><h5 id="3-cdæŒ‡ä»¤"><a href="#3-cdæŒ‡ä»¤" class="headerlink" title="3.cdæŒ‡ä»¤"></a>3.cdæŒ‡ä»¤</h5><p>cdæŒ‡ä»¤ï¼š<strong>åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>cd [å‚æ•°]</code><br>ç†è§£ï¼šç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„<br><code>cd ~</code>æˆ–è€…<code>cd</code>ï¼š<strong>å›åˆ°è‡ªå·±çš„å®¶ç›®å½•</strong>ï¼Œæ¯”å¦‚ï¼Œç°åœ¨æˆ‘ä»¬æ˜¯ä½¿ç”¨rootè´¦æˆ·ç™»å½•ï¼Œåˆ™cd ~å°±æ˜¯è¿”å›åˆ°/root<br><code>cd ..</code><strong>å›åˆ°å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åˆ‡æ¢åˆ°rootç›®å½•ï¼ˆ<code>cd /root</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„åˆ°/rootç›®å½•ï¼Œæ¯”å¦‚åœ¨/home/tomä¸‹ï¼ˆ<code>cd ../../root</code>ï¼‰<br>æ¡ˆä¾‹3ï¼šè¡¨ç¤ºå›åˆ°å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•ï¼ˆ<code>cd ..</code>ï¼‰<br>æ¡ˆä¾‹4ï¼šå›åˆ°å®¶ç›®å½•ï¼ˆ<code>cd ~</code>ï¼‰</p><h5 id="4-mkdiræŒ‡ä»¤"><a href="#4-mkdiræŒ‡ä»¤" class="headerlink" title="4.mkdiræŒ‡ä»¤"></a>4.mkdiræŒ‡ä»¤</h5><p>mkdiræŒ‡ä»¤ï¼š<strong>ç”¨äºåˆ›å»ºç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>mkdir [é€‰é¡¹] è¦åˆ›å»ºçš„ç›®å½•</code><br>å¸¸ç”¨é€‰é¡¹ï¼š<br><code>-p</code>ï¼š<strong>åˆ›å»ºå¤šçº§ç›®å½•</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šåˆ›å»ºä¸€ä¸ªç›®å½•/home/dogï¼ˆ<code>mkdir /home/dog</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šåˆ›å»ºå¤šçº§ç›®å½•/home/animal/tigerï¼ˆ<code>mkdir -p /home/animal/tiger</code>ï¼‰</p><h5 id="5-rmdiræŒ‡ä»¤"><a href="#5-rmdiræŒ‡ä»¤" class="headerlink" title="5.rmdiræŒ‡ä»¤"></a>5.rmdiræŒ‡ä»¤</h5><p>rmdiræŒ‡ä»¤ï¼š<strong>åˆ é™¤ç©ºç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>rmdir [é€‰é¡¹] è¦åˆ é™¤çš„ç©ºç›®å½•</code><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹ï¼šåˆ é™¤ä¸€ä¸ªç›®å½•/home/dogï¼ˆ<code>rmdir /home/dog</code>ï¼‰<br>ä½¿ç”¨ç»†èŠ‚ï¼š<br>rmdir åˆ é™¤çš„æ˜¯ç©ºç›®å½•ï¼Œå¦‚æœ<strong>ç›®å½•ä¸‹æœ‰å†…å®¹æ—¶æ— æ³•åˆ é™¤</strong>çš„<br>æç¤ºï¼šå¦‚æœ<strong>éœ€è¦åˆ é™¤éç©ºç›®å½•ï¼Œéœ€è¦ä½¿ç”¨rm -rf è¦åˆ é™¤çš„ç›®å½•</strong>ï¼ˆæ¯”å¦‚ï¼Œ<code>rm -rf /home/animal</code>ï¼‰</p><h5 id="6-touchæŒ‡ä»¤"><a href="#6-touchæŒ‡ä»¤" class="headerlink" title="6.touchæŒ‡ä»¤"></a>6.touchæŒ‡ä»¤</h5><p>touchæŒ‡ä»¤ï¼š<strong>åˆ›å»ºç©ºæ–‡ä»¶</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>touch æ–‡ä»¶åç§°</code><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶hello.txtï¼ˆ<code>touch hello.txt</code>ï¼‰</p><h5 id="7-cpæŒ‡ä»¤"><a href="#7-cpæŒ‡ä»¤" class="headerlink" title="7.cpæŒ‡ä»¤"></a>7.cpæŒ‡ä»¤</h5><p>cpæŒ‡ä»¤ï¼š<strong>æ‹·è´æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>cp [é€‰é¡¹] source dest</code>ï¼ˆsourceæŒ‡è¦æ‹·è´çš„æ–‡ä»¶ï¼ŒdestæŒ‡è¦æ‹·è´åˆ°çš„ç›®å½•ï¼‰<br>å¸¸ç”¨é€‰é¡¹ï¼š<br><code>-r</code>ï¼š<strong>é€’å½’å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå°†/home/hello.txtæ‹·è´åˆ°/home/bbbç›®å½•ä¸‹ï¼ˆ<code>mkdir /home/bbb</code>  <code>cp /home/hello.txt /home/bbb</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šé€’å½’å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸¾ä¾‹ï¼Œæ¯”å¦‚å°†/home/bbbæ•´ä¸ªç›®å½•ï¼Œæ‹·è´åˆ°/optï¼ˆ<code>cp -r /home/bbb /opt</code>ï¼‰<br>ä½¿ç”¨ç»†èŠ‚ï¼šå¼ºåˆ¶è¦†ç›–ä¸æç¤ºçš„æ–¹æ³•ï¼š<code>\cp</code></p><h5 id="8-rmæŒ‡ä»¤"><a href="#8-rmæŒ‡ä»¤" class="headerlink" title="8.rmæŒ‡ä»¤"></a>8.rmæŒ‡ä»¤</h5><p>rmæŒ‡ä»¤ï¼š<strong>ç§»é™¤æ–‡ä»¶æˆ–ç›®å½•</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>rm [é€‰é¡¹] è¦åˆ é™¤çš„æ–‡ä»¶æˆ–ç›®å½•</code><br>å¸¸ç”¨é€‰é¡¹ï¼š<br><code>-r</code>ï¼š<strong>é€’å½’åˆ é™¤æ•´ä¸ªæ–‡ä»¶å¤¹</strong><br><code>-f</code>ï¼š<strong>å¼ºåˆ¶åˆ é™¤ä¸æç¤º</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå°†/home/hello.txtåˆ é™¤ï¼ˆ<code>rm /home/hello.txt</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šé€’å½’åˆ é™¤æ•´ä¸ªæ–‡ä»¶å¤¹/home/bbbï¼ˆ<code>rm -r /home/bbb</code>ï¼‰<br>ä½¿ç”¨ç»†èŠ‚ï¼šå¼ºåˆ¶åˆ é™¤ä¸æç¤ºçš„æ–¹æ³•ï¼šå¸¦ä¸Š-få‚æ•°å³å¯</p><h5 id="9-mvæŒ‡ä»¤"><a href="#9-mvæŒ‡ä»¤" class="headerlink" title="9.mvæŒ‡ä»¤"></a>9.mvæŒ‡ä»¤</h5><p>mvæŒ‡ä»¤ï¼š<strong>ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•æˆ–é‡å‘½å</strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>mv oldNameFile newNameFile</code>(åŠŸèƒ½æè¿°ï¼š<strong>é‡å‘½å</strong>)<br><code>mv /temp/movefile /targetFolder</code>(åŠŸèƒ½æè¿°ï¼š<strong>ç§»åŠ¨æ–‡ä»¶</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå°†/home/cat.txtæ–‡ä»¶é‡æ–°å‘½åä¸ºpig.txtï¼ˆ<code>mv cat.txt pig.txt</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šå°†/home/pig.txtæ–‡ä»¶ç§»åŠ¨åˆ°/rootç›®å½•ä¸‹ï¼ˆ<code>mv /home/pig.txt /root</code>ï¼‰<br>æ¡ˆä¾‹3ï¼šå°†/home/pig.txtæ–‡ä»¶ç§»åŠ¨åˆ°/rootç›®å½•ä¸‹å¹¶é‡å‘½åä¸ºcow.txtï¼ˆ<code>mv /home/pig.txt /root/cow.txt</code>ï¼‰<br>æ¡ˆä¾‹4ï¼šå°†/opt/bbbæ•´ä½“ç§»åŠ¨åˆ°/homeä¸‹ï¼ˆ<code>mv /opt/bbb /home</code>ï¼‰</p><h5 id="10-catæŒ‡ä»¤"><a href="#10-catæŒ‡ä»¤" class="headerlink" title="10.catæŒ‡ä»¤"></a>10.catæŒ‡ä»¤</h5><p>catæŒ‡ä»¤ï¼š<strong>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>cat [é€‰é¡¹] è¦æŸ¥çœ‹çš„æ–‡ä»¶</code><br>å¸¸ç”¨é€‰é¡¹ï¼š<br><code>-n</code>ï¼š<strong>æ˜¾ç¤ºè¡Œå·</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼š/ect/profileæ–‡ä»¶å†…å®¹ï¼Œå¹¶æ˜¾ç¤ºè¡Œå·ï¼ˆ<code>cat -n /etc/profile</code>ï¼‰<br>ä½¿ç”¨ç»†èŠ‚ï¼š<strong>catåªèƒ½æµè§ˆæ–‡ä»¶ï¼Œè€Œä¸èƒ½ä¿®æ”¹æ–‡ä»¶</strong>ï¼Œä¸ºäº†æµè§ˆæ–¹ä¾¿ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸Š<strong>ç®¡é“å‘½ä»¤</strong> <code>| more</code>è¿›è¡Œäº¤äº’<br>ï¼ˆæ¯”å¦‚ï¼ŒæŸ¥çœ‹/etc/profileæ–‡ä»¶ï¼Œ<code>cat -n /etc/profile | more</code>ï¼‰</p><h5 id="11-moreæŒ‡ä»¤"><a href="#11-moreæŒ‡ä»¤" class="headerlink" title="11.moreæŒ‡ä»¤"></a>11.moreæŒ‡ä»¤</h5><p>moreæŒ‡ä»¤æ˜¯ä¸€ä¸ª<strong>åŸºäºVIç¼–è¾‘å™¨çš„æ–‡æœ¬è¿‡æ»¤å™¨</strong>ï¼Œå®ƒ<strong>ä»¥å…¨å±å¹•çš„æ–¹å¼æŒ‰é¡µæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹</strong>ã€‚moreæŒ‡ä»¤ä¸­**å†…ç½®äº†è‹¥å¹²å¿«æ·é”®(äº¤äº’çš„æŒ‡ä»¤)**ï¼Œè¯¦è§æ“ä½œè¯´æ˜<br>åŸºæœ¬è¯­æ³•ï¼š<code>more è¦æŸ¥çœ‹çš„æ–‡ä»¶</code><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹ï¼šé‡‡ç”¨moreæŸ¥çœ‹æ–‡ä»¶/etc/profileï¼ˆ<code>more /etc/profile</code>ï¼‰<br>æ“ä½œè¯´æ˜ï¼Œå¦‚å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724386.png' data-fancybox='default' data-caption='image-20210817160222592'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724386.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724386.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817160222592"></a><span class='image-caption'>image-20210817160222592</span></div></div><h5 id="12-lessæŒ‡ä»¤"><a href="#12-lessæŒ‡ä»¤" class="headerlink" title="12.lessæŒ‡ä»¤"></a>12.lessæŒ‡ä»¤</h5><p>lessæŒ‡ä»¤ç”¨æ¥<strong>åˆ†å±æŸ¥çœ‹æ–‡ä»¶å†…å®¹</strong>ï¼Œå®ƒçš„åŠŸèƒ½ä¸moreæŒ‡ä»¤ç±»ä¼¼ï¼Œä½†æ˜¯æ¯”moreæŒ‡ä»¤æ›´åŠ å¼ºå¤§ï¼Œæ”¯æŒå„ç§æ˜¾ç¤ºç»ˆç«¯ã€‚lessæŒ‡ä»¤åœ¨æ˜¾ç¤ºæ–‡ä»¶å†…å®¹æ—¶ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡å°†æ•´ä¸ªæ–‡ä»¶åŠ è½½ä¹‹åæ‰æ˜¾ç¤ºï¼Œè€Œæ˜¯<strong>æ ¹æ®æ˜¾ç¤ºéœ€è¦åŠ è½½å†…å®¹</strong>ï¼Œå¯¹äº<strong>æ˜¾ç¤ºå¤§å‹æ–‡ä»¶å…·æœ‰è¾ƒé«˜çš„æ•ˆç‡</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>less è¦æŸ¥çœ‹çš„æ–‡ä»¶</code><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹ï¼šé‡‡ç”¨lessæŸ¥çœ‹ä¸€ä¸ªå¤§æ–‡ä»¶/opt/æ‚æ–‡.txtï¼ˆ<code>less /opt/æ‚æ–‡.txt</code>ï¼‰<br>æ“ä½œè¯´æ˜ï¼Œå¦‚å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724930.png' data-fancybox='default' data-caption='image-20210817161240067'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724930.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724930.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210817161240067"></a><span class='image-caption'>image-20210817161240067</span></div></div><h5 id="13-echoæŒ‡ä»¤"><a href="#13-echoæŒ‡ä»¤" class="headerlink" title="13.echoæŒ‡ä»¤"></a>13.echoæŒ‡ä»¤</h5><p>echoæŒ‡ä»¤ï¼š<strong>è¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>echo [é€‰é¡¹] [è¾“å‡ºå†…å®¹]</code><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šä½¿ç”¨echoæŒ‡ä»¤è¾“å‡ºç¯å¢ƒå˜é‡$PATHï¼ˆ<code>echo $PATH</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šä½¿ç”¨echoæŒ‡ä»¤è¾“å‡ºhello,world!ï¼ˆ<code>echo hello,world!</code>ï¼‰</p><h5 id="14-headæŒ‡ä»¤"><a href="#14-headæŒ‡ä»¤" class="headerlink" title="14.headæŒ‡ä»¤"></a>14.headæŒ‡ä»¤</h5><p>headæŒ‡ä»¤ï¼š<strong>ç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„å¼€å¤´éƒ¨åˆ†å†…å®¹ï¼Œé»˜è®¤æƒ…å†µä¸‹headæŒ‡ä»¤æ˜¾ç¤ºæ–‡ä»¶çš„å‰10è¡Œå†…å®¹</strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>head æ–‡ä»¶</code>(åŠŸèƒ½æè¿°:ï¼š<strong>æŸ¥çœ‹æ–‡ä»¶å¤´10è¡Œå†…å®¹</strong>)<br><code>head -n 5 æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>æŸ¥çœ‹æ–‡ä»¶å¤´5è¡Œå†…å®¹</strong>ï¼Œ5å¯ä»¥æ˜¯ä»»æ„è¡Œæ•°)<br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹ï¼šæŸ¥çœ‹/etc/profileçš„å‰é¢5è¡Œä»£ç ï¼ˆ<code>head -n 5 /etc/profile</code>ï¼‰</p><h5 id="15-tailæŒ‡ä»¤"><a href="#15-tailæŒ‡ä»¤" class="headerlink" title="15.tailæŒ‡ä»¤"></a>15.tailæŒ‡ä»¤</h5><p>tailæŒ‡ä»¤ï¼šç”¨äºè¾“å‡ºæ–‡ä»¶ä¸­<strong>å°¾éƒ¨çš„å†…å®¹</strong>ï¼Œé»˜è®¤æƒ…å†µä¸‹tailæŒ‡ä»¤æ˜¾ç¤ºæ–‡ä»¶çš„æœ€å10è¡Œå†…å®¹<br>åŸºæœ¬è¯­æ³•ï¼š<br><code>tail æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>æŸ¥çœ‹æ–‡ä»¶å°¾10è¡Œå†…å®¹</strong>)<br><code>tail -n 5 æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>æŸ¥çœ‹æ–‡ä»¶å°¾5è¡Œå†…å®¹</strong>ï¼Œ5å¯ä»¥æ˜¯ä»»æ„è¡Œæ•°)<br><code>tail -f æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>å®æ—¶è¿½è¸ªè¯¥æ–‡æ¡£çš„æ‰€æœ‰æ›´æ–°</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šæŸ¥çœ‹/etc/profileæœ€å5è¡Œçš„ä»£ç ï¼ˆ<code>tail -n 5 /etc/profile</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šå®æ—¶ç›‘æ§mydate.txtï¼Œçœ‹çœ‹å½“æ–‡ä»¶æœ‰å˜åŒ–æ—¶ï¼Œæ˜¯å¦çœ‹åˆ°å®æ—¶çš„è¿½åŠ å†…å®¹ï¼ˆ<code>tail -f mydate.txt</code>ï¼‰</p><h5 id="16-gt-æŒ‡ä»¤å’Œ-gt-gt-æŒ‡ä»¤"><a href="#16-gt-æŒ‡ä»¤å’Œ-gt-gt-æŒ‡ä»¤" class="headerlink" title="16.&gt;æŒ‡ä»¤å’Œ&gt;&gt;æŒ‡ä»¤"></a>16.&gt;æŒ‡ä»¤å’Œ&gt;&gt;æŒ‡ä»¤</h5><p><code>&gt;</code>æŒ‡ä»¤ï¼š<strong>è¾“å‡ºé‡å®šå‘</strong><br><code>&gt;&gt;</code>æŒ‡ä»¤ï¼š<strong>è¿½åŠ </strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>ls -l &gt; æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>åˆ—è¡¨çš„å†…å®¹å†™å…¥æ–‡ä»¶ä¸­</strong>(<strong>è¦†ç›–å†™</strong>))<br><code>ls -al &gt;&gt; æ–‡ä»¶</code>(åŠŸèƒ½æè¿°ï¼š<strong>åˆ—è¡¨çš„å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶çš„æœ«å°¾</strong>)<br><code>cat æ–‡ä»¶1 &gt; æ–‡ä»¶2</code>(åŠŸèƒ½æè¿°ï¼š<strong>å°†æ–‡ä»¶1çš„å†…å®¹è¦†ç›–åˆ°æ–‡ä»¶2</strong>)<br><code>echo &quot;å†…å®¹&quot; &gt;&gt; æ–‡ä»¶</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>å°†å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶ä¸­</strong>ï¼‰<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå°†/homeç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨å†™å…¥åˆ°/home/info.txtä¸­ï¼ˆ<code>ls -l /home &gt; /home/info.txt</code>ï¼Œå¦‚æœinfo.txtä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰<br>æ¡ˆä¾‹2ï¼šå°†å½“å‰æ—¥å†ä¿¡æ¯è¿½åŠ åˆ°/home/mycalæ–‡ä»¶ä¸­ï¼ˆ<code>cal &gt;&gt; /home/mycal.txt</code>ï¼‰</p><h5 id="17-lnæŒ‡ä»¤"><a href="#17-lnæŒ‡ä»¤" class="headerlink" title="17.lnæŒ‡ä»¤"></a>17.lnæŒ‡ä»¤</h5><p>lnæŒ‡ä»¤ï¼šè½¯é“¾æ¥ä¹Ÿç§°ä¸ºç¬¦å·é“¾æ¥ï¼Œç±»ä¼¼äºwindowsé‡Œçš„å¿«æ·æ–¹å¼ï¼Œ<strong>ä¸»è¦å­˜æ”¾äº†é“¾æ¥å…¶ä»–æ–‡ä»¶çš„è·¯å¾„</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>ln -s [åŸæ–‡ä»¶æˆ–ç›®å½•] [è½¯é“¾æ¥å]</code> (åŠŸèƒ½æè¿°ï¼š<strong>ç»™åŸæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šåœ¨/homeç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªè½¯è¿æ¥myrootï¼Œè¿æ¥åˆ°/rootç›®å½•ï¼ˆ<code>ls -s /root /home/myroot</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šåˆ é™¤è½¯è¿æ¥myrootï¼ˆ<code>rm /home/myroot</code>ï¼‰<br>ç»†èŠ‚è¯´æ˜ï¼šå½“æˆ‘ä»¬<strong>ä½¿ç”¨pwdæŒ‡ä»¤æŸ¥çœ‹ç›®å½•æ—¶ï¼Œä»ç„¶çœ‹åˆ°çš„æ˜¯è½¯é“¾æ¥æ‰€åœ¨ç›®å½•</strong></p><h5 id="18-historyæŒ‡ä»¤"><a href="#18-historyæŒ‡ä»¤" class="headerlink" title="18.historyæŒ‡ä»¤"></a>18.historyæŒ‡ä»¤</h5><p>historyæŒ‡ä»¤ï¼š<strong>æŸ¥çœ‹å·²ç»æ‰§è¡Œè¿‡å†å²å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œå†å²æŒ‡ä»¤</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>history</code>(åŠŸèƒ½æè¿°ï¼š<strong>æŸ¥çœ‹å·²ç»æ‰§è¡Œè¿‡å†å²å‘½ä»¤</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šæ˜¾ç¤ºæ‰€æœ‰çš„å†å²å‘½ä»¤ï¼ˆ<code>history</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šæ˜¾ç¤ºæœ€è¿‘ä½¿ç”¨è¿‡çš„10ä¸ªæŒ‡ä»¤ï¼ˆ<code>history 10</code>ï¼‰<br>æ¡ˆä¾‹3âˆ¶æ‰§è¡Œå†å²ç¼–å·ä¸º5çš„æŒ‡ä»¤ï¼ˆ<code>!5</code>ï¼‰</p><h4 id="2-5-5-æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤"><a href="#2-5-5-æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤" class="headerlink" title="2.5.5 æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤"></a>2.5.5 æ—¶é—´æ—¥æœŸç±»æŒ‡ä»¤</h4><h5 id="1-dateæŒ‡ä»¤"><a href="#1-dateæŒ‡ä»¤" class="headerlink" title="1.dateæŒ‡ä»¤"></a>1.dateæŒ‡ä»¤</h5><p>dateæŒ‡ä»¤ï¼š<strong>æ˜¾ç¤ºå½“å‰æ—¥æœŸ</strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>date</code>(åŠŸèƒ½æè¿°ï¼š<strong>æ˜¾ç¤ºå½“å‰æ—¶é—´</strong>)<br><code>date +%Y</code>(åŠŸèƒ½æè¿°ï¼š<strong>æ˜¾ç¤ºå½“å‰å¹´ä»½</strong>)<br><code>date +%m</code>(åŠŸèƒ½æè¿°ï¼š<strong>æ˜¾ç¤ºå½“å‰æœˆä»½</strong>)<br><code>date +%d</code>(åŠŸèƒ½æè¿°ï¼š<strong>æ˜¾ç¤ºå½“å‰æ˜¯å“ªä¸€å¤©</strong>)<br><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code>(åŠŸèƒ½æè¿°ï¼š<strong>æ˜¾ç¤ºå¹´æœˆæ—¥æ—¶åˆ†ç§’</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´ä¿¡æ¯ï¼ˆ<code>date</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´å¹´æœˆæ—¥ï¼ˆ<code>date &quot;+%Y-%m-%d&quot;</code>ï¼‰<br>æ¡ˆä¾‹3ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼ˆ<code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code>ï¼‰</p><p>dateæŒ‡ä»¤ï¼š<strong>è®¾ç½®æ—¥æœŸ</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>date -s å­—ç¬¦ä¸²æ—¶é—´</code><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹1ï¼šè®¾ç½®ç³»ç»Ÿå½“å‰æ—¶é—´ï¼Œæ¯”å¦‚è®¾ç½®æˆ2021-11-11 11:22:22ï¼ˆ<code>date -s &quot;2021-11-11 11:22:22&quot;</code>ï¼‰</p><h5 id="2-calæŒ‡ä»¤"><a href="#2-calæŒ‡ä»¤" class="headerlink" title="2.calæŒ‡ä»¤"></a>2.calæŒ‡ä»¤</h5><p>calæŒ‡ä»¤ï¼š<strong>æŸ¥çœ‹æ—¥å†æŒ‡ä»¤</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>cal [é€‰é¡¹]</code> (åŠŸèƒ½æè¿°ï¼š<strong>ä¸åŠ é€‰é¡¹ï¼Œæ˜¾ç¤ºæœ¬æœˆæ—¥å†</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šæ˜¾ç¤ºå½“å‰æ—¥å†ï¼ˆ<code>cal</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šæ˜¾ç¤º2020å¹´æ—¥å†ï¼ˆ<code>cal 2020</code>ï¼‰</p><h4 id="2-5-6-æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤"><a href="#2-5-6-æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤" class="headerlink" title="2.5.6 æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤"></a>2.5.6 æœç´¢æŸ¥æ‰¾ç±»æŒ‡ä»¤</h4><h5 id="1-findæŒ‡ä»¤"><a href="#1-findæŒ‡ä»¤" class="headerlink" title="1.findæŒ‡ä»¤"></a>1.findæŒ‡ä»¤</h5><p>findæŒ‡ä»¤ï¼šå°†<strong>ä»æŒ‡å®šç›®å½•å‘ä¸‹é€’å½’åœ°éå†å…¶å„ä¸ªå­ç›®å½•ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æˆ–è€…ç›®å½•æ˜¾ç¤ºåœ¨ç»ˆç«¯</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>find [æœç´¢èŒƒå›´] [é€‰é¡¹]</code><br>é€‰é¡¹è¯´æ˜ï¼š<br><code>-name&lt;æŸ¥è¯¢æ–¹å¼&gt;</code>ï¼š<strong>æŒ‰ç…§æŒ‡å®šçš„æ–‡ä»¶åæŸ¥æ‰¾æ¨¡å¼æŸ¥æ‰¾æ–‡ä»¶</strong><br><code>-user&lt;ç”¨æˆ·å&gt;</code>ï¼š<strong>æŸ¥æ‰¾å±äºæŒ‡å®šç”¨æˆ·åæ‰€æœ‰æ–‡ä»¶</strong><br><code>-size&lt;æ–‡ä»¶å¤§å°&gt;</code>ï¼š<strong>æŒ‰ç…§æŒ‡å®šçš„æ–‡ä»¶å¤§å°æŸ¥æ‰¾æ–‡ä»¶</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šæŒ‰æ–‡ä»¶åï¼šæ ¹æ®åç§°æŸ¥æ‰¾/homeç›®å½•ä¸‹çš„hello.txtæ–‡ä»¶ï¼ˆ<code>find /home -name hello.txt</code>ï¼‰<br>æ¡ˆä¾‹2âˆ¶æŒ‰æ‹¥æœ‰è€…ï¼šæŸ¥æ‰¾/optç›®å½•ä¸‹ï¼Œç”¨æˆ·åç§°ä¸ºnobodyçš„æ–‡ä»¶ï¼ˆ<code>find /opt -user nobody</code>ï¼‰<br>æ¡ˆä¾‹3ï¼šæŸ¥æ‰¾æ•´ä¸ªlinuxç³»ç»Ÿä¸‹å¤§äº200Mçš„æ–‡ä»¶(<strong>+nå¤§äº -nå°äº nç­‰äºï¼Œå•ä½æœ‰kï¼ŒMï¼ŒG</strong>)ï¼ˆ<code>find / -size +200M</code>ï¼‰</p><h5 id="2-locateæŒ‡ä»¤"><a href="#2-locateæŒ‡ä»¤" class="headerlink" title="2.locateæŒ‡ä»¤"></a>2.locateæŒ‡ä»¤</h5><p>locateæŒ‡ä»¤å¯ä»¥<strong>å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„</strong><br>locateæŒ‡ä»¤<strong>åˆ©ç”¨äº‹å…ˆå»ºç«‹çš„ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶åç§°åŠè·¯å¾„çš„locateæ•°æ®åº“å®ç°å¿«é€Ÿå®šä½ç»™å®šçš„æ–‡ä»¶</strong><br>locateæŒ‡ä»¤<strong>æ— éœ€éå†æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒå¿«</strong>ã€‚ä¸ºäº†ä¿è¯æŸ¥è¯¢ç»“æœçš„å‡†ç¡®åº¦ï¼Œ<strong>ç®¡ç†å‘˜å¿…é¡»å®šæœŸæ›´æ–°locateæ—¶åˆ»</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>locate æœç´¢æ–‡ä»¶</code><br>ç‰¹åˆ«è¯´æ˜ï¼šç”±äºlocateæŒ‡ä»¤<strong>åŸºäºæ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢</strong>ï¼Œæ‰€ä»¥<strong>ç¬¬ä¸€æ¬¡è¿è¡Œå‰ï¼Œå¿…é¡»ä½¿ç”¨updatedbæŒ‡ä»¤åˆ›å»ºlocateæ•°æ®åº“</strong><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹1ï¼šè¯·ä½¿ç”¨locateæŒ‡ä»¤å¿«é€Ÿå®šä½hello.txtæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆ<code>updatedb</code>   <code>locate hello.txt</code>ï¼‰</p><p>whichæŒ‡ä»¤ï¼Œå¯ä»¥<strong>æŸ¥çœ‹æŸä¸ªæŒ‡ä»¤åœ¨å“ªä¸ªç›®å½•ä¸‹</strong>ï¼Œæ¯”å¦‚lsæŒ‡ä»¤åœ¨å“ªä¸ªç›®å½•ï¼ˆ<code>which ls</code>ï¼‰</p><h5 id="3-grepæŒ‡ä»¤å’Œç®¡é“ç¬¦å·-â€œ-â€"><a href="#3-grepæŒ‡ä»¤å’Œç®¡é“ç¬¦å·-â€œ-â€" class="headerlink" title="3.grepæŒ‡ä»¤å’Œç®¡é“ç¬¦å· â€œ|â€"></a>3.grepæŒ‡ä»¤å’Œç®¡é“ç¬¦å· â€œ|â€</h5><p>grepæŒ‡ä»¤ï¼š<strong>è¿‡æ»¤æŸ¥æ‰¾</strong><br>ç®¡é“ç¬¦â€|â€ï¼šè¡¨ç¤º<strong>å°†å‰ä¸€ä¸ªå‘½ä»¤çš„å¤„ç†ç»“æœè¾“å‡ºä¼ é€’ç»™åé¢çš„å‘½ä»¤å¤„ç†</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>grep [é€‰é¡¹] æŸ¥æ‰¾å†…å®¹ æºæ–‡ä»¶</code><br>å¸¸ç”¨é€‰é¡¹ï¼š<br><code>-n</code>ï¼š<strong>æ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå·</strong><br><code>-i</code>ï¼š<strong>å¿½ç•¥å­—æ¯å¤§å°å†™</strong><br>åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹1ï¼šè¯·åœ¨hello.txtæ–‡ä»¶ä¸­ï¼ŒæŸ¥æ‰¾â€yesâ€æ‰€åœ¨è¡Œï¼Œå¹¶ä¸”æ˜¾ç¤ºè¡Œå·<br>ï¼ˆå†™æ³•ä¸€ï¼š<code>cat /home/hello.txt | grep -n &quot;yes&quot;</code>å†™æ³•äºŒï¼š<code>grep -n &quot;yes&quot; /home/hello.txt</code>ï¼‰</p><h4 id="2-5-7-å‹ç¼©å’Œè§£å‹"><a href="#2-5-7-å‹ç¼©å’Œè§£å‹" class="headerlink" title="2.5.7 å‹ç¼©å’Œè§£å‹"></a>2.5.7 å‹ç¼©å’Œè§£å‹</h4><h5 id="1-gzipå’ŒgunzipæŒ‡ä»¤"><a href="#1-gzipå’ŒgunzipæŒ‡ä»¤" class="headerlink" title="1.gzipå’ŒgunzipæŒ‡ä»¤"></a>1.gzipå’ŒgunzipæŒ‡ä»¤</h5><p>gzipæŒ‡ä»¤ï¼š<strong>ç”¨äºå‹ç¼©æ–‡ä»¶</strong><br>gunzipæŒ‡ä»¤ï¼š<strong>ç”¨äºè§£å‹æ–‡ä»¶</strong><br>åŸºæœ¬è¯­æ³•ï¼š<br><code>gzip æ–‡ä»¶</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>å‹ç¼©æ–‡ä»¶ï¼Œåªèƒ½å°†æ–‡ä»¶å‹ç¼©ä¸º<code>*.gz</code>æ–‡ä»¶</strong>ï¼‰<br><code>gunzip æ–‡ä»¶.gz</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>è§£å‹å‹ç¼©æ–‡ä»¶å‘½ä»¤</strong>)<br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šgzipå‹ç¼©ï¼Œå°†/homeä¸‹çš„hello.txtæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ˆ<code>gzip /home/hello.txt</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šgunzipå‹ç¼©ï¼Œå°†/homeä¸‹çš„hello.txt.gzæ–‡ä»¶è¿›è¡Œè§£å‹ç¼©ï¼ˆ<code>gunzip /home/hello.txt</code>ï¼‰</p><h5 id="2-zip-unzip-æŒ‡ä»¤"><a href="#2-zip-unzip-æŒ‡ä»¤" class="headerlink" title="2.zip/unzip æŒ‡ä»¤"></a>2.zip/unzip æŒ‡ä»¤</h5><p>zipæŒ‡ä»¤ï¼š<strong>ç”¨äºå‹ç¼©æ–‡ä»¶</strong><br>unzipæŒ‡ä»¤ï¼š<strong>ç”¨äºè§£å‹æ–‡ä»¶</strong>ï¼Œè¿™ä¸ªåœ¨é¡¹ç›®æ‰“åŒ…å‘å¸ƒä¸­å¾ˆæœ‰ç”¨<br>åŸºæœ¬è¯­æ³•ï¼š<br><code>zip [é€‰é¡¹] XXX.zip å°†è¦å‹ç¼©çš„å†…å®¹</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>å‹ç¼©æ–‡ä»¶å’Œç›®å½•åˆ°å½“å‰ç›®å½•ä¸‹</strong>)<br><code>unzip [é€‰é¡¹] XXX.zip</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>è§£å‹å‹ç¼©æ–‡ä»¶åˆ°å½“å‰ç›®å½•ä¸‹</strong>ï¼‰<br>zipå¸¸ç”¨é€‰é¡¹ï¼š<code>-r</code> ï¼š<strong>é€’å½’å‹ç¼©ï¼Œå³å‹ç¼©ç›®å½•</strong><br>unzipçš„å¸¸ç”¨é€‰é¡¹ï¼š<code>-d&lt;ç›®å½•&gt;</code>ï¼š<strong>æŒ‡å®šè§£å‹åæ–‡ä»¶çš„å­˜æ”¾ç›®å½•</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå°†/homeä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹è¿›è¡Œå‹ç¼©æˆmyhome.zipï¼ˆ<code>zip -r myhome.zip /home</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šå°†myhome.zipè§£å‹åˆ°/opt/tmpç›®å½•ä¸‹ï¼ˆ<code>unzip -d /opt/tmp /home/myhome.zip</code>ï¼Œè§£å‹åˆ°çš„ç›®å½•è‹¥ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰</p><h5 id="3-taræŒ‡ä»¤"><a href="#3-taræŒ‡ä»¤" class="headerlink" title="3.taræŒ‡ä»¤"></a>3.taræŒ‡ä»¤</h5><p>taræŒ‡ä»¤ï¼š<strong>æ‰“åŒ…æŒ‡ä»¤ï¼Œæœ€åæ‰“åŒ…åçš„æ–‡ä»¶æ˜¯.tar.gzçš„æ–‡ä»¶</strong><br>åŸºæœ¬è¯­æ³•ï¼š<code>tar [é€‰é¡¹] XXX.tar.gz æ‰“åŒ…çš„å†…å®¹</code>ï¼ˆåŠŸèƒ½æè¿°ï¼š<strong>æ‰“åŒ…ç›®å½•ï¼Œå‹ç¼©åçš„æ–‡ä»¶æ ¼å¼.tar.gz</strong>)<br>é€‰é¡¹è¯´æ˜ï¼š<br><code>-c</code>ï¼š<strong>äº§ç”Ÿ.taræ‰“åŒ…æ–‡ä»¶</strong><br><code>-v</code>ï¼š<strong>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</strong><br><code>-f</code>ï¼š<strong>æŒ‡å®šå‹ç¼©åçš„æ–‡ä»¶å</strong><br><code>-z</code>ï¼š<strong>æ‰“åŒ…åŒæ—¶å‹ç¼©</strong><br><code>-x</code>ï¼š<strong>è§£åŒ….taræ–‡ä»¶</strong><br><code>-C</code>ï¼š<strong>æŒ‡å®šè§£å‹åˆ°å“ªä¸ªç›®å½•</strong><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šå‹ç¼©å¤šä¸ªæ–‡ä»¶ï¼Œå°†/home/pig.txtå’Œ/home/cat.txtå‹ç¼©æˆ pc.tar.gzï¼ˆ<code>tar -zcvf pc.tar.gz /home/pig.txt /home/cat.txt</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šå°†/homeæ–‡ä»¶å¤¹å‹ç¼©æˆmyhome.tar.gzï¼ˆ<code>tar -zcvf myhome.tar.gz /home</code>ï¼‰<br>æ¡ˆä¾‹3ï¼šå°†pc.tar.gzè§£å‹åˆ°å½“å‰ç›®å½•ï¼ˆ<code>tar -zxvf /home/pc.tar.gz</code>ï¼‰<br>æ¡ˆä¾‹4ï¼šå°†myhome.tar.gzè§£å‹åˆ°/opt/tmp2ç›®å½•ä¸‹ï¼ˆ<code>mkdir /opt/tmp2</code>  <code>tar -zxvf /home/myhome.tar.gz -C /opt/tmp2</code>ï¼‰</p><h3 id="2-6-ç»„ç®¡ç†å’Œæƒé™ç®¡ç†"><a href="#2-6-ç»„ç®¡ç†å’Œæƒé™ç®¡ç†" class="headerlink" title="2.6 ç»„ç®¡ç†å’Œæƒé™ç®¡ç†"></a>2.6 ç»„ç®¡ç†å’Œæƒé™ç®¡ç†</h3><p>åœ¨linuxä¸­çš„æ¯ä¸ªç”¨æˆ·å¿…é¡»å±äºä¸€ä¸ªç»„ï¼Œä¸èƒ½ç‹¬ç«‹äºç»„å¤–ã€‚åœ¨linuxä¸­æ¯ä¸ªæ–‡ä»¶æœ‰æ‰€æœ‰è€…ã€æ‰€åœ¨ç»„ã€å…¶å®ƒç»„çš„æ¦‚å¿µã€‚</p><h4 id="2-6-1-æ–‡ä»¶-ç›®å½•çš„æ‰€æœ‰è€…"><a href="#2-6-1-æ–‡ä»¶-ç›®å½•çš„æ‰€æœ‰è€…" class="headerlink" title="2.6.1 æ–‡ä»¶/ç›®å½•çš„æ‰€æœ‰è€…"></a>2.6.1 æ–‡ä»¶/ç›®å½•çš„æ‰€æœ‰è€…</h4><p>ä¸€èˆ¬ä¸ºæ–‡ä»¶çš„åˆ›å»ºè€…ï¼Œ<strong>è°åˆ›å»ºäº†è¯¥æ–‡ä»¶ï¼Œå°±è‡ªç„¶çš„æˆä¸ºè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…</strong></p><p><strong>æŸ¥çœ‹æ–‡ä»¶çš„æ‰€æœ‰è€…</strong>æŒ‡ä»¤ï¼š<code>ls -ahl</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724980.png' data-fancybox='default' data-caption='image-20210820153459616'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724980.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201724980.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210820153459616"></a><span class='image-caption'>image-20210820153459616</span></div></div><p><strong>ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…</strong>æŒ‡ä»¤ï¼š<code>chown ç”¨æˆ·å æ–‡ä»¶å</code></p><p>åº”ç”¨æ¡ˆä¾‹ï¼šä½¿ç”¨rootåˆ›å»ºä¸€ä¸ªæ–‡ä»¶apple.txtï¼Œç„¶åå°†å…¶æ‰€æœ‰è€…ä¿®æ”¹æˆtomï¼ˆ<code>touch /home/apple.txt</code>    <code>chown tom /home/apple.txt</code>ï¼‰</p><h4 id="2-6-2-æ–‡ä»¶-ç›®å½•çš„æ‰€åœ¨ç»„"><a href="#2-6-2-æ–‡ä»¶-ç›®å½•çš„æ‰€åœ¨ç»„" class="headerlink" title="2.6.2 æ–‡ä»¶/ç›®å½•çš„æ‰€åœ¨ç»„"></a>2.6.2 æ–‡ä»¶/ç›®å½•çš„æ‰€åœ¨ç»„</h4><h5 id="1-æ–°å»ºç»„"><a href="#1-æ–°å»ºç»„" class="headerlink" title="1.æ–°å»ºç»„"></a>1.æ–°å»ºç»„</h5><p>åŸºæœ¬æŒ‡ä»¤ï¼š<code>groupadd ç»„å</code><br>åº”ç”¨å®ä¾‹ï¼š<br>æ¡ˆä¾‹1ï¼šåˆ›å»ºä¸€ä¸ªç»„monsterï¼ˆ<code>groupadd monster</code>ï¼‰<br>æ¡ˆä¾‹2ï¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·foxï¼Œå¹¶æ”¾å…¥åˆ°monsterç»„ä¸­ï¼ˆ<code>useradd -g monster fox</code>ï¼‰</p><h5 id="2-ä¿®æ”¹æ–‡ä»¶-ç›®å½•æ‰€åœ¨ç»„"><a href="#2-ä¿®æ”¹æ–‡ä»¶-ç›®å½•æ‰€åœ¨ç»„" class="headerlink" title="2.ä¿®æ”¹æ–‡ä»¶/ç›®å½•æ‰€åœ¨ç»„"></a>2.ä¿®æ”¹æ–‡ä»¶/ç›®å½•æ‰€åœ¨ç»„</h5><p>å½“<strong>æŸä¸ªç”¨æˆ·åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶åï¼Œè¿™ä¸ªæ–‡ä»¶çš„æ‰€åœ¨ç»„å°±æ˜¯è¯¥ç”¨æˆ·æ‰€åœ¨çš„ç»„</strong><br><strong>æŸ¥çœ‹æ–‡ä»¶/ç›®å½•æ‰€åœ¨ç»„</strong>åŸºæœ¬æŒ‡ä»¤ï¼š<code>ls -ahl</code><br><strong>ä¿®æ”¹æ–‡ä»¶æ‰€åœ¨çš„ç»„</strong>åŸºæœ¬æŒ‡ä»¤ï¼š<code>chgrp ç»„å æ–‡ä»¶å</code><br>åº”ç”¨å®ä¾‹ï¼šä½¿ç”¨rootç”¨æˆ·åˆ›å»ºæ–‡ä»¶orange.txtï¼Œçœ‹çœ‹å½“å‰è¿™ä¸ªæ–‡ä»¶å±äºå“ªä¸ªç»„ï¼Œç„¶åå°†è¿™ä¸ªæ–‡ä»¶æ‰€åœ¨ç»„ï¼Œä¿®æ”¹åˆ°fruitç»„</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™æ˜¯å»å¹´æš‘å‡å¿«ç»“æŸæ—¶çœ‹è§†é¢‘å­¦ä¹ åšçš„ç¬”è®°ï¼Œå½“æ—¶çœ‹äº†ä¸€åŠå¼€å­¦äº†åæ¥å°±å†ä¹Ÿæ²¡çœ‹è¿‡ï¼Œä½†æ˜¯ä¹Ÿè¶³å¤Ÿåº”ä»˜æ—¥å¸¸å­¦ä¹ ä½¿ç”¨äº†ï¼Œç°åœ¨åŸºæœ¬ä¹Ÿå·²ç»å¿˜å¾—å·®ä¸å¤šäº†ğŸ˜†ç­‰ä»¥åè…¾å‡ºæ—¶é—´äº†å†çœ‹åé¢çš„&lt;/p&gt;
&lt;h1 id=&quot;Linuxå­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#Linuxå­¦ä¹ ç¬”è®°&quot; class=&quot;head</summary>
      
    
    
    
    <category term="Linux" scheme="http://rainvex.com/categories/Linux/"/>
    
    
    <category term="Linux" scheme="http://rainvex.com/tags/Linux/"/>
    
    <category term="CentOS" scheme="http://rainvex.com/tags/CentOS/"/>
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Springæ¡†æ¶ç¬”è®°</title>
    <link href="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Spring5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/Spring5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-03-27T14:10:43.000Z</published>
    <updated>2022-03-27T14:10:43.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring5å­¦ä¹ ç¬”è®°"><a href="#Spring5å­¦ä¹ ç¬”è®°" class="headerlink" title="Spring5å­¦ä¹ ç¬”è®°"></a>Spring5å­¦ä¹ ç¬”è®°</h1><h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><h3 id="1-Spring5æ¡†æ¶æ¦‚è¿°"><a href="#1-Spring5æ¡†æ¶æ¦‚è¿°" class="headerlink" title="1.Spring5æ¡†æ¶æ¦‚è¿°"></a>1.Spring5æ¡†æ¶æ¦‚è¿°</h3><pre><code class="java">1ã€Spring æ˜¯è½»é‡çº§çš„å¼€æºçš„ JavaEE æ¡†æ¶2ã€Spring å¯ä»¥è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§3ã€Spring æœ‰ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šIOC å’Œ Aopï¼ˆ1ï¼‰IOCï¼šæ§åˆ¶åè½¬ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡è¿‡ç¨‹äº¤ç»™ Spring è¿›è¡Œç®¡ç†ï¼ˆ2ï¼‰Aopï¼šé¢å‘åˆ‡é¢ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼º4ã€Spring ç‰¹ç‚¹ï¼ˆ1ï¼‰æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ï¼ˆ2ï¼‰Aop ç¼–ç¨‹æ”¯æŒï¼ˆ3ï¼‰æ–¹ä¾¿ç¨‹åºæµ‹è¯•ï¼ˆ4ï¼‰æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆï¼ˆ5ï¼‰æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡æ“ä½œï¼ˆ6ï¼‰é™ä½ API å¼€å‘éš¾åº¦</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203082023865.png' data-fancybox='default' data-caption='image-20220308202302709'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203082023865.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203082023865.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220308202302709"></a><span class='image-caption'>image-20220308202302709</span></div></div><h2 id="äºŒã€å…¥é—¨æ¡ˆä¾‹"><a href="#äºŒã€å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="äºŒã€å…¥é—¨æ¡ˆä¾‹"></a>äºŒã€å…¥é—¨æ¡ˆä¾‹</h2><h3 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1.ä¸‹è½½"></a>1.ä¸‹è½½</h3><p>å®˜ç½‘ï¼š<a href="https://spring.io/">https://spring.io/</a></p><p>å¯ç›´æ¥è®¿é—®ä¸‹è½½ç½‘å€ï¼š<a href="https://repo.spring.io/ui/native/release/org/springframework/spring/">https://repo.spring.io/ui/native/release/org/springframework/spring/</a></p><p>ç¬¬ä¸€æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271816635.png' data-fancybox='default' data-caption='image-20220227181557405'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271816635.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271816635.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227181557405"></a><span class='image-caption'>image-20220227181557405</span></div></div><p>ç¬¬äºŒæ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271817340.png' data-fancybox='default' data-caption='image-20220227181701207'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271817340.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271817340.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227181701207"></a><span class='image-caption'>image-20220227181701207</span></div></div><p>ç¬¬ä¸‰æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271818136.png' data-fancybox='default' data-caption='image-20220227181851984'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271818136.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271818136.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227181851984"></a><span class='image-caption'>image-20220227181851984</span></div></div><p>ç¬¬å››æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271819649.png' data-fancybox='default' data-caption='image-20220227181916576'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271819649.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271819649.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227181916576"></a><span class='image-caption'>image-20220227181916576</span></div></div><p>ç¬¬äº”æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271826969.png' data-fancybox='default' data-caption='image-20220227182609774'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271826969.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271826969.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227182609774"></a><span class='image-caption'>image-20220227182609774</span></div></div><p>ç¬¬å…­æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271829119.png' data-fancybox='default' data-caption='image-20220227182958960'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271829119.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271829119.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227182958960"></a><span class='image-caption'>image-20220227182958960</span></div></div><p>ç¬¬ä¸ƒæ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271830827.png' data-fancybox='default' data-caption='image-20220227183035642'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271830827.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202202271830827.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220227183035642"></a><span class='image-caption'>image-20220227183035642</span></div></div><p>æ³¨ï¼šç”±äºç°åœ¨å·²ä¼šä½¿ç”¨mavenè¿›è¡Œé¡¹ç›®ç®¡ç†ï¼Œåˆ™ä½¿ç”¨mavenæ¥æ„å»ºSpringé¡¹ç›®ï¼Œè€Œä¸æ˜¯ç”¨ä¸Šæ–¹ä¸‹è½½jarå¯¼å…¥é¡¹ç›®çš„æ–¹å¼</p><h3 id="2-é¡¹ç›®æ„å»º"><a href="#2-é¡¹ç›®æ„å»º" class="headerlink" title="2.é¡¹ç›®æ„å»º"></a>2.é¡¹ç›®æ„å»º</h3><p>ç¬¬ä¸€æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012012483.png' data-fancybox='default' data-caption='image-20220301201231373'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012012483.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012012483.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301201231373"></a><span class='image-caption'>image-20220301201231373</span></div></div><p>ç¬¬äºŒæ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012013423.png' data-fancybox='default' data-caption='image-20220301201351320'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012013423.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012013423.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301201351320"></a><span class='image-caption'>image-20220301201351320</span></div></div><p>ç¬¬ä¸‰æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012006708.png' data-fancybox='default' data-caption='image-20220301200616590'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012006708.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012006708.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301200616590"></a><span class='image-caption'>image-20220301200616590</span></div></div><p>ç¬¬å››æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012027229.png' data-fancybox='default' data-caption='image-20220301202711022'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012027229.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012027229.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301202711022"></a><span class='image-caption'>image-20220301202711022</span></div></div><p>ç¬¬äº”æ­¥ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012030671.png' data-fancybox='default' data-caption='image-20220301203024594'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012030671.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012030671.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301203024594"></a><span class='image-caption'>image-20220301203024594</span></div></div><p>ç¬¬å…­æ­¥ï¼š</p><p>ç¼–å†™æµ‹è¯•ä»£ç ï¼Œç‚¹å‡»è¿›è¡Œæµ‹è¯•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012044349.png' data-fancybox='default' data-caption='image-20220301204420285'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012044349.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012044349.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301204420285"></a><span class='image-caption'>image-20220301204420285</span></div></div><p>æµ‹è¯•æ—¶æŠ¥å‡ºä»¥ä¸‹å¼‚å¸¸ï¼šï¼ˆè¿™æ˜¯ç”±äºè¿è¡Œæ—¶æ‰¾ä¸åˆ°Springé…ç½®æ–‡ä»¶é€ æˆçš„ï¼‰<div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012045632.png' data-fancybox='default' data-caption='image-20220301204519561'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012045632.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012045632.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301204519561"></a><span class='image-caption'>image-20220301204519561</span></div></div></p><p>è§£å†³æ–¹æ³•ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012106191.png' data-fancybox='default' data-caption='image-20220301210622099'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012106191.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012106191.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301210622099"></a><span class='image-caption'>image-20220301210622099</span></div></div><p>è§£å†³æ–¹æ³•å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/qq_32575047/article/details/78243314">https://blog.csdn.net/qq_32575047/article/details/78243314</a></p><p><a href="https://blog.csdn.net/weixin_39903133/article/details/87258360">https://blog.csdn.net/weixin_39903133/article/details/87258360</a></p><p>æµ‹è¯•é€šè¿‡ç»“æœï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012107116.png' data-fancybox='default' data-caption='image-20220301210735063'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012107116.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012107116.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301210735063"></a><span class='image-caption'>image-20220301210735063</span></div></div><h2 id="ä¸‰ã€IOC"><a href="#ä¸‰ã€IOC" class="headerlink" title="ä¸‰ã€IOC"></a>ä¸‰ã€IOC</h2><p>IOCï¼šæ§åˆ¶åè½¬(Inversion of Controlï¼Œç¼©å†™ä¸ºlOC)ï¼Œæ˜¯<strong>é¢å‘å¯¹è±¡</strong>ç¼–ç¨‹ä¸­çš„ä¸€ç§<strong>è®¾è®¡åŸåˆ™</strong>ï¼Œå¯ä»¥ç”¨æ¥<strong>å‡ä½è®¡ç®—æœºä»£ç ä¹‹é—´çš„è€¦åˆåº¦</strong>ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åš<strong>ä¾èµ–æ³¨å…¥</strong>ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å«â€œ<strong>ä¾èµ–æŸ¥æ‰¾</strong>â€ï¼ˆDependency Lookupï¼‰ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œç”±ä¸€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“å°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚ï¼ˆç®€å•ç†è§£ï¼šæ§åˆ¶åè½¬ï¼ŒæŠŠå¯¹è±¡åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹ï¼Œäº¤ç»™ Spring è¿›è¡Œç®¡ç†ï¼‰</p><h3 id="3-1-IOC-åº•å±‚åŸç†"><a href="#3-1-IOC-åº•å±‚åŸç†" class="headerlink" title="3.1 IOC åº•å±‚åŸç†"></a>3.1 IOC åº•å±‚åŸç†</h3><ul><li>xml è§£æ</li><li>å·¥å‚æ¨¡å¼</li><li>åå°„</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012205917.png' data-fancybox='default' data-caption='image-20220301220541819'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012205917.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012205917.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301220541819"></a><span class='image-caption'>image-20220301220541819</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012212043.png' data-fancybox='default' data-caption='image-20220301221203917'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012212043.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012212043.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301221203917"></a><span class='image-caption'>image-20220301221203917</span></div></div><p><strong>IOCåº•å±‚åŸç†çš„å®ç°ä¾‹å­ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012216481.png' data-fancybox='default' data-caption='image-20220301221642352'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012216481.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012216481.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301221642352"></a><span class='image-caption'>image-20220301221642352</span></div></div><h3 id="3-2-IOCæ¥å£"><a href="#3-2-IOCæ¥å£" class="headerlink" title="3.2 IOCæ¥å£"></a>3.2 IOCæ¥å£</h3><p>1ã€IOC æ€æƒ³åŸºäº IOC å®¹å™¨å®Œæˆï¼ŒIOC å®¹å™¨åº•å±‚å°±æ˜¯<strong>å¯¹è±¡å·¥å‚</strong></p><p>2ã€Spring æä¾› IOC å®¹å™¨å®ç°ä¸¤ç§æ–¹å¼ï¼šï¼ˆä¸¤ä¸ªæ¥å£ï¼‰</p><ul><li>BeanFactoryï¼šIOC å®¹å™¨åŸºæœ¬å®ç°ï¼Œæ˜¯Springå†…éƒ¨çš„ä½¿ç”¨æ¥å£ï¼Œä¸æä¾›å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨<ul><li>åŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨<strong>è·å–å¯¹è±¡ï¼ˆä½¿ç”¨ï¼‰æ‰å»åˆ›å»ºå¯¹è±¡</strong></li></ul></li><li>ApplicationContextï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ç”±å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨<ul><li><strong>åŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šæŠŠåœ¨é…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»º</strong>ï¼ˆè™½ç„¶è¿™ç§æ–¹å¼ä¼šæµªè´¹æ—¶é—´ï¼Œä½†æˆ‘ä»¬ä»ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬åº”è¯¥æŠŠè€—æ—¶çš„æ“ä½œç•™ç»™æœåŠ¡å™¨æ¥è¿›è¡Œï¼Œè€Œä¸åº”è¯¥è®©ç¨‹åºåœ¨ä½¿ç”¨æ—¶æ¥è€—æ—¶ï¼‰</li></ul></li></ul><p>3ã€ApplicationContext æ¥å£ä¸»è¦æ˜¯æœ‰ä»¥ä¸‹ä¸¤ä¸ªå®ç°ç±»</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012243390.png' data-fancybox='default' data-caption='image-20220301224329322'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012243390.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012243390.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301224329322"></a><span class='image-caption'>image-20220301224329322</span></div></div><pre><code class="java">public class TestSpring5 &#123;    @Test    public void testAdd()&#123;        //1.åŠ è½½Springé…ç½®æ–‡ä»¶        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;);        //2.è·å–é…ç½®æ–‡ä»¶åˆ›å»ºçš„å¯¹è±¡        User user = context.getBean(&quot;user&quot;, User.class);        System.out.println(user);        user.add();    &#125;&#125;åœ¨ä¸Šæ–¹æµ‹è¯•ç¨‹åºä¸­ï¼ŒåŠ è½½Springé…ç½®æ–‡ä»¶æ—¶ï¼Œè‹¥ä½¿ç”¨FileSystemXmlApplicationContextç±»åˆ™åœ¨ä¼ å‚æ—¶åº”è¯¥ä½¿ç”¨â€œSpringé…ç½®æ–‡ä»¶åœ¨ç›˜ç¬¦ä¸­çš„ä½ç½®â€å³ç›˜ç¬¦è·¯å¾„ä½œä¸ºå‚æ•°ï¼›è‹¥ä½¿ç”¨ClassPathXmlApplicationContextç±»åˆ™åº”ä½¿ç”¨ç±»è·¯å¾„å³classpathä½œä¸ºå‚æ•°</code></pre><p>å…·ä½“å®ç°è¯´æ˜å¦‚ä¸‹ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012300898.png' data-fancybox='default' data-caption='image-20220301230003760'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012300898.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012300898.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301230003760"></a><span class='image-caption'>image-20220301230003760</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012301635.png' data-fancybox='default' data-caption='image-20220301230120528'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012301635.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012301635.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301230120528"></a><span class='image-caption'>image-20220301230120528</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012304504.png' data-fancybox='default' data-caption='image-20220301230420412'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012304504.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012304504.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301230420412"></a><span class='image-caption'>image-20220301230420412</span></div></div><p>4ã€BeanFactoryæ¥å£</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012313664.png' data-fancybox='default' data-caption='image-20220301231315597'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012313664.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203012313664.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301231315597"></a><span class='image-caption'>image-20220301231315597</span></div></div><h3 id="3-3-IOCæ“ä½œBeanç®¡ç†"><a href="#3-3-IOCæ“ä½œBeanç®¡ç†" class="headerlink" title="3.3 IOCæ“ä½œBeanç®¡ç†"></a>3.3 IOCæ“ä½œBeanç®¡ç†</h3><ol><li>ä»€ä¹ˆæ˜¯ Bean ç®¡ç†<ul><li>Bean ç®¡ç†æŒ‡çš„æ˜¯<strong>ä¸¤ä¸ªæ“ä½œ</strong></li><li>Spring <strong>åˆ›å»ºå¯¹è±¡</strong></li><li>Spirng <strong>æ³¨å…¥å±æ€§</strong></li></ul></li><li>Bean ç®¡ç†æ“ä½œæœ‰ä¸¤ç§æ–¹å¼<ul><li>åŸºäº <strong>xml é…ç½®æ–‡ä»¶æ–¹å¼</strong>å®ç°</li><li>åŸºäº<strong>æ³¨è§£æ–¹å¼</strong>å®ç°</li></ul></li></ol><h4 id="3-3-1-åŸºäºXMLé…ç½®æ–‡ä»¶æ–¹å¼"><a href="#3-3-1-åŸºäºXMLé…ç½®æ–‡ä»¶æ–¹å¼" class="headerlink" title="3.3.1 åŸºäºXMLé…ç½®æ–‡ä»¶æ–¹å¼"></a>3.3.1 åŸºäºXMLé…ç½®æ–‡ä»¶æ–¹å¼</h4><h5 id="1-åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡"><a href="#1-åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="1.åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡"></a>1.åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡</h5><p>ï¼ˆ1ï¼‰åœ¨ spring é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ <strong>bean æ ‡ç­¾</strong>ï¼Œæ ‡ç­¾é‡Œé¢æ·»åŠ å¯¹åº”å±æ€§ï¼Œå°±å¯ä»¥<strong>å®ç°å¯¹è±¡åˆ›å»º</strong><br>ï¼ˆ2ï¼‰åœ¨ bean æ ‡ç­¾æœ‰å¾ˆå¤šå±æ€§ï¼Œä»‹ç»å¸¸ç”¨çš„å±æ€§<br>        id å±æ€§ï¼šå”¯ä¸€æ ‡è¯†<br>        class å±æ€§ï¼šç±»å…¨è·¯å¾„ï¼ˆåŒ…ç±»è·¯å¾„ï¼‰<br>ï¼ˆ3ï¼‰åˆ›å»ºå¯¹è±¡æ—¶å€™ï¼Œ<strong>é»˜è®¤æ˜¯æ‰§è¡Œæ— å‚æ•°æ„é€ æ–¹æ³•</strong>å®Œæˆå¯¹è±¡åˆ›å»º</p><p>å¦‚ä¸‹å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203021429976.png' data-fancybox='default' data-caption='image-20220301203024594'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203021429976.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203021429976.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220301203024594"></a><span class='image-caption'>image-20220301203024594</span></div></div><h5 id="2-åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§"><a href="#2-åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§" class="headerlink" title="2.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§"></a>2.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§</h5><p><strong>DIï¼šä¾èµ–æ³¨å…¥ï¼Œå°±æ˜¯æ³¨å…¥å±æ€§</strong>ï¼ˆè¦åœ¨åˆ›å»ºå¥½å¯¹è±¡åæ‰èƒ½è¿›è¡Œï¼‰</p><h6 id="â‘ ç¬¬ä¸€ç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥"><a href="#â‘ ç¬¬ä¸€ç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥" class="headerlink" title="â‘ ç¬¬ä¸€ç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥"></a>â‘ ç¬¬ä¸€ç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥</h6><p>ï¼ˆ1ï¼‰åˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§å’Œå¯¹åº”çš„ set æ–¹æ³•</p><pre><code class="java">public class Book &#123;    //åˆ›å»ºå±æ€§    private String bname;    private String bauthor;    //åˆ›å»ºå±æ€§å¯¹åº”çš„ set æ–¹æ³•    public void setBname(String bname) &#123;        this.bname = bname;    &#125;    public void setBauthor(String bauthor) &#123;        this.bauthor = bauthor;    &#125;    //é‡å†™äº†toStringæ–¹æ³•&#125;</code></pre><p>ï¼ˆ2ï¼‰åœ¨ spring é…ç½®æ–‡ä»¶é…ç½®å¯¹è±¡åˆ›å»ºï¼Œé…ç½®å±æ€§æ³¨å…¥</p><pre><code class="xml">&lt;!--2 set æ–¹æ³•æ³¨å…¥å±æ€§--&gt;&lt;bean id=&quot;book&quot; class=&quot;com.atguigu.spring5.Book&quot;&gt;    &lt;!--ä½¿ç”¨ propertyå®Œæˆå±æ€§æ³¨å…¥        nameï¼šç±»é‡Œé¢å±æ€§åç§°      valueï¼šå‘å±æ€§æ³¨å…¥çš„å€¼--&gt;    &lt;property name=&quot;bname&quot; value=&quot;æ˜“ç­‹ç»&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;bauthor&quot; value=&quot;è¾¾æ‘©è€ç¥–&quot;&gt;&lt;/property&gt;&lt;/bean&gt;</code></pre><p>ç¼–å†™æµ‹è¯•ä»£ç </p><pre><code class="java">@Testpublic void testBook()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;);    Book book = context.getBean(&quot;book&quot;, Book.class);    System.out.println(book); //Book&#123;bname=&#39;æ˜“ç­‹ç»&#39;, bauthor=&#39;è¾¾æ‘©&#39;&#125;&#125;//ä»è¾“å…¥ç»“æœå¯ä»¥çœ‹å‡ºåœ¨é…ç½®æ–‡ä»¶æˆåŠŸåˆ›å»ºå¯¹è±¡å¹¶ç»™å±æ€§èµ‹å€¼</code></pre><h6 id="â‘¡ç¬¬äºŒç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨æœ‰å‚æ„é€ å‡½æ•°è¿›è¡Œæ³¨å…¥"><a href="#â‘¡ç¬¬äºŒç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨æœ‰å‚æ„é€ å‡½æ•°è¿›è¡Œæ³¨å…¥" class="headerlink" title="â‘¡ç¬¬äºŒç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨æœ‰å‚æ„é€ å‡½æ•°è¿›è¡Œæ³¨å…¥"></a>â‘¡ç¬¬äºŒç§æ³¨å…¥æ–¹å¼ï¼šä½¿ç”¨æœ‰å‚æ„é€ å‡½æ•°è¿›è¡Œæ³¨å…¥</h6><p>ï¼ˆ1ï¼‰åˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§å’Œå¯¹åº”æœ‰å‚æ„é€ å‡½æ•°</p><pre><code class="java">public class Book &#123;    private String bname;    private String bauthor;    public Book(String bname, String bauthor) &#123;        this.bname = bname;        this.bauthor = bauthor;    &#125;       //é‡å†™äº†toStringæ–¹æ³•</code></pre><p>ï¼ˆ2ï¼‰åœ¨ spring é…ç½®æ–‡ä»¶é…ç½®åˆ©ç”¨æœ‰å‚æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡åŒæ—¶ç»™å±æ€§èµ‹å€¼</p><pre><code class="xml">&lt;bean id=&quot;book&quot; class=&quot;Bean.Book&quot;&gt;    &lt;!--ä½¿ç”¨constructor-argæ ‡ç­¾è°ƒç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡å®Œæˆ--&gt;    &lt;constructor-arg name=&quot;bname&quot; value=&quot;ç”Ÿæ­»ç–²åŠ³&quot;/&gt;    &lt;constructor-arg name=&quot;bauthor&quot; value=&quot;è«è¨€&quot;/&gt;    &lt;!--åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;constructor-arg index=&quot;0&quot; value=&quot;ç”Ÿæ­»ç–²åŠ³&quot;/&gt;è¿›è¡Œé…ç½®ï¼Œå…¶ä¸­indexè¡¨ç¤ºæœ‰å‚æ„é€ å‡½æ•°ä¸­çš„ç¬¬å‡ ä¸ªå‚æ•°ï¼Œ0è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°--&gt;&lt;/bean&gt;</code></pre><p>ç¼–å†™æµ‹è¯•ä»£ç </p><pre><code class="java"> @Testpublic void testBook()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;);    Book book = context.getBean(&quot;book&quot;, Book.class);    System.out.println(book); //Book&#123;bname=&#39;ç”Ÿæ­»ç–²åŠ³&#39;, bauthor=&#39;è«è¨€&#39;&#125;&#125;</code></pre><h6 id="â‘¢ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥-äº†è§£"><a href="#â‘¢ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥-äº†è§£" class="headerlink" title="â‘¢ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥(äº†è§£)"></a>â‘¢ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥(äº†è§£)</h6><p>ä½¿ç”¨ p åç§°ç©ºé—´æ³¨å…¥ï¼Œå¯ä»¥<strong>ç®€åŒ–</strong>åŸºäº xml é…ç½®æ–¹å¼<br>ï¼ˆ1ï¼‰ç¬¬ä¸€æ­¥ æ·»åŠ  p åç§°ç©ºé—´åœ¨é…ç½®æ–‡ä»¶ä¸­</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</code></pre><p>ï¼ˆ2ï¼‰ç¬¬äºŒæ­¥ è¿›è¡Œå±æ€§æ³¨å…¥ï¼Œåœ¨ bean æ ‡ç­¾é‡Œé¢è¿›è¡Œæ“ä½œ</p><pre><code class="xml">&lt;bean id=&quot;book&quot; class=&quot;Bean.Book&quot; p:bname=&quot;ä¹é˜³çœŸç»&quot; p:bauthor=&quot;æ— åæ°&quot;/&gt;</code></pre><p><strong>æ³¨ï¼šè¿™ç§æ–¹å¼çš„åº•å±‚ä»æ˜¯ä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥ï¼Œåªæ˜¯å¯¹å†™æ³•çš„ä¸€ç§ç®€åŒ–ï¼Œæ‰€ä»¥å®ä½“ç±»ä¹Ÿåº”è¯¥å…·å¤‡å¯¹å±æ€§çš„setæ–¹æ³•å’Œæ— å‚æ„é€ å‡½æ•°</strong></p><h5 id="3-åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å­—é¢é‡"><a href="#3-åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å­—é¢é‡" class="headerlink" title="3.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å­—é¢é‡"></a>3.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å­—é¢é‡</h5><h6 id="â‘ æ³¨å…¥nullå€¼"><a href="#â‘ æ³¨å…¥nullå€¼" class="headerlink" title="â‘ æ³¨å…¥nullå€¼"></a>â‘ æ³¨å…¥nullå€¼</h6><p>æ¯”å¦‚ï¼Œè¦ç»™ä¸‹æ–¹Bookç±»çš„addresså±æ€§æ³¨å…¥ç©ºå€¼</p><pre><code class="java">public class Book &#123;    private String bname;    private String bauthor;    private String address;        public void setBname(String bname) &#123;        this.bname = bname;    &#125;    public void setBauthor(String bauthor) &#123;        this.bauthor = bauthor;    &#125;    public void setAddress(String address) &#123;        this.address = address;    &#125;&#125;</code></pre><p>åˆ™å¯ä»¥é€šè¿‡<code>&lt;null/&gt;</code>æ ‡ç­¾è¿›è¡Œæ³¨å…¥</p><pre><code class="xml">&lt;bean id=&quot;book&quot; class=&quot;Bean.Book&quot;&gt;    &lt;property name=&quot;bname&quot; value=&quot;æ˜“ç­‹ç»&quot;/&gt;    &lt;property name=&quot;bauthor&quot; value=&quot;è¾¾æ‘©&quot;/&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;null/&gt;    &lt;/property&gt;&lt;/bean&gt;</code></pre><h6 id="â‘¡æ³¨å…¥ç‰¹æ®Šç¬¦å·"><a href="#â‘¡æ³¨å…¥ç‰¹æ®Šç¬¦å·" class="headerlink" title="â‘¡æ³¨å…¥ç‰¹æ®Šç¬¦å·"></a>â‘¡æ³¨å…¥ç‰¹æ®Šç¬¦å·</h6><ol><li>æŠŠ&lt;&gt;ä½¿ç”¨ <code>&amp;lt;</code> <code>&amp;gt;</code>è¿›è¡Œè½¬ä¹‰</li><li>æŠŠå¸¦ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ° CDATA</li></ol><pre><code class="xml">&lt;bean id=&quot;book&quot; class=&quot;Bean.Book&quot;&gt;    &lt;property name=&quot;bname&quot; value=&quot;æ˜“ç­‹ç»&quot;/&gt;    &lt;property name=&quot;bauthor&quot; value=&quot;è¾¾æ‘©&quot;/&gt;    &lt;!--æ³¨å…¥ç‰¹æ®Šç¬¦å·--&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;value&gt;&lt;&#123;% gallery %&#125;![CDATA[<<å—äº¬>>]]></value>    </property></bean><!--æ­¤æ—¶addressçš„å€¼å°±è¢«èµ‹å€¼æˆäº†"<<å—äº¬>>"-->```##### 4.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å¤–éƒ¨beanï¼ˆ1ï¼‰åˆ›å»ºä¸¤ä¸ªç±» service ç±»å’Œ dao ç±»ï¼ˆ2ï¼‰åœ¨ service ä¸­éœ€è¦è°ƒç”¨ dao é‡Œé¢çš„æ–¹æ³•ï¼ˆ3ï¼‰åœ¨ spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®```javapublic class UserDaoImpl implements UserDao &#123;    @Override    public void update() &#123;        System.out.println("daoImpl update........");    &#125;&#125;``````javapublic class UserService &#123;    //éœ€è¦åˆ›å»ºUserDaoå¯¹è±¡å±æ€§    private UserDao userDao;    //å£°æ˜setæ–¹æ³•    public void setUserDao(UserDao userDao) &#123;        this.userDao = userDao;    &#125;    public void add()&#123;        System.out.println("service add........ ");        userDao.update();    &#125;&#125;``````xml<!--é…ç½®UserServiceå¯¹è±¡å’ŒUserDaoå¯¹è±¡--><bean id="userService" class="Service.UserService">    <!--æ³¨å…¥å¤–éƒ¨beanå±æ€§ï¼Œæ­¤æ—¶ç»™å±æ€§èµ‹å€¼åº”ä½¿ç”¨refä¸è¢«èµ‹å€¼çš„beanå¯¹è±¡çš„idå€¼ç›¸è¿-->    <!--æ³¨å…¥ userDao å¯¹è±¡   nameå±æ€§â€”â€”ç±»é‡Œé¢å±æ€§åç§°    refå±æ€§â€”â€”åˆ›å»º userDaoå¯¹è±¡beanæ ‡ç­¾idå€¼-->    <property name="userDao" ref="userDaoImpl"/></bean><bean id="userDaoImpl" class="Dao.Impl.UserDaoImpl"/>``````java//æµ‹è¯•ç¨‹åº@Testpublic void testService()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean2.xml");    UserService userService = context.getBean("userService", UserService.class);    userService.add();    //service add........     //daoImpl update........    //ä»è¾“å…¥ç»“æœå¯ä»¥çœ‹å‡ºuserServiceåœ¨è°ƒç”¨è‡ªèº«çš„addæ–¹æ³•æ—¶åŒæ ·ä¹Ÿè°ƒç”¨äº†userDaoçš„updateæ–¹æ³•ï¼Œè¯´æ˜å¯¹è±¡åˆ›å»ºæˆåŠŸå¹¶ä¸”æˆåŠŸç»™å¤–éƒ¨beanå±æ€§èµ‹å€¼&#125;```##### 5.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-å†…éƒ¨beanï¼ˆ1ï¼‰ä¸€å¯¹å¤šå…³ç³»ï¼šéƒ¨é—¨å’Œå‘˜å·¥ä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥å±äºä¸€ä¸ªéƒ¨é—¨éƒ¨é—¨æ˜¯ä¸€ï¼Œå‘˜å·¥æ˜¯å¤šï¼ˆ2ï¼‰åœ¨å®ä½“ç±»ä¹‹é—´è¡¨ç¤º**ä¸€å¯¹å¤š**å…³ç³»ï¼Œå‘˜å·¥è¡¨ç¤ºæ‰€å±éƒ¨é—¨ï¼Œä½¿ç”¨å¯¹è±¡ç±»å‹å±æ€§è¿›è¡Œè¡¨ç¤º```java//é¦–å…ˆåˆ›å»ºå‡ºå‘˜å·¥ç±»å’Œéƒ¨é—¨ç±»ï¼Œå¹¶è¡¨ç¤ºå‡ºå®ƒä»¬çš„å…³è”å…³ç³»public class Department &#123;    private String dname;    public void setDname(String dname) &#123;        this.dname = dname;    &#125;&#125;public class Employee &#123;    private String ename;    private String egender;    //å‘˜å·¥å±äºæŸä¸ªéƒ¨é—¨ï¼Œç”¨å¯¹è±¡å½¢å¼è¡¨ç¤º    private Department department;    public void setEname(String ename) &#123;        this.ename = ename;    &#125;    public void setEgender(String egender) &#123;        this.egender = egender;    &#125;    public void setDepartment(Department department) &#123;        this.department = department;    &#125;&#125;//å‡é‡å†™äº†toStringæ–¹æ³•``````xml<!--åœ¨Springæ–‡ä»¶è¿›è¡Œé…ç½®--><!--å†…éƒ¨bean--><bean id="employee" class="Bean.Employee">    <!--å…ˆè®¾ç½®ä¸¤ä¸ªæ™®é€šå±æ€§-->    <property name="ename" value="lucy"/>    <property name="egender" value="å¥³"/>    <!--å†…éƒ¨åµŒå¥—beanå¯¹è±¡ï¼Œä»å¯ä»¥ä½¿ç”¨å¤–éƒ¨å¼•å…¥beanå¯¹è±¡-->    <property name="department">        <bean id="department" class="Bean.Department">            <property name="dname" value="å®‰ä¿éƒ¨"/>        </bean>    </property></bean>``````java//æµ‹è¯•ä»£ç @Testpublic void testDepartment()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean3.xml");    Employee employee = context.getBean("employee", Employee.class);    System.out.println(employee);//Employee&#123;ename='lucy', egender='å¥³', department=Department&#123;dname='å®‰ä¿éƒ¨'&#125;&#125;&#125;```##### 6.åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§-çº§è”èµ‹å€¼åŒæ ·ä½¿ç”¨å†…éƒ¨beançš„ä¾‹å­###### â‘ ç¬¬ä¸€ç§æ–¹å¼ï¼šä¸å¤–éƒ¨beançš„å†™æ³•ç›¸åŒ```xml<!--çº§è”èµ‹å€¼--><!--ä½¿ç”¨refå¼•å…¥å¤–éƒ¨beanå¯¹è±¡--><bean id="employee" class="Bean.Employee">    <property name="ename" value="lucy"/>    <property name="egender" value="å¥³"/>    <property name="department" ref="department"/></bean><bean id="department" class="Bean.Department">    <property name="dname" value="å®‰ä¿éƒ¨"/></bean>```###### â‘¡ç¬¬äºŒç§æ–¹å¼ï¼š```xml<!--çº§è”èµ‹å€¼--><bean id="employee" class="Bean.Employee">    <property name="ename" value="lucy"/>    <property name="egender" value="å¥³"/>    <property name="department" ref="department"/>    <property name="department.dname" value="è´¢åŠ¡éƒ¨"/></bean><bean id="department" class="Bean.Department">    <property name="dname" value="å®‰ä¿éƒ¨"/></bean>```**æ³¨ï¼šè¿™ç§æ–¹å¼éœ€è¦åœ¨èµ‹å€¼ç±»æä¾›è¢«èµ‹å€¼ç±»çš„getæ–¹æ³•ï¼Œä»¥ä¾¿äºèƒ½è·å–åˆ°è¢«èµ‹å€¼ç±»å¯¹è±¡ï¼Œç„¶åå¯¹è¢«èµ‹å€¼ç±»çš„å±æ€§è¿›è¡Œèµ‹å€¼**ã€‚æ¯”å¦‚ï¼Œä¸Šè¿°ä¾‹å­è‹¥ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼çš„çº§è”èµ‹å€¼æ—¶ï¼Œåº”åœ¨employeeç±»ä¸­æä¾›ä¸€ä¸ªgetDepartmentæ–¹æ³•è¿”å›departmentå¯¹è±¡å±æ€§å¦å¤–ï¼Œç”±äºåœ¨æµ‹è¯•ç¬¬äºŒç§æ–¹å¼æ—¶å¹¶æœªåˆ é™¤`<property name="dname" value="å®‰ä¿éƒ¨"/>`ï¼Œä½†åˆæ·»åŠ äº†`<property name="department.dname" value="è´¢åŠ¡éƒ¨"/>`ï¼Œè€Œè¾“å‡ºç»“æœåˆæ˜¯è´¢åŠ¡éƒ¨ï¼Œå¯ä»¥å‘ç°**ç¬¬äºŒç§æ–¹å¼çš„ä¼˜å…ˆçº§è¦é«˜äºç¬¬ä¸€ç§æ–¹å¼**##### 7.åŸºäºxmlæ–¹å¼æ³¨å…¥é›†åˆç±»å‹å±æ€§###### â‘ æ³¨å…¥é›†åˆç±»å‹å±æ€§ï¼ˆ1ï¼‰åˆ›å»ºå¥½ä¾‹å­å®ä½“ç±»ï¼ŒåŒ…æ‹¬æ•°ç»„ï¼ŒListï¼ŒMapï¼ŒSetç±»å‹å±æ€§ï¼Œç”Ÿæˆå¯¹åº”setæ–¹æ³•```javapublic class Student &#123;    //1.æ•°ç»„ç±»å‹å±æ€§    private String[] courses;    //2.Listç±»å‹å±æ€§    private List<String> list;    //3.Mapç±»å‹å±æ€§    private Map<String,String> map;    //4.Setç±»å‹å±æ€§    private Set<String> set;    public void setCourses(String[] courses) &#123;        this.courses = courses;    &#125;    public void setList(List<String> list) &#123;        this.list = list;    &#125;    public void setMap(Map<String, String> map) &#123;        this.map = map;    &#125;    public void setSet(Set<String> set) &#123;        this.set = set;    &#125;&#125;```ï¼ˆ2ï¼‰é…ç½®Springæ–‡ä»¶```xml<bean id="student" class="Bean.Student">    <!--â‘ æ³¨å…¥æ•°ç»„ç±»å‹å±æ€§-->    <property name="courses">        <!--æ³¨å…¥æ•°ç»„ç±»å‹å±æ€§ä½¿ç”¨arrayæ ‡ç­¾æˆ–listæ ‡ç­¾éƒ½å¯ä»¥-->        <array>            <value>javaè¯¾ç¨‹</value>            <value>æ•°æ®åº“è¯¾ç¨‹</value>        </array>    </property>    <!--â‘¡æ³¨å…¥Listç±»å‹å±æ€§-->    <property name="list">        <list>            <value>å¼ ä¸‰</value>            <value>å°ä¸‰</value>        </list>    </property>    <!--â‘¢æ³¨å…¥Mapç±»å‹å±æ€§-->    <property name="map">        <map>            <entry key="JAVA" value="java"/>            <entry key="PHP" value="php"/>        </map>    </property>    <!--â‘£æ³¨å…¥Setç±»å‹å±æ€§-->    <property name="set">        <set>            <value>MySQL</value>            <value>Redis</value>        </set>    </property></bean>```æµ‹è¯•ä»£ç ```java@Testpublic void testStudent()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean4.xml");    Student student = context.getBean("student", Student.class);    System.out.println(student);//Student&#123;courses=[javaè¯¾ç¨‹, æ•°æ®åº“è¯¾ç¨‹], list=[å¼ ä¸‰, å°ä¸‰], map=&#123;JAVA=java, PHP=php&#125;, set=[MySQL, Redis]&#125;&#125;```###### â‘¡åœ¨é›†åˆå±æ€§ä¸­è®¾ç½®å¯¹è±¡ç±»å‹é¦–å…ˆï¼Œæ–°åˆ›å»ºä¸€ä¸ªç±»Familyï¼ŒåŒ…å«å±æ€§fnameå¹¶æä¾›setæ–¹æ³•ç„¶åï¼Œåœ¨ä¸Šè¿°ä¾‹å­Studentç±»çš„åŸºç¡€ä¸Šå†æ·»åŠ ä¸€ä¸ª`List<Family>`ç±»å‹å±æ€§`families`ï¼Œç”¨äºå¹¶æä¾›setæ–¹æ³•ç„¶åï¼Œå†åœ¨ä¸Šä¾‹çš„Stringé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºå¤šä¸ªFamilyå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ä¸‹æ–¹æ–¹å¼æ³¨å…¥åˆ°studentå¯¹è±¡çš„familieså±æ€§```xml    <!--æ³¨å…¥å€¼æ˜¯å¯¹è±¡ç±»å‹çš„é›†åˆå±æ€§-->    <property name="families">        <list>            <!--ä½¿ç”¨refæ ‡ç­¾ä»¥åŠå…¶beanå±æ€§é“¾æ¥åˆ°åˆ›å»ºçš„å¤šä¸ªFamilyå¯¹è±¡-->            <ref bean="family1"/>            <ref bean="family2"/>        </list>    </property><!--åˆ›å»ºå¤šä¸ªfamilyå¯¹è±¡--><bean id="family1" class="Bean.Family">    <property name="fname" value="çˆ¸çˆ¸"/></bean><bean id="family2" class="Bean.Family">    <property name="fname" value="å¦ˆå¦ˆ"/></bean>```æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š```java@Testpublic void testStudent()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean4.xml");    Student student = context.getBean("student", Student.class);    System.out.println(student);//Student&#123;courses=[javaè¯¾ç¨‹, æ•°æ®åº“è¯¾ç¨‹], list=[å¼ ä¸‰, å°ä¸‰], map=&#123;JAVA=java, PHP=php&#125;, set=[MySQL, Redis], families=[Family&#123;fname='çˆ¸çˆ¸'&#125;, Family&#123;fname='å¦ˆå¦ˆ'&#125;]&#125;&#125;```###### â‘¢æå–é›†åˆå±æ€§å…¬å…±éƒ¨åˆ†é˜²æ­¢æ··ä¹±ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªç±»```javapublic class BookList &#123;    private List<String> bookList;    public void setBookList(List<String> bookList) &#123;        this.bookList = bookList;    &#125;&#125;```ç„¶åï¼Œåœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ³¨å…¥åˆ°å±æ€§```xml<?xml version="1.0" encoding="UTF-8"?><!--æ›´æ”¹æ·»åŠ é…ç½®æ–‡ä»¶ä¸­çš„å¼•å…¥é“¾æ¥    æ·»åŠ xmlns:util="http://www.springframework.org/schema/util"    ä¿®æ”¹xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"--><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:util="http://www.springframework.org/schema/util"       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">    <!--1ã€æå–Listé›†åˆç±»å‹å±æ€§æ³¨å…¥-->    <!--å¯æ ¹æ®éœ€è¦æ”¹ä¸ºmapã€setç­‰ï¼Œç„¶åè¢«å…¶ä»–beanå¯¹è±¡ä½œä¸ºå…¬å…±éƒ¨åˆ†å¼•å…¥-->    <util:list id="bookList">        <value>Javaè¯¾ç¨‹è®¾è®¡</value>        <value>æ•°æ®ç»“æ„ä¸ç®—æ³•</value>        <value>æ“ä½œç³»ç»Ÿ</value>    </util:list>        <!--2ã€æå–Listé›†åˆç±»å‹å±æ€§æ³¨å…¥çš„ä½¿ç”¨-->    <bean id="books" class="Bean.BookList">        <!--ä½¿ç”¨refå±æ€§å¼•å…¥å…¬å…±éƒ¨åˆ†-->        <property name="bookList" ref="bookList"/>    </bean>    <!--æœ‰å…¶ä»–beanå¯¹è±¡éœ€è¦å¼•å…¥å…¬å…±éƒ¨åˆ†ä¹Ÿå¯å‘ä¸Šæ–¹ä¸ºä¾‹--></beans>```æµ‹è¯•ä»£ç ```java@Testpublic void testBookList()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean5.xml");    BookList books = context.getBean("books", BookList.class);    System.out.println(books); //BookList&#123;bookList=[Javaè¯¾ç¨‹è®¾è®¡, æ•°æ®ç»“æ„ä¸ç®—æ³•, æ“ä½œç³»ç»Ÿ]&#125;&#125;```#### 3.3.2 Beanç®¡ç†##### 1.å·¥å‚Bean1ã€Spring æœ‰ä¸¤ç§ç±»å‹ beanï¼Œä¸€ç§**æ™®é€š bean**ï¼Œå¦å¤–ä¸€ç§**å·¥å‚ beanï¼ˆFactoryBeanï¼‰**2ã€æ™®é€š beanï¼šåœ¨**é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„beanç±»å‹å°±æ˜¯è¿”å›ç±»å‹**ï¼ˆå‰æ–¹ä¸¾ä¾‹åˆ›å»ºçš„Beanå¯¹è±¡éƒ½æ˜¯æ™®é€šBeanï¼‰3ã€å·¥å‚ beanï¼šåœ¨**é…ç½®æ–‡ä»¶å®šä¹‰çš„beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·**ç¬¬ä¸€æ­¥ åˆ›å»ºç±»ï¼Œè®©è¿™ä¸ªç±»ä½œä¸ºå·¥å‚ beanï¼Œ**å®ç°æ¥å£ FactoryBean**ç¬¬äºŒæ­¥ å®ç°æ¥å£é‡Œé¢çš„æ–¹æ³•ï¼Œåœ¨**å®ç°çš„æ–¹æ³•ä¸­å®šä¹‰è¿”å›çš„ bean ç±»å‹**```java//å·¥å‚Beanä¸¾ä¾‹public class MyBeanFactory implements FactoryBean<Course> &#123;//æŒ‡å®šå·¥å‚Beanè¿”å›çš„æ³›å‹å¯¹è±¡ç±»å‹ä¸ºCourse    //å®ç°æ¥å£ä¸­å®šä¹‰çš„æŠ½è±¡æ–¹æ³•    @Override    public Course getObject() throws Exception &#123;        Course course = new Course();        course.setCname("abc");        //åœ¨å®ç°çš„getObjectæ–¹æ³•ä¸­æŒ‡å®šå·¥å‚Beanè¿”å›çš„å¯¹è±¡ç±»å‹ä¸ºCourse        return course;    &#125;    @Override    public Class<?> getObjectType() &#123;    return null;    &#125;    @Override    public boolean isSingleton() &#123;    return false;    &#125;&#125;``````xml<!--Springé…ç½®æ–‡ä»¶çš„é…ç½®--><bean id="myBeanFactory" class="Bean.MyBeanFactory"/>``````java//æµ‹è¯•ä»£ç @Testpublic void test() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean.xml");    Course course = context.getBean("myBeanFactory", Course.class);    System.out.println(course);//Course&#123;cname="abc"&#125;&#125;```##### 2.Beançš„ä½œç”¨åŸŸ1ã€åœ¨ Spring é‡Œé¢ï¼Œåˆ›å»º bean å®ä¾‹**åˆ†ä¸ºå•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹**2ã€åœ¨ Spring é‡Œé¢ï¼Œ**é»˜è®¤æƒ…å†µä¸‹ bean æ˜¯å•å®ä¾‹å¯¹è±¡**```xml<!--é…ç½®ä¸€ä¸ªbeanå¯¹è±¡ï¼Œæ­¤æ—¶é»˜è®¤æ˜¯å•å®ä¾‹å¯¹è±¡--><bean id="book" class="Bean.Book"/>``````java@Testpublic void test() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext("bean.xml");    Book book1 = context.getBean("book", Book.class);    Book book2 = context.getBean("book", Book.class);    System.out.println(book1);//Bean.Book@5d11346a    System.out.println(book2);//Bean.Book@5d11346a&#125;//ä»æµ‹è¯•ç»“æœå¯ä»¥çœ‹å‡ºå•å®ä¾‹å¯¹è±¡ä¸¤æ¬¡åˆ›å»ºçš„å¯¹è±¡ç›¸åŒ```3ã€é…ç½®Beanå¯¹è±¡ä¸ºå¤šå®ä¾‹å¯¹è±¡ï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶ bean æ ‡ç­¾é‡Œé¢æœ‰**å±æ€§ï¼ˆscopeï¼‰**ç”¨äºè®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ï¼ˆ2ï¼‰scope å±æ€§å€¼ç¬¬ä¸€ä¸ªå€¼ é»˜è®¤å€¼**singletonï¼Œè¡¨ç¤ºæ˜¯å•å®ä¾‹å¯¹è±¡**ç¬¬äºŒä¸ªå€¼ **prototypeï¼Œè¡¨ç¤ºæ˜¯å¤šå®ä¾‹å¯¹è±¡**```xml<bean id="book" class="Bean.Book" scope="prototype"/><!--æ­¤æ—¶å†æ‰§è¡Œä¸€æ¬¡æµ‹è¯•ä»£ç å¯å‘ç°è¿”å›çš„book1å’Œbook2å¼•ç”¨å€¼ä¸åŒå³è¿”å›çš„å¯¹è±¡å®ä¾‹ä¸åŒ-->```4ã€singleton å’Œ prototype **åŒºåˆ«*** ç¬¬ä¸€ singleton å•å®ä¾‹ï¼Œprototype å¤šå®ä¾‹* ç¬¬äºŒ è®¾ç½® scope å€¼æ˜¯ singleton æ—¶ï¼Œ**åŠ è½½ spring é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡**  â€‹è®¾ç½® scope å€¼æ˜¯ prototype æ—¶ï¼Œä¸æ˜¯åœ¨åŠ è½½ spring é…ç½®æ–‡ä»¶æ—¶å€™åˆ›å»º å¯¹è±¡ï¼Œåœ¨**è°ƒç”¨getBean æ–¹æ³•æ—¶å€™åˆ›å»ºå¤šå®ä¾‹å¯¹è±¡*** å¦å¤–ï¼Œscopeè¿˜æœ‰ä¸¤ä¸ªå€¼åˆ†åˆ«ä¸ºrequestï¼Œsessionï¼›requestè¡¨ç¤ºè¿™ä¸ªå®ä¾‹å¯¹è±¡çš„**ä½œç”¨åŸŸä¸ºä¸€æ¬¡è¯·æ±‚**ï¼Œè€Œsessionè¡¨ç¤ºè¿™ä¸ªå®ä¾‹å¯¹è±¡çš„**ä½œç”¨åŸŸä¸ºä¸€æ¬¡ä¼šè¯**##### 3.Beançš„ç”Ÿå‘½å‘¨æœŸ1ã€ç”Ÿå‘½å‘¨æœŸï¼ˆ1ï¼‰ä»å¯¹è±¡**åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹**2ã€bean ç”Ÿå‘½å‘¨æœŸï¼ˆ1ï¼‰é€šè¿‡æ„é€ å™¨**åˆ›å»º bean å®ä¾‹**ï¼ˆæ— å‚æ•°æ„é€ ï¼‰ï¼ˆ2ï¼‰ä¸º bean çš„**å±æ€§è®¾ç½®å€¼**å’Œå¼•ç”¨å…¶ä»– beanï¼ˆè°ƒç”¨ set æ–¹æ³•ï¼‰ï¼ˆ3ï¼‰è°ƒç”¨ **bean çš„åˆå§‹åŒ–**çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰ï¼ˆ4ï¼‰**bean å¯ä»¥ä½¿ç”¨**äº†ï¼ˆå¯¹è±¡è·å–åˆ°äº†ï¼‰ï¼ˆ5ï¼‰å½“**å®¹å™¨å…³é—­**æ—¶å€™ï¼Œ**è°ƒç”¨ bean çš„é”€æ¯çš„æ–¹æ³•**ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯çš„æ–¹æ³•ï¼‰3ã€å®ä¾‹æ¼”ç¤º```java//åˆ›å»ºä¸€ä¸ªOrderå®ä½“ç±»public class Order &#123;    private String oname;    public Order()&#123;        System.out.println("æ‰§è¡Œæ— å‚æ„é€ å‡½æ•°åˆ›å»ºbeanå®ä¾‹");    &#125;    public void setOname(String oname) &#123;        this.oname = oname;        System.out.println("è°ƒç”¨setæ–¹æ³•ä¸ºå±æ€§æ³¨å…¥å€¼");    &#125;    public void initMethod()&#123;        System.out.println("æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•");    &#125;    public void destroyMethod()&#123;        System.out.println("æ‰§è¡Œé”€æ¯æ–¹æ³•");    &#125;&#125;``````xml<!--åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®Beanç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œçš„æ–¹æ³•--><bean id="order" class="Bean.Order" init-method="initMethod" destroy-method="destroyMethod">    <property name="oname" value="æ‰‹æœº"/></bean>``````java//æµ‹è¯•ä»£ç @Testpublic void testOrder()&#123;    //ApplicationContext context = new ClassPathXmlApplicationContext("orderBean.xml");    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext("orderBean.xml");    Order order = context.getBean("order", Order.class);    System.out.println("æˆåŠŸåˆ›å»ºbeanå®ä¾‹å¯¹è±¡");    System.out.println(order);    //æ‰‹åŠ¨é”€æ¯beanå®ä¾‹    context.close();//è¿™ä¸ªcloseæ–¹æ³•æ˜¯ApplicationContextçš„å­æ¥å£ConfigurableApplicationContextæ–°å¢çš„æ–¹æ³•ï¼Œ    //ç„¶ååœ¨AbstractApplicationContextæŠ½è±¡ç±»ä¸­å®ç°ï¼Œè€ŒClassPathXmlApplicationContextç±»æ˜¯ç»§æ‰¿äº†è¯¥ç±»çš„å­å­™ç±»ï¼Œ    //æ‰€ä»¥è¿™é‡Œçš„contextå¯¹è±¡çš„ç±»å‹ä¸èƒ½æ˜¯ApplicationContext    //è¾“å‡ºç»“æœï¼š    //æ‰§è¡Œæ— å‚æ„é€ å‡½æ•°åˆ›å»ºbeanå®ä¾‹    //è°ƒç”¨setæ–¹æ³•ä¸ºå±æ€§æ³¨å…¥å€¼    //æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•    //æˆåŠŸåˆ›å»ºbeanå®ä¾‹å¯¹è±¡    //Bean.Order@10dba097    //æ‰§è¡Œé”€æ¯æ–¹æ³•&#125;//ä»è¾“å‡ºç»“æœå³å¯çœ‹å‡ºBeançš„ç”Ÿå‘½å‘¨æœŸï¼šâ‘ è°ƒç”¨æ„é€ å™¨åˆ›å»ºbeanå®ä¾‹â†’â‘¡è°ƒç”¨setæ–¹æ³•ç»™å±æ€§æ³¨å…¥å€¼å’Œå¼•ç”¨å…¶ä»–beanâ†’â‘¢è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•â†’â‘£æˆåŠŸåˆ›å»ºbeanå¯¹è±¡â†’â‘¤é”€æ¯beanå¯¹è±¡```4ã€beançš„åç½®å¤„ç†å™¨ï¼Œbeanç”Ÿå‘½å‘¨æœŸæœ‰ä¸ƒæ­¥ï¼ˆå³åœ¨beanç”Ÿå‘½å‘¨æœŸçš„åŸºç¡€ä¸Šå¤šäº†ä¸¤æ­¥ï¼‰ï¼ˆ1ï¼‰é€šè¿‡æ„é€ å™¨åˆ›å»º bean å®ä¾‹ï¼ˆæ— å‚æ•°æ„é€ ï¼‰ï¼ˆ2ï¼‰ä¸º bean çš„å±æ€§è®¾ç½®å€¼å’Œå¼•ç”¨å…¶ä»– beanï¼ˆè°ƒç”¨ set æ–¹æ³•ï¼‰ï¼ˆ3ï¼‰**æŠŠ bean å®ä¾‹ä¼ é€’ç»™ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• postProcessBeforeInitialization**ï¼ˆ4ï¼‰è°ƒç”¨ bean çš„åˆå§‹åŒ–çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰ï¼ˆ5ï¼‰**æŠŠ bean å®ä¾‹ä¼ é€’ç»™ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• postProcessAfterInitialization**ï¼ˆ6ï¼‰bean å¯ä»¥ä½¿ç”¨äº†ï¼ˆå¯¹è±¡è·å–åˆ°äº†ï¼‰ï¼ˆ7ï¼‰å½“å®¹å™¨å…³é—­æ—¶å€™ï¼Œè°ƒç”¨ bean çš„é”€æ¯çš„æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®é”€æ¯çš„æ–¹æ³•ï¼‰5ã€å®ä¾‹æ¼”ç¤º```java//åˆ›å»ºä¸€ä¸ªåç½®å¤„ç†å™¨å®ä½“ç±»ï¼Œå®ç°BeanPostProcessoræ¥å£public class MyBeanPost implements BeanPostProcessor &#123;    @Override    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println("åœ¨åˆå§‹åŒ–å‰æ‰§è¡Œ");        return bean;    &#125;    @Override    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println("åœ¨åˆå§‹åŒ–åæ‰§è¡Œ");        return bean;    &#125;&#125;``````xml<!--åœ¨oederBean.xmlä¸­é…ç½®åç½®å¤„ç†å™¨ä¾¿äºåˆ›å»ºbeanå¯¹è±¡--><!--é…ç½®åç½®å¤„ç†å™¨--><bean id="myBeanPost" class="Bean.MyBeanPost"/><!--æ³¨ï¼šé…ç½®åç½®å¤„ç†å™¨åSpringä¼šç»™å½“å‰xmlé…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰beanå®ä¾‹å¯¹è±¡éƒ½æ·»åŠ åç½®å¤„ç†å™¨è¿›è¡Œå¤„ç†-->``````javaå†æ¬¡æ‰§è¡Œæµ‹è¯•ä»£ç ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š    â‘ æ‰§è¡Œæ— å‚æ„é€ å‡½æ•°åˆ›å»ºbeanå®ä¾‹    â‘¡è°ƒç”¨setæ–¹æ³•ä¸ºå±æ€§æ³¨å…¥å€¼    â‘¢åœ¨åˆå§‹åŒ–å‰æ‰§è¡Œ    â‘£æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•    â‘¤åœ¨åˆå§‹åŒ–åæ‰§è¡Œ    â‘¥æˆåŠŸåˆ›å»ºbeanå®ä¾‹å¯¹è±¡    Bean.Order@eb21112    â‘¦æ‰§è¡Œé”€æ¯æ–¹æ³•```##### 4.xmlè‡ªåŠ¨è£…é…ä»€ä¹ˆæ—¶è‡ªåŠ¨è£…é…ï¼Ÿæ ¹æ®**æŒ‡å®šè£…é…è§„åˆ™**ï¼ˆå±æ€§åç§°æˆ–è€…å±æ€§ç±»å‹ï¼‰ï¼ŒSpring **è‡ªåŠ¨å°†åŒ¹é…çš„å±æ€§å€¼è¿›è¡Œæ³¨å…¥**å¦‚ä½•å®ç°è‡ªåŠ¨è£…é…ï¼Ÿ* bean æ ‡ç­¾å±æ€§ autowireï¼Œé…ç½®è‡ªåŠ¨è£…é…* autowire å±æ€§å¸¸ç”¨ä¸¤ä¸ªå€¼ï¼š  * byName æ ¹æ®å±æ€§åç§°æ³¨å…¥   * byType æ ¹æ®å±æ€§ç±»å‹æ³¨å…¥###### â‘ æ ¹æ®å±æ€§åè‡ªåŠ¨æ³¨å…¥```java//åˆ›å»ºä¸¤ä¸ªæœ‰å…³è”çš„å®ä½“ç±»public class Department &#123;    @Override    public String toString() &#123;        return "Department&#123;&#125;";    &#125;&#125;public class Employee &#123;    private Department department;    public void setDepartment(Department department) &#123;        this.department = department;    &#125;    @Override    public String toString() &#123;        return "Employee&#123;" +                "department=" + department +                '&#125;';    &#125;&#125;``````xml<!--é…ç½®Springæ–‡ä»¶ä½¿å…¶å®ç°è‡ªåŠ¨è£…é…><!--è‡ªåŠ¨è£…é…ï¼šä½¿ç”¨autowireå±æ€§--><bean id="employee" class="Autowire.Employee" autowire="byName">    <!--æ™®é€šæ‰‹åŠ¨è£…é…æ–¹å¼-->    <!--<<property name="department" ref="department"/>>--></bean><bean id="department" class="Autowire.Department"/><!--æ³¨ï¼šæ³¨å…¥å€¼ bean çš„ id å€¼éœ€è¦å’Œç±»å±æ€§åç§°ä¸€æ ·--><!--æ¯”å¦‚ï¼Œä¸Šè¿°ä¾‹å­ä¸­ï¼ŒDepartmentç±»çš„beanå¯¹è±¡çš„idå€¼è¦å’ŒEmployeeç±»ä¸­çš„Departmentç±»å‹å±æ€§åç§°ä¸€æ ·ï¼Œå¦‚ï¼Œæˆ‘åœ¨Employeeç±»ä¸­çš„Departmentç±»å‹å±æ€§åä¸ºdepartmentï¼Œé‚£ä¹ˆæˆ‘åœ¨é…ç½®Departmentçš„beanå¯¹è±¡æ—¶å…¶idå€¼ä¹Ÿåº”è¯¥ä¸ºdepartment--><!--ä½†å®é™…ä¸Šåº”è¯¥æ˜¯æ³¨å…¥å€¼çš„idå€¼éœ€è¦å’Œè¯¥ç±»å±æ€§çš„setæ–¹æ³•åä¸€æ ·ï¼Œå› ä¸ºæ³¨å…¥çš„åŸç†æ˜¯é€šè¿‡setæ–¹æ³•æ¥å®ç°çš„-->``````java//æµ‹è¯•ä»£ç @Testpublic void testAutowire()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext("autowire.xml");    Autowire.Employee employee = context.getBean("employee", Autowire.Employee.class);    System.out.println(employee); //Employee&#123;department=Department&#123;&#125;&#125;    //æµ‹è¯•ç»“æœè¯´æ˜å®ç°è‡ªåŠ¨è£…é…æˆåŠŸ&#125;```###### â‘¡æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨è£…é…```xml<!--å°†å±æ€§autowireçš„å€¼æ”¹ä¸ºbyTypeå†æ‰§è¡Œä¸€æ¬¡æµ‹è¯•ä»£ç --><bean id="employee" class="Autowire.Employee" autowire="byType"/><bean id="department" class="Autowire.Department"/><!--æµ‹è¯•ç»“æœä»èƒ½å®ç°è‡ªåŠ¨è£…é…-->```éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨`autowire="byType"`æ—¶ï¼Œè‹¥å½“å‰é…ç½®æ–‡ä»¶ä¸­æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„beanå¯¹è±¡åˆ™ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶åªèƒ½ä½¿ç”¨byNameå®ç°è‡ªåŠ¨è£…è½½##### 5.å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶ä»¥é…ç½®æ•°æ®åº“ä¿¡æ¯ä¸ºä¾‹ï¼šï¼ˆ1ï¼‰é…ç½®å¾·é²ä¼Šè¿æ¥æ± ï¼ˆ2ï¼‰å¼•å…¥å¾·é²ä¼Šè¿æ¥æ± ä¾èµ– jar åŒ…(druid.jar)(æ­¤å¤„æœ¬äººä½¿ç”¨mavenç›´æ¥å¯¼å…¥)```xml<!--ç›´æ¥é…ç½®è¿æ¥æ± --><bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">    <property name="driverClassName" value="com.mysql.jdbc.Driver"/>    <property name="url" value="jdbc:mysql://localhost:3306/userDb"/>    <property name="username" value="root"/>    <property name="password" value="root"/></bean>```**å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± **ï¼ˆ1ï¼‰åˆ›å»ºå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼Œproperties æ ¼å¼æ–‡ä»¶ï¼Œå†™å¥½æ•°æ®åº“ä¿¡æ¯&#123;% gallery %&#125;![image-20220302233927691](https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203022339872.png)&#123;% endgallery %&#125;ï¼ˆ2ï¼‰æŠŠå¤–éƒ¨ properties å±æ€§æ–‡ä»¶å¼•å…¥åˆ° spring é…ç½®æ–‡ä»¶ä¸­â‘ å¼•å…¥ context åç§°ç©ºé—´```xml&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</code></pre><p>â‘¡åœ¨ spring é…ç½®æ–‡ä»¶ä½¿ç”¨æ ‡ç­¾å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</p><pre><code class="xml">&lt;!--å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;&lt;!--é…ç½®è¿æ¥æ± --&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;    &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;prop.driverClass&#125;&quot;/&gt;    &lt;property name=&quot;url&quot; value=&quot;$&#123;prop.url&#125;&quot;/&gt;    &lt;property name=&quot;username&quot; value=&quot;$&#123;prop.username&#125;&quot;/&gt;    &lt;property name=&quot;password&quot; value=&quot;$&#123;prop.password&#125;&quot;/&gt;&lt;/bean&gt;</code></pre><h4 id="3-3-3-åŸºäºæ³¨è§£æ–¹å¼"><a href="#3-3-3-åŸºäºæ³¨è§£æ–¹å¼" class="headerlink" title="3.3.3 åŸºäºæ³¨è§£æ–¹å¼"></a>3.3.3 åŸºäºæ³¨è§£æ–¹å¼</h4><p>1ã€ä»€ä¹ˆæ˜¯æ³¨è§£<br>ï¼ˆ1ï¼‰æ³¨è§£æ˜¯<strong>ä»£ç ç‰¹æ®Šæ ‡è®°</strong>ï¼Œæ ¼å¼ï¼š<code>@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼, å±æ€§åç§°=å±æ€§å€¼..)</code><br>ï¼ˆ2ï¼‰ä½¿ç”¨æ³¨è§£ï¼Œæ³¨è§£<strong>ä½œç”¨åœ¨ç±»ä¸Šé¢ï¼Œæ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢</strong><br>ï¼ˆ3ï¼‰ä½¿ç”¨æ³¨è§£ç›®çš„ï¼š<strong>ç®€åŒ– xml é…ç½®</strong></p><p>2ã€Spring é’ˆå¯¹ Bean ç®¡ç†ä¸­<strong>åˆ›å»ºå¯¹è±¡</strong>æä¾›çš„æ³¨è§£<br>ï¼ˆ1ï¼‰@Componentï¼šSpringæä¾›çš„ä¸€ç§æ™®é€šæ³¨è§£ï¼Œä½¿ç”¨å®ƒä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»ºå¯¹è±¡<br>ï¼ˆ2ï¼‰@Serviceï¼šä¸»è¦ç”¨äºservice(ä¸šåŠ¡)å±‚<br>ï¼ˆ3ï¼‰@Controllerï¼šä¸»è¦ç”¨äºweb(è¡¨ç°)å±‚<br>ï¼ˆ4ï¼‰@Repositoryï¼šä¸»è¦ç”¨äºdao(æŒä¹…)å±‚<br>ä¸Šé¢å››ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨æ¥åˆ›å»º bean å®ä¾‹ï¼Œæ²¡æœ‰ç‰¹æ„æŒ‡æ˜å“ªä¸ªæ³¨è§£å¿…é¡»è¦ç”¨åœ¨ä»€ä¹ˆå±‚ï¼Œåªæ˜¯æ–¹ä¾¿å¼€å‘æ—¶åŒºåˆ†</p><h5 id="1-åŸºäºæ³¨è§£åˆ›å»ºå¯¹è±¡"><a href="#1-åŸºäºæ³¨è§£åˆ›å»ºå¯¹è±¡" class="headerlink" title="1.åŸºäºæ³¨è§£åˆ›å»ºå¯¹è±¡"></a>1.åŸºäºæ³¨è§£åˆ›å»ºå¯¹è±¡</h5><h6 id="â‘ å¼•å…¥spring-aopä¾èµ–ï¼ˆæˆ–ä½¿ç”¨mavenè‡ªåŠ¨å¯¼å…¥ï¼‰"><a href="#â‘ å¼•å…¥spring-aopä¾èµ–ï¼ˆæˆ–ä½¿ç”¨mavenè‡ªåŠ¨å¯¼å…¥ï¼‰" class="headerlink" title="â‘ å¼•å…¥spring-aopä¾èµ–ï¼ˆæˆ–ä½¿ç”¨mavenè‡ªåŠ¨å¯¼å…¥ï¼‰"></a>â‘ å¼•å…¥spring-aopä¾èµ–ï¼ˆæˆ–ä½¿ç”¨mavenè‡ªåŠ¨å¯¼å…¥ï¼‰</h6><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203032032735.png' data-fancybox='default' data-caption='image-20220303203220619'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203032032735.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203032032735.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220303203220619"></a><span class='image-caption'>image-20220303203220619</span></div></div><h6 id="â‘¡åœ¨Springé…ç½®æ–‡ä»¶é…ç½®å¼€å¯ç»„ä»¶æ‰«æ"><a href="#â‘¡åœ¨Springé…ç½®æ–‡ä»¶é…ç½®å¼€å¯ç»„ä»¶æ‰«æ" class="headerlink" title="â‘¡åœ¨Springé…ç½®æ–‡ä»¶é…ç½®å¼€å¯ç»„ä»¶æ‰«æ"></a>â‘¡åœ¨Springé…ç½®æ–‡ä»¶é…ç½®å¼€å¯ç»„ä»¶æ‰«æ</h6><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--1ã€å¼•å…¥contextåç§°ç©ºé—´--&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;!--2ã€å¼€å¯ç»„ä»¶æ‰«æ        å¦‚æœéœ€è¦æ‰«æå¤šä¸ªåŒ…ï¼š            1 å¤šä¸ªåŒ…ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€            2 å°†è¢«æ‰«æåŒ…çš„ä¸Šå±‚ç›®å½•èµ‹å€¼ç»™base-packageå±æ€§     --&gt;    &lt;!--&lt;context:component-scan base-package=&quot;com.bean,com.service,com.dao&quot;/&gt;--&gt;    &lt;context:component-scan base-package=&quot;com&quot;/&gt;&lt;/beans&gt;</code></pre><h6 id="â‘¢åˆ›å»ºç±»ï¼Œæ·»åŠ æ³¨è§£ä¾¿äºåˆ›å»ºå¯¹è±¡"><a href="#â‘¢åˆ›å»ºç±»ï¼Œæ·»åŠ æ³¨è§£ä¾¿äºåˆ›å»ºå¯¹è±¡" class="headerlink" title="â‘¢åˆ›å»ºç±»ï¼Œæ·»åŠ æ³¨è§£ä¾¿äºåˆ›å»ºå¯¹è±¡"></a>â‘¢åˆ›å»ºç±»ï¼Œæ·»åŠ æ³¨è§£ä¾¿äºåˆ›å»ºå¯¹è±¡</h6><pre><code class="java">//åœ¨æ³¨è§£é‡Œé¢ value å±æ€§å€¼å¯ä»¥çœç•¥ä¸å†™//é»˜è®¤å€¼æ˜¯ç±»åç§°ï¼Œé¦–å­—æ¯å°å†™//UserService -- userServiceï¼Œç­‰åŒäºxmlé…ç½®æ–¹å¼ä¸­beanæ ‡ç­¾çš„idå±æ€§å€¼@Service(value = &quot;userService&quot;)  //ç­‰åŒäº&lt;bean id=&quot;userService&quot; class=&quot;..&quot;/&gt;public class UserService &#123;    public void add()&#123;        System.out.println(&quot;userService add......&quot;);    &#125;&#125;</code></pre><p>æµ‹è¯•</p><pre><code class="java">@Testpublic void testService()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beanCreate.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);//å…¶ä¸­çš„userServiceå°±æ˜¯æ³¨è§£ä¸­valueå±æ€§çš„å€¼    System.out.println(userService);    userService.add();    //com.service.UserService@790a251b    //userService add......    //æµ‹è¯•é€šè¿‡ï¼Œè¾“å‡ºäº†userServiceå¯¹è±¡å¼•ç”¨å¹¶ä¸”è°ƒç”¨äº†æ–¹æ³•è¯´æ˜é€šè¿‡æ³¨è§£åˆ›å»ºå¯¹è±¡æˆåŠŸ&#125;</code></pre><h5 id="2-ç»„ä»¶æ‰«æé…ç½®ç»†èŠ‚"><a href="#2-ç»„ä»¶æ‰«æé…ç½®ç»†èŠ‚" class="headerlink" title="2.ç»„ä»¶æ‰«æé…ç½®ç»†èŠ‚"></a>2.ç»„ä»¶æ‰«æé…ç½®ç»†èŠ‚</h5><pre><code class="xml">&lt;!--é»˜è®¤æƒ…å†µ--&gt;&lt;context:component-scan base-package=&quot;com&quot;/&gt;    &lt;!--é»˜è®¤æ‰«æåŒ…ä¸­æ‰€æœ‰ç±»--&gt;&lt;!--ç¤ºä¾‹ 1    use-default-filters=&quot;false&quot; è¡¨ç¤ºç°åœ¨ä¸ä½¿ç”¨é»˜è®¤ filterï¼Œè‡ªå·±é…ç½® filter    context:include-filterï¼Œè®¾ç½®æ‰«æå“ªäº›å†…å®¹--&gt;&lt;context:component-scan base-package=&quot;com&quot; use-default-filters=&quot;false&quot;&gt;    &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Service&quot;/&gt;    &lt;!--è¡¨ç¤ºåªæ‰«æå¸¦æœ‰org.springframework.stereotype.Serviceæ³¨è§£çš„ç±»--&gt;&lt;/context:component-scan&gt;&lt;!--ç¤ºä¾‹ 2    è¿™ä¸ªé…ç½®ä»æ˜¯æ‰«æåŒ…æ‰€æœ‰å†…å®¹    ä½†æ˜¯ä¸æ‰«æcontext:exclude-filteræ ‡ç­¾è®¾ç½®çš„å†…å®¹--&gt;&lt;context:component-scan base-package=&quot;com&quot;&gt;    &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;    &lt;!--è¡¨ç¤ºä¸æ‰«æå¸¦æœ‰org.springframework.stereotype.Controlleræ³¨è§£çš„ç±»--&gt;&lt;/context:component-scan&gt;</code></pre><h5 id="3-åŸºäºæ³¨è§£å®ç°å±æ€§æ³¨å…¥"><a href="#3-åŸºäºæ³¨è§£å®ç°å±æ€§æ³¨å…¥" class="headerlink" title="3.åŸºäºæ³¨è§£å®ç°å±æ€§æ³¨å…¥"></a>3.åŸºäºæ³¨è§£å®ç°å±æ€§æ³¨å…¥</h5><h6 id="â‘ -Autowireæ³¨è§£"><a href="#â‘ -Autowireæ³¨è§£" class="headerlink" title="â‘ @Autowireæ³¨è§£"></a>â‘ @Autowireæ³¨è§£</h6><p><code>@Autowire</code>ï¼šæ ¹æ®<strong>å±æ€§ç±»å‹</strong>è¿›è¡Œè‡ªåŠ¨è£…é…</p><p>ç¬¬ä¸€æ­¥ åˆ›å»º service å’Œ dao å¯¹è±¡ï¼šåœ¨ service å’Œ dao ç±»æ·»åŠ åˆ›å»ºå¯¹è±¡æ³¨è§£ï¼ˆåŒæ—¶è¦åœ¨é…ç½®æ–‡ä»¶å¼€å¯ç»„ä»¶æ‰«æç¡®ä¿è¿™äº›ç±»èƒ½è¢«æ‰«æåˆ°ï¼‰</p><pre><code class="java">public interface UserDao &#123;    public void add();&#125;@Repository(value = &quot;userDaoImpl1&quot;)  //é»˜è®¤value = &quot;userDaoImpl&quot;ï¼Œè¿™é‡Œè®¾ç½®valueå±æ€§çš„å€¼æ˜¯ä¸ºäº†è§£é‡Šä½¿ç”¨@Qulifilerç­‰å…¶ä»–æ³¨è§£çš„æƒ…å†µpublic class UserDaoImpl implements UserDao &#123;    @Override    public void add() &#123;        System.out.println(&quot;userDaoImpl add......&quot;);    &#125;&#125;</code></pre><p>ç¬¬äºŒæ­¥ åœ¨ service æ³¨å…¥ dao å¯¹è±¡ï¼šåœ¨ service ç±»æ·»åŠ  dao ç±»å‹å±æ€§ï¼Œåœ¨å±æ€§ä¸Šé¢ä½¿ç”¨æ³¨è§£</p><pre><code class="java">@Servicepublic class UserService &#123;    //å®šä¹‰ dao ç±»å‹å±æ€§    //ä¸éœ€è¦æ·»åŠ  set æ–¹æ³•    //æ·»åŠ æ³¨å…¥å±æ€§æ³¨è§£    @Autowired  //æ ¹æ®ç±»å‹æ³¨å…¥    private UserDao userDao;    public void add()&#123;        System.out.println(&quot;userService add......&quot;);        userDao.add();    &#125;&#125;</code></pre><p>æµ‹è¯•ä»£ç </p><pre><code class="java">@Testpublic void testService()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beanCreate.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);//å…¶ä¸­çš„userServiceå°±æ˜¯æ³¨è§£ä¸­valueå±æ€§çš„å€¼    System.out.println(userService);    userService.add();    //com.service.UserService@702b06fb    //userService add......    //userDaoImpl add......&#125;</code></pre><h6 id="â‘¡-Qualifieræ³¨è§£"><a href="#â‘¡-Qualifieræ³¨è§£" class="headerlink" title="â‘¡@Qualifieræ³¨è§£"></a>â‘¡@Qualifieræ³¨è§£</h6><p><code>@Qualifier</code>ï¼šæ ¹æ®<strong>åç§°</strong>è¿›è¡Œæ³¨å…¥ï¼Œè¿™ä¸ªæ³¨è§£çš„ä½¿ç”¨éœ€è¦å’Œ<code>@Autowired</code>é…åˆä½¿ç”¨</p><pre><code class="java">//åœ¨ä¸‹æ–¹ç±»ä¸­ä½¿ç”¨@Autowiredå’Œ@Qualifiler@Servicepublic class UserService &#123;    @Autowired  //æ ¹æ®ç±»å‹æ³¨å…¥    @Qualifiler(value = &quot;userDaoImpl1&quot;)  //å½“value = &quot;userDaoImpl1&quot;æ—¶å°±å¯ä»¥æ‰¾åˆ°UserDaoImplç±»å¹¶å°†å…¶ä½œä¸ºå¯¹è±¡å±æ€§è¿›è¡Œæ³¨å…¥ï¼Œå¦åˆ™å°±ä¼šæ‰¾ä¸åˆ°éœ€è¦æ³¨å…¥çš„å¯¹è±¡ç±»å¯¼è‡´æ— æ³•åˆ›å»ºuserDaoå¯¹è±¡    private UserDao userDao;    public void add()&#123;        System.out.println(&quot;userService add......&quot;);        userDao.add();    &#125;&#125;</code></pre><h6 id="â‘¢-Resourceæ³¨è§£"><a href="#â‘¢-Resourceæ³¨è§£" class="headerlink" title="â‘¢@Resourceæ³¨è§£"></a>â‘¢@Resourceæ³¨è§£</h6><p><code>@Resource</code>ï¼šå¯ä»¥æ ¹æ®<strong>ç±»å‹æ³¨å…¥</strong>ï¼Œå¯ä»¥æ ¹æ®<strong>åç§°æ³¨å…¥</strong></p><pre><code class="java">@Servicepublic class UserService &#123;    //@Resource    æ ¹æ®ç±»å‹è¿›è¡Œæ³¨å…¥    @Resource(value = &quot;userDaoImpl1&quot;)    //æ ¹æ®åç§°è¿›è¡Œæ³¨å…¥    private UserDao userDao;    public void add()&#123;        System.out.println(&quot;userService add......&quot;);        userDao.add();    &#125;&#125;</code></pre><h6 id="â‘£-Valueæ³¨è§£"><a href="#â‘£-Valueæ³¨è§£" class="headerlink" title="â‘£@Valueæ³¨è§£"></a>â‘£@Valueæ³¨è§£</h6><p><code>@Value</code>ï¼šæ³¨å…¥<strong>æ™®é€šç±»å‹</strong>å±æ€§</p><pre><code class="java">@Servicepublic class UserService &#123;    @Value(value = &quot;abc&quot;) //ä½¿ç”¨@Valueæ³¨è§£ç»™æ™®é€šç±»å‹å±æ€§æ³¨å…¥å€¼    private String name;        public String getName()&#123;        return name;    &#125;&#125;//ç»™è¿™ä¸ªæ™®é€šå±æ€§æä¾›getæ–¹æ³•åï¼Œå°±å¯åœ¨æµ‹è¯•æ–¹æ³•ä¸­é€šè¿‡userServiceå¯¹è±¡å¾—åˆ°è¿™ä¸ªnameå±æ€§çš„å€¼</code></pre><h5 id="4-å®Œå…¨æ³¨è§£å¼€å‘"><a href="#4-å®Œå…¨æ³¨è§£å¼€å‘" class="headerlink" title="4.å®Œå…¨æ³¨è§£å¼€å‘"></a>4.å®Œå…¨æ³¨è§£å¼€å‘</h5><p>åˆ›å»ºé…ç½®ç±»ï¼Œæ›¿ä»£ xml é…ç½®æ–‡ä»¶ï¼ˆè¿™ç§å¼€å‘æ¨¡å¼ä¸»è¦æ˜¯åœ¨SpringBootä¸­ä½¿ç”¨ï¼‰</p><pre><code class="java">@Configuration  //æ ‡è®°è¯¥ç±»ä¸ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶@ComponentScan(basePackages = &#123;&quot;com&quot;&#125;)  //è¡¨ç¤ºå¼€å¯ç»„ä»¶æ‰«æï¼Œéœ€è¦æ‰«æçš„ç±»é€šè¿‡basePackageså±æ€§æŒ‡å®šå…¶ä¸Šçº§ç›®å½•//å¦å¤–ï¼ŒComponentScanæ³¨è§£è¿˜æœ‰ä¸€ä¸ªbasePackageClasseså±æ€§ï¼Œæ ¹æ®å±æ€§åå¯ä»¥çŸ¥é“æ˜¯é€šè¿‡æŒ‡å®šæŸäº›ç±»çš„ç±»åæ¥æ ‡è®°å…¶ä¸ºè¢«æ‰«æå¯¹è±¡ï¼›è€ŒbasePackagesæ˜¯æ ¹æ®æŒ‡å®šæŸäº›è½¯ä»¶åŒ…çš„åŒ…åæ¥æ ‡è®°å…¶ä¸­çš„ç±»èƒ½è¢«æ‰«æpublic class SpringConfig &#123;&#125;</code></pre><p>æµ‹è¯•ä»£ç </p><pre><code class="java">@Testpublic void testService()&#123;    ApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class);//ä½¿ç”¨AnnotationConfigApplicationContextç±»åŠ è½½é…ç½®ç±»    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    System.out.println(userService);    userService.add();    System.out.println(userService.getName());    //com.service.UserService@475646d4    //userService add......    //userDaoImpl add......    //abc&#125;</code></pre><h2 id="å››ã€AOP"><a href="#å››ã€AOP" class="headerlink" title="å››ã€AOP"></a>å››ã€AOP</h2><h3 id="4-1-åŸºæœ¬æ¦‚å¿µ"><a href="#4-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="4.1 åŸºæœ¬æ¦‚å¿µ"></a>4.1 åŸºæœ¬æ¦‚å¿µ</h3><p><strong>æ¦‚å¿µï¼š</strong>AOPï¼ˆAspect Oriented Programmingï¼‰ï¼Œæ„ä¸ºï¼š<strong>é¢å‘åˆ‡é¢ï¼ˆæ–¹é¢ï¼‰ç¼–ç¨‹</strong>ï¼Œé€šè¿‡<strong>é¢„ç¼–è¯‘</strong>æ–¹å¼å’Œè¿è¡ŒæœŸé—´<strong>åŠ¨æ€ä»£ç†</strong>å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯<strong>å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹</strong>ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong>åˆ©ç”¨AOPå¯ä»¥<strong>å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»</strong>ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„<strong>è€¦åˆåº¦é™ä½</strong>ï¼Œæé«˜ç¨‹åºçš„<strong>å¯é‡ç”¨æ€§</strong>ï¼ŒåŒæ—¶<strong>æé«˜äº†å¼€å‘çš„æ•ˆç‡</strong>ã€‚</p><p><strong>ä¸»è¦æ„å›¾</strong>ï¼šå°†æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ï¼Œäº‹åŠ¡å¤„ç†ï¼Œå¼‚å¸¸å¤„ç†ç­‰ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­åˆ’åˆ†å‡ºæ¥ï¼Œé€šè¿‡å¯¹è¿™äº›è¡Œä¸ºçš„åˆ†ç¦»ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°†å®ƒä»¬ç‹¬ç«‹åˆ°éæŒ‡å¯¼ä¸šåŠ¡é€»è¾‘çš„æ–¹æ³•ä¸­ï¼Œè¿›è€Œæ”¹å˜è¿™äº›è¡Œä¸ºçš„æ—¶å€™ä¸å½±å“ä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼ˆå³<strong>ä¸é€šè¿‡ä¿®æ”¹æºä»£ç æ–¹å¼ï¼Œåœ¨ä¸»å¹²åŠŸèƒ½é‡Œé¢æ·»åŠ æ–°åŠŸèƒ½</strong>ï¼‰ã€‚</p><p>ä¾‹å­ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051359526.png' data-fancybox='default' data-caption='image-20220305135908354'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051359526.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051359526.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305135908354"></a><span class='image-caption'>image-20220305135908354</span></div></div><h3 id="4-2-åº•å±‚åŸç†"><a href="#4-2-åº•å±‚åŸç†" class="headerlink" title="4.2 åº•å±‚åŸç†"></a>4.2 åº•å±‚åŸç†</h3><p>AOP åº•å±‚ä½¿ç”¨åŠ¨æ€ä»£ç†ï¼Œæœ‰ä¸¤ç§æƒ…å†µåŠ¨æ€ä»£ç†ï¼š</p><ul><li><p>ç¬¬ä¸€ç§ æœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨ <strong>JDK åŠ¨æ€ä»£ç†</strong><br>åˆ›å»º<strong>æ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡</strong>ï¼Œå¢å¼ºç±»çš„æ–¹æ³•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051408319.png' data-fancybox='default' data-caption='image-20220305140808202'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051408319.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051408319.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305140808202"></a><span class='image-caption'>image-20220305140808202</span></div></div></li><li><p>ç¬¬äºŒç§ æ²¡æœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨ <strong>CGLIB åŠ¨æ€ä»£ç†</strong><br>åˆ›å»º<strong>å­ç±»çš„ä»£ç†å¯¹è±¡</strong>ï¼Œå¢å¼ºç±»çš„æ–¹æ³•</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051411770.png' data-fancybox='default' data-caption='image-20220305141102643'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051411770.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051411770.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305141102643"></a><span class='image-caption'>image-20220305141102643</span></div></div></li></ul><h3 id="4-3-JDKåŠ¨æ€ä»£ç†"><a href="#4-3-JDKåŠ¨æ€ä»£ç†" class="headerlink" title="4.3 JDKåŠ¨æ€ä»£ç†"></a>4.3 JDKåŠ¨æ€ä»£ç†</h3><p>ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œ<strong>ä½¿ç”¨ Proxy ç±»é‡Œé¢çš„æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡</strong></p><p><strong>Proxyç±»ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051416120.png' data-fancybox='default' data-caption='image-20220305141624034'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051416120.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051416120.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305141624034"></a><span class='image-caption'>image-20220305141624034</span></div></div><p><strong>åˆ›å»ºå¯¹è±¡ä½¿ç”¨çš„æ–¹æ³•ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051417840.png' data-fancybox='default' data-caption='image-20220305141713745'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051417840.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051417840.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305141713745"></a><span class='image-caption'>image-20220305141713745</span></div></div><p><strong>æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</strong><br>ç¬¬ä¸€å‚æ•°ï¼Œç±»åŠ è½½å™¨<br>ç¬¬äºŒå‚æ•°ï¼Œå¢å¼ºæ–¹æ³•çš„æ‰€åœ¨ç±»ï¼Œè¿™ä¸ªç±»å®ç°çš„æ¥å£ï¼ˆæ”¯æŒå¤šä¸ªæ¥å£ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆä»£ç†ç±»éœ€è¦å®ç°çš„æ¥å£<br>ç¬¬ä¸‰å‚æ•°ï¼Œå®ç° InvocationHandler è¿™ä¸ªæ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå†™å¢å¼ºçš„éƒ¨åˆ†</p><p><strong>å®ä¾‹ï¼š</strong></p><p>â‘ åˆ›å»ºæ¥å£ï¼Œå®šä¹‰æ–¹æ³•</p><pre><code class="java">public interface UserService &#123;    public void add();    public int update(int a,int b);&#125;</code></pre><p>â‘¡åˆ›å»ºæ¥å£å®ç°ç±»ï¼Œå®ç°æ–¹æ³•</p><pre><code class="java">public class UserServiceImpl implements UserService&#123;    @Override    public void add() &#123;        System.out.println(&quot;UserServiceImplçš„addæ–¹æ³•æ‰§è¡Œäº†...&quot;);    &#125;    @Override    public int update(int a, int b) &#123;        System.out.println(&quot;UserServiceImplçš„updateæ–¹æ³•æ‰§è¡Œäº†...&quot;);        return a + b;    &#125;&#125;</code></pre><p>â‘¢åˆ›å»ºä»£ç†å¯¹è±¡ç±»ï¼Œå®ç°InvocationHandleræ¥å£</p><pre><code class="java">//åˆ›å»ºçš„ä¸€ä¸ªUserServiceæ¥å£ä»£ç†å¯¹è±¡ç±»public class UserServiceProxy implements InvocationHandler &#123;    //é€šè¿‡æœ‰å‚æ„é€ å‡½æ•°æŠŠéœ€è¦è¢«ä»£ç†çš„å¯¹è±¡ä¼ ç»™ä»£ç†ç±»    //è¿™å„¿ä½¿ç”¨çš„Objectå¯ä»¥æ”¹ä¸ºå…·ä½“çš„è¢«ä»£ç†ç±»çš„å¯¹è±¡çš„ç±»å‹ï¼Œä½¿ç”¨Objectç±»å‹åªæ˜¯ä¸ºäº†èƒ½è¾¾åˆ°å¯ä»¥ä»£ç†å¤šä¸ªå¯¹è±¡çš„ç›®çš„    private Object obj;    public UserServiceProxy(Object obj)&#123;        this.obj = obj;    &#125;    //å°†åŸå…ˆåŠŸèƒ½éœ€è¦å¢å¼ºçš„ä¸šåŠ¡é€»è¾‘å†™åœ¨è¿™é‡Œé¢    @Override    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;        //æ‰§è¡Œè¢«å¢å¼ºæ–¹æ³•ä¹‹å‰        System.out.println(&quot;æ–¹æ³•æ‰§è¡Œä¹‹å‰...&quot;);        System.out.println(&quot;æ‰§è¡Œçš„æ–¹æ³•æ˜¯ï¼š&quot; + method.getName());        System.out.println(&quot;ä¼ é€’çš„å‚æ•°æ˜¯ï¼š&quot; + Arrays.toString(args));        //æ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•        Object invoke = method.invoke(obj, args); //åº•å±‚çš„æ–¹æ³•è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨javaåŸºç¡€çš„åå°„é‚£ä¸€ç« èŠ‚æŸ¥çœ‹å…·ä½“çš„ï¼Œæˆ–åœ¨java.lang.reflectåŒ…ä¸­çš„Methodç±»ä¸­æŸ¥çœ‹è¯¥æ–¹æ³•çš„å…·ä½“è®²è§£        //æ‰§è¡Œè¢«å¢å¼ºæ–¹æ³•ä¹‹å        System.out.println(&quot;æ–¹æ³•æ‰§è¡Œä¹‹å...&quot;);        System.out.println(&quot;è¯¥æ–¹æ³•è¿”å›çš„å€¼ï¼š&quot; + invoke);        System.out.println(&quot;æ‰§è¡Œè¯¥æ–¹æ³•çš„å¯¹è±¡æ˜¯ï¼š&quot; + obj);        //System.out.println(proxy);       ä¸ºä»€ä¹ˆè¿™å„¿æˆ‘æƒ³è¾“å‡ºproxyä¼šè®©ç¨‹åºä¸€ç›´æ‰§è¡Œå¯¼è‡´å †æ ˆæº¢å‡ºå¼‚å¸¸ï¼Œå¸Œæœ›å¦‚æœæœ‰å¤§ä½¬ä»”ç»†çœ‹è§äº†èƒ½å¸®æˆ‘è§£ç­”ä¸€ä¸‹        return invoke;    &#125;    //InvocationHandleræ¥å£çš„invokeæ–¹æ³•ä»‹ç»ï¼šï¼ˆä¸ªäººæ ¹æ®æ–‡æ¡£çš„ç®€æ˜“ç†è§£ï¼‰    //proxy - è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç†å®ä¾‹    //method - ä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•    //args - ä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•æ‰€éœ€è¦çš„å‚æ•°é˜µåˆ—    //è¿”å›ç»“æœ - è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›å€¼    //è¿”å›ç»“æœåŸæ–‡ä»‹ç»ï¼šä»ä»£ç†å®ä¾‹ä¸Šçš„æ–¹æ³•è°ƒç”¨è¿”å›çš„å€¼ã€‚å¦‚æœæ¥å£æ–¹æ³•çš„å£°æ˜è¿”å›ç±»å‹æ˜¯åŸå§‹ç±»å‹ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›çš„å€¼å¿…é¡»æ˜¯å¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»çš„å®ä¾‹;    //               å¦åˆ™ï¼Œå®ƒå¿…é¡»æ˜¯å¯å£°æ˜è¿”å›ç±»å‹çš„ç±»å‹ã€‚ å¦‚æœæ­¤æ–¹æ³•è¿”å›çš„å€¼æ˜¯nullå’Œæ¥å£æ–¹æ³•çš„è¿”å›ç±»å‹æ˜¯åŸºæœ¬ç±»å‹ï¼Œé‚£ä¹ˆNullPointerExceptionå°†ç”±ä»£ç†å®ä¾‹çš„æ–¹æ³•è°ƒç”¨æŠ›å‡ºã€‚    //               å¦‚ä¸Šæ‰€è¿°ï¼Œå¦‚æœæ­¤æ–¹æ³•è¿”å›çš„å€¼ï¼Œå¦åˆ™ä¸ä¼šä¸æ¥å£æ–¹æ³•çš„å£°æ˜çš„è¿”å›ç±»å‹å…¼å®¹ï¼Œä¸€ä¸ªClassCastExceptionå°†ä»£ç†å®ä¾‹çš„æ–¹æ³•è°ƒç”¨å°†æŠ›å‡ºã€‚&#125;</code></pre><p>â‘£ä½¿ç”¨Proxyç±»åˆ›å»ºæ¥å£ä»£ç†å¯¹è±¡</p><pre><code class="java">public class JDKProxy &#123;    public static void main(String[] args) &#123;        //åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡        Class[] interfaces = &#123;UserService.class&#125;;  //åˆ›å»ºå‡ºçš„ä»£ç†å¯¹è±¡éœ€è¦å®ç°çš„æ¥å£ç±»å‹        //1ã€é€šè¿‡åˆ›å»ºInvocationHandleråŒ¿åå®ç°ç±»å¯¹è±¡æ¥åˆ›å»ºUserServiceæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡çš„æ–¹å¼        //Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() &#123;        //  @Override        //  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;        //      return null;        //  &#125;        //&#125;);        //2ã€é€šè¿‡åˆ›å»ºInvocationHandlerå®ç°ç±»çš„å¯¹è±¡æ¥åˆ›å»ºUserServiceæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡çš„æ–¹å¼        UserServiceImpl userServiceImplProxied = new UserServiceImpl();  //åˆ›å»ºæ¥å£å®ç°ç±»å¯¹è±¡ï¼ˆè¢«ä»£ç†ç±»å¯¹è±¡ï¼‰        System.out.println(&quot;è¢«ä»£ç†çš„æ¥å£å®ç°ç±»å¯¹è±¡ï¼š&quot; + userServiceImplProxied);        //åˆ›å»ºå‡ºUserServiceæ¥å£å®ç°ç±»UserServiceImplçš„ä»£ç†å¯¹è±¡        UserService userServiceImplProxy = (UserService) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new UserServiceProxy(userServiceImplProxied));        userServiceImplProxy.add();  //åˆ›å»ºå‡ºçš„ä»£ç†å¯¹è±¡è°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•        //æ‰§è¡Œç»“æœï¼š        //è¢«ä»£ç†çš„æ¥å£å®ç°ç±»å¯¹è±¡ï¼šcom.spring5.UserServiceImpl@61bbe9ba        //æ–¹æ³•æ‰§è¡Œä¹‹å‰...        //æ‰§è¡Œçš„æ–¹æ³•æ˜¯ï¼šadd        //ä¼ é€’çš„å‚æ•°æ˜¯ï¼šnull        //UserServiceImplçš„addæ–¹æ³•æ‰§è¡Œäº†...        //æ–¹æ³•æ‰§è¡Œä¹‹å...        //è¯¥æ–¹æ³•è¿”å›çš„å€¼ï¼šnull        //æ‰§è¡Œè¯¥æ–¹æ³•çš„å¯¹è±¡æ˜¯ï¼šcom.spring5.UserServiceImpl@61bbe9ba    &#125;&#125;</code></pre><h3 id="4-4-æ“ä½œæœ¯è¯­"><a href="#4-4-æ“ä½œæœ¯è¯­" class="headerlink" title="4.4 æ“ä½œæœ¯è¯­"></a>4.4 æ“ä½œæœ¯è¯­</h3><p>AOPä¸­æœ‰å››ä¸ªå¸¸ç”¨çš„æ“ä½œæœ¯è¯­ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li><strong>è¿æ¥ç‚¹</strong><ul><li>ä¸€ä¸ªç±»ä¸­å¯ä»¥è¢«å¢å¼ºçš„æ–¹æ³•å°±å«è¿æ¥ç‚¹</li></ul></li><li><strong>åˆ‡å…¥ç‚¹</strong><ul><li>å®é™…è¢«å¢å¼ºçš„æ–¹æ³•å«åˆ‡å…¥ç‚¹</li></ul></li><li><strong>é€šçŸ¥ï¼ˆå¢å¼ºï¼‰</strong><ul><li>å®é™…å¢å¼ºçš„é€»è¾‘ä»£ç éƒ¨åˆ†ç§°ä¸ºé€šçŸ¥</li><li>é€šçŸ¥çš„å‡ ç§ç±»å‹ï¼š<ul><li>å‰ç½®é€šçŸ¥</li><li>åç½®é€šçŸ¥</li><li>ç¯ç»•é€šçŸ¥</li><li>å¼‚å¸¸é€šçŸ¥</li><li>æœ€ç»ˆé€šçŸ¥</li></ul></li></ul></li><li><strong>åˆ‡é¢</strong><ul><li>æ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œå³æŠŠé€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹çš„è¿‡ç¨‹å«åˆ‡é¢</li></ul></li></ol><h3 id="4-5-AOPæ“ä½œ"><a href="#4-5-AOPæ“ä½œ" class="headerlink" title="4.5 AOPæ“ä½œ"></a>4.5 AOPæ“ä½œ</h3><h5 id="4-5-1-å‡†å¤‡å·¥ä½œ"><a href="#4-5-1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="4.5.1 å‡†å¤‡å·¥ä½œ"></a>4.5.1 å‡†å¤‡å·¥ä½œ</h5><p>1ã€Spring æ¡†æ¶ä¸€èˆ¬éƒ½æ˜¯åŸºäº AspectJ å®ç° AOP æ“ä½œ</p><ul><li><strong>AspectJ ä¸æ˜¯ Spring ç»„æˆéƒ¨åˆ†</strong>ï¼Œç‹¬ç«‹ AOP æ¡†æ¶ï¼Œä¸€èˆ¬æŠŠ AspectJ å’Œ Spirng æ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡Œ AOP æ“ä½œ</li></ul><p>2ã€åŸºäº AspectJ å®ç° AOP æ“ä½œ</p><ul><li><strong>åŸºäº xml é…ç½®æ–‡ä»¶å®ç°</strong></li><li><strong>åŸºäºæ³¨è§£æ–¹å¼å®ç°</strong>ï¼ˆé€šå¸¸ä½¿ç”¨ï¼‰</li></ul><p>3ã€åœ¨é¡¹ç›®å·¥ç¨‹é‡Œé¢<strong>å¼•å…¥ AOP ç›¸å…³ä¾èµ–</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051703792.png' data-fancybox='default' data-caption='image-20220305170319714'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051703792.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203051703792.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220305170319714"></a><span class='image-caption'>image-20220305170319714</span></div></div><pre><code class="xml">&lt;!--mavenå¯¼å…¥--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;    &lt;version&gt;5.3.15&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;    &lt;version&gt;1.9.8&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;    &lt;version&gt;1.9.8&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;aopalliance&lt;/groupId&gt;    &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;    &lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;net.sourceforge.cglib&lt;/groupId&gt;    &lt;artifactId&gt;com.springsource.net.sf.cglib&lt;/artifactId&gt;    &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>4ã€åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p><ul><li>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä½œç”¨ï¼šçŸ¥é“<strong>å¯¹å“ªä¸ªç±»é‡Œé¢çš„å“ªä¸ªæ–¹æ³•è¿›è¡Œå¢å¼º</strong></li><li>è¯­æ³•ç»“æ„ï¼š <code>execution([æƒé™ä¿®é¥°ç¬¦] [è¿”å›ç±»å‹] [ç±»å…¨è·¯å¾„] [æ–¹æ³•åç§°]([å‚æ•°åˆ—è¡¨]))</code></li><li>ä¸¾ä¾‹ 1ï¼šå¯¹ com.spring5.dao.BookDao ç±»é‡Œé¢çš„ add æ–¹æ³•è¿›è¡Œå¢å¼º<code>execution(* com.spring5.dao.BookDao.add(..))</code></li><li>ä¸¾ä¾‹ 2ï¼šå¯¹ com.spring5.dao.BookDao ç±»é‡Œé¢çš„æ‰€æœ‰çš„æ–¹æ³•è¿›è¡Œå¢å¼º<code>execution(* com.spring5.dao.BookDao.* (..))</code></li><li>ä¸¾ä¾‹ 3ï¼šå¯¹ com.spring5.dao åŒ…é‡Œé¢æ‰€æœ‰ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º<code>execution(* com.atguigu.dao.*.* (..))</code></li></ul><h5 id="4-5-2-åŸºäºaspectjçš„æ³¨è§£æ–¹å¼"><a href="#4-5-2-åŸºäºaspectjçš„æ³¨è§£æ–¹å¼" class="headerlink" title="4.5.2 åŸºäºaspectjçš„æ³¨è§£æ–¹å¼"></a>4.5.2 åŸºäºaspectjçš„æ³¨è§£æ–¹å¼</h5><h6 id="1-æ³¨è§£æ–¹å¼å®ç°AOP"><a href="#1-æ³¨è§£æ–¹å¼å®ç°AOP" class="headerlink" title="1.æ³¨è§£æ–¹å¼å®ç°AOP"></a>1.æ³¨è§£æ–¹å¼å®ç°AOP</h6><p>1ã€åˆ›å»ºç±»ï¼Œåœ¨ç±»é‡Œé¢å®šä¹‰æ–¹æ³•</p><pre><code class="java">public class User &#123;    public void add()&#123;        System.out.println(&quot;user add...&quot;);    &#125;&#125;</code></pre><p>2ã€åˆ›å»ºå¢å¼ºç±»ï¼ˆç¼–å†™å¢å¼ºé€»è¾‘ï¼‰ï¼Œåœ¨å¢å¼ºç±»é‡Œé¢ï¼Œåˆ›å»ºæ–¹æ³•ï¼Œè®©ä¸åŒæ–¹æ³•ä»£è¡¨ä¸åŒé€šçŸ¥ç±»å‹</p><pre><code class="java">//ä»£ç†ç±»public class UserProxy &#123;    public void before()&#123;        System.out.println(&quot;å‰ç½®é€šçŸ¥...&quot;);    &#125;&#125;</code></pre><p>3ã€è¿›è¡Œé€šçŸ¥çš„é…ç½®<br>â‘ åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£æ‰«æï¼ˆä¹Ÿå¯ç”¨æ³¨è§£æ–¹å¼å¼€å¯æ³¨è§£æ‰«æï¼‰</p><pre><code class="java">//æ³¨è§£æ–¹å¼@Configuration@ComponentScan(basePackages = &#123;&quot;com.spring5.aopannotation&quot;&#125;)public class SpringConfig &#123;&#125;</code></pre><pre><code class="xml">&lt;!--é…ç½®æ–‡ä»¶æ–¹å¼--&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;    &lt;!-- å¼€å¯æ³¨è§£æ‰«æ --&gt;    &lt;context:component-scan base-package=&quot;com.spring5.aopannotation&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt;</code></pre><p>â‘¡ä½¿ç”¨æ³¨è§£åˆ›å»ºUserå’Œ UserProxyå¯¹è±¡</p><pre><code class="java">@Componentpublic class User &#123;    public void add()&#123;        System.out.println(&quot;user add...&quot;);    &#125;&#125;@Componentpublic class UserProxy &#123;    public void before()&#123;        System.out.println(&quot;å‰ç½®é€šçŸ¥...&quot;);    &#125;&#125;</code></pre><p>â‘¢åœ¨å¢å¼ºï¼ˆä»£ç†ï¼‰ç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Aspect</p><pre><code class="java">@Component@Aspectpublic class UserProxy &#123;    public void before()&#123;        System.out.println(&quot;å‰ç½®é€šçŸ¥...&quot;);    &#125;&#125;</code></pre><p>â‘£åœ¨springé…ç½®æ–‡ä»¶ä¸­å¼€å¯ç”Ÿæˆä»£ç†å¯¹è±¡</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;    &lt;!-- å¼€å¯æ³¨è§£æ‰«æ --&gt;    &lt;context:component-scan base-package=&quot;com.spring5.aopannotation&quot;/&gt;    &lt;!-- å¼€å¯ Aspect ç”Ÿæˆä»£ç†å¯¹è±¡--&gt;    &lt;aop:aspectj-autoproxy/&gt;&lt;/beans&gt;</code></pre><p>4ã€é…ç½®ä¸åŒç±»å‹çš„é€šçŸ¥ï¼Œåœ¨å¢å¼ºç±»ä¸­ä½œä¸ºé€šçŸ¥æ–¹æ³•çš„ä¸Šé¢æ·»åŠ é€šçŸ¥ç±»å‹æ³¨è§£ï¼Œä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼é…ç½®</p><pre><code class="java">@Component@Aspectpublic class UserProxy &#123;    //å‰ç½®é€šçŸ¥    //@Before æ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥    @Before(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void before()&#123;        System.out.println(&quot;before...&quot;);    &#125;    //æœ€ç»ˆé€šçŸ¥â€”â€”ä¸ç®¡æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ    @After(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void after()&#123;        System.out.println(&quot;after...&quot;);    &#125;    //åç½®é€šçŸ¥ï¼ˆè¿”å›é€šçŸ¥ï¼‰â€”â€”æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸å°±ä¸æ‰§è¡Œ    @AfterReturning(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void afterReturning()&#123;        System.out.println(&quot;afterReturning...&quot;);    &#125;    //å¼‚å¸¸é€šçŸ¥    @AfterThrowing(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void afterThrowing()&#123;        System.out.println(&quot;afterThrowing...&quot;);    &#125;    //ç¯ç»•é€šçŸ¥    @Around(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void around(ProceedingJoinPoint proceedingJoinPoint) throws Throwable &#123;        System.out.println(&quot;ç¯ç»•ä¹‹å‰...&quot;);        //æ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•        proceedingJoinPoint.proceed();        System.out.println(&quot;ç¯ç»•ä¹‹å...&quot;);    &#125;&#125;</code></pre><p>5ã€æµ‹è¯•</p><pre><code class="java">public class TestSpring5 &#123;    @Test    public void test()&#123;        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;);        User user = context.getBean(&quot;user&quot;, User.class);        user.add();        //ç¯ç»•ä¹‹å‰...        //before...        //user add...        //afterReturning...        //after...        //ç¯ç»•ä¹‹å...                //åé¢ä¸‰ä¸ªå¯èƒ½ç”±äºSpringç‰ˆæœ¬åŸå› è¾“å‡ºç»“æœä¸ä¸€æ ·ï¼Œå¼¹å¹•ä¸­å¥½åƒæœ‰äººè¯´ä»5.3.7å¼€å§‹åº•å±‚å°±æ”¹å˜äº†    &#125;&#125;//å¦å¤–ï¼Œåœ¨Aroundé€šçŸ¥çš„æ–¹æ³•ä¸­å¦‚æœä½¿ç”¨try-catchå¤„ç†å¼‚å¸¸çš„è¯å½“ä»£ç æ‰§è¡Œå‡ºç°å¼‚å¸¸æ—¶â€œç¯ç»•ä¹‹åâ€ä»ä¼šæ‰§è¡Œè¾“å‡ºï¼Œä½†å¦‚æœä½¿ç”¨throwsçš„æ–¹å¼å¤„ç†å¼‚å¸¸çš„è¯å½“ä»£ç å‡ºç°å¼‚å¸¸æ—¶â€œç¯ç»•ä¹‹åâ€åˆ™ä¸ä¼šæ‰§è¡Œè¾“å‡º</code></pre><h6 id="2-æå–å…¬å…±åˆ‡å…¥ç‚¹"><a href="#2-æå–å…¬å…±åˆ‡å…¥ç‚¹" class="headerlink" title="2.æå–å…¬å…±åˆ‡å…¥ç‚¹"></a>2.æå–å…¬å…±åˆ‡å…¥ç‚¹</h6><pre><code class="java">@Pointcut(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)public void pointDemo()&#123;&#125;//å‰ç½®é€šçŸ¥//@Before æ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥@Before(&quot;pointDemo()&quot;)public void before()&#123;    System.out.println(&quot;before...&quot;);&#125;//æœ€ç»ˆé€šçŸ¥@After(&quot;pointDemo()&quot;)public void after()&#123;    System.out.println(&quot;after...&quot;);&#125;</code></pre><h6 id="3-å¤šä¸ªå¢å¼ºç±»çš„ä¼˜å…ˆçº§"><a href="#3-å¤šä¸ªå¢å¼ºç±»çš„ä¼˜å…ˆçº§" class="headerlink" title="3.å¤šä¸ªå¢å¼ºç±»çš„ä¼˜å…ˆçº§"></a>3.å¤šä¸ªå¢å¼ºç±»çš„ä¼˜å…ˆçº§</h6><p>å½“æœ‰å¤šä¸ªå¢å¼ºç±»å¯¹åŒä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºæ—¶ï¼Œå¯ä»¥é€šè¿‡åœ¨å¢å¼ºç±»ä¸Šæ·»åŠ <code>@Order(æ•°å­—ç±»å‹å€¼)</code>æ³¨è§£è®¾ç½®å¢å¼ºç±»çš„ä¼˜å…ˆçº§ï¼Œ<strong>æ•°å­—ç±»å‹å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</strong></p><pre><code class="java">//PersonProxyå¢å¼ºç±»@Component@Aspect@Order(1)public class PersonProxy &#123;    @Pointcut(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void pointDemo()&#123;    &#125;    //å‰ç½®é€šçŸ¥    @Before(&quot;pointDemo()&quot;)    public void before()&#123;        System.out.println(&quot;personProxy before...&quot;);    &#125;    //æœ€ç»ˆé€šçŸ¥    @After(&quot;pointDemo()&quot;)    public void after()&#123;        System.out.println(&quot;personProxy after...&quot;);    &#125;&#125;//UserProxyå¢å¼ºç±»@Component@Aspect@Order(3)public class UserProxy &#123;    @Pointcut(&quot;execution(* com.spring5.aopannotation.User.add())&quot;)    public void pointDemo()&#123;    &#125;    //å‰ç½®é€šçŸ¥    //@Before æ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥    @Before(&quot;pointDemo()&quot;)    public void before()&#123;        System.out.println(&quot;userProxy before...&quot;);    &#125;    //æœ€ç»ˆé€šçŸ¥    @After(&quot;pointDemo()&quot;)    public void after()&#123;        System.out.println(&quot;userProxy after...&quot;);    &#125;&#125;//æµ‹è¯•@Test    public void test()&#123;        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;);        User user = context.getBean(&quot;user&quot;, User.class);        user.add();        //personProxy before...        //userProxy before...        //user add...        //userProxy after...        //personProxy after...    &#125;</code></pre><h6 id="4-å®Œå…¨æ³¨è§£å¼€å‘-1"><a href="#4-å®Œå…¨æ³¨è§£å¼€å‘-1" class="headerlink" title="4.å®Œå…¨æ³¨è§£å¼€å‘"></a>4.å®Œå…¨æ³¨è§£å¼€å‘</h6><pre><code class="java">//åˆ›å»ºé…ç½®ç±»ï¼Œä¸éœ€è¦åˆ›å»º xml é…ç½®æ–‡ä»¶@Configuration@ComponentScan(basePackages = &#123;&quot;com.spring5.aopannotation&quot;&#125;)@EnableAspectJAutoProxy(proxyTargetClass = true)  //å¼€å¯Aspectç”Ÿæˆä»£ç†å¯¹è±¡public class ConfigAop &#123;&#125;</code></pre><h5 id="4-5-3-åŸºäºaspectjçš„xmlé…ç½®æ–‡ä»¶æ–¹å¼"><a href="#4-5-3-åŸºäºaspectjçš„xmlé…ç½®æ–‡ä»¶æ–¹å¼" class="headerlink" title="4.5.3 åŸºäºaspectjçš„xmlé…ç½®æ–‡ä»¶æ–¹å¼"></a>4.5.3 åŸºäºaspectjçš„xmlé…ç½®æ–‡ä»¶æ–¹å¼</h5><p>1ã€åˆ›å»ºä¸¤ä¸ªç±»ï¼Œå¢å¼ºç±»å’Œè¢«å¢å¼ºç±»ï¼Œåˆ›å»ºæ–¹æ³•</p><pre><code class="java">public class Book &#123;    public void buy()&#123;        System.out.println(&quot;book buy...&quot;);    &#125;&#125;public class BookProxy &#123;    public void before() &#123;        System.out.println(&quot;bookProxy before...&quot;);    &#125;&#125;</code></pre><p>2ã€åœ¨ spring é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªç±»å¯¹è±¡</p><pre><code class="xml"> &lt;!--åˆ›å»ºå¯¹è±¡--&gt;&lt;bean id=&quot;book&quot; class=&quot;com.spring5.aopxml.Book&quot;/&gt;&lt;bean id=&quot;bookProxy&quot; class=&quot;com.spring5.aopxml.BookProxy&quot;/&gt;</code></pre><p>3ã€åœ¨ spring é…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ‡å…¥ç‚¹</p><pre><code class="xml">&lt;!--éœ€è¦å¼•å…¥aopåç§°ç©ºé—´--&gt;&lt;!--é…ç½®aopå¢å¼º--&gt;&lt;aop:config&gt;    &lt;!--é…ç½®åˆ‡å…¥ç‚¹--&gt;    &lt;aop:pointcut id=&quot;proxied&quot; expression=&quot;execution(* com.spring5.aopxml.Book.buy())&quot;/&gt;    &lt;!--é…ç½®åˆ‡é¢(åˆ‡é¢)--&gt;    &lt;aop:aspect ref=&quot;bookProxy&quot;&gt;        &lt;!--å¢å¼ºä½œç”¨åœ¨å…·ä½“çš„æ–¹æ³•ä¸Š(é€šçŸ¥)--&gt;        &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;proxied&quot;/&gt;    &lt;/aop:aspect&gt;&lt;/aop:config&gt;</code></pre><p>æµ‹è¯•</p><pre><code class="java">@Testpublic void test1()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean2.xml&quot;);    Book book = context.getBean(&quot;book&quot;, Book.class);    book.buy();    //bookProxy before...    //book buy...&#125;</code></pre><h2 id="äº”ã€JdbcTemplate"><a href="#äº”ã€JdbcTemplate" class="headerlink" title="äº”ã€JdbcTemplate"></a>äº”ã€JdbcTemplate</h2><h3 id="5-1-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"><a href="#5-1-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="5.1 æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"></a>5.1 æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ</h3><h4 id="5-1-1-æ¦‚è¿°"><a href="#5-1-1-æ¦‚è¿°" class="headerlink" title="5.1.1 æ¦‚è¿°"></a>5.1.1 æ¦‚è¿°</h4><p>ä»€ä¹ˆæ˜¯ JdbcTemplateï¼ŸSpring æ¡†æ¶å¯¹ <strong>JDBC è¿›è¡Œå°è£…</strong>ï¼Œä½¿ç”¨ JdbcTemplate <strong>æ–¹ä¾¿å®ç°å¯¹æ•°æ®åº“æ“ä½œ</strong></p><h4 id="5-2-2-å‡†å¤‡å·¥ä½œ"><a href="#5-2-2-å‡†å¤‡å·¥ä½œ" class="headerlink" title="5.2.2 å‡†å¤‡å·¥ä½œ"></a>5.2.2 å‡†å¤‡å·¥ä½œ</h4><h5 id="1-å¼•å…¥jaråŒ…"><a href="#1-å¼•å…¥jaråŒ…" class="headerlink" title="1.å¼•å…¥jaråŒ…"></a>1.å¼•å…¥jaråŒ…</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203061355606.png' data-fancybox='default' data-caption='image-20220306135513471'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203061355606.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203061355606.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220306135513471"></a><span class='image-caption'>image-20220306135513471</span></div></div><pre><code class="xml">&lt;!--mavenä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;    &lt;artifactId&gt;druid&lt;/artifactId&gt;    &lt;version&gt;1.2.8&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;version&gt;8.0.27&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;</code></pre><h5 id="2-åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥æ± "><a href="#2-åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥æ± "></a>2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥æ± </h5><pre><code class="xml">&lt;!--é…ç½®åˆ›å»º DataSource æ•°æ®æ± å¯¹è±¡--&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt;    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/user_db&quot;/&gt;    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;    &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;&lt;/bean&gt;</code></pre><h5 id="3-é…ç½®JdbcTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSource"><a href="#3-é…ç½®JdbcTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSource" class="headerlink" title="3.é…ç½®JdbcTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSource"></a>3.é…ç½®JdbcTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSource</h5><pre><code class="xml">&lt;!-- é…ç½®åˆ›å»º JdbcTemplate å¯¹è±¡ --&gt;&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    &lt;!--æ³¨å…¥ dataSource--&gt;    &lt;!--é€šè¿‡æŸ¥çœ‹æºç å‘ç°ï¼ŒJdbcTemplateç»§æ‰¿è‡ªJdbcAccessorç±»ï¼Œåˆ›å»ºJdbcTemplateå¯¹è±¡æ—¶ä¼šå°†DataSourceå¯¹è±¡é€šè¿‡æœ‰å‚æ„é€ ä¼ å…¥ï¼Œç„¶åé€šè¿‡è°ƒç”¨setæ–¹æ³•æ¥å°†ä¼ å…¥çš„DataSourceå¯¹è±¡èµ‹å€¼ç»™JdbcAccessorç±»ä¸­çš„DataSourceç±»å‹å±æ€§--&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;</code></pre><h5 id="4-åˆ›å»º-service-ç±»ï¼Œdao-ç±»ï¼Œåœ¨-dao-æ³¨å…¥-jdbcTemplate-å¯¹è±¡"><a href="#4-åˆ›å»º-service-ç±»ï¼Œdao-ç±»ï¼Œåœ¨-dao-æ³¨å…¥-jdbcTemplate-å¯¹è±¡" class="headerlink" title="4.åˆ›å»º service ç±»ï¼Œdao ç±»ï¼Œåœ¨ dao æ³¨å…¥ jdbcTemplate å¯¹è±¡"></a>4.åˆ›å»º service ç±»ï¼Œdao ç±»ï¼Œåœ¨ dao æ³¨å…¥ jdbcTemplate å¯¹è±¡</h5><h6 id="â‘ é…ç½®å¼€å¯ç»„ä»¶æ‰«æ"><a href="#â‘ é…ç½®å¼€å¯ç»„ä»¶æ‰«æ" class="headerlink" title="â‘ é…ç½®å¼€å¯ç»„ä»¶æ‰«æ"></a>â‘ é…ç½®å¼€å¯ç»„ä»¶æ‰«æ</h6><pre><code class="xml">&lt;!-- é…ç½®æ–‡ä»¶æ–¹å¼é…ç½®å¼€å¯ç»„ä»¶æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.spring5&quot;&gt;&lt;/context:component-scan&gt;</code></pre><h6 id="â‘¡åˆ›å»ºServiceå’ŒDao"><a href="#â‘¡åˆ›å»ºServiceå’ŒDao" class="headerlink" title="â‘¡åˆ›å»ºServiceå’ŒDao"></a>â‘¡åˆ›å»ºServiceå’ŒDao</h6><p>ä½¿ç”¨æ³¨è§£æ–¹å¼åˆ›å»ºServiceå¯¹è±¡å’ŒDaoå¯¹è±¡</p><pre><code class="java">@Servicepublic class UserService &#123;    //æ³¨å…¥dao    @Autowired    private UserDao userDao;&#125;</code></pre><pre><code class="java">public interface UserDao &#123;    public void add(User user);&#125;@Repositorypublic class UserDaoImpl implements UserDao &#123;    //æ³¨å…¥JdbcTemplate    @Autowired    private JdbcTemplate jdbcTemplate;&#125;</code></pre><h3 id="5-2-JdbcTemplateæ“ä½œæ•°æ®åº“"><a href="#5-2-JdbcTemplateæ“ä½œæ•°æ®åº“" class="headerlink" title="5.2 JdbcTemplateæ“ä½œæ•°æ®åº“"></a>5.2 JdbcTemplateæ“ä½œæ•°æ®åº“</h3><h4 id="5-2-1-æ·»åŠ æ“ä½œ"><a href="#5-2-1-æ·»åŠ æ“ä½œ" class="headerlink" title="5.2.1 æ·»åŠ æ“ä½œ"></a>5.2.1 æ·»åŠ æ“ä½œ</h4><h5 id="1-åˆ›å»ºå®ä½“ç±»"><a href="#1-åˆ›å»ºå®ä½“ç±»" class="headerlink" title="1.åˆ›å»ºå®ä½“ç±»"></a>1.åˆ›å»ºå®ä½“ç±»</h5><pre><code class="java">//æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„åˆ›å»ºå¯¹åº”å®ä½“ç±»public class User &#123;    private Integer id;    private String username;    private String password;    private String status;    public Integer getId() &#123;        return id;    &#125;    public void setId(Integer id) &#123;        this.id = id;    &#125;    public String getUsername() &#123;        return username;    &#125;    public void setUsername(String username) &#123;        this.username = username;    &#125;    public String getPassword() &#123;        return password;    &#125;    public void setPassword(String password) &#123;        this.password = password;    &#125;    public String getStatus() &#123;        return status;    &#125;    public void setStatus(String status) &#123;        this.status = status;    &#125;    @Override    public String toString() &#123;        return &quot;User&#123;&quot; +                &quot;id=&quot; + id +                &quot;, username=&#39;&quot; + username + &#39;\&#39;&#39; +                &quot;, password=&#39;&quot; + password + &#39;\&#39;&#39; +                &quot;, status=&#39;&quot; + status + &#39;\&#39;&#39; +                &#39;&#125;&#39;;    &#125;&#125;</code></pre><h5 id="2-ç¼–å†™serviceå’Œdaoå±‚æ·»åŠ ç”¨æˆ·çš„æ“ä½œ"><a href="#2-ç¼–å†™serviceå’Œdaoå±‚æ·»åŠ ç”¨æˆ·çš„æ“ä½œ" class="headerlink" title="2.ç¼–å†™serviceå’Œdaoå±‚æ·»åŠ ç”¨æˆ·çš„æ“ä½œ"></a>2.ç¼–å†™serviceå’Œdaoå±‚æ·»åŠ ç”¨æˆ·çš„æ“ä½œ</h5><pre><code class="java">@Servicepublic class UserService &#123;    //æ³¨å…¥dao    @Autowired    private UserDao userDao;    public void addUser(User user)&#123;        userDao.add(user);    &#125;&#125;</code></pre><pre><code class="java">@Repositorypublic class UserDaoImpl implements UserDao &#123;    //æ³¨å…¥jdbcTemplate    @Autowired    private JdbcTemplate jdbcTemplate;    @Override    public void add(User user) &#123;        //åˆ›å»ºsqlè¯­å¥        String sql = &quot;insert into t_user values (?,?,?,?)&quot;;        //è°ƒç”¨æ–¹æ³•å®ç°        Object[] args = &#123;user.getId(),user.getUsername(),user.getPassword(),user.getStatus()&#125;;        int update = jdbcTemplate.update(sql, args);        System.out.println(update);    &#125;&#125;</code></pre><h5 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3.æµ‹è¯•"></a>3.æµ‹è¯•</h5><pre><code class="java">@Test    public void testJdbcTemplate() &#123;        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);        UserService userService = context.getBean(&quot;userService&quot;, UserService.class);        User user = new User();        user.setId(1);        user.setUsername(&quot;admin&quot;);        user.setPassword(&quot;12345&quot;);        user.setStatus(&quot;1&quot;);        userService.addUser(user);    &#125;//æ‰§è¡Œæµ‹è¯•åå¯ä»¥å‘ç°æ•°æ®åº“ä¸­è¢«æ·»åŠ äº†ä¸€æ¡æ–°æ•°æ®</code></pre><h4 id="5-2-2-ä¿®æ”¹åˆ é™¤æ“ä½œ"><a href="#5-2-2-ä¿®æ”¹åˆ é™¤æ“ä½œ" class="headerlink" title="5.2.2 ä¿®æ”¹åˆ é™¤æ“ä½œ"></a>5.2.2 ä¿®æ”¹åˆ é™¤æ“ä½œ</h4><p>ä¿®æ”¹å’Œåˆ é™¤æ“ä½œåŸºæœ¬å‡å’Œæ·»åŠ æ“ä½œä¸€æ ·</p><pre><code class="java">//åœ¨UserServiceä¸­æ·»åŠ æ–¹æ³•public void updateUser(User user)&#123;    userDao.update(user);&#125;public void deleteUser(Integer id)&#123;    userDao.delete(id);&#125;//åœ¨UserDaoä¸­æ·»åŠ æ–¹æ³•@Overridepublic void update(User user) &#123;    //åˆ›å»ºsqlè¯­å¥    String sql = &quot;update t_user set username=?,status=? where id=?&quot;;    //è°ƒç”¨æ–¹æ³•å®ç°    Object[] args = &#123;user.getUsername(), user.getStatus(), user.getId()&#125;;    int update = jdbcTemplate.update(sql, args);    System.out.println(update);&#125;@Overridepublic void delete(Integer id) &#123;    //åˆ›å»ºsqlè¯­å¥    String sql = &quot;delete from t_user where id=?&quot;;    //è°ƒç”¨æ–¹æ³•å®ç°    int update = jdbcTemplate.update(sql, id);    System.out.println(update);&#125;</code></pre><p>æµ‹è¯•ä»£ç </p><pre><code class="java">@Testpublic void testJdbcTemplate1() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    User user = new User();    user.setId(1);    user.setUsername(&quot;admin1&quot;);    user.setPassword(&quot;12345&quot;);    user.setStatus(&quot;2&quot;);    userService.updateUser(user);&#125;@Testpublic void testJdbcTemplate2() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    userService.deleteUser(1);&#125;</code></pre><h4 id="5-2-3-æŸ¥è¯¢æ“ä½œ"><a href="#5-2-3-æŸ¥è¯¢æ“ä½œ" class="headerlink" title="5.2.3 æŸ¥è¯¢æ“ä½œ"></a>5.2.3 æŸ¥è¯¢æ“ä½œ</h4><h5 id="1-æŸ¥è¯¢è¿”å›æŸä¸ªå€¼"><a href="#1-æŸ¥è¯¢è¿”å›æŸä¸ªå€¼" class="headerlink" title="1.æŸ¥è¯¢è¿”å›æŸä¸ªå€¼"></a>1.æŸ¥è¯¢è¿”å›æŸä¸ªå€¼</h5><p>ä½¿ç”¨ JdbcTemplate å®ç°æŸ¥è¯¢è¿”å›æŸä¸ªå€¼ä»£ç <code>queryForObject(String sql,Class&lt;T&gt; requiredType)</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<strong>è¿”å›å€¼ç±»å‹</strong> Class</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public int selectCount()&#123;    return userDao.selectCount();&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic Integer selectCount() &#123;    String sql = &quot;select count(*) from t_user&quot;;    return jdbcTemplate.queryForObject(sql, Integer.class);&#125;</code></pre><pre><code class="java">@Testpublic void testJdbcTemplate3() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    System.out.println(userService.selectCount());//3&#125;</code></pre><h5 id="2-æŸ¥è¯¢è¿”å›å¯¹è±¡"><a href="#2-æŸ¥è¯¢è¿”å›å¯¹è±¡" class="headerlink" title="2.æŸ¥è¯¢è¿”å›å¯¹è±¡"></a>2.æŸ¥è¯¢è¿”å›å¯¹è±¡</h5><p>ä½¿ç”¨JdbcTemplateæ–¹æ³•å®ç°æŸ¥è¯¢è¿”å›é›†åˆ<code>queryForObject(String sql,RowMapper&lt;T&gt; rowMapper,Object... args)</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šRowMapper æ˜¯æ¥å£ï¼Œé’ˆå¯¹è¿”å›ä¸åŒç±»å‹æ•°æ®ï¼Œ<strong>ä½¿ç”¨è¿™ä¸ªæ¥å£çš„å®ç°ç±»å®Œæˆæ•°æ®å°è£…</strong></li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šsql è¯­å¥å€¼</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public User selectUser(Integer id)&#123;    return userDao.selectUser(id);&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic User selectUser(Integer id) &#123;    String sql = &quot;select * from t_user where id = ?&quot;;    return jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper&lt;User&gt;(User.class), id);&#125;</code></pre><pre><code class="java">@Testpublic void testJdbcTemplate4() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    System.out.println(userService.selectUser(2));//User&#123;id=2, username=&#39;admin1&#39;, password=&#39;12345&#39;, status=&#39;2&#39;&#125;&#125;</code></pre><h5 id="3-æŸ¥è¯¢è¿”å›åˆ—è¡¨"><a href="#3-æŸ¥è¯¢è¿”å›åˆ—è¡¨" class="headerlink" title="3.æŸ¥è¯¢è¿”å›åˆ—è¡¨"></a>3.æŸ¥è¯¢è¿”å›åˆ—è¡¨</h5><p>è°ƒç”¨ JdbcTemplate æ–¹æ³•å®ç°æŸ¥è¯¢è¿”å›é›†åˆ<code>query(String sql,RowMapper rowMapper,Object... args)</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šRowMapper æ˜¯æ¥å£ï¼Œé’ˆå¯¹è¿”å›ä¸åŒç±»å‹æ•°æ®ï¼Œ<strong>ä½¿ç”¨è¿™ä¸ªæ¥å£çš„å®ç°ç±»å®Œæˆæ•°æ®å°è£…</strong></li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šsql è¯­å¥å€¼ï¼ˆå¯é€‰ï¼‰</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public List&lt;User&gt; selectAllUser()&#123;    return userDao.selectAllUser();&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic List&lt;User&gt; selectAllUser() &#123;    String sql = &quot;select * from t_user&quot;;    return jdbcTemplate.query(sql, new BeanPropertyRowMapper&lt;User&gt;(User.class));&#125;</code></pre><pre><code class="java">@Testpublic void testJdbcTemplate5() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    System.out.println(userService.selectAllUser());    //[User&#123;id=1, username=&#39;admin&#39;, password=&#39;12345&#39;, status=&#39;1&#39;&#125;,     //User&#123;id=2, username=&#39;admin1&#39;, password=&#39;12345&#39;, status=&#39;2&#39;&#125;,     //User&#123;id=3, username=&#39;admin2&#39;, password=&#39;12345&#39;, status=&#39;3&#39;&#125;]&#125;</code></pre><h3 id="5-3-JdbcTemplateæ‰¹é‡æ“ä½œ"><a href="#5-3-JdbcTemplateæ‰¹é‡æ“ä½œ" class="headerlink" title="5.3 JdbcTemplateæ‰¹é‡æ“ä½œ"></a>5.3 JdbcTemplateæ‰¹é‡æ“ä½œ</h3><p>å…¶å®æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤çš„æ“ä½œéƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯è°ƒç”¨<code>batchUpdate(String sql,List&lt;Object[]&gt; batchArgs)</code>æ–¹æ³•ï¼Œåªæ˜¯sqlè¯­å¥ä¸ä¸€æ ·â€¦è¯¥æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªintç±»å‹æ•°ç»„ï¼Œä¿å­˜çš„æ˜¯æ·»åŠ æ¯æ¡æ•°æ®çš„æˆåŠŸä¸å¦ï¼ŒæˆåŠŸåˆ™å…ƒç´ å‡ä¸º1</p><h4 id="5-3-1-æ‰¹é‡æ·»åŠ æ“ä½œ"><a href="#5-3-1-æ‰¹é‡æ·»åŠ æ“ä½œ" class="headerlink" title="5.3.1 æ‰¹é‡æ·»åŠ æ“ä½œ"></a>5.3.1 æ‰¹é‡æ·»åŠ æ“ä½œ</h4><p>ä½¿ç”¨JdbcTemplateä¸­çš„<code>batchUpdate(String sql,List&lt;Object[]&gt; batchArgs)</code>å®ç°æ‰¹é‡æ·»åŠ æ“ä½œ</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šList é›†åˆï¼Œæ·»åŠ å¤šæ¡è®°å½•æ•°æ®</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public void batchAdd(List&lt;Object[]&gt; batchArgs)&#123;    userDao.batchInsert(batchArgs);&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic void batchInsert(List&lt;Object[]&gt; batchArgs) &#123;    String sql = &quot;insert into t_user (username,password,status) values (?,?,?)&quot;;    int[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);&#125;//æµ‹è¯•@Testpublic void testJdbcTemplate6() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();    Object[] o1 = &#123;&quot;admin3&quot;,&quot;12345&quot;,&quot;4&quot;&#125;;    Object[] o2 = &#123;&quot;admin4&quot;,&quot;12345&quot;,&quot;5&quot;&#125;;    Object[] o3 = &#123;&quot;admin5&quot;,&quot;12345&quot;,&quot;6&quot;&#125;;    list.add(o1);    list.add(o2);    list.add(o3);    userService.batchAdd(list);&#125;</code></pre><h4 id="5-3-2-æ‰¹é‡ä¿®æ”¹æ“ä½œ"><a href="#5-3-2-æ‰¹é‡ä¿®æ”¹æ“ä½œ" class="headerlink" title="5.3.2 æ‰¹é‡ä¿®æ”¹æ“ä½œ"></a>5.3.2 æ‰¹é‡ä¿®æ”¹æ“ä½œ</h4><p>ä½¿ç”¨JdbcTemplateä¸­çš„<code>batchUpdate(String sql,List&lt;Object[]&gt; batchArgs)</code>å®ç°æ‰¹é‡ä¿®æ”¹æ“ä½œ</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šList é›†åˆï¼Œä¿®æ”¹å¤šæ¡è®°å½•æ•°æ®</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public void batchUpdate(List&lt;Object[]&gt; batchArgs)&#123;    userDao.batchUpdate(batchArgs);&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic void batchUpdate(List&lt;Object[]&gt; batchArgs) &#123;    String sql = &quot;update t_user set username=?,password=?,status=? where id=?&quot;;    int[] update = jdbcTemplate.batchUpdate(sql, batchArgs);&#125;//æµ‹è¯•@Testpublic void testJdbcTemplate7() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();    Object[] o1 = &#123;&quot;admin3+&quot;,&quot;123456&quot;,&quot;4+&quot;,&quot;4&quot;&#125;;    Object[] o2 = &#123;&quot;admin4+&quot;,&quot;123456&quot;,&quot;5+&quot;,&quot;5&quot;&#125;;    Object[] o3 = &#123;&quot;admin5+&quot;,&quot;123456&quot;,&quot;6+&quot;,&quot;6&quot;&#125;;    list.add(o1);    list.add(o2);    list.add(o3);    userService.batchUpdate(list);&#125;</code></pre><h4 id="5-3-3-æ‰¹é‡åˆ é™¤æ“ä½œ"><a href="#5-3-3-æ‰¹é‡åˆ é™¤æ“ä½œ" class="headerlink" title="5.3.3 æ‰¹é‡åˆ é™¤æ“ä½œ"></a>5.3.3 æ‰¹é‡åˆ é™¤æ“ä½œ</h4><p>ä½¿ç”¨JdbcTemplateä¸­çš„<code>batchUpdate(String sql,List&lt;Object[]&gt; batchArgs)</code>å®ç°æ‰¹é‡åˆ é™¤æ“ä½œ</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šsql è¯­å¥</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šList é›†åˆï¼Œåˆ é™¤å¤šæ¡è®°å½•æ•°æ®</li></ul><pre><code class="java">//Serviceå±‚æ·»åŠ æ–¹æ³•public void batchDelete(List&lt;Object[]&gt; batchArgs)&#123;    userDao.batchDelete(batchArgs);&#125;//Daoå±‚æ·»åŠ æ–¹æ³•@Overridepublic void batchDelete(List&lt;Object[]&gt; batchArgs) &#123;    String sql = &quot;delete from t_user where id=?&quot;;    int[] delete = jdbcTemplate.batchUpdate(sql, batchArgs);&#125;//æµ‹è¯•@Testpublic void testJdbcTemplate8() &#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();    Object[] o1 = &#123;4&#125;;    Object[] o2 = &#123;5&#125;;    list.add(o1);    list.add(o2);    userService.batchDelete(list);&#125;</code></pre><h2 id="å…­ã€äº‹åŠ¡"><a href="#å…­ã€äº‹åŠ¡" class="headerlink" title="å…­ã€äº‹åŠ¡"></a>å…­ã€äº‹åŠ¡</h2><h3 id="6-1-äº‹åŠ¡æ¦‚å¿µ"><a href="#6-1-äº‹åŠ¡æ¦‚å¿µ" class="headerlink" title="6.1 äº‹åŠ¡æ¦‚å¿µ"></a>6.1 äº‹åŠ¡æ¦‚å¿µ</h3><p>1ã€ä»€ä¹ˆäº‹åŠ¡</p><ul><li>äº‹åŠ¡æ˜¯<strong>æ•°æ®åº“æ“ä½œæœ€åŸºæœ¬å•å…ƒ</strong>ï¼Œé€»è¾‘ä¸Šä¸€ç»„æ“ä½œï¼Œ<strong>è¦ä¹ˆéƒ½æˆåŠŸï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥æ‰€æœ‰æ“ä½œéƒ½å¤±è´¥</strong></li><li>å…¸å‹åœºæ™¯ï¼šé“¶è¡Œè½¬è´¦<ul><li>lucy è½¬è´¦ 100 å…ƒ ç»™ mary</li><li>lucy å°‘ 100ï¼Œmary å¤š 100</li></ul></li></ul><p>2ã€äº‹åŠ¡å››ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰</p><ul><li><strong>åŸå­æ€§</strong>ï¼šè¿‡ç¨‹ä¸­ä¸å¯åˆ†å‰²ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆå°±å¤±è´¥</li><li><strong>ä¸€è‡´æ€§</strong>ï¼šæ“ä½œä¹‹å‰å’Œæ“ä½œä¹‹åæ€»é‡æ˜¯ä¸å˜çš„</li><li><strong>éš”ç¦»æ€§</strong>ï¼šå¤šäº‹åŠ¡æ“ä½œæ—¶ä¸ä¼šç›¸äº’å½±å“</li><li><strong>æŒä¹…æ€§</strong>ï¼šäº‹åŠ¡æäº¤åæ•°æ®åº“è¡¨çš„æ•°æ®è·Ÿç€å˜åŒ–</li></ul><h3 id="6-2-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"><a href="#6-2-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ" class="headerlink" title="6.2 æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"></a>6.2 æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062105535.png' data-fancybox='default' data-caption='image-20220306210559365'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062105535.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062105535.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220306210559365"></a><span class='image-caption'>image-20220306210559365</span></div></div><h4 id="1-åˆ›å»ºæ•°æ®åº“ï¼Œæ·»åŠ è®°å½•"><a href="#1-åˆ›å»ºæ•°æ®åº“ï¼Œæ·»åŠ è®°å½•" class="headerlink" title="1.åˆ›å»ºæ•°æ®åº“ï¼Œæ·»åŠ è®°å½•"></a>1.åˆ›å»ºæ•°æ®åº“ï¼Œæ·»åŠ è®°å½•</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062113568.png' data-fancybox='default' data-caption='image-20220306211319455'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062113568.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203062113568.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220306211319455"></a><span class='image-caption'>image-20220306211319455</span></div></div><h4 id="2-é…ç½®ç»„ä»¶æ‰«æã€DataSourceå’ŒJdbcTemplateå¯¹è±¡"><a href="#2-é…ç½®ç»„ä»¶æ‰«æã€DataSourceå’ŒJdbcTemplateå¯¹è±¡" class="headerlink" title="2.é…ç½®ç»„ä»¶æ‰«æã€DataSourceå’ŒJdbcTemplateå¯¹è±¡"></a>2.é…ç½®ç»„ä»¶æ‰«æã€DataSourceå’ŒJdbcTemplateå¯¹è±¡</h4><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;!-- é…ç½®æ–‡ä»¶æ–¹å¼é…ç½®å¼€å¯ç»„ä»¶æ‰«æ --&gt;    &lt;context:component-scan base-package=&quot;com.spring5&quot;/&gt;    &lt;!--é…ç½®åˆ›å»º DataSource æ•°æ®æ± å¯¹è±¡--&gt;    &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt;        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/user_db&quot;/&gt;        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;        &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;    &lt;/bean&gt;    &lt;!-- é…ç½®åˆ›å»º JdbcTemplate å¯¹è±¡ --&gt;    &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;        &lt;!--æ³¨å…¥ dataSource--&gt;        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;</code></pre><h4 id="3-åˆ›å»ºserviceï¼Œdaoå±‚ï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºã€æ³¨å…¥å…³ç³»åŠæ–¹æ³•åˆ›å»º"><a href="#3-åˆ›å»ºserviceï¼Œdaoå±‚ï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºã€æ³¨å…¥å…³ç³»åŠæ–¹æ³•åˆ›å»º" class="headerlink" title="3.åˆ›å»ºserviceï¼Œdaoå±‚ï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºã€æ³¨å…¥å…³ç³»åŠæ–¹æ³•åˆ›å»º"></a>3.åˆ›å»ºserviceï¼Œdaoå±‚ï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºã€æ³¨å…¥å…³ç³»åŠæ–¹æ³•åˆ›å»º</h4><pre><code class="java">//serviceå±‚@Servicepublic class UserService &#123;    @Autowired    private UserDao userDao;    //è½¬è´¦æ–¹æ³•    public void transfer()&#123;        userDao.reduce();//maryè´¦æˆ·è½¬è´¦100        userDao.add();//lucyè´¦æˆ·è½¬å…¥100    &#125;&#125;</code></pre><pre><code class="java">//daoå±‚public interface UserDao &#123;    public void reduce();    public void add();&#125;@Repositorypublic class UserDaoImpl implements UserDao &#123;    @Autowired    private JdbcTemplate jdbcTemplate;    //å®ç°maryè½¬è´¦100ç»™lucy    @Override    public void reduce() &#123;        String sql = &quot;update t_account set money=money-? where username=?&quot;;        jdbcTemplate.update(sql,100,&quot;mary&quot;);    &#125;    @Override    public void add() &#123;        String sql = &quot;update t_account set money=money+? where username=?&quot;;        jdbcTemplate.update(sql,100,&quot;lucy&quot;);    &#125;&#125;</code></pre><h4 id="4-æµ‹è¯•"><a href="#4-æµ‹è¯•" class="headerlink" title="4.æµ‹è¯•"></a>4.æµ‹è¯•</h4><pre><code class="java">@Testpublic void test()&#123;    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);    UserService userService = context.getBean(&quot;userService&quot;, UserService.class);    userService.transfer();&#125;//æµ‹è¯•æ‰§è¡Œæ­£å¸¸ï¼Œmaryçš„è´¦æˆ·moneyå‰©ä¸‹900ï¼Œlucyå‰©1100//ä½†æ˜¯æˆ‘çš„æ²¡æœ‰æ­£å¸¸æ‰§è¡Œï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆäº§ç”Ÿæ­»é”äº†ï¼Œä½†æ˜¯äº‹åŠ¡å¤„ç†çš„å¤§è‡´æ€è·¯å°±æ˜¯è¿™æ ·</code></pre><h4 id="5-æ¨¡æ‹Ÿå¼‚å¸¸"><a href="#5-æ¨¡æ‹Ÿå¼‚å¸¸" class="headerlink" title="5.æ¨¡æ‹Ÿå¼‚å¸¸"></a>5.æ¨¡æ‹Ÿå¼‚å¸¸</h4><p>ä¸Šé¢ä»£ç ï¼Œå¦‚æœæ­£å¸¸æ‰§è¡Œæ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸åˆ™ä¼šæœ‰é—®é¢˜</p><pre><code class="java">//è½¬è´¦æ–¹æ³•public void transfer()&#123;    userDao.reduce();//maryè´¦æˆ·è½¬è´¦100    //æ¨¡æ‹Ÿå¼‚å¸¸    int i = 10/0;    userDao.add();//lucyè´¦æˆ·è½¬å…¥100&#125;//å¦‚ä¸Šï¼Œå¦‚æœåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œæ­¤æ—¶æŸ¥çœ‹æ•°æ®åº“ä¼šå‘ç°maryè´¦æˆ·åªå‰©900ï¼Œä½†æ˜¯lucyçš„è´¦æˆ·ä»æ˜¯1000ï¼Œå¹¶æ²¡æœ‰å¾—åˆ°maryè½¬çš„100</code></pre><p>å‡ºç°å¼‚å¸¸å¦‚ä½•å¤„ç†ï¼Ÿä½¿ç”¨äº‹åŠ¡è¿›è¡Œå¤„ç†</p><pre><code class="java">//è½¬è´¦æ–¹æ³•public void transfer()&#123;    try &#123;        //ç¬¬ä¸€æ­¥ï¼Œå¼€å¯äº‹åŠ¡        //ç¬¬äºŒæ­¥ï¼Œè¿›è¡Œä¸šåŠ¡æ“ä½œ        userDao.reduce();//maryè´¦æˆ·è½¬è´¦100        //æ¨¡æ‹Ÿå¼‚å¸¸        int i = 10/0;        userDao.add();//lucyè´¦æˆ·è½¬å…¥100        //ç¬¬ä¸‰æ­¥ï¼Œè‹¥æ²¡æœ‰å¼‚å¸¸ï¼Œæäº¤äº‹åŠ¡    &#125; catch (Exception e) &#123;        //ç¬¬å››æ­¥ï¼Œäº‹åŠ¡å›æ»š        e.printStackTrace();    &#125;&#125;</code></pre><h3 id="6-3-äº‹åŠ¡ç®¡ç†"><a href="#6-3-äº‹åŠ¡ç®¡ç†" class="headerlink" title="6.3 äº‹åŠ¡ç®¡ç†"></a>6.3 äº‹åŠ¡ç®¡ç†</h3><p>1ã€äº‹åŠ¡æ·»åŠ åˆ° JavaEE ä¸‰å±‚ç»“æ„é‡Œé¢ Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰</p><p>2ã€åœ¨ Spring è¿›è¡Œäº‹åŠ¡ç®¡ç†æ“ä½œæœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†</strong>å’Œ<strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong>ï¼ˆä¸€èˆ¬ä½¿ç”¨å£°æ˜å¼ï¼‰</p><ul><li>ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å°±æ˜¯ç¼–å†™ä»£ç è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œè¿™ç§æ–¹å¼ç‰¹åˆ«éº»çƒ¦ï¼Œå¦‚æœéœ€è¦å¯¹å¤šä¸ªä¸šåŠ¡è¿›è¡Œäº‹åŠ¡ç®¡ç†å°±ä¼šé€ æˆä»£ç å†—ä½™ï¼Œé‡å¤ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä½¿ç”¨è¿™ç§æ–¹å¼</li></ul><p>3ã€å£°æ˜å¼äº‹åŠ¡ç®¡ç†</p><ul><li>åŸºäº<strong>æ³¨è§£æ–¹å¼</strong>ï¼ˆä½¿ç”¨ï¼‰</li><li>åŸºäº <strong>xml é…ç½®æ–‡ä»¶æ–¹å¼</strong></li></ul><p>4ã€åœ¨ Spring è¿›è¡Œ<strong>å£°æ˜å¼</strong>äº‹åŠ¡ç®¡ç†ï¼Œ<strong>åº•å±‚ä½¿ç”¨ AOP åŸç†</strong></p><p>5ã€Spring äº‹åŠ¡ç®¡ç†æä¾›çš„ API</p><ul><li><p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿™ä¸ªæ¥å£<strong>é’ˆå¯¹ä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„å®ç°ç±»</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071732209.png' data-fancybox='default' data-caption='image-20220307173251063'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071732209.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071732209.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307173251063"></a><span class='image-caption'>image-20220307173251063</span></div></div></li></ul><h4 id="6-3-1-å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#6-3-1-å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="6.3.1 å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>6.3.1 å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h4><h5 id="1-æ³¨è§£æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#1-æ³¨è§£æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="1.æ³¨è§£æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>1.æ³¨è§£æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h5><h6 id="â‘ å¼€å¯æ³¨è§£æ–¹å¼äº‹åŠ¡ç®¡ç†"><a href="#â‘ å¼€å¯æ³¨è§£æ–¹å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="â‘ å¼€å¯æ³¨è§£æ–¹å¼äº‹åŠ¡ç®¡ç†"></a>â‘ å¼€å¯æ³¨è§£æ–¹å¼äº‹åŠ¡ç®¡ç†</h6><p>ä»¥ä¸‹æ“ä½œå‡åœ¨ä¸Šé¢æ­å»ºå¥½çš„äº‹åŠ¡ç®¡ç†æ“ä½œç¯å¢ƒçš„xmlé…ç½®æ–‡ä»¶åŸºç¡€ä¸Šæ·»åŠ </p><p>1ã€åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p><pre><code class="xml">&lt;!--åˆ›å»ºé…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;    &lt;!--æ³¨å…¥æ•°æ®æº--&gt;    &lt;!--åœ¨æºç ä¸­åŒæ ·å¯å‘ç°æ­¤å®ç°ç±»ä¹Ÿæ˜¯é€šè¿‡setæ–¹æ³•æ¥é…ç½®DataSourceå¯¹è±¡--&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;</code></pre><p>2ã€åœ¨Springé…ç½®æ–‡ä»¶ä¸­å¼€å¯äº‹åŠ¡æ³¨è§£</p><pre><code class="xml">&lt;!--é¦–å…ˆè¦å¼•å…¥txåç§°ç©ºé—´--&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd                        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;&lt;!--å¼€å¯äº‹åŠ¡æ³¨è§£--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;</code></pre><p>3ã€åœ¨ service ç±»ä¸Šé¢ï¼ˆæˆ–è€… service ç±»é‡Œé¢æ–¹æ³•ä¸Šé¢ï¼‰æ·»åŠ äº‹åŠ¡æ³¨è§£</p><ul><li><code>@Transactional</code>è¿™ä¸ªæ³¨è§£æ·»åŠ åˆ°ç±»ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥æ·»åŠ æ–¹æ³•ä¸Šé¢</li><li>å¦‚æœæŠŠè¿™ä¸ªæ³¨è§£<strong>æ·»åŠ ç±»ä¸Šé¢</strong>ï¼Œè¿™ä¸ª<strong>ç±»é‡Œé¢æ‰€æœ‰çš„æ–¹æ³•</strong>éƒ½æ·»åŠ äº‹åŠ¡</li><li>å¦‚æœæŠŠè¿™ä¸ªæ³¨è§£<strong>æ·»åŠ æ–¹æ³•ä¸Šé¢</strong>ï¼Œä¸º<strong>è¿™ä¸ªæ–¹æ³•</strong>æ·»åŠ äº‹åŠ¡</li></ul><pre><code class="java">@Service@Transactionalpublic class UserService &#123;&#125;</code></pre><h6 id="â‘¡äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®"><a href="#â‘¡äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®" class="headerlink" title="â‘¡äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®"></a>â‘¡äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®</h6><p>é€šè¿‡æŸ¥çœ‹<code>@Transactional</code>æ³¨è§£å¯çŸ¥é“æœ‰ä»¥ä¸‹å‚æ•°ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071810387.png' data-fancybox='default' data-caption='image-20220307181026286'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071810387.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071810387.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307181026286"></a><span class='image-caption'>image-20220307181026286</span></div></div><p><strong>1ã€propagationï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸º</strong></p><p>å¤šäº‹åŠ¡æ–¹æ³•ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­äº‹åŠ¡æ˜¯å¦‚ä½•è¿›è¡Œç®¡ç†çš„ï¼Œæ¯”å¦‚ï¼Œ</p><ul><li>ä¸€ä¸ªæœ‰äº‹åŠ¡çš„æ–¹æ³•å»è°ƒç”¨ä¸€ä¸ªæ²¡æœ‰äº‹åŠ¡çš„æ–¹æ³•</li><li>ä¸€ä¸ªæ²¡æœ‰äº‹åŠ¡çš„æ–¹æ³•å»è°ƒç”¨ä¸€æœ‰äº‹åŠ¡çš„æ–¹æ³•</li><li>ä¸€ä¸ªæœ‰äº‹åŠ¡çš„æ–¹æ³•å»è°ƒç”¨å¦ä¸€ä¸ªæœ‰äº‹åŠ¡çš„æ–¹æ³•</li><li>è¿˜æœ‰å¤šä¸ªäº‹åŠ¡æ–¹æ³•ä¹‹é—´çš„è°ƒç”¨ç­‰ï¼Œåœ¨è¿™äº›è¿‡ç¨‹ä¸­äº‹åŠ¡çš„ç®¡ç†æ˜¯æ€æ ·çš„ï¼Œè¿™å°±æ˜¯äº‹åŠ¡ä¼ æ’­è¡Œä¸º</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071821424.png' data-fancybox='default' data-caption='image-20220307182111322'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071821424.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071821424.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307182111322"></a><span class='image-caption'>image-20220307182111322</span></div></div><p>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºçš„å‡ ç§æ–¹å¼ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071822691.png' data-fancybox='default' data-caption='image-20220307182234498'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071822691.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071822691.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307182234498"></a><span class='image-caption'>image-20220307182234498</span></div></div><pre><code class="java">@Service@Transactional(propagation = Propagation.REQUIRED)public class UserService &#123;&#125;</code></pre><p><strong>2ã€ioslationï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«</strong></p><p>äº‹åŠ¡æœ‰ä¸€ä¸ªç‰¹æ€§ä¸ºéš”ç¦»æ€§ï¼Œ<strong>å¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“</strong>ã€‚ä¸è€ƒè™‘éš”ç¦»æ€§å°±ä¼šäº§ç”Ÿå¾ˆå¤šé—®é¢˜</p><p>æœ‰ä¸‰ä¸ªè¯»é—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šè¯»ï¼ˆå¹»è¯»ï¼‰</p><ul><li><p>è„è¯»ï¼š<strong>ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071958569.png' data-fancybox='default' data-caption='image-20220307195803475'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071958569.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203071958569.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307195803475"></a><span class='image-caption'>image-20220307195803475</span></div></div></li><li><p>ä¸å¯é‡å¤è¯»ï¼š<strong>ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€æäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072002342.png' data-fancybox='default' data-caption='image-20220307200224956'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072002342.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072002342.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307200224956"></a><span class='image-caption'>image-20220307200224956</span></div></div></li><li><p>è™šè¯»ï¼š<strong>ä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€æäº¤äº‹åŠ¡æ·»åŠ æ•°æ®</strong></p></li></ul><p>è§£å†³ä»¥ä¸Šå‡ ç§é—®é¢˜çš„æ–¹æ³•å°±æ˜¯ï¼šé€šè¿‡<strong>è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«</strong>ï¼Œè§£å†³è¯»é—®é¢˜</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072008800.png' data-fancybox='default' data-caption='image-20220307200859709'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072008800.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072008800.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307200859709"></a><span class='image-caption'>image-20220307200859709</span></div></div><pre><code class="java">@Service@Transactional(isolation = Isolation.REPEATABLE_READ)public class UserService &#123;&#125;</code></pre><p><strong>3ã€timeoutï¼šè¶…æ—¶æ—¶é—´</strong></p><ul><li>äº‹åŠ¡éœ€è¦åœ¨<strong>ä¸€å®šæ—¶é—´</strong>å†…è¿›è¡Œæäº¤ï¼Œå¦‚æœä¸æäº¤è¿›è¡Œå›æ»š</li><li>é»˜è®¤å€¼æ˜¯ -1 ï¼Œè®¾ç½®æ—¶é—´ä»¥<strong>ç§’</strong>å•ä½è¿›è¡Œè®¡ç®—</li></ul><p><strong>4ã€readOnlyï¼šæ˜¯å¦åªè¯»</strong></p><ul><li><strong>è¯»ï¼šæŸ¥è¯¢æ“ä½œï¼Œå†™ï¼šæ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ</strong></li><li>readOnly é»˜è®¤å€¼ falseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢ï¼Œå¯ä»¥æ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ</li><li>è®¾ç½® readOnly å€¼æ˜¯ trueï¼Œåªèƒ½æŸ¥è¯¢</li></ul><p><strong>5ã€rollbackForï¼šå›æ»š</strong></p><p>è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»š</p><p><strong>6ã€noRollbackForï¼šä¸å›æ»š</strong></p><p>è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œäº‹åŠ¡å›æ»š</p><h5 id="2-xmlé…ç½®æ–‡ä»¶æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#2-xmlé…ç½®æ–‡ä»¶æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="2.xmlé…ç½®æ–‡ä»¶æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>2.xmlé…ç½®æ–‡ä»¶æ–¹å¼å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h5><p>1ã€é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p><p>è¿™ä¸€æ­¥å’Œä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°äº‹åŠ¡ç®¡ç†ä¸€æ ·ï¼Œåªæ˜¯ä¸éœ€è¦å¼€å¯äº‹åŠ¡æ³¨è§£çš„é…ç½®</p><pre><code class="xml">&lt;!-- é…ç½®æ–‡ä»¶æ–¹å¼é…ç½®å¼€å¯ç»„ä»¶æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.spring5&quot;/&gt;&lt;!--é…ç½®åˆ›å»º DataSource æ•°æ®æ± å¯¹è±¡--&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt;    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/bank_db&quot;/&gt;    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;    &lt;property name=&quot;password&quot; value=&quot;xk123&quot; /&gt;    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;&lt;/bean&gt;&lt;!-- é…ç½®åˆ›å»º JdbcTemplate å¯¹è±¡ --&gt;&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    &lt;!--æ³¨å…¥ dataSource--&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;&lt;!--åˆ›å»ºé…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;    &lt;!--æ³¨å…¥æ•°æ®æº--&gt;    &lt;!--åœ¨æºç ä¸­åŒæ ·å¯å‘ç°æ­¤å®ç°ç±»ä¹Ÿæ˜¯é€šè¿‡setæ–¹æ³•æ¥é…ç½®DataSourceå¯¹è±¡--&gt;    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;</code></pre><p>2ã€é…ç½®é€šçŸ¥</p><pre><code class="xml">&lt;!--é…ç½®é€šçŸ¥(å³é…ç½®è¦å¢å¼ºçš„åŠŸèƒ½ï¼Œè¿™é‡Œå°±æ˜¯é…ç½®äº‹åŠ¡åŠŸèƒ½)--&gt;&lt;tx:advice id=&quot;txadvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;    &lt;!--é…ç½®äº‹åŠ¡å‚æ•°--&gt;    &lt;tx:attributes&gt;        &lt;!--æŒ‡å®šåœ¨å“ªç§è§„åˆ™çš„æ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡--&gt;        &lt;!--ä¸‹é¢å°±æ˜¯åœ¨è¿™ä¸ªæ–¹æ³•åçš„æ–¹æ³•ä¸Šæ·»åŠ äº‹åŠ¡--&gt;        &lt;tx:method name=&quot;transfer&quot; propagation=&quot;REQUIRES_NEW&quot;/&gt; &lt;!--åœ¨è¿™ä¸ªæ ‡ç­¾é‡Œé¢è¿˜å¯ä»¥é…ç½®å±æ€§çš„å€¼æ¥é…ç½®äº‹åŠ¡çš„å‚æ•°--&gt;        &lt;!--&lt;tx:method name=&quot;*&quot;/&gt;--&gt; &lt;!--è¿™ç§åœ¨æ‰€æœ‰æ–¹æ³•ä¸Šæ·»åŠ äº‹åŠ¡--&gt;    &lt;/tx:attributes&gt;&lt;/tx:advice&gt;</code></pre><p>3ã€é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢</p><pre><code class="xml">&lt;!--é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢--&gt;&lt;aop:config&gt;    &lt;!--é…ç½®åˆ‡å…¥ç‚¹(å³é…ç½®è¦å¢å¼ºåŠŸèƒ½çš„æ–¹æ³•ï¼Œåœ¨è¿™å„¿å…¶å®å°±æ˜¯é…ç½®è¦ç»™å“ªäº›æ–¹æ³•æ·»åŠ äº‹åŠ¡)--&gt;    &lt;aop:pointcut id=&quot;pt&quot; expression=&quot;execution(* com.spring5.service.UserService.*(..))&quot;/&gt; &lt;!--è¡¨ç¤ºç»™è¯¥ç±»ä¸­æ‰€æœ‰æ–¹æ³•æ·»åŠ äº‹åŠ¡--&gt;    &lt;!--é…ç½®åˆ‡é¢(å³é…ç½®å°†å¢å¼ºçš„åŠŸèƒ½å¢å¼ºåˆ°åˆ‡å…¥ç‚¹çš„å…·ä½“è¿‡ç¨‹)--&gt;    &lt;aop:advisor advice-ref=&quot;txadvice&quot; pointcut-ref=&quot;pt&quot;/&gt;&lt;/aop:config&gt;</code></pre><h5 id="3-å®Œå…¨æ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡"><a href="#3-å®Œå…¨æ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="3.å®Œå…¨æ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡"></a>3.å®Œå…¨æ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡</h5><pre><code class="java">@Configuration //é…ç½®ç±»@ComponentScan(basePackages = &quot;com.spring5&quot;) //å¼€å¯ç»„ä»¶æ‰«æ@EnableTransactionManagement //å¼€å¯äº‹åŠ¡ç®¡ç†public class SpringConfig &#123;    //åˆ›å»ºæ•°æ®åº“è¿æ¥æ±     @Bean    public DruidDataSource getDruidDataSource() &#123;        DruidDataSource dataSource = new DruidDataSource();        dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/user_db&quot;);        dataSource.setUsername(&quot;root&quot;);        dataSource.setPassword(&quot;root&quot;);        return dataSource;    &#125;    //åˆ›å»º JdbcTemplate å¯¹è±¡    @Bean    public JdbcTemplate getJdbcTemplate(DataSource dataSource) &#123;        //åˆ° ioc å®¹å™¨ä¸­æ ¹æ®ç±»å‹æ‰¾åˆ° dataSource        JdbcTemplate jdbcTemplate = new JdbcTemplate();        //æ³¨å…¥ dataSource        jdbcTemplate.setDataSource(dataSource);        return jdbcTemplate;    &#125;    //åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨    @Bean    public DataSourceTransactionManager getDataSourceTransactionManager(DataSource dataSource) &#123;        DataSourceTransactionManager transactionManager = new DataSourceTransactionManager();        transactionManager.setDataSource(dataSource);        return transactionManager;    &#125;&#125;//é€šè¿‡æµ‹è¯•å¯ä»¥å‘ç°æ•°æ®åº“ä¸­çš„æ•°æ®å› ä¸ºå‡ºç°å¼‚å¸¸å‘ç”Ÿäº‹åŠ¡å›æ»šï¼Œæ‰€ä»¥æ•°æ®å‡æ²¡æœ‰å‘ç”Ÿæ”¹å˜</code></pre><h2 id="ä¸ƒã€Spring5æ–°åŠŸèƒ½"><a href="#ä¸ƒã€Spring5æ–°åŠŸèƒ½" class="headerlink" title="ä¸ƒã€Spring5æ–°åŠŸèƒ½"></a>ä¸ƒã€Spring5æ–°åŠŸèƒ½</h2><p>æ•´ä¸ª Spring5 æ¡†æ¶çš„ä»£ç <strong>åŸºäº Java8</strong>ï¼Œè¿è¡Œæ—¶<strong>å…¼å®¹ JDK9</strong>ï¼Œè®¸å¤šä¸å»ºè®®ä½¿ç”¨çš„ç±»å’Œæ–¹æ³•å·²ä»ä»£ç åº“ä¸­åˆ é™¤</p><h3 id="7-1-æ•´åˆæ—¥å¿—æ¡†æ¶"><a href="#7-1-æ•´åˆæ—¥å¿—æ¡†æ¶" class="headerlink" title="7.1 æ•´åˆæ—¥å¿—æ¡†æ¶"></a>7.1 æ•´åˆæ—¥å¿—æ¡†æ¶</h3><p>Spring 5.0 æ¡†æ¶è‡ªå¸¦äº†é€šç”¨çš„æ—¥å¿—å°è£…</p><ul><li>Spring5 å·²ç»ç§»é™¤ Log4jConfigListenerï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨ Log4j2</li></ul><h4 id="7-1-1-Spring5-æ¡†æ¶æ•´åˆ-Log4j2"><a href="#7-1-1-Spring5-æ¡†æ¶æ•´åˆ-Log4j2" class="headerlink" title="7.1.1 Spring5 æ¡†æ¶æ•´åˆ Log4j2"></a>7.1.1 Spring5 æ¡†æ¶æ•´åˆ Log4j2</h4><p>1ã€å¯¼å…¥jaråŒ…</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072131661.png' data-fancybox='default' data-caption='image-20220307213147567'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072131661.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203072131661.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220307213147567"></a><span class='image-caption'>image-20220307213147567</span></div></div><pre><code class="xml">&lt;!--mavenä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;    &lt;version&gt;2.17.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;    &lt;version&gt;2.17.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;    &lt;version&gt;2.17.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;    &lt;version&gt;2.0.0-alpha6&lt;/version&gt;&lt;/dependency&gt;&lt;!--ä¸‹é¢è¿™ä¸ªä¾èµ–åœ¨slf4jçš„1.8ç‰ˆæœ¬åéœ€è¦åŠ ä¸Šï¼Œå¦åˆ™ä¼šæŠ¥no SLF4J provider were foundï¼Œå…·ä½“åŸå› å¯æŸ¥çœ‹æŠ¥é”™æ—¶ç»™å‡ºçš„é“¾æ¥è¿›è¡ŒæŸ¥çœ‹--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;    &lt;version&gt;2.0.0-alpha6&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>2ã€åˆ›å»ºlog4j2.xmlé…ç½®æ–‡ä»¶ï¼ˆé…ç½®æ–‡ä»¶åå¿…é¡»ä¸ºlog4j2.xmlï¼‰</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--æ—¥å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;&lt;!--Configuration åé¢çš„ status ç”¨äºè®¾ç½® log4j2 è‡ªèº«å†…éƒ¨çš„ä¿¡æ¯è¾“å‡ºï¼Œå¯ä»¥ä¸è®¾ç½®ï¼Œå½“è®¾ç½®æˆ trace æ—¶ï¼Œå¯ä»¥çœ‹åˆ° log4j2 å†…éƒ¨å„ç§è¯¦ç»†è¾“å‡º--&gt;&lt;configuration status=&quot;INFO&quot;&gt;    &lt;!--å…ˆå®šä¹‰æ‰€æœ‰çš„ appender--&gt;    &lt;appenders&gt;        &lt;!--è¾“å‡ºæ—¥å¿—ä¿¡æ¯åˆ°æ§åˆ¶å°--&gt;        &lt;console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;            &lt;!--æ§åˆ¶æ—¥å¿—è¾“å‡ºçš„æ ¼å¼--&gt;            &lt;PatternLayout pattern=&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;/&gt;        &lt;/console&gt;    &lt;/appenders&gt;    &lt;!--ç„¶åå®šä¹‰ loggerï¼Œåªæœ‰å®šä¹‰ logger å¹¶å¼•å…¥çš„ appenderï¼Œappender æ‰ä¼šç”Ÿæ•ˆ--&gt;    &lt;!--rootï¼šç”¨äºæŒ‡å®šé¡¹ç›®çš„æ ¹æ—¥å¿—ï¼Œå¦‚æœæ²¡æœ‰å•ç‹¬æŒ‡å®š Loggerï¼Œåˆ™ä¼šä½¿ç”¨ root ä½œä¸ºé»˜è®¤çš„æ—¥å¿—è¾“å‡º--&gt;    &lt;loggers&gt;        &lt;root level=&quot;info&quot;&gt;            &lt;appender-ref ref=&quot;Console&quot;/&gt;        &lt;/root&gt;    &lt;/loggers&gt;&lt;/configuration&gt;</code></pre><p>3ã€æµ‹è¯•ä»£ç ï¼ˆæ‰‹åŠ¨æ‰“å°æ—¥å¿—ï¼‰</p><pre><code class="java">import org.apache.logging.log4j.LogManager;import org.apache.logging.log4j.Logger;public class UserLog &#123;    private static final Logger logger = LogManager.getLogger(UserLog.class);    public static void main(String[] args) &#123;        logger.info(&quot;hello log4j2 info...&quot;);        logger.warn(&quot;hello log4j2 warn...&quot;);    &#125;&#125;</code></pre><p>åœ¨æµ‹è¯•ä»£ç æ—¶å› çœ‹è§†é¢‘ä¸­çš„Loggerå’ŒLogFactoryæ˜¯ä»org.slf4jåŒ…ä¸­å¯¼å…¥çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨æµ‹è¯•æ—¶ä¹Ÿæ˜¯å¯¼å…¥çš„è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯å½“æˆ‘è¿è¡Œæ—¶å‘ç°æ²¡æœ‰ä»»ä½•æ—¥å¿—ä¿¡æ¯æ‰“å°å‡ºæ¥ï¼Œæ­¤æ—¶æˆ‘å°±å»æœæŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥è§†é¢‘ä¸­çš„é‚£ç§å†™æ³•æ˜¯log4jçš„å†™æ³•ï¼Œå…¶å®ç”¨äºlog4j2æ˜¯é”™è¯¯çš„ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šä¸ºä»€ä¹ˆè§†é¢‘ä¸­å°±èƒ½æµ‹è¯•å‡ºæ¥ï¼Œäºæ˜¯æˆ‘çœ‹äº†ä¸‹é¢è¿™ç¯‡åšå®¢åå¯¼å…¥æ­£ç¡®çš„åŒ…æ‰æˆåŠŸè§£å†³äº†è¿™ä¸ªé—®é¢˜<a href="https://blog.csdn.net/zqg4919/article/details/78321580">https://blog.csdn.net/zqg4919/article/details/78321580</a></p><h3 id="7-2-æ”¯æŒ-Nullableæ³¨è§£"><a href="#7-2-æ”¯æŒ-Nullableæ³¨è§£" class="headerlink" title="7.2 æ”¯æŒ@Nullableæ³¨è§£"></a>7.2 æ”¯æŒ@Nullableæ³¨è§£</h3><p><code>@Nullable</code> æ³¨è§£å¯ä»¥ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢ï¼Œå‚æ•°ä¸Šé¢ï¼Œè¡¨ç¤ºæ–¹æ³•è¿”å›å¯ä»¥ä¸ºç©ºï¼Œå±æ€§å€¼å¯ä»¥ä¸ºç©ºï¼Œå‚æ•°å€¼å¯ä»¥ä¸ºç©º</p><pre><code class="java">public class NullableTest &#123;    //æ³¨è§£ä½¿ç”¨åœ¨å±æ€§ä¸Šé¢ï¼Œå±æ€§å€¼å¯ä»¥ä¸ºç©º    @Nullable    private String name;    //æ³¨è§£ç”¨åœ¨æ–¹æ³•ä¸Šé¢ï¼Œæ–¹æ³•è¿”å›å€¼å¯ä»¥ä¸ºç©º    @Nullable    public void testNullable(@Nullable String parameter)&#123;//æ³¨è§£ä½¿ç”¨åœ¨æ–¹æ³•å‚æ•°é‡Œé¢ï¼Œæ–¹æ³•å‚æ•°å¯ä»¥ä¸ºç©º    &#125;&#125;</code></pre><h3 id="7-3-å‡½æ•°å¼é£æ ¼"><a href="#7-3-å‡½æ•°å¼é£æ ¼" class="headerlink" title="7.3 å‡½æ•°å¼é£æ ¼"></a>7.3 å‡½æ•°å¼é£æ ¼</h3><p>Spring5 æ ¸å¿ƒå®¹å™¨æ”¯æŒå‡½æ•°å¼é£æ ¼ GenericApplicationContext</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Springæ¡†æ¶ä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºéƒ½æœ‰Springå®¹å™¨è‡ªå·±å®Œæˆï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³ä½¿ç”¨<code>new</code>å…³é”®å­—è‡ªå·±åˆ›å»ºå¯¹è±¡æ—¶Springå®¹å™¨æ˜¯å¾—ä¸åˆ°è¿™ä¸ªå¯¹è±¡çš„</p><p>ä¸¾ä¾‹ï¼šï¼ˆä¸ºäº†æ–¹ä¾¿å®ä½“ç±»ä½¿ç”¨ä¸Šè¿°çš„NullableTestç±»ï¼‰</p><pre><code class="java">NullableTest nullableTest = new NullableTest();//å½“æˆ‘ä»¬åƒä¸Šæ–¹é‚£æ ·åˆ›å»ºå¥½å¯¹è±¡åï¼Œå¦‚æœæˆ‘ä»¬æƒ³é€šè¿‡getBeanæ–¹æ³•è·å–åˆ°è¿™ä¸ªå¯¹è±¡æˆ–å°†å®ƒæ³¨å…¥åˆ°å…¶ä»–åœ°æ–¹ï¼Œé‚£ä¹ˆSpringå®¹å™¨æ˜¯ä¸èƒ½è¯†åˆ«åˆ°è¿™ä¸ªå¯¹è±¡ä»è€Œè¿›è¡Œè¿™äº›è¡Œä¸ºçš„//æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°Spring5çš„æ–°åŠŸèƒ½@Testpublic void testGenericApplicationContext() &#123;    //1 åˆ›å»º GenericApplicationContext å¯¹è±¡    GenericApplicationContext context = new GenericApplicationContext();    //2 è°ƒç”¨ context çš„æ–¹æ³•å¯¹è±¡æ³¨å†Œ    context.refresh();    //registerBeanæ–¹æ³•ä¸­éœ€è¦ä¼ å…¥â€”â€”åˆ›å»ºçš„å¯¹è±¡åï¼Œåˆ›å»ºçš„å¯¹è±¡ç±»å‹ï¼Œåˆ›å»ºçš„å¯¹è±¡â€”â€”ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­å¯¹è±¡åå¯ä»¥çœç•¥    //context.registerBean(NullableTest.class,() -&gt; new NullableTest());//è¿™ç§æ˜¯çœç•¥å¯¹è±¡åçš„å†™æ³•    context.registerBean(&quot;nullableTest&quot;,NullableTest.class,() -&gt; new NullableTest());//è¿™ç§æ˜¯ä¸çœç•¥å¯¹è±¡åçš„å†™æ³•    //3 è·å–åœ¨ spring æ³¨å†Œçš„å¯¹è±¡    //NullableTest nullableTest = (NullableTest) context.getBean(&quot;com.spring5.NullableTest&quot;);//çœç•¥å¯¹è±¡åæ³¨å†Œå¯¹è±¡çš„æ–¹å¼    NullableTest nullableTest = (NullableTest) context.getBean(&quot;nullableTest&quot;);//ä¸çœç•¥å¯¹è±¡åæ³¨å†Œå¯¹è±¡çš„æ–¹å¼    //ä¸Šè¿°ä¸¤ç§æ–¹å¼å‡èƒ½å°†æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„å¯¹è±¡æ³¨å†Œåˆ°Springå®¹å™¨ä¸­    System.out.println(nullableTest);//com.spring5.NullableTest@78452606&#125;</code></pre><h3 id="7-4-æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶"><a href="#7-4-æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶" class="headerlink" title="7.4 æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶"></a>7.4 æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶</h3><h4 id="7-4-1-JUnit4"><a href="#7-4-1-JUnit4" class="headerlink" title="7.4.1 JUnit4"></a>7.4.1 JUnit4</h4><p>1ã€å¼•å…¥Springæµ‹è¯•ç›¸å…³ä¾èµ–æˆ–å¯¼å…¥jaråŒ…</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;junit&lt;/groupId&gt;    &lt;artifactId&gt;junit&lt;/artifactId&gt;    &lt;version&gt;4.13.2&lt;/version&gt;    &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>2ã€ç¼–å†™æµ‹è¯•ç±»</p><pre><code class="java">//åˆ›å»ºæµ‹è¯•ç±»ï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼å®Œæˆ@RunWith(SpringJUnit4ClassRunner.class)  //å•å…ƒæµ‹è¯•æ¡†æ¶//@ContextConfiguration(&quot;classpath:bean.xml&quot;)  //è¯»å–é…ç½®æ–‡ä»¶çš„çš„æ–¹å¼ï¼Œè¿™å„¿å¯ä»¥è‡ªå·±çœ‹çœ‹è¿™ä¸ªæ³¨è§£çš„å…·ä½“æºç å°±çŸ¥é“äº†@ContextConfiguration(classes = &#123;SpringConfig.class&#125;)  //è¯»å–é…ç½®ç±»çš„æ–¹å¼public class TestSpring5 &#123;    @Autowired    private NullableTest nullableTest;  //è‡ªåŠ¨è£…è½½    @Test    public void testJUnit()&#123;        System.out.println(nullableTest);//com.spring5.NullableTest@5aac4250          //å½“æˆ‘ä»¬éœ€è¦ç”¨åˆ°nullableTestå¯¹è±¡æ—¶å®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºå¹¶è£…è½½ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ä¸éœ€è¦å†é€šè¿‡ClassPathXmlApplicationContextç±»æˆ–AnnotationConfigApplicationContextç±»æ¥è·å–å¯¹è±¡äº†    &#125;&#125;</code></pre><p>ä»è¿™é‡Œä¹Ÿå°±è§£å†³äº†æˆ‘åœ¨å‰é¢æåˆ°çš„ç–‘æƒ‘â€œä¸ºä»€ä¹ˆæ¯æ¬¡æµ‹è¯•æˆ‘ä»¬ä»éœ€è¦é€šè¿‡getBeanæ–¹æ³•æ¥è·å–serviceå¯¹è±¡â€ï¼ŒåŸæ¥æ˜¯æµ‹è¯•ç±»æ²¡æœ‰è·å–åˆ°é…ç½®æ–‡ä»¶æˆ–é…ç½®ç±»çš„é…ç½®å¹¶ä¸”æµ‹è¯•ç±»ä¹Ÿæ²¡æœ‰æ²¡æœ‰æ³¨å…¥åˆ°Springå®¹å™¨ä¸­ï¼Œå°±ä¸èƒ½è·å–åˆ°é…ç½®ä»è€Œå°±ä¸èƒ½è‡ªåŠ¨åˆ›å»ºå¯¹è±¡äº†</p><h4 id="7-4-2-JUnit5"><a href="#7-4-2-JUnit5" class="headerlink" title="7.4.2 JUnit5"></a>7.4.2 JUnit5</h4><p>1ã€å¼•å…¥JUnit5ç›¸å…³ä¾èµ–æˆ–å¯¼å…¥jaråŒ…</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;/groupId&gt;    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;    &lt;version&gt;5.3.16&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;    &lt;version&gt;5.8.2&lt;/version&gt;    &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;</code></pre><p>2ã€ç¼–å†™æµ‹è¯•ç±»</p><pre><code class="java">//åˆ›å»ºæµ‹è¯•ç±»ï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼å®Œæˆ//æ–¹å¼å‡ ä¹å’ŒJUnit4ä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦æ³¨æ„å¯¼å…¥çš„åŒ…å¿…é¡»è¦æ˜¯junit-jupiter-api@ExtendWith(SpringExtension.class)//@ContextConfiguration(&quot;classpath:bean.xml&quot;)@ContextConfiguration(classes = &#123;SpringConfig.class&#125;)public class TestJUnit5 &#123;    @Autowired    private NullableTest nullableTest;    @Test    public void testJUnit5()&#123;        System.out.println(nullableTest);//com.spring5.NullableTest@6ffab045    &#125;&#125;</code></pre><p>å¦å¤–ï¼Œåœ¨JUnit5ä¸­ï¼Œæµ‹è¯•ç±»ä¸Šæ–¹çš„ä¸¤ä¸ªæ³¨è§£å¯ä»¥ç”¨ä¸€ä¸ª<strong>å¤åˆæ³¨è§£</strong>ä»£æ›¿ï¼Œå³<code>@SpringJUnitConfig(locations = &quot;classpath:bean1.xml&quot;)</code>æˆ–<code>@SpringJUnitConfig(classes = &#123;SpringConfig.class&#125;)</code></p><h3 id="7-5-Webflux"><a href="#7-5-Webflux" class="headerlink" title="7.5 Webflux"></a>7.5 Webflux</h3><h4 id="7-5-1-åŸºæœ¬æ¦‚å¿µ"><a href="#7-5-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="7.5.1 åŸºæœ¬æ¦‚å¿µ"></a>7.5.1 åŸºæœ¬æ¦‚å¿µ</h4><p>Webfluxæ˜¯ Spring5 æ·»åŠ æ–°çš„æ¨¡å—ï¼Œç”¨äº web å¼€å‘çš„ï¼ŒåŠŸèƒ½å’Œ SpringMVC ç±»ä¼¼çš„ï¼ŒWebflux ä½¿ç”¨å½“å‰ä¸€ç§æ¯”è¾ƒæµè¡Œçš„å“åº”å¼ç¼–ç¨‹å‡ºç°çš„æ¡†æ¶ã€‚</p><p>ç›®å‰ä½¿ç”¨çš„ä¼ ç»Ÿ web æ¡†æ¶ï¼Œæ¯”å¦‚ SpringMVCï¼Œè¿™äº›éƒ½æ˜¯åŸºäº Servlet å®¹å™¨ã€‚</p><p>Webflux æ˜¯ä¸€ç§<strong>å¼‚æ­¥éé˜»å¡</strong>çš„æ¡†æ¶ï¼Œå¼‚æ­¥éé˜»å¡çš„æ¡†æ¶åœ¨ <strong>Servlet3.1 ä»¥åæ‰æ”¯æŒ</strong>ï¼Œæ ¸å¿ƒæ˜¯<strong>åŸºäº Reactor çš„ç›¸å…³ API</strong> å®ç°çš„ã€‚</p><p>ä»€ä¹ˆæ˜¯å¼‚æ­¥éé˜»å¡ï¼Ÿ</p><ul><li><strong>å¼‚æ­¥å’ŒåŒæ­¥</strong></li><li><strong>éé˜»å¡å’Œé˜»å¡</strong></li><li>ä¸Šé¢ä¸¤ç§æœ¯è¯­é’ˆå¯¹å¯¹è±¡ä¸ä¸€æ ·<ul><li><strong>å¼‚æ­¥å’ŒåŒæ­¥é’ˆå¯¹è°ƒç”¨è€…</strong>ï¼Œè°ƒç”¨è€…å‘é€è¯·æ±‚ï¼Œå¦‚æœç­‰ç€å¯¹æ–¹<strong>å›åº”ä¹‹åæ‰å»åš</strong>å…¶ä»–äº‹æƒ…å°±æ˜¯åŒæ­¥ï¼Œå¦‚æœå‘é€<strong>è¯·æ±‚ä¹‹åä¸ç”¨ç­‰å¯¹æ–¹å›åº”</strong>å°±å»åšå…¶ä»–äº‹æƒ…å°±æ˜¯å¼‚æ­¥ï¼ˆè°ƒç”¨è€…éœ€è¦ç­‰åˆ°ä¸€ä¸ªè¯·æ±‚è¢«å“åº”åæ‰èƒ½å‘å‡ºä¸‹ä¸€ä¸ªè¯·æ±‚å°±æ˜¯åŒæ­¥ï¼Œè°ƒç”¨è€…å‘å‡ºä¸€ä¸ªè¯·æ±‚åè¿˜å¯ä»¥å‘é€å…¶ä»–è¯·æ±‚å°±æ˜¯å¼‚æ­¥ï¼‰</li><li><strong>é˜»å¡å’Œéé˜»å¡é’ˆå¯¹è¢«è°ƒç”¨è€…</strong>ï¼Œè¢«è°ƒç”¨è€…å—åˆ°è¯·æ±‚ä¹‹åï¼Œ<strong>åšå®Œè¯·æ±‚ä»»åŠ¡ä¹‹åæ‰ç»™å‡ºåé¦ˆ</strong>å°±æ˜¯é˜»å¡ï¼Œ<strong>å—åˆ°è¯·æ±‚ä¹‹åé©¬ä¸Šç»™å‡ºåé¦ˆç„¶åå†å»åš</strong>äº‹æƒ…å°±æ˜¯éé˜»å¡ï¼ˆè¢«è°ƒç”¨è€…å¤„ç†å®Œè¯·æ±‚åå†å“åº”æ˜¯é˜»å¡ï¼Œè¢«è°ƒç”¨è€…å“åº”åå†å¤„ç†è¯·æ±‚æ˜¯éé˜»å¡ï¼‰</li></ul></li></ul><p><strong>Webfluxçš„ç‰¹ç‚¹ï¼š</strong></p><ul><li><strong>éé˜»å¡å¼</strong>ï¼šåœ¨æœ‰é™èµ„æºä¸‹ï¼Œæé«˜ç³»ç»Ÿååé‡å’Œä¼¸ç¼©æ€§ï¼Œä»¥ Reactor ä¸ºåŸºç¡€å®ç°å“åº”å¼ç¼–ç¨‹</li><li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šSpring5 æ¡†æ¶åŸºäº java8ï¼ŒWebflux ä½¿ç”¨ Java8 å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼å®ç°è·¯ç”±è¯·æ±‚</li></ul><p><strong>Spring WebFluxå’ŒSpring MVCçš„å¼‚åŒï¼š</strong></p><ul><li>ä¸¤ä¸ªæ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨æ³¨è§£æ–¹å¼ï¼Œéƒ½è¿è¡Œåœ¨ Tomcat ç­‰å®¹å™¨ä¸­</li><li>SpringMVC é‡‡ç”¨å‘½ä»¤å¼ç¼–ç¨‹ï¼ŒWebflux é‡‡ç”¨å¼‚æ­¥å“åº”å¼ç¼–ç¨‹</li><li><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091503947.png' data-fancybox='default' data-caption='image-20220309150348716'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091503947.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091503947.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309150348716"></a><span class='image-caption'>image-20220309150348716</span></div></div></li></ul><h4 id="7-5-2-å“åº”å¼ç¼–ç¨‹"><a href="#7-5-2-å“åº”å¼ç¼–ç¨‹" class="headerlink" title="7.5.2 å“åº”å¼ç¼–ç¨‹"></a>7.5.2 å“åº”å¼ç¼–ç¨‹</h4><p>ä»€ä¹ˆæ˜¯å“åº”å¼ç¼–ç¨‹ï¼Ÿ</p><p>å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§<strong>é¢å‘æ•°æ®æµå’Œå˜åŒ–ä¼ æ’­</strong>çš„ç¼–ç¨‹èŒƒå¼ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ç¼–ç¨‹è¯­è¨€ä¸­å¾ˆæ–¹ä¾¿åœ°<strong>è¡¨è¾¾é™æ€æˆ–åŠ¨æ€çš„æ•°æ®æµ</strong>ï¼Œè€Œç›¸å…³çš„è®¡ç®—æ¨¡å‹ä¼šè‡ªåŠ¨<strong>å°†å˜åŒ–çš„å€¼é€šè¿‡æ•°æ®æµè¿›è¡Œä¼ æ’­</strong>ã€‚æ¯”å¦‚ï¼ŒExcelçš„ç”µå­è¡¨æ ¼å°±æ˜¯å“åº”å¼ç¼–ç¨‹çš„ä¸€ä¸ªä¾‹å­ï¼Œå•å…ƒæ ¼å¯ä»¥åŒ…å«å­—é¢å€¼æˆ–ç±»ä¼¼â€=B1+C1â€çš„å…¬å¼ï¼Œè€Œ<strong>åŒ…å«å…¬å¼çš„å•å…ƒæ ¼çš„å€¼ä¼šä¾æ®å…¶ä»–å•å…ƒæ ¼çš„å€¼çš„å˜åŒ–è€Œå˜åŒ–</strong>ã€‚</p><h5 id="1-Javaå®ç°å“åº”å¼ç¼–ç¨‹"><a href="#1-Javaå®ç°å“åº”å¼ç¼–ç¨‹" class="headerlink" title="1.Javaå®ç°å“åº”å¼ç¼–ç¨‹"></a>1.Javaå®ç°å“åº”å¼ç¼–ç¨‹</h5><p>åœ¨JDK8 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­æä¾›äº†è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸¤ä¸ªç±» Observer å’Œ Observable</p><p>å…¶ä¸­ï¼Œè§‚å¯Ÿè€…ç±»éœ€è¦å®ç°Observeræ¥å£ï¼Œè¢«è§‚å¯Ÿè€…ç±»éœ€è¦ç»§æ‰¿Observableç±»</p><pre><code class="java">public class ObserverDemo extends Observable &#123;    public static void main(String[] args) &#123;        ObserverDemo observerDemo = new ObserverDemo();        observerDemo.addObserver((o, arg) -&gt; &#123;            System.out.println(&quot;æ•°æ®å‘ç”Ÿäº†å˜åŒ–&quot;);        &#125;);        observerDemo.addObserver((o, arg) -&gt; &#123;            System.out.println(&quot;æ”¶åˆ°è§‚å¯Ÿè€…é€šçŸ¥&quot;);        &#125;);        observerDemo.addObserver((o, arg) -&gt; &#123;            System.out.println(&quot;æ”¶åˆ°è§‚å¯Ÿè€…é€šçŸ¥1&quot;);        &#125;);        //è‹¥æ²¡æœ‰ä¸‹æ–¹ä½¿æ•°æ®æ”¹å˜å¹¶ä¸”é€šçŸ¥è§‚å¯Ÿè€…çš„ä»£ç ï¼Œåˆ™ä¸ä¼šè¾“å‡ºä»»ä½•è¯­å¥        observerDemo.setChanged();//ä½¿æ•°æ®å‘ç”Ÿæ”¹å˜        observerDemo.notifyObservers();//é€šçŸ¥è§‚å¯Ÿè€…        //æ”¶åˆ°è¢«è§‚å¯Ÿè€…é€šçŸ¥1        //æ”¶åˆ°è¢«è§‚å¯Ÿè€…é€šçŸ¥        //æ•°æ®å‘ç”Ÿäº†å˜åŒ–        //ä»è¾“å‡ºé¡ºåºå¯ä»¥çœ‹å‡ºï¼Œè§‚å¯Ÿè€…è¢«é€šçŸ¥çš„é¡ºåºæ˜¯å°±è¿‘åŸåˆ™ï¼Œå¯èƒ½æ˜¯è¿™ä¸‰ä¸ªè§‚å¯Ÿè€…å¯¹è±¡è¢«å­˜æ”¾åˆ°äº†ç±»ä¼¼æ ˆçš„æ•°æ®ç»“æ„ä¸­ï¼ˆä¸ªäººè®¤ä¸ºï¼‰    &#125;&#125;</code></pre><p>åœ¨JDK9ä¸­ï¼ŒObserverå’ŒObservableå°±è¢«Flowç±»æ›¿ä»£äº†ï¼Œåœ¨Flowç±»ä¸­ï¼Œé€šè¿‡å†…éƒ¨æ¥å£Publisherä¸­çš„subscribeæ–¹æ³•å®ç°è§‚å¯Ÿè€…æ¨¡å¼</p><pre><code class="java">public class ObserverDemo extends Observable &#123;    public static void main(String[] args) &#123;        //subscriberâ€”â€”è®¢é˜…è€…/è§‚å¯Ÿè€…ï¼ŒPublisherâ€”â€”å‘å¸ƒè€…/è¢«è§‚å¯Ÿè€…        //åœ¨è¿™é‡Œé¢subscriberåº”è¯¥æ˜¯å……å½“è§‚å¯Ÿè€…ï¼Œå½“è§‚å¯Ÿåˆ°æœ‰æ•°æ®å˜åŒ–publisheråˆ™åšå‡ºç›¸åº”å¤„ç†æ–¹å¼        Flow.Publisher&lt;String&gt; publisher = subscriber -&gt; &#123;            subscriber.onNext(&quot;1&quot;);            subscriber.onNext(&quot;2&quot;);            subscriber.onError(new RuntimeException(&quot;å‡ºé”™&quot;));        &#125;    &#125;&#125;</code></pre><p>æƒ³è¦å¼„æ‡‚è¿™é‡Œéœ€è¦äº†è§£ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</p><p>è§‚å¯Ÿè€…æ¨¡å¼å…¶å®ä¹Ÿæ˜¯å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ç§å¯¹è±¡é—´ä¸€å¯¹å¤šï¼ˆä¸€æ˜¯è¢«è§‚å¯Ÿè€…ï¼Œå¤šæ˜¯è§‚å¯Ÿè€…ï¼‰çš„ä¾èµ–å…³ç³»ï¼Œæ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¸å…¶ä¾èµ–çš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p><h5 id="2-Reactorå®ç°å“åº”å¼ç¼–ç¨‹"><a href="#2-Reactorå®ç°å“åº”å¼ç¼–ç¨‹" class="headerlink" title="2.Reactorå®ç°å“åº”å¼ç¼–ç¨‹"></a>2.Reactorå®ç°å“åº”å¼ç¼–ç¨‹</h5><p>Reactorå®˜ç½‘æ–‡æ¡£ï¼š<a href="https://projectreactor.io/docs/core/release/reference/">https://projectreactor.io/docs/core/release/reference/</a></p><p>å“åº”å¼ç¼–ç¨‹æ“ä½œä¸­ï¼Œéœ€è¦æ»¡è¶³ Reactive è§„èŒƒï¼Œè€ŒReactorå°±æ˜¯æ»¡è¶³ Reactive è§„èŒƒçš„ä¸€ç§æ¡†æ¶</p><p>Reactor æœ‰ä¸¤ä¸ªæ ¸å¿ƒç±»ï¼Œ<code>Mono</code> å’Œ <code>Flux</code>ï¼Œè¿™ä¸¤ä¸ªç±»<strong>å®ç°æ¥å£ Publisher</strong>ï¼Œæä¾›ä¸°å¯Œçš„æ“ä½œç¬¦ã€‚Flux å¯¹è±¡å®ç°å‘å¸ƒè€…ï¼Œè¿”å› N ä¸ªå…ƒç´ ï¼›è€ŒMono å®ç°å‘å¸ƒè€…ï¼Œè¿”å› 0 æˆ–è€… 1 ä¸ªå…ƒç´ </p><p>Flux å’Œ Mono <strong>éƒ½æ˜¯æ•°æ®æµçš„å‘å¸ƒè€…</strong>ï¼Œä½¿ç”¨ Flux å’Œ Mono éƒ½å¯ä»¥å‘å‡ºä¸‰ç§æ•°æ®ä¿¡å·ï¼š<strong>å…ƒç´ å€¼ï¼Œé”™è¯¯ä¿¡å·ï¼Œå®Œæˆä¿¡å·</strong>ï¼ˆé”™è¯¯ä¿¡å·å’Œå®Œæˆä¿¡å·éƒ½ä»£è¡¨ç»ˆæ­¢ä¿¡å·ï¼Œç»ˆæ­¢ä¿¡å·ç”¨äºå‘Šè¯‰è®¢é˜…è€…æ•°æ®æµç»“æŸäº†ï¼Œé”™è¯¯ä¿¡å·ç»ˆæ­¢æ•°æ®æµåŒæ—¶æŠŠé”™è¯¯ä¿¡æ¯ä¼ é€’ç»™è®¢é˜…è€…ï¼‰</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091648413.png' data-fancybox='default' data-caption='image-20220309164859260'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091648413.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091648413.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309164859260"></a><span class='image-caption'>image-20220309164859260</span></div></div><p><strong>ä»£ç æ¼”ç¤º</strong></p><pre><code class="xml">&lt;!--å¯¼å…¥mavenä¾èµ–--&gt;&lt;dependency&gt;    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;    &lt;version&gt;3.4.14&lt;/version&gt;&lt;/dependency&gt;</code></pre><pre><code class="java">//æµ‹è¯•ä»£ç public class ReactorTest &#123;    public static void main(String[] args) &#123;        //just æ–¹æ³•ç›´æ¥å£°æ˜æ•°æ®æµ        Flux.just(1,2,3,4);        Mono.just(1);        //å…¶ä»–çš„æ–¹æ³•        Integer[] array = &#123;1,2,3,4&#125;;        Flux.fromArray(array); //æ•°ç»„å½¢å¼                List&lt;Integer&gt; list = Arrays.asList(array);        Flux.fromIterable(list); //é›†åˆå½¢å¼                Stream&lt;Integer&gt; stream = list.stream();        Flux.fromStream(stream); //æµå½¢å¼    &#125;&#125;//è°ƒç”¨ just æˆ–è€…å…¶ä»–æ–¹æ³•åªæ˜¯å£°æ˜æ•°æ®æµï¼Œæ•°æ®æµå¹¶æ²¡æœ‰å‘å‡ºï¼Œåªæœ‰è¿›è¡Œè®¢é˜…ä¹‹åæ‰ä¼šè§¦å‘æ•°æ®æµï¼Œä¸è®¢é˜…ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿçš„</code></pre><pre><code class="java">//åªæœ‰åƒè¿™æ ·è°ƒç”¨subscribeæ–¹æ³•è®¢é˜…åæ‰ä¼šè§¦å‘æ•°æ®æµFlux.just(1,2,3,4).subscribe(System.out::println);Mono.just(1).subscribe(System.out::println);</code></pre><p>ä¸‰ç§ä¿¡å·ç‰¹ç‚¹</p><ul><li>é”™è¯¯ä¿¡å·å’Œå®Œæˆä¿¡å·éƒ½æ˜¯ç»ˆæ­¢ä¿¡å·ï¼Œä¸èƒ½å…±å­˜çš„</li><li>å¦‚æœæ²¡æœ‰å‘é€ä»»ä½•å…ƒç´ å€¼ï¼Œè€Œæ˜¯ç›´æ¥å‘é€é”™è¯¯æˆ–è€…å®Œæˆä¿¡å·ï¼Œè¡¨ç¤ºæ˜¯ç©ºæ•°æ®æµ</li><li>å¦‚æœæ²¡æœ‰é”™è¯¯ä¿¡å·ï¼Œæ²¡æœ‰å®Œæˆä¿¡å·ï¼Œè¡¨ç¤ºæ˜¯æ— é™æ•°æ®æµ</li></ul><h5 id="3-æ“ä½œç¬¦"><a href="#3-æ“ä½œç¬¦" class="headerlink" title="3.æ“ä½œç¬¦"></a>3.æ“ä½œç¬¦</h5><p>æ“ä½œç¬¦æ˜¯å¯¹æ•°æ®æµè¿›è¡Œä¸€é“é“æ“ä½œï¼Œæœ€ç»ˆå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®æµï¼Œæ¯”å¦‚å·¥å‚æµæ°´çº¿ï¼Œå…¶ä¸­å¯¹äº§å“è¿›è¡ŒåŠ å·¥çš„ä¸€é“é“å·¥åºå°±æ˜¯ç›¸å½“äºæ˜¯æ“ä½œç¬¦</p><p>å¸¸è§çš„æ“ä½œç¬¦ï¼š</p><ul><li><p><strong>map</strong> ï¼šå°†å…ƒç´ æ˜ å°„ä¸ºæ–°å…ƒç´ </p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091723939.png' data-fancybox='default' data-caption='image-20220309172319837'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091723939.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091723939.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309172319837"></a><span class='image-caption'>image-20220309172319837</span></div></div></li><li><p><strong>flatMap</strong>ï¼šå°†å…ƒç´ æ˜ å°„ä¸ºæµï¼ŒæŠŠæ¯ä¸ªå…ƒç´ è½¬æ¢æµï¼ŒæŠŠè½¬æ¢ä¹‹åçš„å¤šä¸ªæµåˆå¹¶å¤§çš„æµ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091725406.png' data-fancybox='default' data-caption='image-20220309172528291'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091725406.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091725406.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309172528291"></a><span class='image-caption'>image-20220309172528291</span></div></div></li></ul><h4 id="7-5-3-æ‰§è¡Œæµç¨‹å’Œæ ¸å¿ƒAPI"><a href="#7-5-3-æ‰§è¡Œæµç¨‹å’Œæ ¸å¿ƒAPI" class="headerlink" title="7.5.3 æ‰§è¡Œæµç¨‹å’Œæ ¸å¿ƒAPI"></a>7.5.3 æ‰§è¡Œæµç¨‹å’Œæ ¸å¿ƒAPI</h4><p>SpringWebflux <strong>åŸºäº Reactor</strong>ï¼Œé»˜è®¤ä½¿ç”¨å®¹å™¨æ˜¯ Nettyï¼ŒNetty æ˜¯é«˜æ€§èƒ½çš„ <strong>NIO</strong> æ¡†æ¶ï¼Œ<strong>å¼‚æ­¥éé˜»å¡</strong>çš„æ¡†æ¶</p><p><strong>1.NIOæ¡†æ¶</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091815400.png' data-fancybox='default' data-caption='image-20220309181506266'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091815400.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091815400.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309181506266"></a><span class='image-caption'>image-20220309181506266</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091816570.png' data-fancybox='default' data-caption='image-20220309181630432'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091816570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091816570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309181630432"></a><span class='image-caption'>image-20220309181630432</span></div></div><p><strong>2.SpringWebflux æ‰§è¡Œè¿‡ç¨‹å’Œ SpringMVC ç›¸ä¼¼</strong></p><p>SpringWebflux æ ¸å¿ƒæ§åˆ¶å™¨ <code>DispatcherHandler</code> ç±»ï¼Œè¯¥ç±»å®ç°æ¥å£ <code>WebHandler</code>ï¼Œå®ç°äº†æ¥å£ WebHandler ä¸­çš„ä¸€ä¸ªæ–¹æ³• <code>handle</code> </p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091821570.png' data-fancybox='default' data-caption='image-20220309182159482'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091821570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203091821570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309182159482"></a><span class='image-caption'>image-20220309182159482</span></div></div><p>è¯¥æ–¹æ³•åœ¨DispatcherHandlerç±»ä¸­çš„å…·ä½“å®ç°ï¼š(éœ€è¦åˆ›å»ºSpringBooté¡¹ç›®å¯¼å…¥<code>spring-boot-starter-webflux</code>ä¾èµ–æ‰èƒ½æŸ¥çœ‹)</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092223404.png' data-fancybox='default' data-caption='image-20220309222340273'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092223404.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092223404.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309222340273"></a><span class='image-caption'>image-20220309222340273</span></div></div><p>WebHandleræ¥å£ä¸åŒå®ç°ç±»çš„ä¸åŒåŠŸèƒ½ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092236759.png' data-fancybox='default' data-caption='image-20220309223609662'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092236759.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203092236759.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220309223609662"></a><span class='image-caption'>image-20220309223609662</span></div></div><p><strong>3.SpringWebflux é‡Œé¢ DispatcherHandlerï¼Œè´Ÿè´£è¯·æ±‚çš„å¤„ç†</strong></p><ul><li>HandlerMappingï¼šè¯·æ±‚æŸ¥è¯¢åˆ°å¤„ç†çš„æ–¹æ³•</li><li>HandlerAdapterï¼šçœŸæ­£è´Ÿè´£è¯·æ±‚å¤„ç†</li><li>HandlerResultHandlerï¼šå“åº”ç»“æœå¤„ç†</li></ul><p><strong>4.SpringWebflux å®ç°å‡½æ•°å¼ç¼–ç¨‹ï¼Œä¸¤ä¸ªæ¥å£ï¼šRouterFunctionï¼ˆè·¯ç”±å¤„ç†ï¼‰å’Œ HandlerFunctionï¼ˆå¤„ç†å‡½æ•°ï¼‰</strong></p><h4 id="7-5-4-æ³¨è§£ç¼–ç¨‹æ¨¡å‹"><a href="#7-5-4-æ³¨è§£ç¼–ç¨‹æ¨¡å‹" class="headerlink" title="7.5.4 æ³¨è§£ç¼–ç¨‹æ¨¡å‹"></a>7.5.4 æ³¨è§£ç¼–ç¨‹æ¨¡å‹</h4><p>SpringWebflux å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ³¨è§£ç¼–ç¨‹æ¨¡å‹å’Œå‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹</p><p>ä½¿ç”¨æ³¨è§£ç¼–ç¨‹æ¨¡å‹çš„æ–¹å¼ï¼Œå’Œ SpringMVC ä½¿ç”¨ç›¸ä¼¼ï¼Œåªéœ€è¦æŠŠç›¸å…³ä¾èµ–é…ç½®åˆ°é¡¹ç›®ä¸­ï¼ŒSpringBoot è‡ªåŠ¨é…ç½®ç›¸å…³è¿è¡Œå®¹å™¨ï¼Œ<strong>é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ Netty æœåŠ¡å™¨</strong></p><p>é¦–å…ˆï¼Œé€šè¿‡ä»£ç å®ç°æ³¨è§£ç¼–ç¨‹æ¨¡å‹</p><p><strong>1.åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®</strong></p><p>åœ¨æ–°å»ºé¡¹ç›®ä¸­é€‰æ‹©æ–°å»ºSpring Initializré¡¹ç›®</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101951860.png' data-fancybox='default' data-caption='image-20220310195120697'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101951860.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101951860.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310195120697"></a><span class='image-caption'>image-20220310195120697</span></div></div><p>å®Œæˆé¡¹ç›®åˆ›å»º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101953774.png' data-fancybox='default' data-caption='image-20220310195328649'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101953774.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101953774.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310195328649"></a><span class='image-caption'>image-20220310195328649</span></div></div><p><strong>2.å¯¼å…¥ä¾èµ–</strong></p><p>åœ¨pomæ–‡ä»¶ä¸­å°†<code>spring-boot-starter-web</code>ä¾èµ–æ›´æ”¹ä¸º<code>spring-boot-starter-webflux</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101955469.png' data-fancybox='default' data-caption='image-20220310195512385'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101955469.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101955469.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310195512385"></a><span class='image-caption'>image-20220310195512385</span></div></div><p><strong>3.åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æœåŠ¡å™¨ç«¯å£å·</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101956463.png' data-fancybox='default' data-caption='image-20220310195651363'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101956463.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203101956463.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310195651363"></a><span class='image-caption'>image-20220310195651363</span></div></div><p><strong>4.åˆ›å»ºå¥½ç›¸å…³åŒ…å’Œç±»</strong></p><pre><code class="java">//å®ä½“ç±»public class User &#123;    private String name;    private String gender;    private Integer age;    public User(String name, String gender, Integer age) &#123;        this.name = name;        this.gender = gender;        this.age = age;    &#125;    //çœç•¥setterï¼Œgetterå’ŒtoStringæ–¹æ³•&#125;//service@Servicepublic class UserServiceImpl implements UserService &#123;    //ç”±äºä¸ºäº†æ–¹ä¾¿ä¸è¿æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸€ä¸ªMapæ¥å­˜æ”¾æ•°æ®    private final Map&lt;Integer,User&gt; users = new HashMap&lt;&gt;();    //åœ¨æ„é€ å‡½æ•°ä¸­å¯¹æ•°æ®è¿›è¡Œåˆå§‹åŒ–    public UserServiceImpl()&#123;        this.users.put(1,new User(&quot;Eric&quot;,&quot;ç”·&quot;,23));        this.users.put(2,new User(&quot;Jack&quot;,&quot;ç”·&quot;,26));        this.users.put(3,new User(&quot;Lucy&quot;,&quot;å¥³&quot;,20));    &#125;    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·    @Override    public Mono&lt;User&gt; getUserById(Integer id) &#123;        return Mono.justOrEmpty(this.users.get(id)); //justOrEmptyæ–¹æ³•ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Mono ï¼Œå¦‚æœé null åˆ™å‘å‡ºæŒ‡å®šçš„é¡¹ç›®ï¼Œå¦åˆ™åªå‘å‡º å®Œæˆ    &#125;    //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·    @Override    public Flux&lt;User&gt; getAllUser() &#123;        return Flux.fromIterable(this.users.values());        //fromXxxæ–¹æ³•        //fromArrayï¼ˆä»æ•°ç»„ï¼‰ã€fromIterableï¼ˆä»è¿­ä»£å™¨ï¼‰ã€fromStreamï¼ˆä» Java Stream æµï¼‰ çš„æ–¹å¼æ¥åˆ›å»º Flux    &#125;    //æ·»åŠ æ–°ç”¨æˆ·    @Override    public Mono&lt;Void&gt; addUser(Mono&lt;User&gt; user) &#123;        return user.doOnNext(person -&gt; &#123; //doOnNextæ–¹æ³•ï¼šæ·»åŠ è¡Œä¸ºæ—¶è§¦å‘ Mono æˆåŠŸå‘å‡ºæ•°æ®            //å‘é›†åˆæ·»åŠ æ–°æ•°æ®            int id = users.size() + 1;            users.put(id,person);        &#125;).thenEmpty(Mono.empty());//ç”Ÿæˆä¸€ä¸ªç©ºçš„æœ‰é™æµï¼Œè¿™å„¿ç”¨æ¥ç»ˆæ­¢æ•°æ®æµ    &#125;&#125;//controller@RestControllerpublic class UserController &#123;    @Autowired    private UserService userService;    //id æŸ¥è¯¢    @GetMapping(&quot;/user/&#123;id&#125;&quot;)    public Mono&lt;User&gt; getUserById(@PathVariable int id) &#123;        return userService.getUserById(id);    &#125;    //æŸ¥è¯¢æ‰€æœ‰    @GetMapping(&quot;/users&quot;)    public Flux&lt;User&gt; getUsers() &#123;        return userService.getAllUser();    &#125;    //æ·»åŠ     @PostMapping(&quot;/addUser&quot;)    public Mono&lt;Void&gt; saveUser(@RequestBody User user) &#123;        Mono&lt;User&gt; userMono = Mono.just(user);//justæ–¹æ³•çš„ä½œç”¨ï¼šå°†æ•°æ®ä½œä¸ºæµå‘å‡ºå¹¶ç»“æŸè¿™æ®µæ•°æ®æµ        return userService.addUser(userMono);    &#125;&#125;//è‹¥ä»¥ä¸Šæ–¹æ³•ä¸æ¸…æ¥šåŠŸèƒ½ï¼Œå¯ä»¥è¿”å›åˆ°7.5.2èŠ‚çš„ç¬¬äºŒéƒ¨åˆ†ä¸­ç‚¹å‡»é“¾æ¥æŸ¥çœ‹Reactorå®˜ç½‘æ–‡æ¡£</code></pre><p><strong>5.å¯åŠ¨é¡¹ç›®</strong></p><p>å¯åŠ¨é¡¹ç›®å¯ä»¥åœ¨æ§åˆ¶å°å‘ç°SpringBooté¡¹ç›®ä½¿ç”¨çš„æ˜¯Nettyå®¹å™¨ï¼Œå¹¶ä¸”ä½¿ç”¨çš„ç«¯å£æ˜¯é…ç½®çš„8081ç«¯å£</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102051032.png' data-fancybox='default' data-caption='image-20220310205118911'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102051032.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102051032.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310205118911"></a><span class='image-caption'>image-20220310205118911</span></div></div><p>ç„¶ååœ¨æµè§ˆå™¨è®¿é—®æ•°æ®ï¼Œæ•°æ®åœ¨æµè§ˆå™¨ä¸­æˆåŠŸæ˜¾ç¤ºåˆ™ä»£è¡¨æˆåŠŸ</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102053650.png' data-fancybox='default' data-caption='image-20220310205304480'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102053650.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102053650.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310205304480"></a><span class='image-caption'>image-20220310205304480</span></div></div><p><strong>æ³¨è§£ç¼–ç¨‹æ¨¡å‹å®ç°çš„è¯´æ˜ï¼š</strong></p><ul><li>SpringMVC æ–¹å¼å®ç°â€”â€”æ˜¯<strong>åŒæ­¥é˜»å¡</strong>çš„æ–¹å¼ï¼ŒåŸºäº <code>SpringMVC+Servlet+Tomcat</code></li><li>SpringWebflux æ–¹å¼å®ç°â€”â€”<strong>å¼‚æ­¥éé˜»å¡</strong>æ–¹å¼ï¼ŒåŸºäº <code>SpringWebflux+Reactor+Netty</code></li></ul><h4 id="7-5-5-å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹"><a href="#7-5-5-å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹" class="headerlink" title="7.5.5 å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹"></a>7.5.5 å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹</h4><p>åœ¨ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹æ“ä½œæ—¶å€™ï¼Œéœ€è¦<strong>è‡ªå·±åˆå§‹åŒ–æœåŠ¡å™¨</strong></p><p>åŸºäºå‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹æ—¶å€™ï¼Œæœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¥å£ï¼š<code>RouterFunction</code>ï¼ˆ<strong>å®ç°è·¯ç”±åŠŸèƒ½ï¼Œè¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„ handler</strong>ï¼‰å’Œ <code>HandlerFunction</code>ï¼ˆ<strong>å¤„ç†è¯·æ±‚ï¼Œç”Ÿæˆå“åº”çš„å‡½æ•°</strong>ï¼‰ã€‚æ ¸å¿ƒä»»åŠ¡å°±æ˜¯<strong>å®šä¹‰è¿™ä¸¤ä¸ªå‡½æ•°å¼æ¥å£çš„å®ç°ç±»å¹¶ä¸”å¯åŠ¨éœ€è¦çš„æœåŠ¡å™¨</strong></p><p>SpringWebflux è¯·æ±‚å’Œå“åº”ä¸å†æ˜¯ ServletRequest å’Œ ServletResponse ï¼Œè€Œæ˜¯<code>ServerRequest</code> å’Œ <code>ServerResponse</code></p><p>å‡½æ•°å¼ç¼–ç¨‹å„ä¸ªéƒ¨åˆ†ä¹‹é—´çš„è”ç³»ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102135952.png' data-fancybox='default' data-caption='image-20220310213521825'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102135952.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102135952.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310213521825"></a><span class='image-caption'>image-20220310213521825</span></div></div><p><strong>1.æ„å»ºé¡¹ç›®</strong></p><p>åœ¨æ³¨è§£ç¼–ç¨‹æ¨¡å‹çš„åŸºç¡€ä¸Šåˆ é™¤controllerå±‚ï¼Œä¿ç•™serviceå’Œentity</p><p><strong>2.åˆ›å»ºHandler</strong></p><pre><code class="java">public class UserHandler &#123;    private final UserService userService;    public UserHandler(UserService userService) &#123;        this.userService = userService;    &#125;    //æ ¹æ® id æŸ¥è¯¢    public Mono&lt;ServerResponse&gt; getUserById(ServerRequest request) &#123;        //è·å– id å€¼        int userId = Integer.parseInt(request.pathVariable(&quot;id&quot;));        //ç©ºå€¼å¤„ç†        Mono&lt;ServerResponse&gt; notFound = ServerResponse.notFound().build();//æ²¡æœ‰æ‰¾åˆ°å¯¹åº”æ•°æ®å°±åˆ›å»ºä¸€ä¸ªç©ºæ•°æ®        //è°ƒç”¨ service æ–¹æ³•å¾—åˆ°æ•°æ®        Mono&lt;User&gt; userMono = this.userService.getUserById(userId);        //æŠŠ userMono è¿›è¡Œè½¬æ¢è¿”å›        //ä½¿ç”¨ Reactor æ“ä½œç¬¦ flatMap        return userMono.flatMap(person -&gt; ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(fromObject(person))).switchIfEmpty(notFound);        //å¦‚æœuserMonoä¸ä¸ºç©ºï¼ŒæœåŠ¡å“åº”æˆåŠŸï¼Œå¹¶å°†userMonoè½¬æ¢æˆjsonæ•°æ®æ ¼å¼å¹¶æµåŒ–å¤„ç†ï¼Œå°†å…¶ä½œä¸ºå“åº”è¿”å›ï¼›å¦‚æœuserMonoä¸ºç©ºï¼Œåˆ™è¿”å›åˆšåˆšåˆ›å»ºçš„ç©ºæ•°æ®        //ä»æ–¹æ³•åå¯ä»¥çœ‹å‡ºï¼š        //contentTypeæ–¹æ³•æ˜¯è®¾ç½®æ•°æ®çš„æ ¼å¼ç±»å‹ï¼Œbodyæ–¹æ³•æ˜¯è®¾ç½®å“åº”ä½“çš„æ•°æ®ï¼ŒswitchIfEmptyæ–¹æ³•æ˜¯åˆ¤æ–­æˆ‘ä»¬è¦ä¼ çš„æ•°æ®æ˜¯å¦ä¸ºç©º    &#125;    //æŸ¥è¯¢æ‰€æœ‰    public Mono&lt;ServerResponse&gt; getAllUsers() &#123;        //è°ƒç”¨ service å¾—åˆ°ç»“æœ        Flux&lt;User&gt; users = this.userService.getAllUser();        return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(users,User.class);    &#125;    //æ·»åŠ     public Mono&lt;ServerResponse&gt; saveUser(ServerRequest request) &#123;        //å¾—åˆ° user å¯¹è±¡        Mono&lt;User&gt; userMono = request.bodyToMono(User.class);        return ServerResponse.ok().build(this.userService.addUser(userMono));    &#125;&#125;</code></pre><p><strong>3.åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œç¼–å†™router</strong></p><pre><code class="java">public class Server &#123;    //1 åˆ›å»º Router è·¯ç”±    public RouterFunction&lt;ServerResponse&gt; routingFunction() &#123;        //åˆ›å»º hanler å¯¹è±¡        UserService userService = new UserServiceImpl();        UserHandler handler = new UserHandler(userService);        //è®¾ç½®è·¯ç”±        return RouterFunctions.route(GET(&quot;/users/&#123;id&#125;&quot;).and(accept(APPLICATION_JSON)),handler::getUserById)                .andRoute(GET(&quot;/users&quot;).and(accept(APPLICATION_JSON)),handler::getAllUsers);        //è®¾ç½®  è¯·æ±‚çš„æ–¹å¼ã€æ¥æ”¶æ•°æ®ç±»å‹ã€å¤„ç†è¯·æ±‚çš„å…·ä½“æ–¹æ³•        //è¢«è·¯ç”±çš„æ–¹æ³•ä¸­éƒ½éœ€è¦æœ‰ServerRequestå‚æ•°ï¼Œå¦åˆ™è¿™é‡Œä¼šæ— æ³•è§£æ    &#125;    //2 åˆ›å»ºæœåŠ¡å™¨å®Œæˆé€‚é…    public void createReactorServer() &#123;        //è·¯ç”±å’Œ handler é€‚é…        RouterFunction&lt;ServerResponse&gt; route = routingFunction();//åˆ›å»ºè·¯ç”±å¯¹è±¡        HttpHandler httpHandler = toHttpHandler(route);        ReactorHttpHandlerAdapter adapter = new ReactorHttpHandlerAdapter(httpHandler);        //åˆ›å»ºæœåŠ¡å™¨        HttpServer httpServer = HttpServer.create();        httpServer.handle(adapter).bindNow();    &#125;&#125;</code></pre><p><strong>4.è°ƒç”¨</strong></p><pre><code class="java">public static void main(String[] args) throws Exception&#123;        Server server = new Server();        server.createReactorServer();        System.out.println(&quot;enter to exit&quot;);        System.in.read();&#125;</code></pre><p>è¿è¡Œmainæ–¹æ³•ï¼Œåœ¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å¼€å¯çš„æœåŠ¡å™¨åŠç«¯å£</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102157570.png' data-fancybox='default' data-caption='image-20220310215734447'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102157570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102157570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310215734447"></a><span class='image-caption'>image-20220310215734447</span></div></div><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®è·¯å¾„ï¼Œå¾—åˆ°æ•°æ®</p><p>åœ¨æ§åˆ¶å°è¿˜å¯ä»¥çœ‹è§è¯·æ±‚å“åº”çš„å…·ä½“ä¿¡æ¯ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102200415.png' data-fancybox='default' data-caption='image-20220310220034275'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102200415.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202203102200415.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20220310220034275"></a><span class='image-caption'>image-20220310220034275</span></div></div><p><strong>5.ä½¿ç”¨WebClientè°ƒç”¨</strong></p><pre><code class="java">public class Client &#123;    public static void main(String[] args) &#123;        //è°ƒç”¨æœåŠ¡å™¨åœ°å€        WebClient webClient = WebClient.create(&quot;http://127.0.0.1:55642&quot;);        //æ ¹æ® id æŸ¥è¯¢        String id = &quot;1&quot;;        User user = webClient.get().uri(&quot;/users/&#123;id&#125;&quot;, id).accept(MediaType.APPLICATION_JSON).retrieve().bodyToMono(User.class).block();        System.out.println(user);//User&#123;name=&#39;Eric&#39;, gender=&#39;ç”·&#39;, age=23&#125;        //æŸ¥è¯¢æ‰€æœ‰        Flux&lt;User&gt; results = webClient.get().uri(&quot;/users&quot;).accept(MediaType.APPLICATION_JSON).retrieve().bodyToFlux(User.class);        results.map(stu -&gt; stu.getName()).buffer().doOnNext(System.out::println).blockFirst();//[Eric, Jack, Lucy]    &#125;&#125;</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring5å­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#Spring5å­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;Spring5å­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;Spring5å­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#ä¸€ã€æ¦‚è¿°&quot; class=&quot;</summary>
      
    
    
    
    <category term="åç«¯" scheme="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Java" scheme="http://rainvex.com/tags/Java/"/>
    
    <category term="Spring5" scheme="http://rainvex.com/tags/Spring5/"/>
    
  </entry>
  
  <entry>
    <title>JavaSEå­¦ä¹ ç¬”è®°</title>
    <link href="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/JavaSE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"/>
    <id>http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/JavaSE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</id>
    <published>2022-03-27T13:38:17.000Z</published>
    <updated>2022-03-27T13:38:17.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JavaSEå­¦ä¹ ç¬”è®°"><a href="#JavaSEå­¦ä¹ ç¬”è®°" class="headerlink" title="JavaSEå­¦ä¹ ç¬”è®°"></a>JavaSEå­¦ä¹ ç¬”è®°</h1><p>JDK8å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ï¼š<a href="https://docs.oracle.com/javase/8/docs/api/">https://docs.oracle.com/javase/8/docs/api/</a></p><h2 id="ä¸€ã€JavaåŸºç¡€è¯­æ³•"><a href="#ä¸€ã€JavaåŸºç¡€è¯­æ³•" class="headerlink" title="ä¸€ã€JavaåŸºç¡€è¯­æ³•"></a>ä¸€ã€JavaåŸºç¡€è¯­æ³•</h2><h3 id="1-1-æ•°æ®ç±»å‹"><a href="#1-1-æ•°æ®ç±»å‹" class="headerlink" title="1.1 æ•°æ®ç±»å‹"></a>1.1 æ•°æ®ç±»å‹</h3><p>Javaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œè¦æ±‚å˜é‡çš„ä½¿ç”¨è¦ä¸¥æ ¼ç¬¦åˆè§„å®šï¼Œæ‰€æœ‰å˜é‡å¿…é¡»å®šä¹‰åæ‰èƒ½ä½¿ç”¨</p><p>Javaçš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</p><p>ä½ï¼ˆbitï¼‰ï¼šæ˜¯è®¡ç®—æœºå†…éƒ¨æ•°æ®å‚¨å­˜çš„æœ€å°å•ä½</p><p>å­—èŠ‚ï¼ˆbyteï¼‰ï¼šæ˜¯è®¡ç®—æœºä¸­æ•°æ®å¤„ç†çš„åŸºæœ¬å•ä½ï¼Œä¹ æƒ¯ç”¨å¤§å†™Bè¡¨ç¤º</p><p>1B=8bitï¼Œ1024B=1KBï¼Œ1024KB=1Mï¼Œ1024M=1G</p><h4 id="1-1-1-åŸºæœ¬æ•°æ®ç±»å‹"><a href="#1-1-1-åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="1.1.1 åŸºæœ¬æ•°æ®ç±»å‹"></a>1.1.1 åŸºæœ¬æ•°æ®ç±»å‹</h4><p>åŸºæœ¬æ•°æ®ç±»å‹åˆåˆ†ä¸ºæ•°å€¼ç±»å‹å’Œbooleanç±»å‹</p><blockquote><p>æ•°å€¼ç±»å‹</p><blockquote><p>æ•´æ•°ç±»å‹</p><ul><li><p><code>byte</code>å 1ä¸ªå­—èŠ‚èŒƒå›´ï¼š-128~127</p></li><li><p><code>short</code>å 2ä¸ªå­—èŠ‚èŒƒå›´ï¼š-32768~32767</p></li><li><p><code>int</code>å 4ä¸ªå­—èŠ‚èŒƒå›´ï¼š-2147483648~2147483647</p></li><li><p><code>long</code>å 8ä¸ªå­—èŠ‚èŒƒå›´</p></li></ul><p>æµ®ç‚¹ç±»å‹</p><ul><li><code>float</code>å 4ä¸ªå­—èŠ‚</li><li><code>double</code>å 8ä¸ªå­—èŠ‚</li></ul><p>å­—ç¬¦ç±»å‹</p><ul><li><code>char</code>å 2ä¸ªå­—èŠ‚</li></ul></blockquote></blockquote><p><strong>æ³¨ï¼šå­—ç¬¦ä¸²Stringä¸æ˜¯å…³é”®å­—ï¼Œæ˜¯ç±»ï¼›æœ€å¥½å®Œå…¨ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</strong></p><blockquote><p>booleanç±»å‹</p><ul><li>å 1ä¸ªå­—èŠ‚ï¼Œå€¼åªæœ‰trueå’Œfalseä¸¤ä¸ª</li></ul></blockquote><h4 id="1-1-2-å¼•ç”¨æ•°æ®ç±»å‹"><a href="#1-1-2-å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="1.1.2 å¼•ç”¨æ•°æ®ç±»å‹"></a>1.1.2 å¼•ç”¨æ•°æ®ç±»å‹</h4><p>å¼•ç”¨æ•°æ®ç±»å‹åˆ†ä¸ºç±»ã€æ¥å£ã€æ•°ç»„</p><h4 id="1-1-3-ç±»å‹è½¬æ¢"><a href="#1-1-3-ç±»å‹è½¬æ¢" class="headerlink" title="1.1.3 ç±»å‹è½¬æ¢"></a>1.1.3 ç±»å‹è½¬æ¢</h4><p>è¿ç®—ä¸­ï¼Œä¸åŒç±»å‹çš„æ•°æ®å…ˆè½¬æ¢ä¸ºåŒä¸€ç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®—</p><p>æ•°æ®ç±»å‹èŒƒå›´å°çš„æ•°æ®è½¬åŒ–ä¸ºæ•°æ®ç±»å‹èŒƒå›´å¤§çš„æ•°æ®ä¸éœ€è¦è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼›èŒƒå›´å¤§çš„è½¬åŒ–ä¸ºèŒƒå›´å°çš„éœ€è¦è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œä½†æ˜¯æ•°æ®ç²¾åº¦å¯èƒ½ä¼šæœ‰ä¸¢å¤±</p><p>å³ï¼Œ<!--é«˜->ä½   å¼ºåˆ¶è½¬æ¢    ä½->é«˜   è‡ªåŠ¨è½¬æ¢--></p><p>æ³¨ï¼šä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢ï¼›ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºä¸ç›¸å¹²çš„ç±»å‹ï¼›è½¬æ¢çš„æ—¶å€™å¯èƒ½å‡ºç°å†…å­˜æº¢å‡ºæˆ–è€…ç²¾åº¦é—®é¢˜</p><h4 id="1-1-4-èµ‹å€¼é—®é¢˜"><a href="#1-1-4-èµ‹å€¼é—®é¢˜" class="headerlink" title="1.1.4 èµ‹å€¼é—®é¢˜"></a>1.1.4 èµ‹å€¼é—®é¢˜</h4><p>æ“ä½œæ¯”è¾ƒå¤§çš„æ•°çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„æº¢å‡ºé—®é¢˜</p><pre><code class="java">int money = 1000000000;int year = 20;int total = money*year; //æ­¤æ—¶çš„totalå·²ç»æº¢å‡ºï¼Œè¾“å‡ºçš„ç»“æœå°±ä¸æ˜¯20000000000long total2 = money*year; //æ­¤æ—¶è¾“å‡ºtotal2çš„å€¼ä¹Ÿæ˜¯é”™çš„ï¼Œå› ä¸ºmoney*yearä½œä¸ºintç±»å‹èµ‹å€¼ç»™longç±»å‹çš„total2ä¹‹å‰å¾—åˆ°çš„å€¼å°±å·²ç»å‡ºç°äº†é—®é¢˜ï¼Œæ‰€ä»¥åº”è¯¥åœ¨è®¡ç®—ä¹‹å‰å°±è¿›è¡Œè½¬æ¢ï¼Œå³ç¬¬ä¸‰ç§long total3 = (long)money*year; //æ­¤æ—¶å› ä¸ºå°†moneyå¼ºåˆ¶è½¬åŒ–ä¸ºlongç±»å‹ï¼Œæ‰€ä»¥è¿ç®—æ˜¯æŒ‰ç…§æ•°æ®èŒƒå›´æ›´å¤§çš„longç±»å‹è¿›è¡Œè¿ç®—ï¼Œæ‰€ä»¥æ­¤æ—¶è¾“å‡ºtotal3æ˜¯æ­£ç¡®çš„å€¼ï¼›money*(long)yearä¹Ÿè¡Œ</code></pre><h3 id="1-2-å˜é‡"><a href="#1-2-å˜é‡" class="headerlink" title="1.2 å˜é‡"></a>1.2 å˜é‡</h3><h4 id="1-2-1-å˜é‡å£°æ˜"><a href="#1-2-1-å˜é‡å£°æ˜" class="headerlink" title="1.2.1 å˜é‡å£°æ˜"></a>1.2.1 å˜é‡å£°æ˜</h4><p>Javaæ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½å¿…é¡»å£°æ˜å…¶ç±»å‹</p><p>Javaå˜é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼Œå…¶è¦ç´ åŒ…æ‹¬å˜é‡åï¼Œå˜é‡ç±»å‹å’Œä½œç”¨åŸŸ</p><pre><code class="java">type varName[=value] [&#123;,varName[=value]&#125;] ;//æ•°æ®ç±»å‹å˜é‡å=å€¼;å¯ä»¥ä½¿ç”¨é€—å·éš”å¼€æ¥å£°æ˜å¤šä¸ªåŒç±»å‹å˜é‡ã€‚int a=1,b=2,c=3;String name = &quot;xk&quot;;char x = &#39;x&#39;;double pi = 3.14;float f = 2.454f;long L = 34532847L;</code></pre><p><strong>æ³¨ï¼šæ¯ä¸ªå˜é‡éƒ½æœ‰ç±»å‹ï¼Œç±»å‹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼›å˜é‡åå¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ï¼›å˜é‡å£°æ˜æ˜¯ä¸€æ¡å®Œæ•´çš„è¯­å¥ï¼Œå› æ­¤æ¯ä¸€ä¸ªå£°æ˜éƒ½å¿…é¡»ä»¥åˆ†å·ç»“æŸã€‚</strong></p><h4 id="1-2-2-å˜é‡åˆ†ç±»åŠä½œç”¨åŸŸ"><a href="#1-2-2-å˜é‡åˆ†ç±»åŠä½œç”¨åŸŸ" class="headerlink" title="1.2.2 å˜é‡åˆ†ç±»åŠä½œç”¨åŸŸ"></a>1.2.2 å˜é‡åˆ†ç±»åŠä½œç”¨åŸŸ</h4><p>å˜é‡åˆ†ä¸ºç±»å˜é‡ã€å®ä¾‹å˜é‡ã€å±€éƒ¨å˜é‡</p><h5 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡</h5><p>â‘ å±€éƒ¨å˜é‡å£°æ˜åœ¨<strong>æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­</strong></p><p>â‘¡å±€éƒ¨å˜é‡åœ¨<strong>æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€æˆ–è€…è¯­å¥å—è¢«æ‰§è¡Œçš„æ—¶å€™åˆ›å»º</strong>ï¼Œå½“å®ƒä»¬æ‰§è¡Œå®Œæˆåï¼Œå˜é‡å°†ä¼šè¢«é”€æ¯</p><p>â‘¢<strong>è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½ç”¨äºå±€éƒ¨å˜é‡</strong></p><p>â‘£å±€éƒ¨å˜é‡<strong>åªåœ¨å£°æ˜å®ƒçš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­å¯è§</strong></p><p>â‘¤å±€éƒ¨å˜é‡æ˜¯åœ¨æ ˆä¸Šåˆ†é…çš„</p><p>â‘¥å±€éƒ¨å˜é‡<strong>æ²¡æœ‰é»˜è®¤å€¼</strong>ï¼Œæ‰€ä»¥å±€éƒ¨å˜é‡è¢«å£°æ˜åï¼Œå¿…é¡»ç»è¿‡åˆå§‹åŒ–ï¼Œæ‰å¯ä»¥ä½¿ç”¨</p><pre><code class="java">public class Test&#123;    public void pupAge()&#123;      int age = 0;      age = age + 7;      System.out.println(&quot;å°ç‹—çš„å¹´é¾„æ˜¯: &quot; + age);   &#125;      public static void main(String[] args)&#123;      Test test = new Test();      test.pupAge();   &#125;&#125;</code></pre><h5 id="å®ä¾‹å˜é‡"><a href="#å®ä¾‹å˜é‡" class="headerlink" title="å®ä¾‹å˜é‡"></a>å®ä¾‹å˜é‡</h5><p>â‘ å®ä¾‹å˜é‡<strong>å£°æ˜åœ¨ä¸€ä¸ªç±»ä¸­</strong>ï¼Œä½†åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–</p><p>â‘¡å½“ä¸€ä¸ª<strong>å¯¹è±¡è¢«å®ä¾‹åŒ–ä¹‹åï¼Œæ¯ä¸ªå®ä¾‹å˜é‡çš„å€¼å°±è·Ÿç€ç¡®å®š</strong></p><p>â‘¢å®ä¾‹å˜é‡åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ›å»ºï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™é”€æ¯</p><p>â‘£<strong>å®ä¾‹å˜é‡çš„å€¼åº”è¯¥è‡³å°‘è¢«ä¸€ä¸ªæ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—å¼•ç”¨</strong>ï¼Œä½¿å¾—å¤–éƒ¨èƒ½å¤Ÿé€šè¿‡è¿™äº›æ–¹å¼è·å–å®ä¾‹å˜é‡ä¿¡æ¯</p><p>â‘¤<strong>å®ä¾‹å˜é‡å¯ä»¥å£°æ˜åœ¨ä½¿ç”¨å‰æˆ–è€…ä½¿ç”¨å</strong></p><p>â‘¥<strong>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¿®é¥°å®ä¾‹å˜é‡</strong></p><p>â‘¦<strong>å®ä¾‹å˜é‡å¯¹äºç±»ä¸­çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—æ˜¯å¯è§çš„</strong>ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥æŠŠå®ä¾‹å˜é‡è®¾ä¸ºç§æœ‰ï¼Œé€šè¿‡ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä½¿å®ä¾‹å˜é‡å¯¹å­ç±»å¯è§</p><p>â‘§<strong>å®ä¾‹å˜é‡å…·æœ‰é»˜è®¤å€¼</strong>ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®š</p><p>â‘¨å®ä¾‹å˜é‡<strong>å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åè®¿é—®</strong>ã€‚ä½†åœ¨é™æ€æ–¹æ³•ä»¥åŠå…¶ä»–ç±»ä¸­ï¼Œå°±åº”è¯¥ä½¿ç”¨å®Œå…¨é™å®šåï¼š<strong>ObejectReference.VariableNameï¼ˆå¯¹è±¡å.å˜é‡åï¼‰</strong></p><pre><code class="java">public class Employee&#123;   // è¿™ä¸ªå®ä¾‹å˜é‡å¯¹å­ç±»å¯è§   public String name;   // ç§æœ‰å˜é‡ï¼Œä»…åœ¨è¯¥ç±»å¯è§   private double salary;   //åœ¨æ„é€ å™¨ä¸­å¯¹nameèµ‹å€¼   public Employee (String empName)&#123;      name = empName;   &#125;   //è®¾å®šsalaryçš„å€¼   public void setSalary(double empSal)&#123;      salary = empSal;   &#125;     // æ‰“å°ä¿¡æ¯   public void printEmp()&#123;      System.out.println(&quot;åå­— : &quot; + name );      System.out.println(&quot;è–ªæ°´ : &quot; + salary);   &#125;    public static void main(String[] args)&#123;      Employee empOne = new Employee(&quot;RUNOOB&quot;);      empOne.setSalary(1000.0);      empOne.printEmp();   &#125;&#125;</code></pre><h5 id="ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰"><a href="#ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰" class="headerlink" title="ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰"></a>ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰</h5><p>â‘ ç±»å˜é‡ä¹Ÿç§°ä¸ºé™æ€å˜é‡ï¼Œåœ¨ç±»ä¸­ä»¥ static å…³é”®å­—å£°æ˜ï¼Œä½†<strong>å¿…é¡»åœ¨æ–¹æ³•ä¹‹å¤–</strong></p><p>â‘¡<strong>æ— è®ºä¸€ä¸ªç±»åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œç±»åªæ‹¥æœ‰ç±»å˜é‡çš„ä¸€ä»½æ‹·è´</strong>ï¼ˆæ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä»½é™æ€å˜é‡ï¼‰</p><p>â‘¢é™æ€å˜é‡é™¤äº†è¢«å£°æ˜ä¸ºå¸¸é‡å¤–å¾ˆå°‘ä½¿ç”¨ï¼Œé™æ€å˜é‡æ˜¯æŒ‡å£°æ˜ä¸ºpublic/privateï¼Œfinal å’Œ static ç±»å‹çš„å˜é‡ã€‚<strong>é™æ€å˜é‡åˆå§‹åŒ–åä¸å¯æ”¹å˜</strong></p><p>â‘£<strong>é™æ€å˜é‡å‚¨å­˜åœ¨é™æ€å­˜å‚¨åŒºã€‚ç»å¸¸è¢«å£°æ˜ä¸ºå¸¸é‡ï¼Œå¾ˆå°‘å•ç‹¬ä½¿ç”¨ static å£°æ˜å˜é‡</strong></p><p>â‘¤<strong>é™æ€å˜é‡åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯</strong></p><p>â‘¥ä¸å®ä¾‹å˜é‡å…·æœ‰ç›¸ä¼¼çš„å¯è§æ€§ã€‚ä½†ä¸ºäº†å¯¹ç±»çš„ä½¿ç”¨è€…å¯è§ï¼Œ<strong>å¤§å¤šæ•°é™æ€å˜é‡å£°æ˜ä¸º public ç±»å‹</strong></p><p>â‘¦<strong>é»˜è®¤å€¼å’Œå®ä¾‹å˜é‡ç›¸ä¼¼</strong>ã€‚æ•°å€¼å‹å˜é‡é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜çš„æ—¶å€™æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚æ­¤å¤–ï¼Œ<strong>é™æ€å˜é‡è¿˜å¯ä»¥åœ¨é™æ€è¯­å¥å—ä¸­åˆå§‹åŒ–</strong></p><p>â‘§é™æ€å˜é‡å¯ä»¥é€šè¿‡ï¼š<strong><em>ClassName.VariableName</em>ï¼ˆç±»å.å˜é‡åï¼‰çš„æ–¹å¼è®¿é—®</strong>ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>å¯¹è±¡å.é™æ€å˜é‡</code>è¿›è¡Œè®¿é—®ä½†java<strong>ä¸æ¨è</strong>è¿™æ ·åš</p><p>â‘¨<strong>ç±»å˜é‡è¢«å£°æ˜ä¸º public static final ç±»å‹æ—¶ï¼Œç±»å˜é‡åç§°ä¸€èˆ¬å»ºè®®ä½¿ç”¨å¤§å†™å­—æ¯</strong>ã€‚å¦‚æœé™æ€å˜é‡ä¸æ˜¯ public å’Œ final ç±»å‹ï¼Œå…¶å‘½åæ–¹å¼ä¸å®ä¾‹å˜é‡ä»¥åŠå±€éƒ¨å˜é‡çš„å‘½åæ–¹å¼ä¸€è‡´</p><pre><code class="java">public class Employee &#123;    //salaryæ˜¯é™æ€çš„ç§æœ‰å˜é‡    private static double salary;    // DEPARTMENTæ˜¯ä¸€ä¸ªå¸¸é‡    public static final String DEPARTMENT = &quot;å¼€å‘äººå‘˜&quot;;    public static void main(String[] args)&#123;    salary = 10000;        System.out.println(DEPARTMENT+&quot;å¹³å‡å·¥èµ„:&quot;+salary);    &#125;&#125;//æ³¨ï¼šå¦‚æœå…¶ä»–ç±»æƒ³è¦è®¿é—®è¯¥å˜é‡ï¼Œå¯ä»¥è¿™æ ·è®¿é—®ï¼šEmployee.DEPARTMENT</code></pre><h4 id="1-2-3-å¸¸é‡"><a href="#1-2-3-å¸¸é‡" class="headerlink" title="1.2.3 å¸¸é‡"></a>1.2.3 å¸¸é‡</h4><p>å¸¸é‡(Constant)ï¼šåˆå§‹åŒ–(initialize)åä¸èƒ½å†æ”¹å˜å€¼!ä¸ä¼šå˜åŠ¨çš„å€¼</p><p>æ‰€è°“å¸¸é‡å¯ä»¥ç†è§£æˆä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒçš„å€¼è¢«è®¾å®šåï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¸å…è®¸è¢«æ”¹å˜ã€‚</p><p>final å¸¸é‡å=å€¼ï¼›<br>final double PI=3.14ï¼›</p><p>å¸¸é‡åä¸€èˆ¬ä½¿ç”¨å¤§å†™å­—ç¬¦ï¼Œfinalæ˜¯æŒ‡è¯¥å˜é‡åªå‡†è¢«ä¿®æ”¹ä¸€æ¬¡</p><h3 id="1-3-è¿ç®—ç¬¦"><a href="#1-3-è¿ç®—ç¬¦" class="headerlink" title="1.3 è¿ç®—ç¬¦"></a>1.3 è¿ç®—ç¬¦</h3><p>Javaæ”¯æŒçš„è¿ç®—ç¬¦ï¼š</p><ul><li>ç®—æœ¯è¿ç®—ç¬¦ï¼š+ã€-ã€*ã€/ã€%ã€++ã€â€“</li><li>èµ‹å€¼è¿ç®—ç¬¦ï¼š=</li><li>å…³ç³»è¿ç®—ç¬¦ï¼š&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ã€instanceof</li><li>é€»è¾‘è¿ç®—ç¬¦ï¼š&amp;&amp;ã€||ã€!</li><li>ä½è¿ç®—ç¬¦ï¼š&amp;ã€|ã€^ã€~ã€&gt;&gt;ã€&lt;&lt;ã€&gt;&gt;&gt;(äº†è§£)</li><li>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰ï¼šï¼Ÿï¼š</li><li>æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦ï¼š+=ã€-=ã€*=ã€/=</li></ul><h4 id="1-3-1-è‡ªå¢-ã€è‡ªå‡-â€“-è¿ç®—ç¬¦"><a href="#1-3-1-è‡ªå¢-ã€è‡ªå‡-â€“-è¿ç®—ç¬¦" class="headerlink" title="1.3.1 è‡ªå¢(++)ã€è‡ªå‡(â€“)è¿ç®—ç¬¦"></a>1.3.1 è‡ªå¢(++)ã€è‡ªå‡(â€“)è¿ç®—ç¬¦</h4><pre><code class="java">int a = 3;int b = a++; //å…ˆç»™bèµ‹å€¼ï¼Œå†è‡ªå¢int c = ++a; //å…ˆè‡ªå¢ï¼Œå†ç»™bèµ‹å€¼</code></pre><h4 id="1-3-2-é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦"><a href="#1-3-2-é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦" class="headerlink" title="1.3.2 é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦"></a>1.3.2 é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦</h4><p>é€»è¾‘è¿ç®—ç¬¦ï¼šä¸ï¼ˆandï¼‰ã€æˆ–ï¼ˆorï¼‰ã€éï¼ˆ!ï¼‰</p><p>é€»è¾‘ä¸è¿ç®—ã€é€»è¾‘æˆ–è¿ç®—åˆåˆ†ä¸ºçŸ­è·¯ä¸(&amp;&amp;)ã€é•¿è·¯ä¸(&amp;)ã€çŸ­è·¯æˆ–(||)ã€é•¿è·¯æˆ–(|)</p><p>åŒºåˆ«ï¼š</p><p>çŸ­è·¯ä¸å’Œé•¿è·¯ä¸ï¼šé•¿è·¯ä¸ ä¸¤ä¾§éƒ½ä¼šè¢«è¿ç®—ï¼›çŸ­è·¯ä¸ åªè¦ç¬¬ä¸€ä¸ªæ˜¯falseï¼Œç¬¬äºŒä¸ªå°±ä¸ä¼šè¿›è¡Œè¿ç®—äº†</p><p>çŸ­è·¯æˆ–å’Œé•¿è·¯æˆ–ï¼šé•¿è·¯æˆ– ä¸¤ä¾§éƒ½ä¼šè¢«è¿ç®—ï¼›çŸ­è·¯æˆ– åªè¦ç¬¬ä¸€ä¸ªæ˜¯trueï¼Œç¬¬äºŒä¸ªå°±ä¸ä¼šè¿›è¡Œè¿ç®—äº†</p><pre><code class="java">//ä¸ï¼ˆandï¼‰   æˆ–ï¼ˆorï¼‰   éï¼ˆå–åï¼‰boolean a = true;boolean b = false;System.out.println(a&amp;&amp;b); //ä¸è¿ç®—ï¼Œéƒ½ä¸ºçœŸç»“æœæ‰èƒ½ä¸ºçœŸSystem.out.println(a||b); //æˆ–è¿ç®—ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºçœŸï¼Œç»“æœå°±ä¸ºçœŸSystem.out.println(!(a&amp;&amp;b)); //å¦‚æœa&amp;&amp;bæ˜¯çœŸï¼Œç»“æœä¸ºå‡ï¼›å¦åˆ™ä¸ºçœŸ</code></pre><p>ä½è¿ç®—ç¬¦ï¼šé•¿è·¯ä¸(&amp;)ã€é•¿è·¯æˆ–(|)ã€å¼‚æˆ–(^)ã€é(~)ã€å·¦ç§»(&lt;&lt;)ã€å³ç§»(&gt;&gt;)</p><pre><code class="java">//ä½è¿ç®—ï¼Œæ•ˆç‡æé«˜ï¼ï¼A = 0011 1100;B = 0000 1101;A&amp;B = 0000 1100; //ä¸ï¼Œéƒ½ä¸º1æ‰ä¸º1A|B = 0011 1101; //æˆ–ï¼Œå…¶ä¸­ä¸€ä¸ªä¸º1å°±ä¸º1A^B = 1100 1110; //å¼‚æˆ–è¿ç®—ï¼Œç›¸åŒä¸ºçœŸï¼Œä¸åŒä¸ºå‡~B = 1111 0010; //ä½å–å/*  2*8=16   2*2*2*2    &lt;&lt;   ç›¸å½“äº*ï¼Œæ ¹æ®ä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶è¡¨è¾¾ï¼Œå°†å…¶æ¯ä¸€ä½éƒ½å‘å·¦ç§»åŠ¨ï¼Œæœ€å³è¾¹è¡¥0    &gt;&gt;   ç›¸å½“äº/ï¼Œæ ¹æ®ä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶è¡¨è¾¾ï¼Œå°†å…¶æ¯ä¸€ä½éƒ½å‘å³ç§»åŠ¨         0000 0010    2    0000 1000    8    0001 0000    16*/System.out.println(2&lt;&lt;3);  //ç»“æœä¸º16ï¼Œå³å°†2çš„äºŒè¿›åˆ¶è¡¨è¾¾çš„æ¯ä¸€ä½å‘å·¦ç§»åŠ¨3ä½ï¼Œä¹Ÿç›¸å½“äº2*2*2*2</code></pre><h4 id="1-3-3-ä¸‰å…ƒè¿ç®—ç¬¦ã€å­—ç¬¦ä¸²è¿æ¥ç¬¦"><a href="#1-3-3-ä¸‰å…ƒè¿ç®—ç¬¦ã€å­—ç¬¦ä¸²è¿æ¥ç¬¦" class="headerlink" title="1.3.3 ä¸‰å…ƒè¿ç®—ç¬¦ã€å­—ç¬¦ä¸²è¿æ¥ç¬¦"></a>1.3.3 ä¸‰å…ƒè¿ç®—ç¬¦ã€å­—ç¬¦ä¸²è¿æ¥ç¬¦</h4><pre><code class="java">//å­—ç¬¦ä¸²è¿æ¥ç¬¦  +int a = 10;int b = 20;System.out.println(&quot;a+b&quot;+a+b); //è¾“å‡ºa+b1020,å› ä¸ºa+båœ¨Stringç±»å‹çš„&quot;a+b&quot;ä¹‹åï¼Œä¼šå°†aå’Œbçš„å€¼ç›´æ¥åœ¨å…¶åé¢è¿›è¡Œæ‹¼æ¥System.out.println(a+b+&quot;a+b&quot;); //è¾“å‡º30a+bï¼Œå› ä¸ºa+båœ¨Stringç±»å‹çš„&quot;a+b&quot;ä¹‹å‰ï¼Œä¼šå…ˆå°†a+bè¿›è¡Œè¿ç®—åå†æ‹¼æ¥//ä¸‰å…ƒè¿ç®—ç¬¦  x ? y : z//å¦‚æœx=trueï¼Œç»“æœä¸ºyï¼›å¦‚æœx=falseï¼Œç»“æœä¸ºz</code></pre><h4 id="1-3-4-è¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#1-3-4-è¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="1.3.4 è¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>1.3.4 è¿ç®—ç¬¦ä¼˜å…ˆçº§</h4><p>æ‰€æœ‰çš„æ•°å­¦è¿ç®—éƒ½è®¤ä¸ºæ˜¯ä»å·¦å‘å³è¿ç®—çš„ï¼Œ<a href="http://c.biancheng.net/java/">Java</a> è¯­è¨€ä¸­å¤§éƒ¨åˆ†è¿ç®—ç¬¦ä¹Ÿæ˜¯ä»å·¦å‘å³ç»“åˆçš„ï¼Œåªæœ‰å•ç›®è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦å’Œä¸‰ç›®è¿ç®—ç¬¦ä¾‹å¤–ï¼Œå…¶ä¸­ï¼Œå•ç›®è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦å’Œä¸‰ç›®è¿ç®—ç¬¦æ˜¯ä»å³å‘å·¦ç»“åˆçš„ï¼Œä¹Ÿå°±æ˜¯ä»å³å‘å·¦è¿ç®—</p><p> ä¹˜æ³•å’ŒåŠ æ³•æ˜¯ä¸¤ä¸ªå¯ç»“åˆçš„è¿ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªè¿ç®—ç¬¦å·¦å³ä¸¤è¾¹çš„æ“ä½œæ•°å¯ä»¥äº’æ¢ä½ç½®è€Œä¸ä¼šå½±å“ç»“æœã€‚è¿ç®—ç¬¦æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œæ‰€è°“ä¼˜å…ˆçº§å°±æ˜¯åœ¨è¡¨è¾¾å¼è¿ç®—ä¸­çš„è¿ç®—é¡ºåº</p><p> ä¸€èˆ¬è€Œè¨€ï¼Œå•ç›®è¿ç®—ç¬¦ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œèµ‹å€¼è¿ç®—ç¬¦ä¼˜å…ˆçº§è¾ƒä½ã€‚ç®—æœ¯è¿ç®—ç¬¦ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œå…³ç³»å’Œé€»è¾‘è¿ç®—ç¬¦ä¼˜å…ˆçº§è¾ƒä½ã€‚å¤šæ•°è¿ç®—ç¬¦å…·æœ‰å·¦ç»“åˆæ€§ï¼Œå•ç›®è¿ç®—ç¬¦ã€ä¸‰ç›®è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦å…·æœ‰å³ç»“åˆæ€§</p><p> Java è¯­è¨€ä¸­è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å…±åˆ†ä¸º 14 çº§ï¼Œå…¶ä¸­ 1 çº§æœ€é«˜ï¼Œ14 çº§æœ€ä½ã€‚åœ¨åŒä¸€ä¸ªè¡¨è¾¾å¼ä¸­è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜çš„å…ˆæ‰§è¡Œã€‚è¡¨ 1 åˆ—å‡ºäº†æ‰€æœ‰çš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä»¥åŠç»“åˆæ€§</p><p><strong>è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼š</strong></p><table><thead><tr><th>ä¼˜å…ˆçº§</th><th>è¿ç®—ç¬¦</th><th>ç»“åˆæ€§</th></tr></thead><tbody><tr><td>1</td><td>()ã€[]ã€{}</td><td>ä»å·¦å‘å³</td></tr><tr><td>2</td><td>!ã€+ã€-ã€~ã€++ã€â€“</td><td>ä»å³å‘å·¦</td></tr><tr><td>3</td><td>*ã€/ã€%</td><td>ä»å·¦å‘å³</td></tr><tr><td>4</td><td>+ã€-</td><td>ä»å·¦å‘å³</td></tr><tr><td>5</td><td>Â«ã€Â»ã€&gt;&gt;&gt;</td><td>ä»å·¦å‘å³</td></tr><tr><td>6</td><td>&lt;ã€&lt;=ã€&gt;ã€&gt;=ã€instanceof</td><td>ä»å·¦å‘å³</td></tr><tr><td>7</td><td>==ã€!=</td><td>ä»å·¦å‘å³</td></tr><tr><td>8</td><td>&amp;</td><td>ä»å·¦å‘å³</td></tr><tr><td>9</td><td>^</td><td>ä»å·¦å‘å³</td></tr><tr><td>10</td><td>|</td><td>ä»å·¦å‘å³</td></tr><tr><td>11</td><td>&amp;&amp;</td><td>ä»å·¦å‘å³</td></tr><tr><td>12</td><td>||</td><td>ä»å·¦å‘å³</td></tr><tr><td>13</td><td>?:</td><td>ä»å³å‘å·¦</td></tr><tr><td>14</td><td>=ã€+=ã€-=ã€*=ã€/=ã€&amp;=ã€|=ã€^=ã€~=ã€Â«=ã€Â»=ã€&gt;&gt;&gt;=</td><td>ä»å³å‘å·¦</td></tr></tbody></table><p><strong>ä½¿ç”¨ä¼˜å…ˆçº§ä¸º 1 çš„å°æ‹¬å·å¯ä»¥æ”¹å˜å…¶ä»–è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§</strong>ï¼Œå³å¦‚æœéœ€è¦å°†å…·æœ‰è¾ƒä½ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦å…ˆè¿ç®—ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å°æ‹¬å·å°†è¯¥è¿ç®—ç¬¦å’Œæ“ä½œç¬¦æ‹¬èµ·æ¥</p><h2 id="äºŒã€Javaæµç¨‹æ§åˆ¶"><a href="#äºŒã€Javaæµç¨‹æ§åˆ¶" class="headerlink" title="äºŒã€Javaæµç¨‹æ§åˆ¶"></a>äºŒã€Javaæµç¨‹æ§åˆ¶</h2><h3 id="2-1-Scannerå¯¹è±¡"><a href="#2-1-Scannerå¯¹è±¡" class="headerlink" title="2.1 Scannerå¯¹è±¡"></a>2.1 Scannerå¯¹è±¡</h3><p>java.util.Scanneræ˜¯Java5çš„æ–°ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Scannerç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="java">Scanner s = new Scanner(System.in);</code></pre><p>é€šè¿‡Scannerç±»çš„<strong>next()ä¸nextLine()æ–¹æ³•è·å–è¾“å…¥çš„å­—ç¬¦ä¸²</strong>ï¼Œåœ¨è¯»å–å‰æˆ‘ä»¬ä¸€èˆ¬éœ€è¦<strong>ä½¿ç”¨hasNext()ä¸hasNextLine()åˆ¤æ–­æ˜¯å¦è¿˜æœ‰è¾“å…¥çš„æ•°æ®</strong></p><p><strong>next()ï¼š</strong></p><p>1ã€ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åæ‰å¯ä»¥ç»“æŸè¾“å…¥ã€‚</p><p>2ã€å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œnext()æ–¹æ³•ä¼šè‡ªåŠ¨å°†å…¶å»æ‰</p><p>3ã€åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰å°†å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–è€…ç»“æŸç¬¦ã€‚</p><p>4ã€next()ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚</p><p><strong>nextLine()ï¼š</strong></p><p>1ã€ä»¥Enterä¸ºç»“æŸç¬¦,ä¹Ÿå°±æ˜¯è¯´nextLine()æ–¹æ³•è¿”å›çš„æ˜¯è¾“å…¥å›è½¦ä¹‹å‰çš„æ‰€æœ‰å­—ç¬¦ã€‚</p><p>2ã€å¯ä»¥è·å¾—ç©ºç™½ã€‚</p><h3 id="2-2é¡ºåºç»“æ„"><a href="#2-2é¡ºåºç»“æ„" class="headerlink" title="2.2é¡ºåºç»“æ„"></a>2.2é¡ºåºç»“æ„</h3><p>Javaæœ¬èº«æ‰§è¡Œä»£ç çš„ç»“æ„å°±æ˜¯é¡ºåºç»“æ„ï¼Œé™¤éç‰¹åˆ«æŒ‡æ˜ï¼Œå¦åˆ™å°±æ˜¯æŒ‰ç…§é¡ºåºä¸€å¥ä¸€å¥æ‰§è¡Œä»£ç ï¼›å®ƒæ˜¯ç”±è‹¥å¹²ä¸ªä¸€æ¬¡æ‰§è¡Œçš„å¤„ç†æ­¥éª¤ç»„æˆçš„ï¼Œå®ƒæ˜¯ä»»ä½•ä¸€ä¸ªç®—æ³•éƒ½ç¦»ä¸å¼€çš„ä¸€ç§åŸºæœ¬ç®—æ³•ç»“æ„</p><h3 id="2-3é€‰æ‹©ç»“æ„"><a href="#2-3é€‰æ‹©ç»“æ„" class="headerlink" title="2.3é€‰æ‹©ç»“æ„"></a>2.3é€‰æ‹©ç»“æ„</h3><h4 id="2-3-1-ifå•é€‰æ‹©ç»“æ„"><a href="#2-3-1-ifå•é€‰æ‹©ç»“æ„" class="headerlink" title="2.3.1 ifå•é€‰æ‹©ç»“æ„"></a>2.3.1 ifå•é€‰æ‹©ç»“æ„</h4><pre><code class="java">if(å¸ƒå°”è¡¨è¾¾å¼) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125;</code></pre><h4 id="2-3-2-ifâ€¦elseåŒé€‰æ‹©ç»“æ„"><a href="#2-3-2-ifâ€¦elseåŒé€‰æ‹©ç»“æ„" class="headerlink" title="2.3.2 ifâ€¦elseåŒé€‰æ‹©ç»“æ„"></a>2.3.2 ifâ€¦elseåŒé€‰æ‹©ç»“æ„</h4><pre><code class="java">if(å¸ƒå°”è¡¨è¾¾å¼) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125; else &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºå‡ï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125;</code></pre><h4 id="2-3-3-ifâ€¦else-ifâ€¦elseå¤šé€‰æ‹©ç»“æ„"><a href="#2-3-3-ifâ€¦else-ifâ€¦elseå¤šé€‰æ‹©ç»“æ„" class="headerlink" title="2.3.3 ifâ€¦else ifâ€¦elseå¤šé€‰æ‹©ç»“æ„"></a>2.3.3 ifâ€¦else ifâ€¦elseå¤šé€‰æ‹©ç»“æ„</h4><pre><code class="java">if(å¸ƒå°”è¡¨è¾¾å¼1) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼1ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125; else if(å¸ƒå°”è¡¨è¾¾å¼2) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼2ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125; else &#123;    å¦‚æœä¸Šé¢çš„å¸ƒå°”è¡¨è¾¾å¼éƒ½ä¸ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥&#125;//åªè¦æœ‰ä¸€ä¸ªelse ifçš„å¸ƒå°”è¡¨è¾¾å¼ä¸ºtrueï¼Œå°±ä¼šè·³è¿‡å…¶ä½™æ‰€æœ‰çš„else ifå’Œelse</code></pre><h4 id="2-3-4-åµŒå¥—çš„ifé€‰æ‹©ç»“æ„"><a href="#2-3-4-åµŒå¥—çš„ifé€‰æ‹©ç»“æ„" class="headerlink" title="2.3.4 åµŒå¥—çš„ifé€‰æ‹©ç»“æ„"></a>2.3.4 åµŒå¥—çš„ifé€‰æ‹©ç»“æ„</h4><pre><code class="java">if(å¸ƒå°”è¡¨è¾¾å¼1) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼1ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥    if(å¸ƒå°”è¡¨è¾¾å¼2) &#123;    å¦‚æœå¸ƒå°”è¡¨è¾¾å¼2ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œçš„ä»£ç è¯­å¥    &#125;     &#125; //ä¹Ÿå°±æ˜¯è¯´å¯ä»¥å¦ä¸€ä¸ªifæˆ–è€…else ifé‡Œé¢ä½¿ç”¨ifæˆ–else ifè¯­å¥ï¼›å¯ä»¥åƒifè¯­å¥é‚£æ ·åµŒå¥—eles if ...else</code></pre><h4 id="2-3-5-Switchå¤šé€‰æ‹©ç»“æ„"><a href="#2-3-5-Switchå¤šé€‰æ‹©ç»“æ„" class="headerlink" title="2.3.5 Switchå¤šé€‰æ‹©ç»“æ„"></a>2.3.5 Switchå¤šé€‰æ‹©ç»“æ„</h4><pre><code class="java">switch(expression) &#123;      case value :         //è¯­å¥        break;//å¯é€‰    case value :        //è¯­å¥        break;//å¯é€‰    default : //å¯é€‰        //è¯­å¥&#125;//expressionå˜é‡ç±»å‹å¯ä»¥æ˜¯byteã€shortã€intæˆ–è€…charï¼›ä»Java SE7å¼€å§‹ï¼Œswitchæ”¯æŒStringç±»å‹äº†ï¼›åŒæ—¶caseæ ‡ç­¾å¿…é¡»ä¸ºå­—ç¬¦ä¸²å¸¸é‡æˆ–å­—é¢é‡</code></pre><h3 id="2-4-å¾ªç¯ç»“æ„"><a href="#2-4-å¾ªç¯ç»“æ„" class="headerlink" title="2.4 å¾ªç¯ç»“æ„"></a>2.4 å¾ªç¯ç»“æ„</h3><p>å¾ªç¯ç»“æ„åˆ†ä¸ºwhileå¾ªç¯ç»“æ„ã€doâ€¦whileç»“æ„ã€forå¾ªç¯ç»“æ„ï¼ŒJDK5ä¸­å¼•å…¥äº†ä¸€ç§ä¸»è¦ç”¨äºæ•°ç»„çš„å¢å¼ºå‹forå¾ªç¯</p><h4 id="2-4-1-whileå¾ªç¯ç»“æ„"><a href="#2-4-1-whileå¾ªç¯ç»“æ„" class="headerlink" title="2.4.1 whileå¾ªç¯ç»“æ„"></a>2.4.1 whileå¾ªç¯ç»“æ„</h4><pre><code class="java">while(å¸ƒå°”è¡¨è¾¾å¼) &#123;    //éœ€è¦å…ˆåˆ¤æ–­å¸ƒå°”è¡¨è¾¾å¼å†æ‰§è¡Œè¯­å¥ã€‚åªè¦å¸ƒå°”è¡¨è¾¾å¼ä¸ºtrueï¼Œå°±ä¼šä¸€ç›´æ‰§è¡Œï¼›è¦ä½¿å…¶åœæ­¢å¾ªç¯éœ€è¦æ”¹å˜å¸ƒå°”è¡¨è¾¾å¼çš„å€¼&#125;</code></pre><h4 id="2-4-2-doâ€¦whileå¾ªç¯ç»“æ„"><a href="#2-4-2-doâ€¦whileå¾ªç¯ç»“æ„" class="headerlink" title="2.4.2 doâ€¦whileå¾ªç¯ç»“æ„"></a>2.4.2 doâ€¦whileå¾ªç¯ç»“æ„</h4><pre><code class="java">do &#123;    //å…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“è¯­å¥ï¼Œå†åˆ¤æ–­å¸ƒå°”è¡¨è¾¾å¼&#125; while(å¸ƒå°”è¡¨è¾¾å¼)</code></pre><h4 id="2-4-3-forå¾ªç¯ç»“æ„"><a href="#2-4-3-forå¾ªç¯ç»“æ„" class="headerlink" title="2.4.3 forå¾ªç¯ç»“æ„"></a>2.4.3 forå¾ªç¯ç»“æ„</h4><p>forå¾ªç¯è¯­å¥æ˜¯æ”¯æŒè¿­ä»£çš„ä¸€ç§é€šç”¨ç»“æ„ï¼Œæ˜¯æœ€æœ‰æ•ˆã€æœ€çµæ´»çš„å¾ªç¯ç»“æ„</p><p>forå¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°æ˜¯åœ¨æ‰§è¡Œå‰å°±ç¡®å®šçš„</p><pre><code class="java">for(åˆå§‹åŒ–å¾ªç¯å˜é‡; å¸ƒå°”è¡¨è¾¾å¼ ; æ›´æ–°å¾ªç¯å˜é‡) &#123;    //ä»£ç è¯­å¥&#125;//æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨for (int i=1;i&lt;10;i++) &#123;            for(int j=1;j&lt;=i;j++) &#123;                System.out.print(i+&quot;*&quot;+j+&quot;=&quot;+i*j);                System.out.print(&quot;   &quot;);            &#125;            System.out.println();        &#125;</code></pre><pre><code class="java">//æ‰“å°ä¸‰è§’å½¢for(int i=1;i&lt;=5;i++) &#123; //æ‰“å°ç¬¬iè¡Œ    for(int j=5;j&gt;=i;j--) &#123; //ç¬¬iè¡Œé¦–å…ˆæ‰“å°j-i+1ä¸ªç©ºæ ¼        System.out.print(&quot; &quot;);    &#125;    for(int j=1;j&lt;=i;j++) &#123; //ç¬¬iè¡Œå†æ‰“å°ä¸€ä¸ª*å·        System.out.print(&quot;*&quot;);    &#125;    for(int j=1;j&lt;i;j++) &#123; //æœ€åç¬¬iè¡Œæ‰“å°i-1ä¸ª*å·        System.out.print(&quot;*&quot;);    &#125;    System.out.println(); //æ‰“å°å®Œä¸€è¡Œæ¢è¡Œ&#125;</code></pre><h4 id="2-4-4-å¢å¼ºforå¾ªç¯"><a href="#2-4-4-å¢å¼ºforå¾ªç¯" class="headerlink" title="2.4.4 å¢å¼ºforå¾ªç¯"></a>2.4.4 å¢å¼ºforå¾ªç¯</h4><p>JDK5å¼•å…¥äº†ä¸€ç§ä¸»è¦åº”ç”¨äºæ•°ç»„çš„å¢å¼ºforå¾ªç¯</p><pre><code class="java">for(å£°æ˜è¯­å¥ : è¡¨è¾¾å¼) &#123;    //ä»£ç è¯­å¥&#125;//å£°æ˜è¯­å¥:å£°æ˜æ–°çš„å±€éƒ¨å˜é‡ï¼Œè¯¥å˜é‡çš„ç±»å‹å¿…é¡»å’Œæ•°ç»„å…ƒç´ çš„ç±»å‹åŒ¹é…ã€‚å…¶ä½œç”¨åŸŸé™å®šåœ¨å¾ªç¯è¯­å¥å—ï¼Œå…¶å€¼ä¸æ­¤æ—¶æ•°ç»„å…ƒç´ çš„å€¼ç›¸ç­‰ã€‚//è¡¨è¾¾å¼:è¡¨è¾¾å¼æ˜¯è¦è®¿é—®çš„æ•°ç»„åï¼Œæˆ–è€…æ˜¯è¿”å›å€¼ä¸ºæ•°ç»„çš„æ–¹æ³•ã€‚int[] numbers = &#123;10,20,30,40,50&#125;;for(int x:numbers) &#123;    System.out.println(x);&#125;</code></pre><h4 id="2-4-5-breakã€continueã€goto"><a href="#2-4-5-breakã€continueã€goto" class="headerlink" title="2.4.5 breakã€continueã€goto"></a>2.4.5 breakã€continueã€goto</h4><p>breakï¼šbreakåœ¨ä»»ä½•å¾ªç¯è¯­å¥çš„ä¸»ä½“éƒ¨åˆ†ï¼Œå‡å¯ç”¨breakæ§åˆ¶å¾ªç¯çš„æµç¨‹ã€‚<strong>breakç”¨äºå¼ºè¡Œé€€å‡ºå¾ªç¯ï¼Œä¸æ‰§è¡Œå¾ªç¯ä¸­å‰©ä½™çš„è¯­å¥</strong>(breakè¯­å¥ä¹Ÿåœ¨switchè¯­å¥ä¸­ä½¿ç”¨)</p><p>continueï¼šcontinueè¯­å¥ç”¨åœ¨å¾ªç¯è¯­å¥ä½“ä¸­ï¼Œç”¨äºç»ˆæ­¢æŸæ¬¡å¾ªç¯è¿‡ç¨‹ï¼Œå³<strong>è·³è¿‡å¾ªç¯ä½“ä¸­å°šæœªæ‰§è¡Œçš„è¯­å¥ï¼Œæ¥ç€è¿›è¡Œä¸‹ä¸€æ¬¡æ˜¯å¦æ‰§è¡Œå¾ªç¯çš„åˆ¤å®š</strong></p><p>gotoï¼š</p><ul><li><p>gotoå…³é”®å­—å¾ˆæ—©å°±åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å‡ºç°ã€‚å°½ç®¡gotoä»æ˜¯Javaçš„ä¸€ä¸ªä¿ç•™å­—ï¼Œä½†å¹¶æœªåœ¨è¯­è¨€ä¸­å¾—åˆ°æ­£å¼ä½¿ç”¨;Javaæ²¡æœ‰gotoã€‚ç„¶è€Œï¼Œåœ¨breakå’Œcontinueè¿™ä¸¤ä¸ªå…³é”®å­—çš„èº«ä¸Šï¼Œæˆ‘ä»¬ä»ç„¶èƒ½çœ‹å‡ºä¸€äº›gotoçš„å½±å­â€”å¸¦æ ‡ç­¾çš„breakå’Œcontinue.</p></li><li><p>â€œæ ‡ç­¾â€æ˜¯æŒ‡åé¢è·Ÿä¸€ä¸ªå†’å·çš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚: label:</p></li><li><p>å¯¹Javaæ¥è¯´å”¯ä¸€ç”¨åˆ°æ ‡ç­¾çš„åœ°æ–¹æ˜¯åœ¨å¾ªç¯è¯­å¥ä¹‹å‰ã€‚è€Œåœ¨å¾ªç¯ä¹‹å‰è®¾ç½®æ ‡ç­¾çš„å”¯ä¸€ç†ç”±æ˜¯:<strong>æˆ‘ä»¬å¸Œæœ›åœ¨å…¶ä¸­åµŒå¥—å¦ä¸€ä¸ªå¾ªç¯ï¼Œç”±äºbreakå’Œcontinueå…³é”®å­—é€šå¸¸åªä¸­æ–­å½“å‰å¾ªç¯ï¼Œä½†è‹¥éšåŒæ ‡ç­¾ä½¿ç”¨ï¼Œå®ƒä»¬å°±ä¼šä¸­æ–­åˆ°å­˜åœ¨æ ‡ç­¾çš„åœ°æ–¹</strong></p></li></ul><h2 id="ä¸‰ã€Javaæ–¹æ³•"><a href="#ä¸‰ã€Javaæ–¹æ³•" class="headerlink" title="ä¸‰ã€Javaæ–¹æ³•"></a>ä¸‰ã€Javaæ–¹æ³•</h2><p>Javaæ–¹æ³•æ˜¯è¯­å¥çš„é›†åˆï¼Œå®ƒä»¬åœ¨ä¸€èµ·æ‰§è¡Œä¸€ä¸ªåŠŸèƒ½ã€‚</p><ul><li><p>æ–¹æ³•æ˜¯è§£å†³ä¸€ç±»é—®é¢˜çš„æ­¥éª¤çš„æœ‰åºç»„åˆ</p></li><li><p>æ–¹æ³•åŒ…å«äºç±»æˆ–å¯¹è±¡ä¸­</p></li><li><p>æ–¹æ³•åœ¨ç¨‹åºä¸­è¢«åˆ›å»ºï¼Œåœ¨å…¶ä»–åœ°æ–¹è¢«å¼•ç”¨</p></li></ul><p><strong>è®¾è®¡æ–¹æ³•çš„åŸåˆ™</strong>:æ–¹æ³•çš„æœ¬æ„æ˜¯åŠŸèƒ½å—ï¼Œå°±æ˜¯å®ç°æŸä¸ªåŠŸèƒ½çš„è¯­å¥å—çš„é›†åˆã€‚æˆ‘ä»¬è®¾è®¡æ–¹æ³•çš„æ—¶å€™ï¼Œæœ€å¥½ä¿æŒæ–¹æ³•çš„åŸå­æ€§ï¼Œå°±æ˜¯<strong>ä¸€ä¸ªæ–¹æ³•åªå®Œæˆ1ä¸ªåŠŸèƒ½ï¼Œè¿™æ ·åˆ©äºæˆ‘ä»¬åæœŸçš„æ‰©å±•</strong></p><h3 id="3-1-æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨"><a href="#3-1-æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨" class="headerlink" title="3.1 æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨"></a>3.1 æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨</h3><h4 id="3-1-1-æ–¹æ³•çš„å®šä¹‰"><a href="#3-1-1-æ–¹æ³•çš„å®šä¹‰" class="headerlink" title="3.1.1 æ–¹æ³•çš„å®šä¹‰"></a>3.1.1 æ–¹æ³•çš„å®šä¹‰</h4><p>Javaçš„æ–¹æ³•ç±»ä¼¼äºå…¶å®ƒè¯­è¨€çš„å‡½æ•°ï¼Œæ˜¯<strong>ä¸€æ®µç”¨æ¥å®Œæˆç‰¹å®šåŠŸèƒ½çš„ä»£ç ç‰‡æ®µ</strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹æ³•åŒ…å«ä»¥ä¸‹è¯­æ³•:</p><p>æ–¹æ³•åŒ…å«ä¸€ä¸ªæ–¹æ³•å¤´å’Œä¸€ä¸ªæ–¹æ³•ä½“ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰éƒ¨åˆ†:</p><ul><li><p>è®¿é—®ä¿®é¥°ç¬¦ï¼šè¿™æ˜¯<strong>å¯é€‰çš„</strong>ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚<strong>å®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹</strong></p><ul><li><p>Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®æ§åˆ¶ç¬¦æ¥ä¿æŠ¤å¯¹ç±»ã€å˜é‡ã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„è®¿é—®ã€‚Java æ”¯æŒ 4 ç§ä¸åŒçš„è®¿é—®æƒé™ï¼š</p><ul><li><p><code>default</code> (å³é»˜è®¤ï¼Œä»€ä¹ˆä¹Ÿä¸å†™ï¼‰: åœ¨<strong>åŒä¸€åŒ…å†…å¯è§</strong>ï¼Œä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚</p></li><li><p><code>private</code> : åœ¨<strong>åŒä¸€ç±»å†…å¯è§</strong>ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong></p></li><li><p><code>public</code> : å¯¹<strong>æ‰€æœ‰ç±»å¯è§</strong>ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•</p></li><li><p><code>protected</code> : å¯¹<strong>åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§</strong>ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong></p></li></ul><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>å½“å‰ç±»</th><th>åŒä¸€åŒ…å†…</th><th>å­å­™ç±»(åŒä¸€åŒ…)</th><th>å­å­™ç±»(ä¸åŒåŒ…)</th><th>å…¶ä»–åŒ…</th></tr></thead><tbody><tr><td>public</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td></tr><tr><td>protected</td><td>Y</td><td>Y</td><td>Y</td><td>Y/N</td><td>N</td></tr><tr><td>default</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>N</td></tr><tr><td>private</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td></tr></tbody></table></li></ul></li><li><p>è¿”å›å€¼ç±»å‹âˆ¶æ–¹æ³•å¯èƒ½ä¼šè¿”å›å€¼ã€‚<strong>returnValueTypeæ˜¯æ–¹æ³•è¿”å›å€¼çš„æ•°æ®ç±»å‹</strong>ï¼›æœ‰äº›æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„æ“ä½œï¼Œä½†æ²¡æœ‰è¿”å›å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹,returnValueTypeæ˜¯å…³é”®å­—void</p></li><li><p>æ–¹æ³•å:æ˜¯æ–¹æ³•çš„å®é™…åç§°ã€‚<strong>æ–¹æ³•åå’Œå‚æ•°è¡¨å…±åŒæ„æˆæ–¹æ³•ç­¾å</strong></p></li><li><p>å‚æ•°ç±»å‹:å‚æ•°åƒæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚<strong>å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼ é€’å€¼ç»™å‚æ•°</strong>ã€‚<strong>è¿™ä¸ªå€¼è¢«ç§°ä¸ºå®å‚æˆ–å˜é‡</strong>ã€‚å‚æ•°åˆ—è¡¨æ˜¯æŒ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ã€é¡ºåºå’Œå‚æ•°çš„ä¸ªæ•°ã€‚<strong>å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ–¹æ³•å¯ä»¥ä¸åŒ…å«ä»»ä½•å‚æ•°</strong></p><ul><li>å½¢å¼å‚æ•°:åœ¨æ–¹æ³•è¢«è°ƒç”¨æ—¶ç”¨äºæ¥æ”¶å¤–ç•Œè¾“å…¥çš„æ•°æ®</li><li>å®å‚:è°ƒç”¨æ–¹æ³•æ—¶å®é™…ä¼ ç»™æ–¹æ³•çš„æ•°æ®</li></ul></li><li><p>æ–¹æ³•ä½“:æ–¹æ³•ä½“åŒ…å«å…·ä½“çš„è¯­å¥ï¼Œå®šä¹‰è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚</p></li></ul><pre><code class="java">ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°ç±»å‹ å‚æ•°å) &#123;    ...    æ–¹æ³•ä½“    ...    return è¿”å›å€¼;&#125;</code></pre><h4 id="3-1-2-æ–¹æ³•çš„è°ƒç”¨"><a href="#3-1-2-æ–¹æ³•çš„è°ƒç”¨" class="headerlink" title="3.1.2 æ–¹æ³•çš„è°ƒç”¨"></a>3.1.2 æ–¹æ³•çš„è°ƒç”¨</h4><p><strong>å®ä¾‹æ–¹æ³•ï¼š</strong></p><p>è°ƒç”¨æ–¹æ³•ï¼šæ— è®ºæ–¹æ³•ä¸æ–¹æ³•çš„è°ƒç”¨æ˜¯å¦åœ¨åŒä¸€ä¸ªç±»ä¸­,éƒ½æ˜¯å…ˆå£°æ˜å®šä¹‰ä¸€ä¸ªå¯¹è±¡,ç„¶åé€šè¿‡å¯¹è±¡å.æ–¹æ³•åï¼ˆå®å‚åˆ—è¡¨ï¼‰è¿›è¡Œè°ƒç”¨</p><ul><li>å½“æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œæ–¹æ³•è°ƒç”¨é€šå¸¸è¢«å½“åšä¸€ä¸ªå€¼</li><li>å½“æ–¹æ³•è¿”å›ä¸ºvoidæ—¶ï¼Œæ–¹æ³•è°ƒç”¨æ˜¯ä¸€æ¡è¯­å¥</li></ul><pre><code class="java">Test test = new Test();//æ–¹æ³•æœ‰è¿”å›å€¼æ—¶ï¼Œå¦‚ä¸‹int max = test.max(10,20);//æ–¹æ³•è¿”å›voidæ—¶ï¼Œå¦‚ä¸‹test.max(10,20);</code></pre><p><strong>ç±»æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰ï¼š</strong></p><p>è°ƒç”¨æ–¹æ³•ï¼šå¦‚æœæ–¹æ³•ä¸æ–¹æ³•è°ƒç”¨åœ¨åŒä¸€ä¸ªç±»ä¸­å‘ç”Ÿï¼Œå¯é€šè¿‡æ–¹æ³•åç›´æ¥è°ƒç”¨ï¼›å¦‚æœæ–¹æ³•ä¸æ–¹æ³•è°ƒç”¨æ²¡æœ‰å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œéœ€è¦é€šè¿‡ç±»å.æ–¹æ³•åï¼ˆå®å‚åˆ—è¡¨ï¼‰è¿›è¡Œè°ƒç”¨</p><ul><li>æ–¹æ³•è¿”å›å€¼çš„æƒ…å†µä¸å®ä¾‹æ–¹æ³•ç›¸åŒ</li></ul><pre><code class="java">class A &#123;    public static void test() &#123;        //ä»£ç å—    &#125;    test(); //æ–¹æ³•å’Œæ–¹æ³•è°ƒç”¨å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­&#125;class B &#123;    A.test(); //æ–¹æ³•å’Œæ–¹æ³•è°ƒç”¨å‘ç”Ÿåœ¨ä¸åŒç±»ä¸­&#125;</code></pre><h4 id="3-1-3-å½¢å‚å’Œå®å‚"><a href="#3-1-3-å½¢å‚å’Œå®å‚" class="headerlink" title="3.1.3 å½¢å‚å’Œå®å‚"></a>3.1.3 å½¢å‚å’Œå®å‚</h4><p><strong>å½¢å‚</strong> é¡¾åæ€ä¹‰:å°±æ˜¯å½¢å¼å‚æ•°ï¼Œç”¨äº<strong>å®šä¹‰æ–¹æ³•</strong>çš„æ—¶å€™ä½¿ç”¨çš„å‚æ•°ï¼Œæ˜¯ç”¨æ¥<strong>æ¥æ”¶è°ƒç”¨è€…ä¼ é€’çš„å‚æ•°</strong>çš„ã€‚ å½¢å‚åªæœ‰åœ¨<strong>æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè™šæ‹Ÿæœºæ‰ä¼šåˆ†é…å†…å­˜å•å…ƒ</strong>ï¼Œåœ¨<strong>æ–¹æ³•è°ƒç”¨ç»“æŸä¹‹åä¾¿ä¼šé‡Šæ”¾æ‰€åˆ†é…çš„å†…å­˜å•å…ƒ</strong>ã€‚ å› æ­¤,å½¢å‚<strong>åªåœ¨æ–¹æ³•å†…éƒ¨æœ‰æ•ˆ</strong>ï¼Œæ‰€ä»¥é’ˆå¯¹<strong>å¼•ç”¨å¯¹è±¡çš„æ”¹åŠ¨ä¹Ÿæ— æ³•å½±å“åˆ°æ–¹æ³•å¤–</strong></p><p><strong>å®å‚</strong> é¡¾åæ€ä¹‰:å°±æ˜¯å®é™…å‚æ•°ï¼Œç”¨äºè°ƒç”¨æ—¶<strong>ä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°</strong>ã€‚å®å‚åœ¨ä¼ é€’ç»™åˆ«çš„æ–¹æ³•ä¹‹å‰æ˜¯è¦<strong>è¢«é¢„å…ˆèµ‹å€¼</strong>çš„</p><p>Tipsï¼š<br>åœ¨ <code>å€¼ä¼ é€’</code>è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œåªèƒ½æŠŠ<strong>å®å‚çš„å€¼ä¼ é€’ç»™å½¢å‚</strong>ï¼Œè€Œä¸èƒ½æŠŠå½¢å‚çš„å€¼åå‘ä½œç”¨åˆ°å®å‚ä¸Šã€‚åœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå½¢å‚çš„å€¼å‘ç”Ÿæ”¹å˜ï¼Œè€Œå®å‚çš„å€¼ä¸ä¼šå‘ç”Ÿæ”¹å˜</p><p>åœ¨ <code>å¼•ç”¨ä¼ é€’</code>è°ƒç”¨çš„æœºåˆ¶ä¸­ï¼Œå®é™…ä¸Šæ˜¯å°†<strong>å®å‚å¼•ç”¨çš„åœ°å€ä¼ é€’ç»™äº†å½¢å‚</strong>ï¼Œæ‰€ä»¥ä»»ä½•å‘ç”Ÿåœ¨å½¢å‚ä¸Šçš„æ”¹å˜ä¹Ÿä¼šå‘ç”Ÿåœ¨å®å‚å˜é‡ä¸Š</p><p><code>å€¼ä¼ é€’</code>å’Œ<code>å¼•ç”¨ä¼ é€’</code>åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå‚è€ƒ3.1.4</p><h4 id="3-1-4-å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’-é‡ç‚¹-éš¾ç‚¹"><a href="#3-1-4-å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’-é‡ç‚¹-éš¾ç‚¹" class="headerlink" title="3.1.4 å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’(é‡ç‚¹\éš¾ç‚¹)"></a>3.1.4 <strong>å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’(é‡ç‚¹\éš¾ç‚¹)</strong></h4><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://blog.csdn.net/qq_40574571/article/details/90765349">https://blog.csdn.net/qq_40574571/article/details/90765349</a></li><li><a href="https://www.cnblogs.com/zhangshiwen/p/5830062.html">https://www.cnblogs.com/zhangshiwen/p/5830062.html</a></li></ul><p>å€¼ä¼ é€’æ˜¯å¯¹åŸºæœ¬å‹å˜é‡è€Œè¨€çš„,<strong>ä¼ é€’çš„æ˜¯è¯¥å˜é‡çš„ä¸€ä¸ªå‰¯æœ¬,æ”¹å˜å‰¯æœ¬ä¸å½±å“åŸå˜é‡</strong></p><p> å¼•ç”¨ä¼ é€’ä¸€èˆ¬æ˜¯å¯¹äºå¯¹è±¡å‹å˜é‡è€Œè¨€çš„,<strong>ä¼ é€’çš„æ˜¯è¯¥å¯¹è±¡åœ°å€çš„ä¸€ä¸ªå‰¯æœ¬, å¹¶ä¸æ˜¯åŸå¯¹è±¡æœ¬èº«</strong> </p><p> ä¸€èˆ¬è®¤ä¸º,javaå†…çš„åŸºç¡€ç±»å‹æ•°æ®ä¼ é€’éƒ½æ˜¯å€¼ä¼ é€’. javaä¸­å®ä¾‹å¯¹è±¡çš„ä¼ é€’æ˜¯å¼•ç”¨ä¼ é€’</p><p><strong>å€¼ä¼ é€’ï¼š</strong></p><ul><li>æŒ‡çš„æ˜¯åœ¨æ–¹æ³•çš„è°ƒç”¨ä¸­ï¼Œä¼ é€’çš„å‚æ•°æ˜¯æŒ‰ç…§å€¼çš„æ‹·è´ä¼ é€’</li><li>ç‰¹ç‚¹ï¼šä¼ é€’çš„æ˜¯å€¼çš„æ‹·è´ï¼Œä¼ é€’åå°±äº’ä¸ç›¸å…³äº†<div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633185.png' data-fancybox='default' data-caption='image-20210722170825089'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633185.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633185.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210722170825089"></a><span class='image-caption'>image-20210722170825089</span></div></div></li></ul><p><strong>å¼•ç”¨ä¼ é€’ï¼š</strong></p><ul><li>æŒ‡çš„æ˜¯åœ¨æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼ é€’çš„å‚æ•°æ˜¯æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ï¼Œå…¶å®ä¼ é€’çš„æ˜¯å¼•ç”¨çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯å˜é‡æ‰€å¯¹åº”çš„å†…å­˜ç©ºé—´çš„åœ°å€ã€‚</li><li>ç‰¹ç‚¹ï¼šä¼ é€’çš„æ˜¯å‚æ•°çš„å¼•ç”¨å€¼ï¼Œä¹Ÿå°±æ˜¯ä¼ é€’å‰å’Œä¼ é€’åéƒ½æŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨ï¼ˆå³åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼‰</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633282.png' data-fancybox='default' data-caption='image-20210722172443947'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633282.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633282.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210722172443947"></a><span class='image-caption'>image-20210722172443947</span></div></div><p>Tipsï¼š</p><ul><li><p><strong>â€œåœ¨Javaé‡Œé¢å‚æ•°ä¼ é€’éƒ½æ˜¯æŒ‰å€¼ä¼ é€’â€è¿™å¥è¯çš„æ„æ€æ˜¯ï¼šæŒ‰å€¼ä¼ é€’æ˜¯ä¼ é€’çš„å€¼çš„æ‹·è´ï¼ŒæŒ‰å¼•ç”¨ä¼ é€’å…¶å®ä¼ é€’çš„æ˜¯å¼•ç”¨çš„åœ°å€å€¼ï¼Œæ‰€ä»¥ç»Ÿç§°æŒ‰å€¼ä¼ é€’</strong></p></li><li><p>åœ¨Javaé‡Œé¢åªæœ‰åŸºæœ¬ç±»å‹å’ŒæŒ‰ç…§ç›´æ¥ä½¿ç”¨åŒå¼•å·å®šä¹‰å­—ç¬¦ä¸²æ–¹å¼ï¼šString str = â€œJavaç§å¡¾â€è¿™ç§å®šä¹‰æ–¹å¼çš„Stringæ˜¯æŒ‰å€¼ä¼ é€’ï¼Œå…¶å®ƒçš„éƒ½æ˜¯æŒ‰å¼•ç”¨ä¼ é€’</p></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633598.png' data-fancybox='default' data-caption='image-20210711171056907'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633598.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633598.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210711171056907"></a><span class='image-caption'>image-20210711171056907</span></div></div><h3 id="3-2-æ–¹æ³•çš„é‡è½½"><a href="#3-2-æ–¹æ³•çš„é‡è½½" class="headerlink" title="3.2 æ–¹æ³•çš„é‡è½½"></a>3.2 æ–¹æ³•çš„é‡è½½</h3><p><strong>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæœ‰ç›¸åŒçš„å‡½æ•°åç§°ï¼Œä½†å½¢å‚ä¸åŒçš„å‡½æ•°</strong></p><p>æ–¹æ³•çš„é‡è½½çš„è§„åˆ™:</p><ul><li><strong>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</strong></li><li><strong>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒ(ä¸ªæ•°ä¸åŒã€æˆ–ç±»å‹ä¸åŒã€å‚æ•°æ’åˆ—é¡ºåºä¸åŒç­‰)</strong></li><li><strong>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸ç›¸åŒ</strong></li><li><strong>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½</strong></li></ul><p>å®ç°ç†è®º:</p><p>æ–¹æ³•åç§°ç›¸åŒæ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è°ƒç”¨æ–¹æ³•çš„å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹ç­‰å»é€ä¸ªåŒ¹é…ï¼Œä»¥é€‰æ‹©å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœåŒ¹é…å¤±è´¥ï¼Œåˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</p><h3 id="3-3-å‘½ä»¤è¡Œä¼ é€’å‚æ•°"><a href="#3-3-å‘½ä»¤è¡Œä¼ é€’å‚æ•°" class="headerlink" title="3.3 å‘½ä»¤è¡Œä¼ é€’å‚æ•°"></a>3.3 å‘½ä»¤è¡Œä¼ é€’å‚æ•°</h3><p>åœ¨æ§åˆ¶å°çš„å‘½ä»¤è¡Œè¿›è¡Œç¼–è¯‘.javaæ–‡ä»¶æ—¶ä¼ å‚</p><pre><code class="java">public class Test &#123;    public static void main(String[] args)    for(int i = 0; i &lt; args.length; i++) &#123;        System.out.println(&quot;args[&quot; + i + &quot;]:&quot; + args[i]);    &#125;&#125;//å¦‚æœåœ¨å‘½ä»¤è¡Œç¼–è¯‘æˆåŠŸåè¾“å…¥å‘½ä»¤ï¼šjava Test this is test//åˆ™è¿è¡Œç¨‹åºæ—¶å‘½ä»¤è¡Œä¼šè¾“å‡ºï¼šargs[0]:this        args[1]:is        args[2]:test</code></pre><h3 id="3-4-å¯å˜å‚æ•°"><a href="#3-4-å¯å˜å‚æ•°" class="headerlink" title="3.4 å¯å˜å‚æ•°"></a>3.4 å¯å˜å‚æ•°</h3><p>JDK5å¼€å§‹ï¼ŒJavaæ”¯æŒä¼ é€’åŒç±»å‹çš„å¯å˜å‚æ•°ç»™ä¸€ä¸ªæ–¹æ³•</p><p>åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å·(â€¦)</p><p>ä¸€ä¸ªæ–¹æ³•åªèƒ½åˆ¶å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ä»»ä½•å‚æ•°å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜</p><pre><code class="java">test(1,3,4); //å¯ä»¥éšæ„ä¼ nä¸ªå‚æ•°test(new Double[]&#123;1,2,3&#125;);public void test(double... numbers) &#123;    //æ–¹æ³•ä½“&#125;</code></pre><h3 id="3-4-é€’å½’"><a href="#3-4-é€’å½’" class="headerlink" title="3.4 é€’å½’"></a>3.4 é€’å½’</h3><p>tipsï¼šæ·±åº¦è¾ƒå¤§çš„æ—¶å€™è¿è¡Œé€Ÿåº¦å¤ªæ…¢ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜ï¼ŒåŠ³ç´¯ç”µè„‘</p><p>é€’å½’å°±æ˜¯:Aæ–¹æ³•è°ƒç”¨Aæ–¹æ³•!å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±</p><p>åˆ©ç”¨é€’å½’å¯ä»¥ç”¨ç®€å•çš„ç¨‹åºæ¥è§£å†³ä¸€äº›å¤æ‚çš„é—®é¢˜ã€‚å®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ï¼Œé€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å‡ºè§£é¢˜è¿‡ç¨‹æ‰€éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡ã€‚<strong>é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡çš„æ— é™é›†åˆ</strong></p><p>é€’å½’ç»“æ„åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†:</p><ul><li>é€’å½’å¤´:ä»€ä¹ˆæ—¶å€™ä¸è°ƒç”¨è‡ªèº«æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰å¤´ï¼Œå°†é™·å…¥æ­»å¾ªç¯</li><li>é€’å½’ä½“:ä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«æ–¹æ³•</li></ul><pre><code class="java">//è®¡ç®—é˜¶ä¹˜public static void main(String[] args) &#123;        System.out.println(test(5));    &#125;    public static int test(int i) &#123;        if(i == 1) &#123;            return 1; //é€’å½’å¤´ï¼ˆå°½å¤´ï¼‰        &#125; else &#123;            return i*test(i-1);        &#125;    &#125;</code></pre><p>å¦‚å›¾ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633597.png' data-fancybox='default' data-caption='image-20210711182627099'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633597.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201633597.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210711182627099"></a><span class='image-caption'>image-20210711182627099</span></div></div><h2 id="å››ã€Javaæ•°ç»„"><a href="#å››ã€Javaæ•°ç»„" class="headerlink" title="å››ã€Javaæ•°ç»„"></a>å››ã€Javaæ•°ç»„</h2><p>æ•°ç»„æ˜¯<strong>ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆ</strong></p><p>æ•°ç»„æè¿°çš„æ˜¯<strong>ç›¸åŒç±»å‹çš„è‹¥å¹²ä¸ªæ•°æ®</strong>,æŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆ</p><p>å…¶ä¸­,æ¯ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ ,æ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è®¿é—®å®ƒä»¬</p><h3 id="4-1-æ•°ç»„çš„å£°æ˜åˆ›å»º"><a href="#4-1-æ•°ç»„çš„å£°æ˜åˆ›å»º" class="headerlink" title="4.1 æ•°ç»„çš„å£°æ˜åˆ›å»º"></a>4.1 æ•°ç»„çš„å£°æ˜åˆ›å»º</h3><p>é¦–å…ˆå¿…é¡»å…ˆå£°æ˜æ•°ç»„å˜é‡ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­ä½¿ç”¨æ•°ç»„</p><pre><code class="java">dataType[] arrayRefVar; //é¦–é€‰æ–¹æ³•dataType arrayRefVar[]; //æ•ˆæœç›¸åŒï¼Œä½†ä¸æ˜¯é¦–é€‰æ–¹æ³•//Javaä½¿ç”¨newæ“ä½œç¬¦æ¥åˆ›å»ºæ•°ç»„dataType[] arrayRefVar = new dataType[arraySize];</code></pre><p>æ•°ç»„å…ƒç´ é€šè¿‡ç´¢å¼•è®¿é—®ï¼Œæ•°ç»„ç´¢å¼•ä»0å¼€å§‹</p><p>è·å–æ•°ç»„é•¿åº¦ï¼š<code>arrays.length</code></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634738.png' data-fancybox='default' data-caption='image-20210712112802160'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634738.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634738.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712112802160"></a><span class='image-caption'>image-20210712112802160</span></div></div><h3 id="4-2-Javaå†…å­˜åˆ†æåŠä¸‰ç§åˆå§‹åŒ–"><a href="#4-2-Javaå†…å­˜åˆ†æåŠä¸‰ç§åˆå§‹åŒ–" class="headerlink" title="4.2 Javaå†…å­˜åˆ†æåŠä¸‰ç§åˆå§‹åŒ–"></a>4.2 Javaå†…å­˜åˆ†æåŠä¸‰ç§åˆå§‹åŒ–</h3><h4 id="4-2-1-Javaå†…å­˜åˆ†æ"><a href="#4-2-1-Javaå†…å­˜åˆ†æ" class="headerlink" title="4.2.1 Javaå†…å­˜åˆ†æ"></a>4.2.1 Javaå†…å­˜åˆ†æ</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634043.png' data-fancybox='default' data-caption='image-20210712113429404'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634043.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634043.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712113429404"></a><span class='image-caption'>image-20210712113429404</span></div></div><p>å…ˆç”³è¯·å†åˆ›å»º</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634817.png' data-fancybox='default' data-caption='image-20210712113741570'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634817.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634817.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712113741570"></a><span class='image-caption'>image-20210712113741570</span></div></div><h4 id="4-2-2-ä¸‰ç§åˆå§‹åŒ–æ–¹å¼"><a href="#4-2-2-ä¸‰ç§åˆå§‹åŒ–æ–¹å¼" class="headerlink" title="4.2.2 ä¸‰ç§åˆå§‹åŒ–æ–¹å¼"></a>4.2.2 ä¸‰ç§åˆå§‹åŒ–æ–¹å¼</h4><p><strong>é™æ€åˆå§‹åŒ–</strong></p><pre><code class="java">int[] a = &#123;1,2,3&#125;;Man[] mans = &#123;new Man(1,1),new Man(2,2)&#125;;</code></pre><p><strong>åŠ¨æ€åˆå§‹åŒ–</strong>ï¼ˆåŒ…æ‹¬é»˜è®¤åˆå§‹åŒ–ï¼‰</p><pre><code class="java">int[] a = new int[2];a[0] = 1;a[1] = 2;</code></pre><p><strong>æ•°ç»„çš„é»˜è®¤åˆå§‹åŒ–</strong></p><p>æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å…ƒç´ ç›¸å½“äºç±»çš„å®ä¾‹å˜é‡ï¼Œå› æ­¤æ•°ç»„ä¸€ç»åˆ†é…ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹Ÿè¢«æŒ‰ç…§å®ä¾‹å˜é‡åŒæ ·çš„æ–¹å¼è¢«éšå¼åˆå§‹åŒ–ï¼ˆæ¯”å¦‚intç±»å‹çš„é»˜è®¤å€¼éƒ½ä¸º0ï¼‰</p><h4 id="4-2-3-ä¸‹æ ‡è¶Šç•Œé—®é¢˜"><a href="#4-2-3-ä¸‹æ ‡è¶Šç•Œé—®é¢˜" class="headerlink" title="4.2.3 ä¸‹æ ‡è¶Šç•Œé—®é¢˜"></a>4.2.3 ä¸‹æ ‡è¶Šç•Œé—®é¢˜</h4><p><strong>æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹</strong></p><ul><li>å…¶é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»ºï¼Œå®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥æ”¹å˜çš„</li><li>å…¶å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹,ä¸å…è®¸å‡ºç°æ··åˆç±»å‹</li><li>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</li><li><strong>æ•°ç»„å˜é‡å±å¼•ç”¨ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡</strong>ã€‚æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼ŒJavaä¸­å¯¹è±¡æ˜¯åœ¨å †ä¸­çš„ï¼Œå› æ­¤æ•°ç»„æ— è®ºä¿å­˜åŸå§‹ç±»å‹è¿˜æ˜¯å…¶ä»–å¯¹è±¡ç±»å‹ï¼Œ<strong>æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„</strong></li></ul><p><strong>è‹¥å¯¹æ•°ç»„ä¸‹æ ‡çš„æ“ä½œè¶…è¿‡æ•°ç»„å£°æ˜åˆ›å»ºæ—¶çš„ä¸‹æ ‡ï¼Œå°±ä¼šå‡ºç°ä¸‹æ ‡è¶Šç•Œé—®é¢˜ï¼ŒæŠ¥ArrayIndexOutOfBoundså¼‚å¸¸</strong></p><h3 id="4-3-æ•°ç»„çš„ä½¿ç”¨"><a href="#4-3-æ•°ç»„çš„ä½¿ç”¨" class="headerlink" title="4.3 æ•°ç»„çš„ä½¿ç”¨"></a>4.3 æ•°ç»„çš„ä½¿ç”¨</h3><p><strong>for-eachå¾ªç¯</strong></p><pre><code class="java">int[] arrays = &#123;1,2,3,4,5&#125;;for (int array : arrays) &#123;    //æ‰§è¡Œè¯­å¥&#125;</code></pre><p><strong>æ•°ç»„ä½œæ–¹æ³•å…¥å‚</strong></p><pre><code class="java">public static void printArray(int[] arrays) &#123;    //æ‰§è¡Œè¯­å¥&#125;</code></pre><p><strong>æ•°ç»„ä½œè¿”å›å€¼</strong></p><pre><code class="java">//åè½¬æ•°ç»„public static void main(String[] args) &#123;        int[] arrays = &#123;1,2,3,4,5&#125;;        for (int array : arrays) &#123;            System.out.print(array + &quot;  &quot;);        &#125;        System.out.println();        int[] results =  reverse(arrays);        for (int result : results) &#123;            System.out.print(result + &quot;  &quot;);        &#125;    &#125;    public static int[] reverse(int[] arrays) &#123;        int[] result = new int[arrays.length];        for (int i = 0; i &lt; arrays.length; i++) &#123;            result[i] = arrays[arrays.length-1-i];        &#125;        return result;    &#125;</code></pre><h3 id="4-4-å¤šç»´æ•°ç»„"><a href="#4-4-å¤šç»´æ•°ç»„" class="headerlink" title="4.4 å¤šç»´æ•°ç»„"></a>4.4 å¤šç»´æ•°ç»„</h3><p>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå…¶æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p><p>å¦‚ï¼ŒäºŒç»´æ•°ç»„ï¼š<code>int[][] a = new int[2][5]; </code>å¯ä»¥çœ‹æˆä¸€ä¸ªäºŒè¡Œäº”åˆ—çš„æ•°ç»„</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634508.png' data-fancybox='default' data-caption='image-20210712140511164'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634508.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201634508.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712140511164"></a><span class='image-caption'>image-20210712140511164</span></div></div><p>äºŒç»´æ•°ç»„çš„arrays.lengthè¾“å‡ºçš„æ˜¯ç¬¬ä¸€å±‚æ•°ç»„çš„é•¿åº¦ï¼Œæ¯”å¦‚<code>new int[2][5]</code>çš„é•¿åº¦å°±æ˜¯2ï¼›å¦‚æœè¦å¾—åˆ°ç¬¬äºŒå±‚æ•°ç»„çš„é•¿åº¦ï¼Œåº”è¡¨ç¤ºä¸º<code>arrays[0].length</code></p><h3 id="4-5-Arrayså·¥å…·ç±»"><a href="#4-5-Arrayså·¥å…·ç±»" class="headerlink" title="4.5 Arrayså·¥å…·ç±»"></a>4.5 Arrayså·¥å…·ç±»</h3><p>ç”±äºæ•°ç»„å¯¹è±¡æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä¾›æˆ‘ä»¬è°ƒç”¨,ä½†APIä¸­æä¾›äº†ä¸€ä¸ªæ•°ç»„çš„å·¥å…·ç±»java.util.Arraysä¾›æˆ‘ä»¬ä½¿ç”¨,ä»è€Œå¯ä»¥å¯¹æ•°æ®å¯¹è±¡è¿›è¡Œä¸€äº›åŸºæœ¬çš„æ“ä½œï¼ˆæŸ¥çœ‹JDKå¸®åŠ©æ–‡æ¡£ï¼‰</p><p>Arraysç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯staticä¿®é¥°çš„é™æ€æ–¹æ³•,åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨,è€Œâ€ä¸ç”¨â€ä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨(æ³¨æ„:æ˜¯â€ä¸ç”¨â€è€Œä¸æ˜¯â€ä¸èƒ½â€)</p><p>Arraysç±»å…·æœ‰ä»¥ä¸‹å¸¸ç”¨åŠŸèƒ½:</p><ul><li>ç»™æ•°ç»„<strong>èµ‹å€¼</strong>:é€šè¿‡fillæ–¹æ³•</li><li>å¯¹æ•°ç»„<strong>æ’åº</strong>:é€šè¿‡sortæ–¹æ³•,æŒ‰å‡åº</li><li><strong>æ¯”è¾ƒ</strong>æ•°ç»„:é€šè¿‡equals æ–¹æ³•æ¯”è¾ƒæ•°ç»„ä¸­å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰</li><li><strong>æŸ¥æ‰¾</strong>æ•°ç»„å…ƒç´ :é€šè¿‡binarySearchæ–¹æ³•èƒ½å¯¹<strong>æ’åºå¥½</strong>çš„æ•°ç»„è¿›è¡Œ<strong>äºŒåˆ†æŸ¥æ‰¾æ³•</strong>æ“ä½œ</li><li><strong>è¾“å‡º</strong>æ•°ç»„ä¿¡æ¯ï¼štoStringæ–¹æ³•</li></ul><h3 id="4-6-æ•°ç»„æ’åº"><a href="#4-6-æ•°ç»„æ’åº" class="headerlink" title="4.6 æ•°ç»„æ’åº"></a>4.6 æ•°ç»„æ’åº</h3><p>å†’æ³¡æ’åºæ˜¯æœ€å‡ºåçš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œæ€»å…±å…«å¤§æ’åºæ–¹æ³•ã€‚å³ç›´æ¥æ’å…¥æ’åºã€å¸Œå°”æ’åºã€ç®€å•é€‰æ‹©æ’åºã€å †æ’åºã€å†’æ³¡æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€æ¡¶æ’åº/åŸºæ•°æ’åº</p><p><strong>å†’æ³¡æ’åºï¼š</strong></p><ul><li>æ¯”è¾ƒæ•°ç»„ä¸­ï¼Œä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§ï¼Œæˆ‘ä»¬å°±äº¤æ¢ä»–ä»¬çš„ä½ç½®</li><li><strong>æ¯ä¸€æ¬¡æ¯”è¾ƒï¼Œéƒ½ä¼šäº§ç”Ÿå‡ºä¸€ä¸ªæœ€å¤§ï¼Œæˆ–è€…æœ€å°çš„æ•°å­—</strong></li><li>ä¸‹ä¸€è½®åˆ™å¯ä»¥å°‘ä¸€æ¬¡æ’åº</li><li>ä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°ç»“æŸ</li></ul><pre><code class="java">//å†’æ³¡æ’åºfor(int n=1;n&lt;a.length;n++) &#123; //ç¬¬nè½®æ’åº    for(int i=0;i&lt;a.length-n;i++) &#123; //è°ƒæ¢ä½ç½®ï¼Œi&lt;a.length-næ˜¯å› ä¸ºæ¯æ¬¡æ¯”è¾ƒåéƒ½ä¼šäº§å‡ºä¸€ä¸ªæœ€å¤§æˆ–æœ€å°çš„æ•°ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å°±ä¸ç”¨å†æ¯”è¾ƒå®ƒ        if(a[i]&gt;a[i+1]) &#123;            int temp=a[i];            a[i]=a[i+1];            a[i+1]=temp;        &#125;    &#125;&#125;</code></pre><p><strong>é€‰æ‹©æ’åºï¼š</strong></p><ul><li>é€‰æ‹©æ•°ç»„ä¸­ç¬¬i+1ä¸ªæ•°ï¼Œä¾æ¬¡ä¸å…¶åé¢çš„æ•°è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥æ¯”åé¢çš„æ•°å¤§å°±è°ƒæ¢ä½ç½®ï¼Œè¿™æ ·æ¯æ¬¡éƒ½ä¼šå°†è¿™è½®æ¯”è¾ƒæœ€å°çš„æ•°æ”¾åœ¨æœ€å‰é¢</li></ul><pre><code class="java">//é€‰æ‹©æ’åºfor(int i=0;i&lt;a.length;i++) &#123; //ç¬¬i+1è½®æ’åº    for(int j=i+1;j&lt;a.length;j++) &#123; //è°ƒæ¢ä½ç½®        if(a[j]&lt;a[i]) &#123;            int temp=a[i];            a[i]=a[j];            a[j]=temp;        &#125;    &#125;&#125;</code></pre><h3 id="4-7-ç¨€ç–æ•°ç»„"><a href="#4-7-ç¨€ç–æ•°ç»„" class="headerlink" title="4.7 ç¨€ç–æ•°ç»„"></a>4.7 ç¨€ç–æ•°ç»„</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201635838.png' data-fancybox='default' data-caption='image-20210712152206816'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201635838.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201635838.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712152206816"></a><span class='image-caption'>image-20210712152206816</span></div></div><p>ä¾‹å­ï¼š</p><pre><code class="java">private static int sum = 0; //ç»Ÿè®¡åŸå§‹æ•°ç»„ä¸­æœ‰å¤šå°‘ä¸ªé0æ•°private static int[][] primary; //å£°æ˜å®šä¹‰åŸå§‹æ•°ç»„private static int[][] sparse; //å£°æ˜å®šä¹‰ç¨€ç–æ•°ç»„private static int[][] recover; //å£°æ˜å®šä¹‰æ¢å¤æ•°ç»„public static void main(String[] args) &#123;    CreateArrays();    CreateSparse();    RecoverArrays();&#125;//åˆ›å»ºä¸€ä¸ªåŸå§‹æ•°ç»„public static void CreateArrays() &#123;    primary = new int[6][6];    primary[0][3] = 2;    primary[1][1] = 3;    primary[3][5] = 5;    primary[5][3] = 1;    System.out.println(&quot;è¾“å‡ºåŸå§‹æ•°ç»„ï¼š&quot;);    for (int[] ints : primary) &#123;        for (int anInt : ints) &#123;            System.out.print(anInt + &quot;\t&quot;);            if(anInt != 0) &#123;                sum++; //é0æ•°ä¸ªæ•°åŠ 1            &#125;        &#125;        System.out.println();    &#125;    System.out.println(&quot;================&quot;);&#125;//åˆ›å»ºç¨€ç–æ•°ç»„å­˜å‚¨åŸå§‹æ•°ç»„çš„æ•°æ®public static void CreateSparse() &#123;    int count = 0; //ç”±äºç¨€ç–æ•°ç»„ä¸­ä¸€è¡Œå­˜å‚¨çš„æ˜¯åŸå§‹æ•°ç»„ä¸­é0æ•°çš„è¡Œã€åˆ—ã€å€¼ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°ä¸€ä¸ªcountæ¥å†³å®šé0æ•°å­˜å‚¨åœ¨ç¨€ç–æ•°ç»„çš„ç¬¬å‡ è¡Œ    sparse = new int[sum+1][3];    sparse[0][0] = primary.length; //å­˜æ”¾primaryçš„è¡Œæ•°    sparse[0][1] = primary[0].length; //å­˜æ”¾primaryçš„åˆ—æ•°    sparse[0][2] = sum; //å­˜æ”¾primaryä¸­é0æ•°çš„ä¸ªæ•°    for (int i = 0; i &lt; primary.length; i++) &#123;        for (int j = 0; j &lt; primary[i].length; j++) &#123;            if (primary[i][j] != 0) &#123; //å¾ªç¯éå†primaryæ•°ç»„ï¼Œå°†é0æ•°çš„æ‰€åœ¨è¡Œåˆ—å’Œå€¼ä¿å­˜åœ¨sparseä¸­                count++;                sparse[count][0] = i;                sparse[count][1] = j;                sparse[count][2] = primary[i][j];            &#125;        &#125;    &#125;    System.out.println(&quot;è¾“å‡ºç¨€ç–æ•°ç»„ï¼š&quot;);    System.out.println(&quot;è¡Œ&quot; + &quot;\t&quot; + &quot;åˆ—&quot; + &quot;\t&quot; + &quot;å€¼&quot; + &quot;\t&quot;);    for (int[] ints : sparse) &#123;        for (int anInt : ints) &#123;            System.out.print(anInt + &quot;\t&quot;);        &#125;        System.out.println();    &#125;    System.out.println(&quot;================&quot;);&#125;//é€šè¿‡ç¨€ç–æ•°ç»„æ¢å¤åŸå§‹æ•°ç»„public static void RecoverArrays() &#123;    recover = new int[sparse[0][0]][sparse[0][1]]; //è¿˜åŸæ•°ç»„çš„è¡Œæ•°ç­‰äºç¨€ç–æ•°ç»„çš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„æ•°ï¼Œåˆ—æ•°ç­‰äºç¨€ç–æ•°ç»„ç¬¬ä¸€è¡Œç¬¬äºŒåˆ—çš„æ•°    for (int i = 1; i &lt; sparse.length; i++) &#123;        recover[sparse[i][0]][sparse[i][1]] = sparse[i][2]; //éå†ç¨€ç–æ•°ç»„ï¼Œé€šè¿‡è·å–åˆ°çš„è¡Œåˆ—å’Œæ•°å°†å…¶å¡«å……åˆ°åˆ°è¿˜åŸæ•°ç»„ä¸­    &#125;    System.out.println(&quot;è¾“å‡ºè¿˜åŸæ•°ç»„ï¼š&quot;);    for (int[] ints : recover) &#123;        for (int anInt : ints) &#123;            System.out.print(anInt + &quot;\t&quot;);        &#125;        System.out.println();    &#125;&#125;</code></pre><h2 id="äº”ã€Javaé¢å‘å¯¹è±¡"><a href="#äº”ã€Javaé¢å‘å¯¹è±¡" class="headerlink" title="äº”ã€Javaé¢å‘å¯¹è±¡"></a>äº”ã€Javaé¢å‘å¯¹è±¡</h2><h3 id="5-1-ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡"><a href="#5-1-ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡" class="headerlink" title="5.1 ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡"></a>5.1 ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡</h3><p><strong>ï¼ˆé¢è¯•ï¼šé¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡çš„åŒºåˆ«ï¼‰</strong></p><p>é¢å‘è¿‡ç¨‹æ€æƒ³ï¼ˆçº¿æ€§æ€ç»´ï¼‰ï¼š</p><ul><li>æ­¥éª¤æ¸…æ™°ç®€å•ï¼Œç¬¬ä¸€æ­¥åšä»€ä¹ˆï¼Œç¬¬äºŒæ­¥åšä»€ä¹ˆâ€¦â€¦</li><li>é¢å‘è¿‡ç¨‹é€‚åˆå¤„ç†ä¸€äº›è¾ƒä¸ºç®€å•çš„é—®é¢˜</li></ul><p>é¢å‘å¯¹è±¡æ€æƒ³ï¼š</p><ul><li>ç‰©ä»¥ç±»èšï¼Œåˆ†ç±»çš„æ€ç»´æ¨¡å¼ï¼Œæ€è€ƒé—®é¢˜é¦–å…ˆä¼šè§£å†³é—®é¢˜éœ€è¦å“ªäº›åˆ†ç±»ï¼Œç„¶åå¯¹è¿™äº›åˆ†ç±»è¿›è¡Œå•ç‹¬æ€è€ƒã€‚æœ€åï¼Œæ‰å¯¹æŸä¸ªåˆ†ç±»ä¸‹çš„ç»†èŠ‚è¿›è¡Œé¢å‘è¿‡ç¨‹çš„æ€ç´¢</li><li>é¢å‘å¯¹è±¡é€‚åˆå¤„ç†å¤æ‚çš„é—®é¢˜ï¼Œé€‚åˆå¤„ç†éœ€è¦å¤šäººåä½œçš„é—®é¢˜</li></ul><p>å¯¹äºå¤æ‚çš„äº‹ç‰©ï¼Œä»å®è§‚ä¸Šï¼Œä»æ•´ä½“ä¸Šåˆç†åˆ†æï¼Œéœ€è¦ç”¨åˆ°é¢å‘å¯¹è±¡çš„æ€ç»´è¿›è¡Œåˆ†æï¼›å…·ä½“åˆ°å¾®è§‚çš„æ“ä½œä¸Šï¼Œåˆéœ€è¦é¢å‘è¿‡ç¨‹çš„æ€è·¯å»å¤„ç†</p><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆoopï¼‰çš„æœ¬è´¨ï¼š<strong>ä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä»¥å¯¹è±¡çš„æ–¹å¼ç»„ç»‡ï¼ˆå°è£…ï¼‰æ•°æ®</strong></p><p><strong>ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€</strong></p><p><strong>ä»è®¤è¯†è®ºè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰å¯¹è±¡åæœ‰ç±»ã€‚å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„äº‹ç‰©ã€‚ç±»ï¼Œæ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡</strong></p><p><strong>ä»ä»£ç è¿è¡Œè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰ç±»åæœ‰å¯¹è±¡ã€‚ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿</strong></p><h3 id="5-2-æ–¹æ³•å›é¡¾å’ŒåŠ æ·±"><a href="#5-2-æ–¹æ³•å›é¡¾å’ŒåŠ æ·±" class="headerlink" title="5.2 æ–¹æ³•å›é¡¾å’ŒåŠ æ·±"></a>5.2 æ–¹æ³•å›é¡¾å’ŒåŠ æ·±</h3><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636775.png' data-fancybox='default' data-caption='image-20210712210504188'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636775.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636775.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210712210504188"></a><span class='image-caption'>image-20210712210504188</span></div></div><p><strong>æ–¹æ³•çš„è°ƒç”¨å’Œå‚æ•°ä¼ é€’è§3.1.2å’Œ3.1.3</strong></p><p>é™æ€æ–¹æ³•åœ¨ç±»åŠ è½½æ—¶éšç±»ä¸€èµ·åŠ è½½ï¼Œè€Œéé™æ€æ–¹æ³•åªæœ‰åœ¨ç±»è¢«å®ä¾‹åŒ–ä¹‹åæ‰å­˜åœ¨</p><h3 id="5-3-å¯¹è±¡çš„åˆ›å»ºåˆ†æ"><a href="#5-3-å¯¹è±¡çš„åˆ›å»ºåˆ†æ" class="headerlink" title="5.3 å¯¹è±¡çš„åˆ›å»ºåˆ†æ"></a>5.3 å¯¹è±¡çš„åˆ›å»ºåˆ†æ</h3><h4 id="5-3-1-ç±»ä¸å¯¹è±¡çš„å…³ç³»"><a href="#5-3-1-ç±»ä¸å¯¹è±¡çš„å…³ç³»" class="headerlink" title="5.3.1 ç±»ä¸å¯¹è±¡çš„å…³ç³»"></a>5.3.1 ç±»ä¸å¯¹è±¡çš„å…³ç³»</h4><p>ç±»æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯å¯¹æŸä¸€ç±»äº‹ç‰©æ•´ä½“æè¿°/å®šä¹‰ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©</p><p>å¯¹è±¡å°±æ˜¯æŠ½è±¡æ¦‚å¿µçš„å…·ä½“åŒ–å®ä¾‹</p><h4 id="5-3-2-åˆ›å»ºå¯¹è±¡"><a href="#5-3-2-åˆ›å»ºå¯¹è±¡" class="headerlink" title="5.3.2 åˆ›å»ºå¯¹è±¡"></a>5.3.2 åˆ›å»ºå¯¹è±¡</h4><p><strong>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡</strong></p><p>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºçš„æ—¶å€™ï¼Œé™¤äº†<strong>åˆ†é…å†…å­˜ç©ºé—´</strong>ä¹‹å¤–ï¼Œè¿˜ä¼š<strong>ç»™åˆ›å»ºå¥½çš„å¯¹è±¡è¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–ä»¥åŠå¯¹ç±»ä¸­æ„é€ å™¨çš„è°ƒç”¨</strong>ã€‚</p><p>ç±»ä¸­çš„æ„é€ å™¨ä¹Ÿç§°ä¸ºæ„é€ æ–¹æ³•ï¼Œæ˜¯åœ¨è¿›è¡Œåˆ›å»ºå¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦è°ƒç”¨çš„ã€‚å¹¶ä¸”<strong>æ„é€ å™¨æœ‰ä»¥ä¸‹ä¿©ä¸ªç‰¹ç‚¹:</strong></p><ul><li><p><strong>å¿…é¡»å’Œç±»çš„åå­—ç›¸åŒ</strong></p></li><li><p><strong>å¿…é¡»æ²¡æœ‰è¿”å›ç±»å‹,ä¹Ÿä¸èƒ½å†™void</strong></p></li></ul><p>æ„é€ å™¨å¿…é¡»è¦æŒæ¡</p><h4 id="5-3-3-æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰"><a href="#5-3-3-æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰" class="headerlink" title="5.3.3 æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰"></a>5.3.3 æ„é€ å™¨ï¼ˆæ„é€ æ–¹æ³•ï¼‰</h4><p>æ¯ä¸ªç±»å³ä½¿æ²¡æœ‰æ˜¾å¼çš„å†™å‡ºæ„é€ æ–¹æ³•ï¼ŒJavaä¹Ÿä¼šç»™ç±»å†™ä¸€ä¸ªé»˜è®¤çš„æ„é€ æ–¹æ³•</p><p>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡çš„æœ¬è´¨æ˜¯åœ¨è°ƒç”¨æ„é€ å™¨</p><p>æ„é€ å™¨åˆ†ä¸ºæ— å‚æ„é€ å™¨å’Œæœ‰å‚æ„é€ å™¨ï¼Œä¸€æ—¦å®šä¹‰äº†æœ‰å‚æ„é€ å™¨ï¼Œå°±å¿…é¡»æ˜¾å¼çš„å®šä¹‰æ— å‚æ„é€ å™¨</p><p>æ„é€ å™¨çš„ä½œç”¨æ˜¯åˆå§‹åŒ–å¯¹è±¡çš„å±æ€§</p><h4 id="5-3-4-åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ"><a href="#5-3-4-åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ" class="headerlink" title="5.3.4 åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ"></a>5.3.4 åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ</h4><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://baijiahao.baidu.com/s?id=1637836912223474691&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1637836912223474691&amp;wfr=spider&amp;for=pc</a></p><p>JVMå†…å­˜ç»“æ„ï¼š</p><ul><li>è™šæ‹Ÿæœºæ ˆï¼šå³å¹³æ—¶æåˆ°çš„æ ˆç»“æ„ï¼Œæˆ‘ä»¬å°†<strong>å±€éƒ¨å˜é‡</strong>å­˜å‚¨åœ¨æ ˆç»“æ„ä¸­ï¼ˆå¯¹äºmainæ–¹æ³•æ¥è¯´ï¼Œå¯¹è±¡å¼•ç”¨å°±æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ä¼šå­˜å‚¨åœ¨æ ˆä¸­ï¼‰</li><li>å †ï¼šæˆ‘ä»¬å°†newå‡ºæ¥çš„å¯¹è±¡ç»“æ„ï¼ˆæ¯”å¦‚ï¼Œæ•°ç»„ã€å¯¹è±¡ï¼‰åŠ è½½åœ¨å †ç©ºé—´ä¸­ã€‚å¯¹è±¡çš„éstaticå±æ€§å­˜å‚¨åœ¨å †ç©ºé—´</li><li>æ–¹æ³•åŒºï¼šå­˜å‚¨ç±»çš„åŠ è½½ä¿¡æ¯ã€å¸¸é‡æ± ã€é™æ€åŸŸ</li></ul><pre><code class="java">//å®ä¾‹public class Application &#123;    public static void main(String[] args)&#123;        Pet dog = new Pet();        dog.name = &quot;æ—ºè´¢&quot;;        dog.age = 3;        dog.shout();    &#125;&#125;public class Pet &#123;    public String name;    public int age;        public void shout() &#123;        System.out.println(&quot;å«äº†ä¸€å£°&quot;);    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636541.png' data-fancybox='default' data-caption='image-20210713105310543'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636541.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636541.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210713105310543"></a><span class='image-caption'>image-20210713105310543</span></div></div><p><strong>tipï¼šJDK1.8æ–¹æ³•åŒºå«åšå…ƒæ•°æ®åŒºï¼Œæ–¹æ³•åŒºï¼ˆnon-heapï¼Œéå †ï¼‰ä¸æ˜¯åœ¨å †ä¸­ï¼ˆç”»å›¾æœ‰è¯¯ï¼‰</strong></p><p>ä»€ä¹ˆæ˜¯å¼•ç”¨ç±»å‹ï¼šé™¤äº†8å¤§åŸºæœ¬ç±»å‹éƒ½å¯ä»¥å«åšå¼•ç”¨ç±»å‹ï¼Œå¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥æ“ä½œçš„</p><p>newçš„å®ä¾‹å¯¹è±¡å­˜æ”¾åœ¨å †ä¸­ï¼Œè€Œæˆ‘ä»¬æ“ä½œçš„æ˜¯å­˜æ”¾åœ¨æ ˆä¸­çš„å¯¹è±¡å¼•ç”¨ï¼Œå…¶å€¼å°±æ˜¯å®ä¾‹å¯¹è±¡åœ¨å †ä¸­çš„åœ°å€</p><h3 id="5-4-é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§"><a href="#5-4-é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="5.4 é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§"></a>5.4 é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§</h3><h4 id="5-4-1-å°è£…"><a href="#5-4-1-å°è£…" class="headerlink" title="5.4.1 å°è£…"></a>5.4.1 å°è£…</h4><p>è¯¥éœ²çš„éœ²ï¼Œè¯¥è—çš„è—ï¼›æˆ‘ä»¬çš„è®¾è®¡è¦è¿½æ±‚<strong>â€œé«˜å†…èšï¼Œä½è€¦åˆâ€</strong>ï¼›é«˜å†…èšå°±æ˜¯ç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚ç”±è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰ï¼›ä½è€¦åˆå°±æ˜¯ä»…æš´éœ²å°‘é‡çš„æ–¹æ³•ç»™å¤–éƒ¨ä½¿ç”¨</p><p>å°è£…ï¼ˆæ•°æ®çš„éšè—ï¼‰ï¼šé€šå¸¸ï¼Œåº”ç¦æ­¢ç›´æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­æ•°æ®çš„å®é™…è¡¨ç¤ºï¼Œè€Œåº”é€šè¿‡æ“ä½œæ¥å£æ¥è®¿é—®ï¼Œè¿™ç§°ä¸ºä¿¡æ¯éšè—ï¼›è®°ä½ï¼š<strong>å±æ€§ç§æœ‰ï¼Œget/set</strong></p><pre><code class="java">public class Student &#123;    private String name;    private int age;    private char sex;        public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public int getAge() &#123;        return age;    &#125;    public void setAge(int age) &#123;        this.age = age;    &#125;    public char getSex() &#123;        return sex;    &#125;    public void setSex(char sex) &#123;        this.sex = sex;    &#125;&#125;</code></pre><h4 id="5-4-2-ç»§æ‰¿"><a href="#5-4-2-ç»§æ‰¿" class="headerlink" title="5.4.2 ç»§æ‰¿"></a>5.4.2 ç»§æ‰¿</h4><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/hxhaaj/article/details/81174764">https://blog.csdn.net/hxhaaj/article/details/81174764</a></p><h5 id="1-æ¦‚è¿°åŠç‰¹ç‚¹ï¼š"><a href="#1-æ¦‚è¿°åŠç‰¹ç‚¹ï¼š" class="headerlink" title="1.æ¦‚è¿°åŠç‰¹ç‚¹ï¼š"></a><strong>1.æ¦‚è¿°åŠç‰¹ç‚¹ï¼š</strong></h5><ul><li>ç»§æ‰¿å…³ç³»çš„ä¿©ä¸ªç±»ï¼Œä¸€ä¸ªä¸ºå­ç±»(æ´¾ç”Ÿç±»),ä¸€ä¸ªä¸ºçˆ¶ç±»(è¶…ç±»)ã€‚</li><li>å­ç±»ç»§æ‰¿çˆ¶ç±»,ä½¿ç”¨å…³é”®å­—<code>extends</code>æ¥è¡¨ç¤ºï¼›extendsçš„æ„æ€æ˜¯â€œæ‰©å±•â€ï¼Œå­ç±»æ˜¯çˆ¶ç±»çš„æ‰©å±•ï¼›</li><li>å­ç±»å’Œçˆ¶ç±»ä¹‹é—´,ä»æ„ä¹‰ä¸Šè®²åº”è¯¥å…·æœ‰â€is aâ€çš„å…³ç³»</li><li>ç»§æ‰¿æ˜¯<code>ä»å·²æœ‰ç±»ä¸­æ´¾ç”Ÿå‡ºæ–°çš„ç±»</code>ï¼Œæ–°çš„ç±»èƒ½<code>å¸æ”¶å·²æœ‰ç±»çš„å±æ€§å’Œæ–¹æ³•</code>ï¼Œå¹¶ä¸”èƒ½<code>æ‹“å±•æ–°çš„å±æ€§å’Œè¡Œä¸º</code></li><li>å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œè¡¨æ˜<code>å­ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»</code>ï¼Œå­ç±»æ‹¥æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”å­ç±»å¯ä»¥æ‹“å±•å…·æœ‰çˆ¶ç±»æ‰€æ²¡æœ‰çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•</li><li>å­ç±»å³æ˜¯ä¸æ‰©å±•çˆ¶ç±»ï¼Œä¹Ÿèƒ½ç»´æŒæ‹¥æœ‰çˆ¶ç±»çš„æ“ä½œ</li><li>Javaç±»åªæœ‰å•ç»§æ‰¿ï¼Œæ²¡æœ‰å¤šç»§æ‰¿ï¼Œä½†æ”¯æŒå¤šé‡ç»§æ‰¿ï¼ˆå•ç»§æ‰¿ï¼Œå¤šå®ç°ï¼Œå¤šé‡ç»§æ‰¿ï¼Œå³ä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä¸€ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±»ï¼Œä¸€ä¸ªå­ç±»åˆå¯ä»¥è¢«ä¸€ä¸ªå­™ç±»ç»§æ‰¿ï¼‰</li><li>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ã€‚é™¤æ­¤ä¹‹å¤–,ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»è¿˜æœ‰ä¾èµ–ã€ç»„åˆã€èšåˆç­‰</li><li>objectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œåœ¨Javaä¸­å³ä½¿ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾å¼ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†ä¹Ÿé»˜è®¤ç»§æ‰¿äº†Objectç±»</li><li>finalç±»ä¸èƒ½è¢«ç»§æ‰¿</li></ul><h5 id="2-ç»§æ‰¿çš„ç‰¹æ€§ï¼š"><a href="#2-ç»§æ‰¿çš„ç‰¹æ€§ï¼š" class="headerlink" title="2.ç»§æ‰¿çš„ç‰¹æ€§ï¼š"></a><strong>2.ç»§æ‰¿çš„ç‰¹æ€§ï¼š</strong></h5><ul><li><h6 id="æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼š"><a href="#æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼š" class="headerlink" title="æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼š"></a>æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼š</h6><ul><li><strong>å­ç±»æ‹¥æœ‰çˆ¶ç±»é private çš„å±æ€§ã€æ–¹æ³•</strong>ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡çˆ¶ç±»æä¾›çš„publicçš„setteræ–¹æ³•å’Œgetteræ–¹æ³•è¿›è¡Œé—´æ¥åœ°è®¿é—®å’Œæ“ä½œprivateå±æ€§</li><li>å­ç±»<strong>ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„é™æ€æ–¹æ³•å’Œå±æ€§</strong>ï¼Œå› ä¸ºé™æ€çš„æ–¹æ³•å’Œå±æ€§æ˜¯å±äºç±»æœ¬èº«çš„ï¼Œä½†<strong>å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„é™æ€æ–¹æ³•å’Œå±æ€§</strong></li><li>å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œå³<strong>å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•</strong></li><li>å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ï¼ˆ<strong>æ–¹æ³•é‡å†™</strong>ï¼‰ï¼Œä½†å­ç±»å’Œçˆ¶ç±»ä¸­åŒåçš„<strong>staticå˜é‡å’Œæ–¹æ³•éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå¹¶ä¸å­˜åœ¨ä»»ä½•çš„é‡å†™çš„å…³ç³»</strong></li><li>å¯¹äºå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ï¼Œå¦‚æœ<strong>å­ç±»</strong>ä¸­<strong>å‡ºç°</strong>äº†<strong>å’Œçˆ¶ç±»åŒåçš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•</strong>æ—¶ï¼Œ<strong>çˆ¶ç±»</strong>çš„<strong>æˆå‘˜å˜é‡ä¼šè¢«éšè—</strong>ï¼Œçˆ¶ç±»çš„<strong>æˆå‘˜æ–¹æ³•ä¼šè¢«è¦†ç›–</strong>ã€‚éœ€è¦<strong>ä½¿ç”¨çˆ¶ç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</strong>æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨<strong>super</strong>å…³é”®å­—æ¥è¿›è¡Œå¼•ç”¨ï¼ˆ<strong>éšè—æ˜¯é’ˆå¯¹æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•ï¼Œè¦†ç›–æ˜¯é’ˆå¯¹æ™®é€šæ–¹æ³•</strong>ï¼‰</li><li>çˆ¶ç±»ä¸¥æ ¼ä¸Šæ¥è¯´<strong>ä¸èƒ½è°ƒç”¨å­ç±»</strong>çš„æ–¹æ³•å’Œæˆå‘˜å˜é‡ï¼Œä½†å¯ä»¥ä»ä»¥ä¸‹å‡ ç§æ–¹æ³•è¿›è¡Œè€ƒè™‘ï¼š<ul><li>åœ¨çˆ¶ç±»ä¸­ç›´æ¥newå­ç±»ç›¸å…³å¯¹è±¡æˆ–è€…é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥å­ç±»å¯¹è±¡ï¼Œç„¶åè°ƒç”¨å…¶æ–¹æ³•</li><li>å°†å­ç±»ç›¸å…³æ–¹æ³•å£°æ˜ä¸ºstaticï¼Œåœ¨çˆ¶ç±»ä¸­è°ƒç”¨å­ç±»çš„staticæ–¹æ³•</li><li>åœ¨çˆ¶ç±»ä¸­é€šè¿‡åå°„è°ƒç”¨å­ç±»çš„ç›¸å…³æ–¹æ³•</li><li>é€šè¿‡æ³¨å†Œç›‘å¬ï¼Œç„¶åé€šè¿‡å›è°ƒæ¥å£è°ƒç”¨å­ç±»ç›¸å…³æ–¹æ³•</li><li>ç›¸å…³é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/204e5d76ec11">https://www.jianshu.com/p/204e5d76ec11</a></li></ul></li><li>å½“åˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ï¼Œå³ä½¿å­ç±»å®šä¹‰äº†ä¸çˆ¶ç±»ä¸­åŒåçš„å®ä¾‹å˜é‡ï¼Œ<strong>ä¸ä»…ä¼šä¸ºè¯¥ç±»çš„å®ä¾‹å˜é‡åˆ†é…å†…å­˜ï¼Œä¹Ÿä¼šä¸ºå®ƒä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„æ‰€æœ‰å®ä¾‹å˜é‡åˆ†é…å†…å­˜</strong>ã€‚ å³ä¾ç„¶ä¼šä¸ºçˆ¶ç±»ä¸­å®šä¹‰çš„ã€è¢«éšè—çš„å˜é‡åˆ†é…å†…å­˜</li><li>å¦‚æœ<strong>å­ç±»ä¸­çš„å®ä¾‹å˜é‡è¢«ç§æœ‰</strong>äº† ï¼Œå…¶çˆ¶ç±»ä¸­çš„<strong>åŒå</strong>å®ä¾‹å˜é‡<strong>æ²¡æœ‰è¢«ç§æœ‰</strong>ï¼Œé‚£ä¹ˆå­ç±»å¯¹è±¡å°±æ— æ³•ç›´æ¥è°ƒç”¨è¯¥å˜é‡ï¼ˆå­ç±»ä¸­çš„ï¼‰ï¼Œä½†å¯ä»¥é€šè¿‡<strong>å…ˆå°†å¯¹è±¡å˜é‡å¼ºåˆ¶å‘ä¸Šè½¬å‹ä¸ºçˆ¶ç±»å‹</strong>ï¼Œåœ¨é€šè¿‡è¯¥å¯¹è±¡å¼•ç”¨å˜é‡æ¥è®¿é—®é‚£ä¸ªå®ä¾‹å˜é‡ï¼Œå°±ä¼šå¾—åˆ°çš„æ˜¯<strong>çˆ¶ç±»ä¸­çš„</strong>é‚£ä¸ªå®ä¾‹å˜é‡</li></ul></li><li><h6 id="æ„é€ å™¨ï¼š"><a href="#æ„é€ å™¨ï¼š" class="headerlink" title="æ„é€ å™¨ï¼š"></a>æ„é€ å™¨ï¼š</h6><ul><li>å­ç±»<strong>ä¸èƒ½ç»§æ‰¿è·å¾—</strong>çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡<strong>superå…³é”®å­—æ¥è®¿é—®çˆ¶ç±»æ„é€ æ–¹æ³•</strong></li><li>åœ¨ä¸€ä¸ªæ„é€ å™¨ä¸­<strong>è°ƒç”¨å¦ä¸€ä¸ªé‡è½½æ„é€ å™¨</strong>ä½¿ç”¨<strong>this</strong>è°ƒç”¨å®Œæˆï¼Œåœ¨<strong>å­ç±»æ„é€ å™¨ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ å™¨</strong>ä½¿ç”¨<strong>super</strong>è°ƒç”¨æ¥å®Œæˆ</li><li>super å’Œ this çš„è°ƒç”¨éƒ½<strong>å¿…é¡»æ˜¯åœ¨ç¬¬ä¸€å¥</strong>ï¼Œå¦åˆ™ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œthiså’Œsuper<strong>åªèƒ½å­˜åœ¨ä¸€ä¸ª</strong></li><li>ä¸èƒ½è¿›è¡Œ<strong>é€’å½’æ„é€ å™¨è°ƒç”¨</strong>ï¼Œå³å¤šä¸ªæ„é€ å™¨ä¹‹é—´äº’ç›¸å¾ªç¯è°ƒç”¨ã€‚</li><li>å¦‚æœ<strong>çˆ¶ç±»æœ‰æ— å‚æ„é€ </strong>æ—¶ï¼Œ<strong>æ‰€æœ‰</strong>æ„é€ æ–¹æ³•ï¼ˆåŒ…å«ä»»æ„æœ‰å‚æ„é€ ï¼‰<strong>è‡ªåŠ¨é»˜è®¤</strong>éƒ½ä¼šè®¿é—®çˆ¶ç±»ä¸­çš„<strong>ç©ºå‚æ„é€ æ–¹æ³•</strong>ï¼ˆè‡ªå¸¦super();ï¼‰<ul><li>å› ä¸ºç»§æ‰¿çš„ç›®çš„æ˜¯å­ç±»è·å–å’Œä½¿ç”¨çˆ¶ç±»çš„å±æ€§å’Œè¡Œä¸ºï¼Œæ‰€ä»¥å­ç±»åˆå§‹åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆå®Œæˆçˆ¶ç±»æ•°æ®çš„åˆå§‹åŒ–</li><li>åœ¨Javaä¸­ï¼Œæ¯ä¸ªç±»éƒ½ä¼š<strong>é»˜è®¤ç»§æ‰¿Objectè¶…ç±»</strong>ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªæ„é€ æ–¹æ³•çš„ç¬¬ä¸€æ¡é»˜è®¤è¯­å¥éƒ½æ˜¯<strong>super()</strong></li></ul></li><li>å¦‚æœ<strong>çˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ </strong>ï¼Œåè€Œ<strong>æœ‰å…¶ä»–çš„æœ‰å‚æ„é€ æ–¹æ³•</strong>æ—¶ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œ<strong>å­ç±»å¿…é¡»æ˜¾å¼çš„åˆ›å»ºæ„é€ å™¨ï¼Œä¸è®ºå­ç±»çš„æ„é€ å™¨æ˜¯å¦å’Œçˆ¶ç±»æ„é€ å™¨ä¸­å‚æ•°ç±»å‹æ˜¯å¦ä¸€è‡´ï¼Œéƒ½å¿…é¡»åœ¨å­ç±»çš„æ„é€ å™¨ä¸­æ˜¾å¼çš„é€šè¿‡superå…³é”®å­—è°ƒç”¨å’Œçˆ¶ç±»æ„é€ å™¨ç›¸åº”å‚æ•°çš„æ„é€ æ–¹æ³•</strong>ã€‚å¦åˆ™ç¼–è¯‘éƒ½é€šä¸è¿‡ï¼›<strong>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>this</code>å…ˆè°ƒç”¨å­ç±»ä¸­çš„æ„é€ æ–¹æ³•ï¼Œå†é—´æ¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æœ‰å‚æ„é€ æ–¹æ³•</strong></li><li>ç»“è®ºï¼š<strong>å½“çˆ¶ç±»ä¸­æ²¡æœ‰æ— å‚æ„é€ å™¨æ—¶ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œå­ç±»ä¸­çš„æ„é€ å™¨æ–¹æ³•ç±»å‹å¯ä»¥å’Œçˆ¶ç±»ä¸­çš„æ„é€ å™¨ä¸åŒï¼Œä½†æ˜¯å¿…é¡»æ¯ä¸ªæ„é€ å™¨éƒ½æ˜¾å¼çš„ä½¿ç”¨superå…³é”®å­—è°ƒç”¨çˆ¶ç±»ä¸­çš„æŸä¸ªæœ‰å‚æ„é€ å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨thisè°ƒç”¨å­ç±»ä¸­çš„æŸä¸ªæœ‰å‚æ„é€ å™¨ï¼Œä½†è¿™ä¸ªæœ‰å‚æ„é€ å™¨å¿…é¡»é€šè¿‡superè®¿é—®çˆ¶ç±»ä¸­çš„æœ‰å‚æ„é€ å™¨</strong></li></ul></li><li><h6 id="superå…³é”®å­—ï¼š"><a href="#superå…³é”®å­—ï¼š" class="headerlink" title="superå…³é”®å­—ï¼š"></a>superå…³é”®å­—ï¼š</h6><ul><li>superç”¨äº<strong>é™å®šè¯¥å¯¹è±¡è°ƒç”¨å®ƒä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„å®ä¾‹å˜é‡æˆ–æ–¹æ³•</strong></li><li>superå’Œthisç›¸åŒï¼Œéƒ½<strong>ä¸èƒ½å‡ºç°åœ¨é™æ€æ–¹æ³•</strong>ä¸­ï¼Œå› ä¸ºé™æ€æ–¹æ³•å±äºç±»çš„ï¼Œè°ƒç”¨é™æ€æ–¹æ³•çš„å¯èƒ½æ˜¯ä¸ªç±»ï¼Œè€Œä¸æ˜¯å¯¹è±¡ï¼Œè€Œsuperå’Œthiséƒ½æ˜¯<strong>é™å®šå¯¹è±¡è°ƒç”¨</strong></li><li>superåŒæ ·ä¹Ÿå¯ä»¥åœ¨å­ç±»ä¸­<strong>è°ƒç”¨çˆ¶ç±»ä¸­è¢«å­ç±»éšè—å’Œè¦†ç›–çš„åŒåå®ä¾‹å˜é‡å’ŒåŒåæ–¹æ³•</strong></li><li>åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨superï¼Œåˆ™superä¼šç”¨äºé™å®šäºè¯¥æ„é€ å™¨åˆå§‹åŒ–çš„æ˜¯è¯¥å¯¹è±¡ä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„å®ä¾‹å˜é‡ï¼Œè€Œä¸æ˜¯è¯¥ç±»è‡ªå·±å®šä¹‰çš„å®ä¾‹å˜é‡ã€‚æ„æ€å°±æ˜¯<strong>è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨</strong></li><li>superé™å®šï¼šsuperåç´§è·Ÿä¸€ä¸ªç‚¹ï¼Œ<code>super.name</code>ï¼Œ<code>super.walk()</code></li><li>superè°ƒç”¨ï¼šsuperåç´§è·Ÿåœ†æ‹¬å·ï¼Œ<code>super(æ— å‚æˆ–æœ‰å‚);</code></li></ul></li><li><h6 id="thiså…³é”®å­—ï¼š"><a href="#thiså…³é”®å­—ï¼š" class="headerlink" title="thiså…³é”®å­—ï¼š"></a>thiså…³é”®å­—ï¼š</h6><ul><li>thiså…³é”®å­—æŒ‡å‘çš„æ˜¯<strong>å½“å‰å¯¹è±¡çš„å¼•ç”¨</strong></li><li><code>this.å±æ€§åç§°</code>æŒ‡çš„æ˜¯è®¿é—®ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œç”¨æ¥åŒºåˆ†æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡</li><li><code>this.æ–¹æ³•åç§°</code>ç”¨æ¥è®¿é—®æœ¬ç±»çš„æˆå‘˜æ–¹æ³•</li><li><code>this();</code>è®¿é—®æœ¬ç±»çš„æ„é€ æ–¹æ³•</li><li>thiså…³é”®å­—æŠŠå½“å‰å¯¹è±¡ä¼ é€’ç»™å…¶ä»–æ–¹æ³•<code>method(this);</code></li><li>å½“éœ€è¦è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œå¸¸å¸¸ä½¿ç”¨<code>return this;</code></li></ul></li><li><h6 id="ç»§æ‰¿çš„ä»£ç æ‰§è¡Œé¡ºåºé—®é¢˜ï¼š"><a href="#ç»§æ‰¿çš„ä»£ç æ‰§è¡Œé¡ºåºé—®é¢˜ï¼š" class="headerlink" title="ç»§æ‰¿çš„ä»£ç æ‰§è¡Œé¡ºåºé—®é¢˜ï¼š"></a>ç»§æ‰¿çš„ä»£ç æ‰§è¡Œé¡ºåºé—®é¢˜ï¼š</h6><ul><li><p>æ„é€ å™¨æ‰§è¡Œé¡ºåº</p><ul><li>å½“è°ƒç”¨å­ç±»æ„é€ å™¨å®ä¾‹åŒ–å­ç±»å¯¹è±¡æ—¶ï¼Œ<strong>çˆ¶ç±»æ„é€ å™¨æ€»æ˜¯åœ¨å­ç±»æ„é€ å™¨ä¹‹å‰æ‰§è¡Œ</strong></li><li>åˆ›å»ºä»»ä½•å¯¹è±¡æ€»æ˜¯ä»è¯¥ç±»æ‰€åœ¨<strong>ç»§æ‰¿æ ‘æœ€é¡¶å±‚ç±»çš„æ„é€ å™¨å¼€å§‹æ‰§è¡Œ</strong>ï¼Œç„¶åä¾æ¬¡<strong>å‘ä¸‹</strong>æ‰§è¡Œï¼Œæœ€åæ‰æ‰§è¡Œæœ¬ç±»çš„æ„é€ å™¨ã€‚å¦‚æœçˆ¶ç±»é€šè¿‡thisè°ƒç”¨äº†<strong>åŒç±»ä¸­çš„é‡è½½æ„é€ å™¨</strong>ï¼Œå°±ä¼š<strong>ä¾æ¬¡æ‰§è¡Œæ­¤çˆ¶ç±»çš„å¤šä¸ªæ„é€ å™¨</strong></li></ul></li><li><p>é™æ€åŸŸæ‰§è¡Œé¡ºåº</p><ul><li>å½“è°ƒç”¨å­ç±»æ„é€ å™¨å®ä¾‹åŒ–å­ç±»å¯¹è±¡æ—¶ï¼Œ<strong>çˆ¶ç±»ä¼˜å…ˆäºå­ç±»è¿›è¡ŒåŠ è½½åˆ°å†…å­˜</strong>ï¼Œæ‰€ä»¥ä¼š<strong>å…ˆæ‰§è¡Œçˆ¶ç±»ä¸­çš„é™æ€åŸŸ</strong></li><li>ä»è¯¥ç±»æ‰€åœ¨ç»§æ‰¿æ ‘æœ€é¡¶å±‚ç±»å¼€å§‹åŠ è½½ï¼Œå¹¶æ‰§è¡Œå…¶é™æ€åŸŸï¼Œä¾æ¬¡å‘ä¸‹æ‰§è¡Œï¼Œæœ€åæ‰§è¡Œæœ¬ç±»ã€‚</li><li>é™æ€åŸŸä¼˜å…ˆäºmainæ–¹æ³•ï¼Œä¼˜å…ˆäºæ„é€ å™¨æ‰§è¡Œ</li></ul></li></ul></li></ul><h5 id="3-æ–¹æ³•é‡å†™"><a href="#3-æ–¹æ³•é‡å†™" class="headerlink" title="3.æ–¹æ³•é‡å†™"></a>3.æ–¹æ³•é‡å†™</h5><p>å‰æï¼šéœ€è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•</p><p><strong>æ–¹æ³•é‡å†™è§„åˆ™ï¼š</strong></p><ul><li><p>ä¸¤åŒï¼š <strong>æ–¹æ³•å</strong>ã€<strong>å½¢å‚åˆ—è¡¨</strong>ç›¸åŒ</p></li><li><p>ä¸¤å°ï¼š</p><ul><li><p>å­ç±»æ–¹æ³•<strong>è¿”å›å€¼ç±»å‹</strong>åº”æ¯”çˆ¶ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹<strong>æ›´å°æˆ–ç›¸ç­‰</strong></p></li><li><p>å­ç±»æ–¹æ³•<strong>å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»</strong>åº”æ¯”çˆ¶ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»<strong>æ›´å°æˆ–ç›¸ç­‰</strong></p></li></ul></li><li><p>ä¸€å¤§ï¼šå­ç±»æ–¹æ³•çš„<strong>è®¿é—®æƒé™</strong>åº”æ¯”çˆ¶ç±»æ–¹æ³•è®¿é—®æƒé™<strong>æ›´å¤§æˆ–ç›¸ç­‰</strong></p></li></ul><p><strong>æ–¹æ³•é‡å†™Tipsï¼š</strong></p><ul><li>çˆ¶ç±»ä¸­çš„<strong>ç§æœ‰æ–¹æ³•ä¸èƒ½è¢«é‡å†™</strong>ï¼Œè¯¥æ–¹æ³•å¯¹äºå­ç±»æ˜¯<strong>éšè—</strong>çš„ï¼Œå› æ­¤å…¶å­ç±»<strong>æ— æ³•è®¿é—®</strong>è¯¥æ–¹æ³•ï¼Œä¹Ÿæ— æ³•é‡å†™</li><li><strong>çˆ¶ç±»é™æ€æ–¹æ³•</strong>ï¼Œå­ç±»ä¹Ÿ<strong>å¿…é¡»</strong>é€šè¿‡é™æ€æ–¹æ³•è¿›è¡Œè¦†ç›–ï¼Œå³<strong>é™æ€åªèƒ½è¦†ç›–é™æ€</strong></li><li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œ<strong>æœ€å¥½</strong>å£°æ˜å¾—ä¸€æ¨¡ä¸€æ ·</li><li>å¦‚æœ<strong>å­ç±»ä¸­å®šä¹‰</strong>äº†ä¸€ä¸ª<strong>ä¸çˆ¶ç±»privateæ–¹æ³•</strong>å…·æœ‰<strong>ç›¸åŒçš„æ–¹æ³•åã€ç›¸åŒçš„å½¢å‚åˆ—è¡¨ã€ç›¸åŒçš„è¿”å›å€¼ç±»å‹çš„æ–¹æ³•</strong>ï¼Œä¾ç„¶<strong>ä¸æ˜¯é‡å†™</strong>ï¼Œåªæ˜¯åœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰äº†ä¸€ä¸ª<strong>æ–°çš„æ–¹æ³•</strong>ï¼Œæ‰€ä»¥è¯¥æ–°æ–¹æ³•<strong>ä¸ä¼šå—çˆ¶ç±»æ–¹æ³•çš„ä»»ä½•é™åˆ¶</strong></li><li>staticæ–¹æ³•ï¼ˆå±äºç±»ï¼Œä¸å±äºå®ä¾‹ï¼‰ã€finalæ–¹æ³•ï¼ˆå¸¸é‡ï¼‰ã€privateæ–¹æ³•ä¸èƒ½è¢«é‡å†™</li></ul><p><strong>é‡å†™é™æ€æ–¹æ³•</strong>ï¼šæ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹å®šä¹‰çš„å¼•ç”¨ç›¸å…³</p><pre><code class="java">class A &#123;    private static void test() &#123;        System.out.println(&quot;A=&gt;test&quot;);    &#125;&#125;class B extends A &#123;    private static void test() &#123;        System.out.println(&quot;B=&gt;test&quot;);    &#125;&#125;public class Test &#123;    public static void main(String[] args) &#123;        B b = new B();        b.test(); //è¾“å‡ºB=&gt;test        A a = new B(); //å‘ä¸Šè½¬å‹ï¼Œaå¼•ç”¨æŒ‡å‘Bå¯¹è±¡        a.test(); //è¾“å‡ºA=&gt;test    &#125;&#125;</code></pre><p><strong>é‡å†™éé™æ€æ–¹æ³•</strong>ï¼šæ–¹æ³•çš„è°ƒç”¨éœ€è¦çœ‹å·¦è¾¹çš„å¼•ç”¨æŒ‡å‘newçš„å“ªä¸ªå¯¹è±¡</p><pre><code class="java">class A &#123;    public void test() &#123;        System.out.println(&quot;A=&gt;test&quot;);    &#125;&#125;class B extends A &#123;    public void test() &#123;        System.out.println(&quot;B=&gt;test&quot;);    &#125;&#125;public class Test &#123;    public static void main(String[] args) &#123;        B b = new B();        b.test(); //è¾“å‡ºB=&gt;test        A a = new B(); //å‘ä¸Šè½¬å‹ï¼Œaå¼•ç”¨æŒ‡å‘Bå¯¹è±¡        a.test(); //è¾“å‡ºB=&gt;test    &#125;&#125;</code></pre><p><strong>æ–¹æ³•é‡å†™å’Œæ–¹æ³•é‡è½½ï¼š</strong></p><ul><li><p>Override å’Œ Overload çš„åŒºåˆ«ï¼ŸOverloadèƒ½æ”¹å˜è¿”å›å€¼ç±»å‹å—ï¼Ÿ</p><ul><li>Overrideæ˜¯é‡å†™ï¼ŒOverloadæ˜¯é‡è½½ã€‚é‡è½½å¯ä»¥æ”¹å˜è¿”å›å€¼ç±»å‹ï¼Œå®ƒæ˜¯æ–¹æ³•åç›¸åŒï¼Œå‚æ•°åˆ—è¡¨ä¸åŒï¼Œä¸è¿”å›å€¼ç±»å‹æ— å…³</li></ul></li><li><p>æ–¹æ³•é‡å†™ï¼šå­ç±»ä¸­å‡ºç°å’Œçˆ¶ç±»ä¸­æ–¹æ³•å£°æ˜ä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•ã€‚<strong>è¿”å›å€¼ç±»å‹</strong>ç›¸åŒï¼ˆæˆ–è€…æ˜¯å­çˆ¶ç±»ï¼Œå¤šæ€ï¼‰ï¼Œ<strong>æ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨ä¸€æ¨¡ä¸€æ ·</strong>ã€‚ä¸»è¦å‘ç”Ÿåœ¨<strong>å­ç±»å’Œçˆ¶ç±»</strong>çš„åŒåæ–¹æ³•ä¹‹é—´</p></li><li><p>æ–¹æ³•é‡è½½ï¼šæœ¬ç±»ä¸­å‡ºç°<strong>æ–¹æ³•åç›¸åŒ</strong>ï¼Œ<strong>å‚æ•°åˆ—è¡¨ä¸åŒ</strong>çš„æ–¹æ³•ï¼Œå’Œ<strong>è¿”å›å€¼ç±»å‹æ— å…³</strong>ï¼Œå¯ä»¥æ”¹å˜ã€‚ä¸»è¦å‘ç”Ÿ<strong>åŒä¸€ç±»</strong>çš„å¤šä¸ªåŒåæ–¹æ³•ä¹‹é—´</p></li><li><p>å­ç±»å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå…ˆæ‰¾å­ç±»æœ¬èº«çš„æ–¹æ³•ï¼Œå†æ‰¾çˆ¶ç±»ä¸­çš„æ–¹æ³•</p></li></ul><h4 id="5-4-3-å¤šæ€"><a href="#5-4-3-å¤šæ€" class="headerlink" title="5.4.3 å¤šæ€"></a>5.4.3 å¤šæ€</h4><h5 id="1-ç›¸å…³è§„åˆ™åŠæ¦‚å¿µ"><a href="#1-ç›¸å…³è§„åˆ™åŠæ¦‚å¿µ" class="headerlink" title="1.ç›¸å…³è§„åˆ™åŠæ¦‚å¿µ"></a>1.ç›¸å…³è§„åˆ™åŠæ¦‚å¿µ</h5><p>å¤šæ€å³<strong>åŒä¸€æ–¹æ³•</strong>å¯ä»¥æ ¹æ®<strong>å‘é€å¯¹è±¡çš„ä¸åŒ</strong>è€Œé‡‡ç”¨å¤šç§<strong>ä¸åŒçš„è¡Œä¸ºæ–¹å¼</strong>ã€‚ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨çš„ç±»å‹æœ‰å¾ˆå¤š</p><p>å¤šæ€å­˜åœ¨çš„æ¡ä»¶</p><ul><li><p>æœ‰ç»§æ‰¿å…³ç³»</p></li><li><p>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</p></li></ul><p>æ³¨æ„:å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€æ€§ã€‚</p><pre><code class="java">public class Person &#123;    public void run() &#123;        System.out.println(&quot;Person&quot;);    &#125;&#125;public class Student extends Person &#123;    public void run() &#123;        System.out.println(&quot;Student&quot;);    &#125;    public void eat() &#123;        System.out.println(&quot;Student eat&quot;);    &#125;&#125;public class Test &#123;    public static void main(String[] args) &#123;        //ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„        //new Person()        //new Student();                //å¯ä»¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹å°±ä¸ç¡®å®šäº†ï¼šè‡ªèº«ç±»çš„å¼•ç”¨æŒ‡å‘è‡ªèº«ï¼Œçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»                Student s1 = new Student(); //èƒ½è°ƒç”¨çš„éƒ½æ˜¯è‡ªå·±æ‰©å±•çš„å’Œç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•        Person s2 = new Student(); //çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œä¸èƒ½è°ƒç”¨å­ç±»è‡ªèº«æ‰©å±•çš„ï¼Œåªèƒ½è°ƒç”¨å­ç±»é‡å†™çš„å®ä¾‹æ–¹æ³•        Object s3 = new Student();                s1.run(); //è¾“å‡ºStudentã€‚å› ä¸ºå­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•        s2.run(); //å½“å­ç±»ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•æ—¶ï¼Œä¼šè¾“å‡ºPersonï¼Œå› ä¸ºå­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„runæ–¹æ³•                //å½“å­ç±»ä¸­é‡å†™äº†çˆ¶ç±»æ–¹æ³•ï¼Œä¼šè¾“å‡ºStudentï¼Œå› ä¸ºPersonç±»å¼•ç”¨s2æŒ‡å‘Studentçš„å¯¹è±¡ï¼Œåˆ™ä¼šæ‰§è¡ŒStudentä¸­çš„runæ–¹æ³•        s2.eat(); //è¿™ä¸ªå†™æ³•æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºå¼•ç”¨s2æ˜¯ä½œä¸ºStudentå¯¹è±¡çš„å‘ä¸Šè½¬å‹ï¼Œä¸èƒ½è°ƒç”¨å­ç±»Studentè‡ªèº«æ‰©å±•çš„æ–¹æ³•             //å¦‚æœè¦è°ƒç”¨eat()æ–¹æ³•ï¼Œéœ€è¦å°†s2è½¬æ¢æˆStudentå¼•ç”¨ç±»å‹(å‘ä¸‹è½¬å‹)ï¼Œå³((Student)s2).eat(),æ­¤æ—¶æ‰èƒ½è°ƒç”¨eat()æ–¹æ³•    &#125;&#125;</code></pre><h5 id="2-å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ï¼š"><a href="#2-å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ï¼š" class="headerlink" title="2.å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ï¼š"></a>2.å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ï¼š</h5><ul><li><p><strong>å‘ä¸Šè½¬å‹ï¼š</strong>å­ç±»å¯¹è±¡è½¬ä¸ºçˆ¶ç±»ï¼Œçˆ¶ç±»å¯ä»¥æ˜¯æ¥å£ï¼›æ³¨æ„ï¼šå‘ä¸Šè½¬å‹<strong>ä¸è¦å¼ºåˆ¶è½¬å‹</strong>ã€‚å‘ä¸Šè½¬å‹å<strong>çˆ¶ç±»çš„å¼•ç”¨æ‰€æŒ‡å‘çš„å±æ€§æ˜¯çˆ¶ç±»çš„å±æ€§</strong>ï¼Œå¦‚æœ<strong>å­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œé‚£ä¹ˆçˆ¶ç±»å¼•ç”¨æŒ‡å‘çš„æˆ–è€…è°ƒç”¨çš„æ–¹æ³•æ˜¯å­ç±»çš„æ–¹æ³•</strong>,è¿™ä¸ªå«åŠ¨æ€ç»‘å®šã€‚å‘ä¸Šè½¬å‹å<strong>çˆ¶ç±»å¼•ç”¨ä¸èƒ½è°ƒç”¨å­ç±»è‡ªèº«æ‰©å±•çš„æ–¹æ³•</strong>ï¼Œå¦‚æœè°ƒç”¨ä¸èƒ½ç¼–è¯‘é€šè¿‡</p><pre><code class="java">public class Human &#123;    public void sleep() &#123;        System.out.println(&quot;Human sleep..&quot;);    &#125;    public static void main(String[] args) &#123;        Human h = new Male();// å‘ä¸Šè½¬å‹        h.sleep();        Male m = new Male();        m.sleep();// h.speak();æ­¤æ–¹æ³•ä¸èƒ½ç¼–è¯‘ï¼ŒæŠ¥é”™è¯´Humanç±»æ²¡æœ‰æ­¤æ–¹æ³•    &#125;&#125;class Male extends Human &#123;    @Override    public void sleep() &#123;        System.out.println(&quot;Male sleep..&quot;);    &#125;    public void speak() &#123;        System.out.println(&quot;I am Male&quot;);    &#125;&#125;</code></pre></li><li><p><strong>å‘ä¸‹è½¬å‹ï¼š</strong>çˆ¶ç±»å¯¹è±¡è½¬ä¸ºå­ç±»ï¼Œéœ€è¦è¿›è¡Œ<strong>å¼ºåˆ¶è½¬æ¢</strong>;  å‘ä¸‹è½¬å‹éœ€è¦è€ƒè™‘å®‰å…¨æ€§ï¼Œå¦‚æœçˆ¶ç±»å¼•ç”¨çš„å¯¹è±¡æ˜¯çˆ¶ç±»æœ¬èº«ï¼Œé‚£ä¹ˆåœ¨å‘ä¸‹è½¬å‹çš„è¿‡ç¨‹ä¸­æ˜¯ä¸å®‰å…¨çš„ï¼Œç¼–è¯‘ä¸ä¼šå‡ºé”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä¼šå‡ºç°java.lang.ClassCastExceptioné”™è¯¯ã€‚å®ƒå¯ä»¥ä½¿ç”¨instanceofæ¥é¿å…å‡ºé”™æ­¤ç±»é”™è¯¯å³èƒ½å¦å‘ä¸‹è½¬å‹ï¼Œ<strong>åªæœ‰å…ˆç»è¿‡å‘ä¸Šè½¬å‹çš„å¯¹è±¡æ‰èƒ½ç»§ç»­å‘ä¸‹è½¬å‹</strong></p></li><li><p>æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»ï¼Œäº’ç›¸è½¬æ¢ï¼Œä¸€å®šä¼šå¤±è´¥</p></li></ul><h5 id="3-instanceof"><a href="#3-instanceof" class="headerlink" title="3.instanceof"></a>3.instanceof</h5><pre><code class="java">boolean result = obj instanceof Class</code></pre><p>ã€€ã€€å…¶ä¸­ obj ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒClass è¡¨ç¤ºä¸€ä¸ªç±»æˆ–è€…ä¸€ä¸ªæ¥å£ï¼›å½“ obj ä¸º Class çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯<strong>å…¶ç›´æ¥æˆ–é—´æ¥å­ç±»çš„å¯¹è±¡</strong>ï¼Œæˆ–è€…æ˜¯<strong>å…¶æ¥å£çš„å®ç°ç±»çš„å¯¹è±¡</strong>ï¼Œç»“æœresult éƒ½è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚ï¼ˆè¯´æ˜Classåªæœ‰å¤§äºç­‰äºobjæ—¶ä¸ºtrueï¼‰</p><p>æ³¨æ„ï¼š</p><ul><li>ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ obj æ˜¯å¦èƒ½è½¬æ¢æˆå³è¾¹çš„classç±»å‹ï¼Œå¦‚æœä¸èƒ½è½¬æ¢åˆ™ç›´æ¥æŠ¥é”™ï¼Œå¦‚æœä¸èƒ½ç¡®å®šç±»å‹ï¼Œåˆ™é€šè¿‡ç¼–è¯‘ï¼Œå…·ä½“çœ‹è¿è¡Œæ—¶å®š</li><li>å¦‚æœobjä¸ºnullï¼Œé‚£ä¹ˆåˆ™è¿”å›false</li><li>åœ¨<strong>ç¼–è¯‘çŠ¶æ€</strong>ä¸­ï¼ŒClasså¯ä»¥æ˜¯objå¯¹è±¡çš„çˆ¶ç±»ï¼Œè‡ªèº«ç±»ï¼Œå­ç±»ã€‚åœ¨è¿™ä¸‰ç§æƒ…å†µä¸‹Javaç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ã€‚</li><li>åœ¨<strong>è¿è¡Œè½¬æ€</strong>ä¸­ï¼ŒClasså¯ä»¥æ˜¯objå¯¹è±¡çš„çˆ¶ç±»ï¼Œè‡ªèº«ç±»ï¼Œä¸èƒ½æ˜¯å­ç±»(classå°äºäº†obj)ã€‚åœ¨å‰ä¸¤ç§æƒ…å†µä¸‹resultçš„ç»“æœä¸ºtrueï¼Œæœ€åä¸€ç§ä¸ºfalseã€‚ä½†æ˜¯classä¸ºå­ç±»æ—¶ç¼–è¯‘ä¸ä¼šæŠ¥é”™ã€‚è¿è¡Œç»“æœä¸ºfalseã€‚ ï¼ˆå¤§è‡´å°±æ˜¯åˆ¤æ–­è¡¨è¾¾å¼ï¼šclass å˜é‡=(class)objectçš„å¼•ç”¨ æ˜¯å¦æˆç«‹ï¼‰</li></ul><h3 id="5-5-staticå’Œfinalå…³é”®å­—åŠä»£ç å—"><a href="#5-5-staticå’Œfinalå…³é”®å­—åŠä»£ç å—" class="headerlink" title="5.5 staticå’Œfinalå…³é”®å­—åŠä»£ç å—"></a>5.5 staticå’Œfinalå…³é”®å­—åŠä»£ç å—</h3><h4 id="5-5-1-staticå…³é”®å­—è¯¦è§£"><a href="#5-5-1-staticå…³é”®å­—è¯¦è§£" class="headerlink" title="5.5.1 staticå…³é”®å­—è¯¦è§£"></a>5.5.1 staticå…³é”®å­—è¯¦è§£</h4><p><strong>staticå…³é”®å­—çš„ä½¿ç”¨ï¼š</strong></p><ol><li><p>staticï¼šé™æ€çš„</p></li><li><p>staticå¯ä»¥ç”¨æ¥ä¿®é¥°ï¼š<strong>å±æ€§</strong>ã€<strong>æ–¹æ³•</strong>ã€<strong>ä»£ç å—</strong>ã€<strong>å†…éƒ¨ç±»</strong></p></li><li><p>ä½¿ç”¨staticä¿®é¥°å±æ€§ï¼šé™æ€å˜é‡(æˆ–ç±»å˜é‡)</p><p>  å®ä¾‹å˜é‡ï¼šæˆ‘ä»¬åˆ›å»ºäº†ç±»çš„å¤šä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½<strong>ç‹¬ç«‹</strong>çš„æ‹¥æœ‰ä¸€å¥—ç±»ä¸­çš„<strong>éé™æ€å±æ€§</strong>ã€‚å½“ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå¯¹è±¡ä¸­çš„éé™æ€å±æ€§æ—¶ï¼Œ<strong>ä¸ä¼šå¯¼è‡´</strong>å…¶ä»–å¯¹è±¡ä¸­åŒæ ·çš„å±æ€§å€¼çš„ä¿®æ”¹</p><p>  é™æ€å˜é‡ï¼šæˆ‘ä»¬åˆ›å»ºäº†ç±»çš„å¤šä¸ªå¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡<strong>å…±äº«åŒä¸€ä¸ª</strong>é™æ€å˜é‡ã€‚å½“é€šè¿‡æŸä¸€ä¸ªå¯¹è±¡ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œ<strong>ä¼šå¯¼è‡´</strong>å…¶ä»–å¯¹è±¡è°ƒç”¨æ­¤é™æ€å˜é‡æ—¶ï¼Œæ˜¯ä¿®æ”¹è¿‡äº†çš„</p><p>  staticä¿®é¥°å±æ€§çš„<strong>å…¶ä»–è¯´æ˜</strong>:</p><p>  â‘ é™æ€å˜é‡<strong>éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½</strong>ã€‚å¯ä»¥é€šè¿‡<code>ç±».é™æ€å˜é‡</code>çš„æ–¹å¼è¿›è¡Œè°ƒç”¨</p><p>  â‘¡é™æ€å˜é‡çš„åŠ è½½è¦<strong>æ—©äºå¯¹è±¡</strong>çš„åˆ›å»º</p><p>  â‘¢ç”±äºç±»<strong>åªä¼šåŠ è½½ä¸€æ¬¡</strong>ï¼Œåˆ™é™æ€å˜é‡åœ¨å†…å­˜ä¸­ä¹Ÿåªä¼šå­˜åœ¨ä¸€ä»½ï¼š<strong>å­˜åœ¨æ–¹æ³•åŒºçš„é™æ€åŸŸä¸­</strong></p></li></ol><table><thead><tr><th align="center"></th><th align="center">ç±»å˜é‡</th><th align="center">å®ä¾‹å˜é‡</th></tr></thead><tbody><tr><td align="center">ç±»</td><td align="center">yes</td><td align="center">no</td></tr><tr><td align="center">å¯¹è±¡</td><td align="center">yes</td><td align="center">yes</td></tr></tbody></table><p>â€‹    4.ä½¿ç”¨staticä¿®é¥°æ–¹æ³•ï¼šé™æ€æ–¹æ³•</p><p>â€‹        éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œå¯ä»¥é€šè¿‡<code>ç±».é™æ€æ–¹æ³•</code>çš„æ–¹å¼è¿›è¡Œè°ƒç”¨</p><p>â€‹        é™æ€æ–¹æ³•ä¸­ï¼Œ<strong>åªèƒ½è°ƒç”¨é™æ€</strong>çš„æ–¹æ³•æˆ–å±æ€§ï¼›éé™æ€æ–¹æ³•ä¸­ï¼Œ<strong>æ—¢å¯ä»¥è°ƒç”¨éé™æ€</strong>çš„æ–¹æ³•æˆ–å±æ€§ï¼Œ<strong>ä¹Ÿå¯ä»¥è°ƒç”¨é™æ€</strong>çš„æ–¹æ³•æˆ–å±æ€§</p><table><thead><tr><th align="center"></th><th align="center">ç±»æ–¹æ³•</th><th align="center">å®ä¾‹æ–¹æ³•</th></tr></thead><tbody><tr><td align="center">ç±»</td><td align="center">yes</td><td align="center">no</td></tr><tr><td align="center">å¯¹è±¡</td><td align="center">yes</td><td align="center">yes</td></tr></tbody></table><p>â€‹    5.static<strong>æ³¨æ„ç‚¹</strong>ï¼šåœ¨é™æ€çš„æ–¹æ³•å†…ï¼Œ<strong>ä¸èƒ½</strong>ä½¿ç”¨thiså…³é”®å­—ã€superå…³é”®å­—</p><pre><code class="java">//é™æ€å¯¼å…¥åŒ…import static java.lang.Math.random;import static java.lang.Math.PI;//æ­¤æ—¶randomå’ŒPIå¯ä»¥ç›´æ¥ä½¿ç”¨</code></pre><h4 id="5-5-2-finalå…³é”®å­—è¯¦è§£"><a href="#5-5-2-finalå…³é”®å­—è¯¦è§£" class="headerlink" title="5.5.2 finalå…³é”®å­—è¯¦è§£"></a>5.5.2 finalå…³é”®å­—è¯¦è§£</h4><p><strong>finalå…³é”®å­—çš„ä½¿ç”¨ï¼š</strong></p><ol><li><p>finalï¼šæœ€ç»ˆçš„</p></li><li><p>finalä¿®é¥°ä¸€ä¸ªç±»ï¼šæ­¤ç±»<strong>ä¸èƒ½è¢«ç»§æ‰¿</strong>ï¼Œæ¯”å¦‚Stringç±»ï¼ŒSystemç±»ï¼ŒStringBufferç±»</p></li><li><p>finalä¿®é¥°æ–¹æ³•ï¼šè¡¨æ˜è¯¥æ–¹æ³•<strong>ä¸èƒ½è¢«é‡å†™</strong>ï¼Œæ¯”å¦‚Objectç±»ä¸­çš„getClassæ–¹æ³•</p></li><li><p>finalä¿®é¥°å˜é‡ï¼šæ­¤æ—¶çš„â€œå˜é‡â€å°±<strong>æ˜¯ä¸€ä¸ªå¸¸é‡</strong></p></li><li><p>1 finalä¿®é¥°å±æ€§ï¼šèµ‹å€¼çš„ä½ç½®ï¼šæ˜¾ç¤ºåˆå§‹åŒ–ã€ä»£ç å—ä¸­åˆå§‹åŒ–ã€æ„é€ å™¨ä¸­åˆå§‹åŒ–</p></li><li><p>2 finalä¿®é¥°å±€éƒ¨å˜é‡ï¼šå°¤å…¶æ˜¯ä½¿ç”¨finalä¿®é¥°å½¢å‚æ—¶ï¼Œè¡¨æ˜æ­¤å½¢å‚æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚å½“æˆ‘ä»¬è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œç»™å¸¸é‡å½¢å‚èµ‹ä¸€ä¸ªå®å‚ã€‚ä¸€æ—¦èµ‹å€¼ä»¥åï¼Œå°±åªèƒ½åœ¨æ–¹æ³•ä½“å†…ä½¿ç”¨æ­¤å½¢å‚ï¼Œä½†ä¸èƒ½è¿›è¡Œé‡æ–°èµ‹å€¼</p></li><li><p>static finalä¿®é¥°ä¸€ä¸ªå±æ€§ï¼šè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å¸¸é‡</p></li></ol><pre><code class="java">//é¢è¯•é¢˜ï¼šæ’é”™//1public class Something &#123;    public int add0ne(final int x) &#123;        return ++X; //é”™è¯¯ï¼Œå› ä¸ºè¿”å›Xå‰å¯¹å®ƒè¿›è¡Œäº†æ”¹å˜        //return X + 1; //å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºXæ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯è¿”å›çš„æ˜¯XåŠ 1åçš„å€¼    &#125;&#125;//2public class Something &#123;    public static void main(String[] args) &#123;        Other o = new Other();        new Something().add0ne(o);     &#125;    public void add0ne(final 0ther o) &#123;        //o = new other();      //é”™è¯¯ï¼Œå› ä¸ºä¼ å…¥çš„å¼•ç”¨è¢«finalä¿®é¥°ï¼Œæ‰€ä»¥ä¸èƒ½è¢«æ”¹å˜        o.i++;        //æ­£ç¡®ï¼Œå¼•ç”¨oæ²¡å˜ï¼Œåªæ˜¯æ”¹å˜å…¶ä¸­çš„å˜é‡    &#125;&#125;class Other &#123;    public int i;&#125;</code></pre><h4 id="5-5-3-ä»£ç å—"><a href="#5-5-3-ä»£ç å—" class="headerlink" title="5.5.3 ä»£ç å—"></a>5.5.3 ä»£ç å—</h4><p>ä»£ç å—çš„ä½œç”¨ï¼šç”¨æ¥<strong>åˆå§‹åŒ–ç±»ã€å¯¹è±¡</strong></p><p>ä»£ç å—å¦‚æœæœ‰ä¿®é¥°çš„è¯ï¼Œåªèƒ½ä½¿ç”¨static</p><p>åˆ†ç±»ï¼šé™æ€ä»£ç å—ã€éé™æ€ä»£ç å—</p><p><strong>é™æ€ä»£ç å—</strong></p><ul><li>å†…éƒ¨å¯ä»¥æœ‰è¾“å‡ºè¯­å¥</li><li>éšç€<strong>ç±»çš„åŠ è½½è€Œæ‰§è¡Œ</strong>,è€Œä¸”<strong>åªæ‰§è¡Œä¸€æ¬¡</strong></li><li>ä½œç”¨ï¼šåˆå§‹åŒ–ç±»çš„ä¿¡æ¯</li><li>å¦‚æœç±»ä¸­å£°æ˜äº†å¤šä¸ªé™æ€ä»£ç å—ï¼Œåˆ™æŒ‰å£°æ˜çš„å…ˆåé¡ºåºæ‰§è¡Œ</li><li>é™æ€ä»£ç å—ä¼˜å…ˆäºéé™æ€ä»£ç å—æ‰§è¡Œ</li><li>ä¸èƒ½è°ƒç”¨éé™æ€å±æ€§å’Œæ–¹æ³•ï¼Œåªèƒ½è°ƒç”¨é™æ€å±æ€§å’Œæ–¹æ³•</li></ul><p><strong>éé™æ€ä»£ç å—</strong></p><ul><li>å†…éƒ¨å¯ä»¥æœ‰è¾“å‡ºè¯­å¥</li><li>éšç€<strong>å¯¹è±¡çš„åˆ›å»ºè€Œæ‰§è¡Œ</strong></li><li>æ¯<strong>åˆ›å»ºä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå°±<strong>æ‰§è¡Œä¸€æ¬¡</strong>éé™æ€ä»£ç å—</li><li>ä½œç”¨ï¼šå¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯¹å¯¹è±¡çš„å±æ€§ç­‰è¿›è¡Œåˆå§‹åŒ–</li><li>å¦‚æœç±»ä¸­å£°æ˜äº†å¤šä¸ªéé™æ€ä»£ç å—ï¼Œåˆ™æŒ‰å£°æ˜çš„å…ˆåé¡ºåºæ‰§è¡Œ</li><li>æ—¢å¯ä»¥è°ƒç”¨é™æ€å±æ€§å’Œæ–¹æ³•ï¼Œåˆå¯ä»¥è°ƒç”¨éé™æ€å±æ€§å’Œæ–¹æ³•</li></ul><p><strong>ç±»åŠ è½½çš„æ‰§è¡Œé¡ºåº</strong>ï¼šé™æ€ä»£ç å—&gt;åŒ¿åä»£ç å—&gt;æ„é€ å™¨</p><pre><code class="java">public static void main(String[] args) &#123;        new Leaf();                         &#125;class Root &#123;    static &#123;        System.out.println(&quot;Rootçš„é™æ€ä»£ç å—&quot;);    &#125;    &#123;        System.out.println(&quot;Rootçš„æ™®é€šä»£ç å—&quot;);    &#125;    public Root() &#123;        super();        System.out.println(&quot;Rootçš„æ— å‚æ„é€ å™¨&quot;);    &#125;&#125;class Mid extends Root&#123;    static &#123;        System.out.println(&quot;Midçš„é™æ€ä»£ç å—&quot;);    &#125;    &#123;        System.out.println(&quot;Midçš„æ™®é€šä»£ç å—&quot;);    &#125;    public Mid() &#123;        super();        System.out.println(&quot;Midçš„æ— å‚æ„é€ å™¨&quot;);    &#125;&#125;class Leaf extends Mid &#123;    static &#123;        System.out.println(&quot;Leafçš„é™æ€ä»£ç å—&quot;);    &#125;    &#123;        System.out.println(&quot;Leafçš„æ™®é€šä»£ç å—&quot;);    &#125;    public Leaf() &#123;        super();        System.out.println(&quot;Leafçš„æ— å‚æ„é€ å™¨&quot;);    &#125;&#125;/*è¾“å‡ºä¸ºï¼šRootçš„é™æ€ä»£ç å—         Midçš„é™æ€ä»£ç å—         Leafçš„é™æ€ä»£ç å—         Rootçš„æ™®é€šä»£ç å—            Rootçš„æ— å‚æ„é€ å™¨         Midçš„æ™®é€šä»£ç å—         Midçš„æ— å‚æ„é€ å™¨         Leafçš„æ™®é€šä»£ç å—         Leafçš„æ— å‚æ„é€ å™¨*/</code></pre><h3 id="5-6-æŠ½è±¡ç±»å’Œæ¥å£"><a href="#5-6-æŠ½è±¡ç±»å’Œæ¥å£" class="headerlink" title="5.6 æŠ½è±¡ç±»å’Œæ¥å£"></a>5.6 æŠ½è±¡ç±»å’Œæ¥å£</h3><h4 id="5-6-1-æŠ½è±¡ç±»"><a href="#5-6-1-æŠ½è±¡ç±»" class="headerlink" title="5.6.1 æŠ½è±¡ç±»"></a>5.6.1 æŠ½è±¡ç±»</h4><p><strong>abstract</strong>ä¿®é¥°ç¬¦å¯ä»¥ç”¨æ¥ä¿®é¥°æ–¹æ³•ä¹Ÿå¯ä»¥ä¿®é¥°ç±»,<strong>å¦‚æœä¿®é¥°æ–¹æ³•,é‚£ä¹ˆè¯¥æ–¹æ³•å°±æ˜¯æŠ½è±¡æ–¹æ³•;å¦‚æœä¿®é¥°ç±»,é‚£ä¹ˆè¯¥ç±»å°±æ˜¯æŠ½è±¡ç±»</strong></p><p><em><strong>æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•,ä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šè¦å£°æ˜ä¸ºæŠ½è±¡ç±»</strong></em></p><p>æŠ½è±¡ç±»,<strong>ä¸èƒ½ä½¿ç”¨new</strong>å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡,å®ƒæ˜¯ç”¨æ¥<strong>è®©å­ç±»ç»§æ‰¿</strong>çš„ï¼ˆæ‰€ä»¥æŠ½è±¡ç±»ä¸€å®šæœ‰æ„é€ å™¨ï¼‰</p><p>æŠ½è±¡æ–¹æ³•,<strong>åªæœ‰æ–¹æ³•çš„å£°æ˜,æ²¡æœ‰æ–¹æ³•çš„å®ç°</strong>,å®ƒæ˜¯ç”¨æ¥è®©<strong>å­ç±»å®ç°</strong>çš„</p><p>å­ç±»ç»§æ‰¿æŠ½è±¡ç±»,é‚£ä¹ˆå°±<strong>å¿…é¡»è¦å®ç°</strong>æŠ½è±¡ç±»<strong>æ²¡æœ‰å®ç°çš„æŠ½è±¡æ–¹æ³•</strong>,å¦åˆ™è¯¥å­ç±»ä¹Ÿè¦å£°æ˜ä¸ºæŠ½è±¡ç±»</p><h5 id="1-æŠ½è±¡ç±»çš„åŒ¿åå­ç±»å¯¹è±¡"><a href="#1-æŠ½è±¡ç±»çš„åŒ¿åå­ç±»å¯¹è±¡" class="headerlink" title="1.æŠ½è±¡ç±»çš„åŒ¿åå­ç±»å¯¹è±¡"></a>1.æŠ½è±¡ç±»çš„åŒ¿åå­ç±»å¯¹è±¡</h5><pre><code class="java">abstract class Person &#123;    public abstract void eat();&#125;class Worker extends Person &#123;    @Override    public void eat() &#123;    &#125;&#125;public static void main(String[] args) &#123;        method(new Worker());//1.éåŒ¿åç±»çš„åŒ¿åå¯¹è±¡        Worker worker = new Worker();//2.éåŒ¿åç±»çš„éåŒ¿åå¯¹è±¡        //3.åˆ›å»ºæŠ½è±¡ç±»åŒ¿åå­ç±»çš„éåŒ¿åå¯¹è±¡        Person person = new Person() &#123;            @Override            public void eat() &#123;            &#125;        &#125;;        method1(person);        //4.æŠ½è±¡ç±»åŒ¿åå­ç±»çš„åŒ¿åå¯¹è±¡        method1(new Person()&#123;            @Override            public void eat() &#123;            &#125;        &#125;);    &#125;    public static void method(Worker worker)&#123;    &#125;    public static void method1(Person person)&#123;    &#125;</code></pre><h5 id="2-æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"><a href="#2-æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼" class="headerlink" title="2.æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"></a>2.æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</h5><p>æŠ½è±¡ç±»ä½“ç°çš„å°±æ˜¯ä¸€ç§æ¨¡æ¿æ¨¡å¼çš„è®¾è®¡ï¼ŒæŠ½è±¡ç±»ä½œä¸ºå¤šä¸ªå­ç±»çš„é€šç”¨æ¨¡æ¿ï¼Œå­ç±»åœ¨æŠ½è±¡ç±»çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ã€æ”¹é€ ï¼Œä½†å­ç±»æ€»ä½“ä¸Šä¼šä¿ç•™æŠ½è±¡ç±»çš„è¡Œä¸ºæ–¹å¼</p><p>è§£å†³çš„é—®é¢˜ï¼š</p><ul><li>å½“åŠŸèƒ½å†…éƒ¨<strong>ä¸€éƒ¨åˆ†å®ç°æ˜¯ç¡®å®šçš„ï¼Œä¸€éƒ¨åˆ†å®ç°æ˜¯ä¸ç¡®å®šçš„</strong>ã€‚è¿™æ—¶å¯ä»¥æŠŠä¸ç¡®å®šçš„éƒ¨åˆ†æš´éœ²å‡ºå»ï¼Œè®©å­ç±»å»å®ç°</li><li>æ¢å¥è¯è¯´ï¼Œåœ¨è½¯ä»¶å¼€å‘ä¸­å®ç°ä¸€ä¸ªç®—æ³•æ—¶ï¼Œ<strong>æ•´ä½“æ­¥éª¤å¾ˆå›ºå®šã€é€šç”¨</strong>ï¼Œè¿™äº›æ­¥éª¤å·²ç»åœ¨çˆ¶ç±»ä¸­å†™å¥½äº†ã€‚ä½†æ˜¯æŸäº›éƒ¨åˆ†æ˜“å˜ï¼Œ<strong>æ˜“å˜éƒ¨åˆ†å¯ä»¥æŠ½è±¡å‡ºæ¥ï¼Œä¾›ä¸åŒå­ç±»å®ç°</strong>ã€‚è¿™å°±æ˜¯ä¸€ç§æ¨¡æ¿æ¨¡å¼</li></ul><pre><code class="java">public static void main(String[] args) &#123;    SubTemplate t = new SubTemplate();    t.spendTime();&#125;abstract class Templatet &#123;    //è®¡ç®—æŸæ®µä»£ç æ‰§è¡Œæ‰€éœ€è¦èŠ±è´¹çš„æ—¶é—´    public void spendTime()&#123;        long start = System. currentTimeMillis();        this.code();//ä¸ç¡®å®šçš„éƒ¨åˆ†ã€æ˜“å˜çš„éƒ¨åˆ†        long end = System.currentTimeMillis();        System.out.println(&quot;èŠ±è´¹çš„æ—¶é—´ä¸º:&quot;+ (end - start));    &#125;    public abstract void code();&#125;class SubTemplate extends Template&#123;    @Override    public void code() &#123;        //è¦æ‰§è¡Œçš„ä»£ç     &#125;&#125;</code></pre><h4 id="5-6-2-æ¥å£"><a href="#5-6-2-æ¥å£" class="headerlink" title="5.6.2 æ¥å£"></a>5.6.2 æ¥å£</h4><p><strong>æ™®é€šç±»:åªæœ‰å…·ä½“å®ç°</strong></p><p><strong>æŠ½è±¡ç±»:å…·ä½“å®ç°å’Œè§„èŒƒ(æŠ½è±¡æ–¹æ³•)éƒ½æœ‰</strong></p><p><strong>æ¥å£:åªæœ‰è§„èŒƒï¼Œæ²¡æœ‰æ„é€ å™¨ï¼Œæ„å‘³ç€ä¸èƒ½è¢«å®ä¾‹åŒ–</strong></p><p>æ¥å£å°±æ˜¯è§„èŒƒï¼Œå®šä¹‰çš„æ˜¯ä¸€ç»„è§„åˆ™ã€‚æ¥å£çš„æœ¬è´¨æ˜¯å¥‘çº¦ï¼Œå°±åƒæˆ‘ä»¬äººç±»çš„æ³•å¾‹ä¸€æ ·ã€‚åˆ¶å®šå¥½åå¤§å®¶éƒ½éµå®ˆ</p><p>å£°æ˜ç±»çš„å…³é”®å­—æ˜¯class,å£°æ˜æ¥å£çš„å…³é”®å­—æ˜¯<strong>interface</strong></p><p>OOçš„ç²¾é«“ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡ï¼Œæœ€èƒ½ä½“ç°è¿™ä¸€ç‚¹çš„å°±æ˜¯æ¥å£ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬è®¨è®ºè®¾è®¡æ¨¡å¼éƒ½åªé’ˆå¯¹å…·å¤‡äº†æŠ½è±¡èƒ½åŠ›çš„è¯­è¨€ï¼ˆæ¯”å¦‚c++ã€javaã€c#ç­‰)ï¼Œå°±æ˜¯å› ä¸ºè®¾è®¡æ¨¡å¼æ‰€ç ”ç©¶çš„ï¼Œå®é™…ä¸Šå°±æ˜¯å¦‚ä½•åˆç†çš„å»æŠ½è±¡</p><p>Tipsï¼š</p><ul><li>æ¥å£ä¸­çš„æ–¹æ³•å®šä¹‰<strong>éƒ½æ˜¯public abstract</strong>ï¼Œä¹¦å†™æ—¶å¯ä»¥çœç•¥</li><li>æ¥å£ä¸­çš„å±æ€§<strong>éƒ½æ˜¯å¸¸é‡ï¼Œpublic static finalä¿®é¥°</strong>çš„ï¼Œä¹¦å†™æ—¶å¯ä»¥çœç•¥</li><li>å®ç°æ¥å£ï¼ˆ<strong>implements</strong>ï¼‰çš„ç±»<strong>å¿…é¡»é‡å†™</strong>æ¥å£ä¸­çš„<strong>æ‰€æœ‰æ–¹æ³•</strong>ï¼Œå¦åˆ™è¿™ä¸ªå®ç°ç±»è¿˜æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»</li><li>æ¥å£çš„<strong>å®ç°å…è®¸å¤šå®ç°</strong>ï¼ˆå¼¥è¡¥ç±»ä¸èƒ½å¤šç»§æ‰¿çš„å±€é™æ€§ï¼Œæ ¼å¼class A extends B implements C,Dï¼‰</li><li><strong>æ¥å£ä¹‹é—´å¯ä»¥ç»§æ‰¿ï¼Œè€Œä¸”å¯ä»¥å¤šç»§æ‰¿</strong></li><li>æ¥å£çš„å…·ä½“ä½¿ç”¨ï¼Œä½“ç°å‡ºå¤šæ€æ€§</li><li><strong>JDK7åŠä»¥å‰</strong>æ¥å£ä¸­åªèƒ½å®šä¹‰å…¨å±€å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•ï¼›<strong>JDK8åŠä¹‹å</strong>è¿˜å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•</li></ul><h5 id="1-Java8ä¸­æ¥å£çš„æ–°ç‰¹æ€§"><a href="#1-Java8ä¸­æ¥å£çš„æ–°ç‰¹æ€§" class="headerlink" title="1.Java8ä¸­æ¥å£çš„æ–°ç‰¹æ€§"></a>1.Java8ä¸­æ¥å£çš„æ–°ç‰¹æ€§</h5><pre><code class="java">//é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£public interface CompareA &#123;    //é™æ€æ–¹æ³•    public static void method1() &#123;        System.out.println(&quot;CompareA:method1&quot;);    &#125;    //é»˜è®¤æ–¹æ³•    public default void method2() &#123;        System.out.println(&quot;CompareA:method2&quot;);    &#125;    public default void method3() &#123;        System.out.println(&quot;CompareA:method3&quot;);    &#125;&#125;</code></pre><ul><li><p>1.æ¥å£ä¸­çš„<strong>é™æ€æ–¹æ³•</strong>åªèƒ½é€šè¿‡<code>æ¥å£å.é™æ€æ–¹æ³•</code>è¿›è¡Œè°ƒç”¨</p></li><li><p>2.æ¥å£ä¸­çš„<strong>é»˜è®¤æ–¹æ³•</strong>å¯ä»¥é€šè¿‡<strong>å®ç°ç±»çš„å¯¹è±¡</strong>è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœå®ç°ç±»<strong>é‡å†™äº†</strong>è¿™ä¸ªé»˜è®¤æ–¹æ³•ï¼Œé‚£ä¹ˆ<strong>è°ƒç”¨çš„è¿˜æ˜¯é‡å†™åçš„æ–¹æ³•</strong></p><pre><code class="java">public class SubClassTest &#123;    public static void main(String[] args) &#123;        SubClass s = new SubClass();        CompareA.method1(); //è¾“å‡º=&gt;CompareA:method1ï¼Œ1.æ¥å£ä¸­çš„é™æ€æ–¹æ³•åªèƒ½é€šè¿‡`æ¥å£å.é™æ€æ–¹æ³•`è¿›è¡Œè°ƒç”¨        s.method2();//è¾“å‡º=&gt;CompareA:method2ï¼Œ2.æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•å¯ä»¥é€šè¿‡å®ç°ç±»çš„å¯¹è±¡è¿›è¡Œè°ƒç”¨        s.method3();//è¾“å‡º=&gt;SubClass:method3ï¼Œ2.å¦‚æœå®ç°ç±»é‡å†™äº†è¿™ä¸ªé»˜è®¤æ–¹æ³•ï¼Œé‚£ä¹ˆè°ƒç”¨çš„è¿˜æ˜¯é‡å†™åçš„æ–¹æ³•    &#125;&#125;class SubClass implements CompareA&#123;    @Override    public void method3() &#123;        System.out.println(&quot;SubClass:method3&quot;);    &#125;&#125;</code></pre></li><li><p>3.å¦‚æœåœ¨<strong>å­ç±»(æˆ–å®ç°ç±»)ç»§æ‰¿çš„çˆ¶ç±»</strong>å’Œ<strong>å®ç°çš„æ¥å£</strong>ä¸­å£°æ˜äº†åŒååŒå‚æ•°çš„<strong>é»˜è®¤æ–¹æ³•</strong>ï¼Œé‚£ä¹ˆå­ç±»åœ¨<strong>æ²¡æœ‰é‡å†™æ­¤æ–¹æ³•çš„æƒ…å†µä¸‹</strong>ï¼Œ<strong>é»˜è®¤è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„</strong>åŒååŒå‚æ•°çš„æ–¹æ³•â€”&gt;ç±»ä¼˜å…ˆåŸåˆ™</p><pre><code class="java">public class SubClassTest &#123;    public static void main(String[] args) &#123;        SubClass s = new SubClass();        s.method2();//è¾“å‡º=&gt;SuperClass:method2ï¼Œ 3.ç±»ä¼˜å…ˆåŸåˆ™    &#125;&#125;class SubClass extends SuperClass implements CompareA &#123;&#125;class SuperClass &#123;    public void method2() &#123;        System.out.println(&quot;SuperClass:method2&quot;);    &#125;&#125;</code></pre></li><li><p>4.å¦‚æœå®ç°ç±»å®ç°äº†å¤šä¸ªæ¥å£ï¼Œè€Œè¿™<strong>å¤šä¸ªæ¥å£ä¸­å®šä¹‰äº†åŒååŒå‚æ•°çš„é»˜è®¤æ–¹æ³•</strong>ï¼Œé‚£ä¹ˆåœ¨<strong>å®ç°ç±»æ²¡æœ‰é‡å†™æ­¤æ–¹æ³•çš„æƒ…å†µä¸‹</strong>ï¼Œå‡ºç°æŠ¥é”™ â€”&gt;<strong>æ¥å£å†²çª</strong>ã€‚è¿™å°±éœ€è¦æˆ‘ä»¬<strong>å¿…é¡»</strong>åœ¨å®ç°ç±»ä¸­é‡å†™æ­¤æ–¹æ³•</p><pre><code class="java">public class SubClassTest &#123;    public static void main(String[] args) &#123;        SubClass s = new SubClass();        s.method2();//ç¼–è¯‘å‡ºé”™   4.æ¥å£å†²çªï¼Œéœ€è¦æˆ‘ä»¬å¿…é¡»åœ¨å®ç°ç±»ä¸­é‡å†™æ­¤æ–¹æ³•    &#125;&#125;public interface CompareB &#123;    //é»˜è®¤æ–¹æ³•    public default void method2() &#123;        System.out.println(&quot;CompareB:method2&quot;);    &#125;&#125;class SubClass implements CompareA,CompareB &#123;&#125;</code></pre></li><li><p>5.åœ¨<strong>å­ç±» ï¼ˆæˆ–å®ç°ç±»ï¼‰çš„æ–¹æ³•ä¸­</strong>è°ƒç”¨<strong>çˆ¶ç±»ä¸­è¢«é‡å†™</strong>çš„æ–¹æ³•ä½¿ç”¨<code>super.æ–¹æ³•å</code>ï¼Œè°ƒç”¨<strong>æ¥å£ä¸­è¢«é‡å†™</strong>çš„æ–¹æ³•ä½¿ç”¨<code>æ¥å£å.super.æ–¹æ³•å</code></p><pre><code class="java">class SubClass extends SuperClass implements CompareA &#123;    public void method2() &#123;        System.out.println(&quot;SubClass:method2&quot;);    &#125;    public void MyMethod() &#123;        method2(); //åœ¨è‡ªå·±çš„æ–¹æ³•ä¸­è°ƒç”¨è‡ªå·±é‡å†™çš„æ–¹æ³•        super.method2();//åœ¨è‡ªå·±çš„æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»ä¸­è¢«é‡å†™çš„æ–¹æ³•ä½¿ç”¨super.æ–¹æ³•å        CompareA.super.method2();//åœ¨è‡ªå·±çš„æ–¹æ³•ä¸­è°ƒç”¨æ¥å£ä¸­è¢«é‡å†™çš„æ–¹æ³•ä½¿ç”¨æ¥å£å.super.æ–¹æ³•å    &#125;&#125;class SuperClass &#123;    public void method2() &#123;        System.out.println(&quot;SuperClass:method2&quot;);    &#125;&#125;</code></pre></li></ul><h5 id="2-æ¥å£åº”ç”¨å®ä¾‹ï¼šä»£ç†æ¨¡å¼"><a href="#2-æ¥å£åº”ç”¨å®ä¾‹ï¼šä»£ç†æ¨¡å¼" class="headerlink" title="2.æ¥å£åº”ç”¨å®ä¾‹ï¼šä»£ç†æ¨¡å¼"></a>2.æ¥å£åº”ç”¨å®ä¾‹ï¼šä»£ç†æ¨¡å¼</h5><p>ä»£ç†æ¨¡å¼æ˜¯Javaå¼€å‘ä¸­ä½¿ç”¨è¾ƒå¤šçš„ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚ä»£ç†è®¾è®¡å°±æ˜¯ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®</p><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>å®‰å…¨ä»£ç†ï¼šå±è”½å¯¹çœŸå®è§’è‰²çš„ç›´æ¥è®¿é—®</li><li>è¿œç¨‹ä»£ç†ï¼šé€šè¿‡ä»£ç†ç±»å¤„ç†è¿œç¨‹æ–¹æ³•è°ƒç”¨( RMI)</li><li>å»¶è¿ŸåŠ è½½ï¼šå…ˆåŠ è½½è½»é‡çº§çš„ä»£ç†å¯¹è±¡ï¼ŒçœŸæ­£éœ€è¦å†åŠ è½½çœŸå®å¯¹è±¡</li></ul><p>åˆ†ç±»ï¼š</p><ul><li>é™æ€ä»£ç†(é™æ€å®šä¹‰ä»£ç†ç±»)</li><li>åŠ¨æ€ä»£ç†(åŠ¨æ€ç”Ÿæˆä»£ç†ç±»)ï¼›JDKè‡ªå¸¦çš„åŠ¨æ€ä»£ç†ï¼Œéœ€è¦åå°„ç­‰çŸ¥è¯†</li></ul><pre><code class="java">public static void main(String[] args)&#123;    Server server = new Server();    ProxyServer proxyserver = new ProxyServer(server);    proxyServer.browse();&#125;interface NetWork &#123;    public void browse();&#125;//è¢«ä»£ç†ç±»class Server implements NetWork&#123;    @Override    public void browse() &#123;        System.out.println(&quot;çœŸå®çš„æœåŠ¡å™¨è®¿é—®ç½‘ç»œ&quot;);    &#125;&#125;//ä»£ç†ç±»class ProxyServer implements NetWork&#123;    private NetWork work;    public ProxyServer(NetWork work)&#123;        this.work = work;    &#125;    public void check()&#123;        System.out.println(&quot;è”ç½‘ä¹‹å‰çš„æ£€æŸ¥å·¥ä½œ&quot;);    &#125;       @Override    public void browse()&#123;        check();        work.browse();    &#125;&#125;</code></pre><h5 id="3-æ¥å£åº”ç”¨å®ä¾‹ï¼šå·¥å‚æ¨¡å¼"><a href="#3-æ¥å£åº”ç”¨å®ä¾‹ï¼šå·¥å‚æ¨¡å¼" class="headerlink" title="3.æ¥å£åº”ç”¨å®ä¾‹ï¼šå·¥å‚æ¨¡å¼"></a>3.æ¥å£åº”ç”¨å®ä¾‹ï¼šå·¥å‚æ¨¡å¼</h5><p>å·¥å‚æ¨¡å¼ï¼šå®ç°äº†<strong>åˆ›å»ºè€…ä¸è°ƒç”¨è€…çš„åˆ†ç¦»</strong>ï¼Œå³å°†<strong>åˆ›å»ºå¯¹è±¡çš„å…·ä½“è¿‡ç¨‹å±è”½éš”ç¦»</strong>èµ·æ¥ï¼Œè¾¾åˆ°æé«˜çµæ´»æ€§çš„ç›®çš„</p><p><strong>åˆ†ç±»ï¼š</strong></p><ul><li>ç®€å•å·¥å‚æ¨¡å¼ï¼šç”¨æ¥ç”Ÿäº§<strong>åŒä¸€ç­‰çº§ç»“æ„</strong>ä¸­çš„<strong>ä»»æ„äº§å“</strong>ã€‚(å¯¹äºå¢åŠ æ–°çš„äº§å“ï¼Œéœ€è¦ä¿®æ”¹å·²æœ‰ä»£ç ) <ul><li>ç¼ºç‚¹ï¼šå¯¹äºå¢åŠ æ–°äº§å“ï¼Œä¸ä¿®æ”¹ä»£ç çš„è¯ï¼Œæ˜¯æ— æ³•æ‰©å±•çš„ã€‚è¿åäº†å¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­)</li></ul></li><li>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šç”¨æ¥ç”Ÿäº§<strong>åŒä¸€ç­‰çº§ç»“æ„</strong>ä¸­çš„<strong>å›ºå®šäº§å“</strong>ã€‚(æ”¯æŒå¢åŠ ä»»æ„äº§å“)</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šç”¨æ¥ç”Ÿäº§<strong>ä¸åŒäº§å“æ—</strong>çš„<strong>å…¨éƒ¨äº§å“</strong>ã€‚(å¯¹äºå¢åŠ æ–°çš„äº§å“ï¼Œæ— èƒ½ä¸ºåŠ›;æ”¯æŒå¢åŠ äº§å“æ—)</li></ul><h3 id="5-7-å†…éƒ¨ç±»"><a href="#5-7-å†…éƒ¨ç±»" class="headerlink" title="5.7 å†…éƒ¨ç±»"></a>5.7 å†…éƒ¨ç±»</h3><p>å†…éƒ¨ç±»å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨åœ¨å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚ï¼ŒAç±»ä¸­å®šä¹‰ä¸€ä¸ªBç±»ï¼Œé‚£ä¹ˆBç±»ç›¸å¯¹Aç±»æ¥è¯´å°±ç§°ä¸ºå†…éƒ¨ç±»ï¼Œè€ŒAç±»ç›¸å¯¹Bç±»æ¥è¯´å°±æ˜¯å¤–éƒ¨ç±»</p><p>æˆå‘˜å†…éƒ¨ç±»(é™æ€ã€éé™æ€) VS å±€éƒ¨å†…éƒ¨ç±»(æ–¹æ³•å†…ã€ä»£ç å—å†…ã€æ„é€ å™¨å†…)</p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/79f6d2aca1d8">https://www.jianshu.com/p/79f6d2aca1d8</a></p><h4 id="5-7-1-æˆå‘˜å†…éƒ¨ç±»"><a href="#5-7-1-æˆå‘˜å†…éƒ¨ç±»" class="headerlink" title="5.7.1 æˆå‘˜å†…éƒ¨ç±»"></a>5.7.1 æˆå‘˜å†…éƒ¨ç±»</h4><p>ä¸€æ–¹é¢ï¼Œä½œä¸ºå¤–éƒ¨ç±»çš„æˆå‘˜ï¼š</p><ul><li><p>è°ƒç”¨å¤–éƒ¨ç±»çš„ç»“æ„</p></li><li><p>å¯ä»¥è¢«staticä¿®é¥°</p></li><li><p>å¯ä»¥è¢«4ç§ä¸åŒçš„æƒé™ä¿®é¥°</p></li></ul><p>å¦ä¸€æ–¹é¢ï¼Œä½œä¸ºä¸€ä¸ªç±»ï¼š</p><ul><li><p>ç±»å†…å¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ç­‰</p></li><li><p>å¯ä»¥è¢«finalä¿®é¥°ï¼Œè¡¨ç¤ºæ­¤ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚è¨€å¤–ä¹‹æ„ï¼Œä¸ä½¿ç”¨finalï¼Œå°±å¯ä»¥è¢«ç»§æ‰¿</p></li><li><p>å¯ä»¥è¢«abstractä¿®é¥°</p><pre><code class="java">//è·å–å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹public class Test &#123;    public static void main(String[] args) &#123;            Person ricky = new Person();        //è·å–æˆå‘˜å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹ï¼Œæ–¹å¼1ï¼šnew å¤–éƒ¨ç±».new å†…éƒ¨ç±»        Person.Heart heart = new Person().new Heart();        System.out.println(heart.beat());        //è·å–æˆå‘˜å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹ï¼Œæ–¹å¼1ï¼šå¤–éƒ¨ç±»å¯¹è±¡.new å†…éƒ¨ç±»        heart = ricky.new Heart();        //è·å–æˆå‘˜å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹ï¼Œæ–¹å¼2ï¼šå¤–éƒ¨ç±»å¯¹è±¡.è·å–æ–¹æ³•        Person.Heart heart2 = ricky.getHeart();        System.out.println(heart2.beat());    &#125;&#125;//æˆå‘˜å†…éƒ¨ç±»çš„ä½¿ç”¨public class Person &#123;    String name = &quot;å¤§å¤§&quot;;    //è·å–å†…éƒ¨ç±»å¯¹è±¡æ–¹æ³•    public Heart getHeart()&#123;        //å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»ä¿¡æ¯ï¼Œéœ€è¦é€šè¿‡å†…éƒ¨ç±»å®ä¾‹ï¼Œæ— æ³•ç›´æ¥è®¿é—®name        new Heart().name = &quot;æ˜æ˜&quot;;        return new Heart();    &#125;    public void eat()&#123;        System.out.println(&quot;äººä¼šåƒä¸œè¥¿&quot;);    &#125;    //è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä»»æ„ï¼Œè®¾ç½®ä¸ºprivateåˆ™åªèƒ½åœ¨æ­¤å¤–éƒ¨ç±»ä¸­åˆ›å»ºå®ä¾‹    private class Heart &#123;        String name = &quot;å°å°&quot;;        public String beat()&#123;            //åŒåå±æ€§è¿™é‡Œä¼˜å…ˆè®¿é—®çš„æ˜¯å†…éƒ¨ç±»ä¸­çš„name            String str = name + &quot;çš„å¿ƒè„åœ¨è·³åŠ¨&quot;;            //è®¿é—®å¤–éƒ¨ç±»ä¸­çš„åŒåå±æ€§            str = Person.this.name + &quot;çš„å¿ƒè„åœ¨è·³åŠ¨&quot;;            eat();//ç›´æ¥è°ƒç”¨eat()ä¼˜å…ˆè®¿é—®çš„æ˜¯å†…éƒ¨ç±»ä¸­å®šä¹‰çš„            Person.this.eat(); //è°ƒç”¨å¤–éƒ¨ç±»çš„åŒåæ–¹æ³•            return str;        &#125;        //åŒåæ–¹æ³•        public void eat()&#123;            System.out.println(&quot;åƒä¸œè¥¿&quot;);        &#125;    &#125;&#125;</code></pre><ul><li><p><strong>æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„å±æ€§å’Œæ–¹æ³•</strong></p></li><li><p><strong>å¤–éƒ¨ç±»æƒ³è¦è®¿é—®å†…éƒ¨ç±»</strong>å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¿…é¡»è¦<strong>åˆ›å»ºä¸€ä¸ªå†…éƒ¨ç±»å¯¹è±¡</strong>ï¼Œç„¶åé€šè¿‡è¯¥å¯¹è±¡è®¿é—®å†…éƒ¨ç±»çš„å±æ€§æˆ–æ–¹æ³•</p></li><li><p><strong>æˆå‘˜å†…éƒ¨ç±»é‡Œé¢ä¸èƒ½å«é™æ€å±æ€§æˆ–æ–¹æ³•</strong></p></li><li><p>å¦‚æœæˆå‘˜<strong>å†…éƒ¨ç±»çš„å±æ€§æˆ–è€…æ–¹æ³•ä¸å¤–éƒ¨ç±»çš„åŒå</strong>ï¼Œå°†å¯¼è‡´å¤–éƒ¨ç±»çš„è¿™äº›å±æ€§ä¸æ–¹æ³•åœ¨å†…éƒ¨ç±»<strong>è¢«éšè—</strong></p></li><li><p>è®¿é—®åŒåå±æ€§å’Œæ–¹æ³•æ—¶<strong>ä¼˜å…ˆè®¿é—®å†…éƒ¨ç±»ä¸­</strong>å®šä¹‰çš„ï¼›<strong>è®¿é—®å¤–éƒ¨ç±»</strong>ä¸­çš„åŒåå±æ€§å’Œæ–¹æ³•å¯æŒ‰ç…§<strong>è¯¥æ ¼å¼è°ƒç”¨</strong>ï¼Œ<code>å¤–éƒ¨ç±».this.å±æ€§/æ–¹æ³•</code></p></li><li><p>æˆå‘˜å†…éƒ¨ç±»è®¿é—®æƒé™ï¼šæˆå‘˜å†…éƒ¨ç±»å‰å¯åŠ ä¸Šå››ç§è®¿é—®ä¿®é¥°ç¬¦ã€‚</p><p>   privateï¼šä»…å¤–éƒ¨ç±»å¯è®¿é—®<br>   protectedï¼šåŒåŒ…ä¸‹æˆ–ç»§æ‰¿ç±»å¯è®¿é—®<br>   defaultï¼šåŒåŒ…ä¸‹å¯è®¿é—®<br>   publicï¼šæ‰€æœ‰ç±»å¯è®¿é—®</p></li><li><p>å†…éƒ¨ç±»ç¼–è¯‘å<code>.class</code>æ–‡ä»¶çš„åç§°ï¼šå¤–éƒ¨ç±»$å†…éƒ¨ç±».class</p></li></ul></li></ul><h4 id="5-7-2-é™æ€å†…éƒ¨ç±»"><a href="#5-7-2-é™æ€å†…éƒ¨ç±»" class="headerlink" title="5.7.2 é™æ€å†…éƒ¨ç±»"></a>5.7.2 é™æ€å†…éƒ¨ç±»</h4><pre><code class="java">//å®šä¹‰æ ¼å¼class U &#123;    static class I &#123;           &#125;&#125;//ä½¿ç”¨å®ä¾‹public class Person &#123;    String name = &quot;å¤§å¤§&quot;;    public static int age = 22;    //è·å–å†…éƒ¨ç±»å¯¹è±¡æ–¹æ³•    public Heart getHeart()&#123;        return new Heart();    &#125;    public void eat()&#123;        System.out.println(&quot;äººä¼šåƒä¸œè¥¿&quot;);    &#125;    //é™æ€å†…éƒ¨ç±»    public static class Heart &#123;        String name = &quot;å°å°&quot;;        public static int age = 12;        public String beat()&#123;            //é™æ€å†…éƒ¨ç±»ä¸­ï¼Œåªèƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Œå¦‚æœéœ€è¦è°ƒç”¨éé™æ€æˆå‘˜ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡å®ä¾‹            //ç›´æ¥è®¿é—®eat()ä¼šæŠ¥é”™            new Person().eat();            //å†…éƒ¨ç±»ä¸­çš„æˆå‘˜æ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å†…éƒ¨ç±»ä¸­çš„éé™æ€æˆå‘˜å’Œé™æ€æˆå‘˜            String str = name + age + &quot;å²çš„å¿ƒè„åœ¨è·³åŠ¨&quot;;            //è®¿é—®å¤–éƒ¨ç±»ä¸­çš„éé™æ€æˆå‘˜å’ŒåŒåé™æ€æˆå‘˜            return new Person().name + Person.age + &quot;çš„å¿ƒè„åœ¨è·³åŠ¨&quot;;        &#125;    &#125;    //æµ‹è¯•    public static void main(String[] args) &#123;        //è·å–é™æ€å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹        Person.Heart heart = new Person.Heart();        System.out.println(heart.beat());        //å¯ä»¥é€šè¿‡å¤–éƒ¨ç±».å†…éƒ¨ç±».é™æ€æˆå‘˜çš„æ–¹å¼ï¼Œè®¿é—®å†…éƒ¨ç±»ä¸­çš„é™æ€æˆå‘˜        Person.Heart.age = 15;    &#125;&#125;</code></pre><ul><li>é™æ€å†…éƒ¨ç±»å’Œæˆå‘˜å†…éƒ¨ç±»ç›¸æ¯”å¤šäº†ä¸€ä¸ª<strong>static</strong>ä¿®é¥°ç¬¦ï¼Œå®ƒä¸ç±»çš„é™æ€æˆå‘˜å˜é‡ä¸€æ ·ï¼Œ<strong>ä¸ä¾èµ–äºå¤–éƒ¨ç±»å¯¹è±¡</strong></li><li>è·å–é™æ€å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹ï¼š<code>new å¤–éƒ¨ç±»å.é™æ€ç±»()</code></li><li>é™æ€å†…éƒ¨ç±»ä¸­ï¼Œåªèƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„<strong>é™æ€æˆå‘˜</strong>ï¼Œå¦‚æœéœ€è¦è°ƒç”¨éé™æ€æˆå‘˜ï¼Œå¯ä»¥é€šè¿‡<strong>å¤–éƒ¨ç±»å¯¹è±¡å®ä¾‹</strong>è®¿é—®</li><li>å¯ä»¥é€šè¿‡<code>å¤–éƒ¨ç±».å†…éƒ¨ç±».é™æ€æˆå‘˜</code>çš„æ–¹å¼ï¼Œè®¿é—®<strong>å†…éƒ¨ç±»ä¸­çš„é™æ€æˆå‘˜</strong></li><li>å½“å†…éƒ¨ç±»ä¸­é™æ€æˆå‘˜ä¸å¤–éƒ¨ç±»é™æ€æˆå‘˜åŒåæ—¶ï¼Œ<strong>é»˜è®¤ç›´æ¥è°ƒç”¨å†…éƒ¨ç±»ä¸­çš„æˆå‘˜</strong>ï¼Œå¯ä»¥é€šè¿‡ <code>å¤–éƒ¨ç±».æˆå‘˜</code> çš„æ–¹å¼è®¿é—®å¤–éƒ¨ç±»çš„åŒåé™æ€æˆå‘˜ï¼Œè€Œå¯¹äº<strong>å¤–éƒ¨ç±»ä¸­çš„éé™æ€æˆå‘˜</strong>ï¼Œä¸ç®¡åŒä¸åŒåï¼Œéƒ½éœ€è¦<strong>é€šè¿‡å¤–éƒ¨ç±»å®ä¾‹è®¿é—®</strong></li><li>é™æ€å†…éƒ¨ç±»ä¹Ÿæœ‰å®ƒçš„ç‰¹æ®Šæ€§ï¼Œå› ä¸ºå¤–éƒ¨ç±»åŠ è½½æ—¶åªä¼šåŠ è½½é™æ€åŸŸï¼Œæ‰€ä»¥<strong>é™æ€å†…éƒ¨ç±»ä¸­ä¸èƒ½ä½¿ç”¨å¤–éƒ¨ç±»çš„éé™æ€å˜é‡ä¸æ–¹æ³•</strong></li></ul><h4 id="5-7-3-å±€éƒ¨å†…éƒ¨ç±»"><a href="#5-7-3-å±€éƒ¨å†…éƒ¨ç±»" class="headerlink" title="5.7.3 å±€éƒ¨å†…éƒ¨ç±»"></a>5.7.3 å±€éƒ¨å†…éƒ¨ç±»</h4><pre><code class="java">//å®šä¹‰æ ¼å¼class K&#123;    public void say()&#123;        class J&#123;                   &#125;    &#125;&#125;//ä½¿ç”¨å®ä¾‹public class Person &#123;    String name = &quot;å¤§å¤§&quot;;    public static int age = 22;    public Object getHeart()&#123;        int num = 10;        //æ–¹æ³•å†…éƒ¨ç±»ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦ï¼Œä¸èƒ½ä½¿ç”¨staticä¿®é¥°        class Heart &#123;            String name = &quot;å°å°&quot;;            //ç±»æˆå‘˜å¯ä»¥ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ã€finalã€abstractï¼Œä½†ä¸èƒ½ä½¿ç”¨staticä¿®é¥°            public final int age = 12;                        public String beat()&#123;                System.out.println(num);//å†…éƒ¨ç±»æƒ³è¦ä½¿ç”¨æ‰€åœ¨æ–¹æ³•çš„å±€éƒ¨å˜é‡æ—¶ï¼Œè¯¥å˜é‡å¿…é¡»è¢«å£°æ˜ä¸ºfinalï¼ˆJDK8åŠä¹‹åä¸ç”¨æ˜¾ç¤ºå£°æ˜ï¼‰                new Person().eat(); //è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€æ–¹æ³•ï¼Œé€šè¿‡å®ä¾‹å¯¹è±¡                return name + Person.age + &quot;çš„å¿ƒè„åœ¨è·³åŠ¨&quot;; //Person.ageè®¿é—®å¤–éƒ¨ç±»çš„é™æ€å˜é‡            &#125;        &#125;         return new Heart().beat();//è°ƒç”¨å†…éƒ¨ç±»çš„éé™æ€æ–¹æ³•    &#125;    public void eat()&#123;        System.out.println(&quot;äººä¼šåƒä¸œè¥¿&quot;);    &#125;    //æµ‹è¯•    public static void main(String[] args) &#123;        Person ricky = new Person();        //è°ƒç”¨åŒ…å«æ–¹æ³•å†…éƒ¨ç±»çš„æ–¹æ³•        System.out.println(ricky.getHeart());       &#125;&#125;</code></pre><ul><li>å±€éƒ¨å†…éƒ¨ç±»å­˜åœ¨äºæ–¹æ³•ä¸­ï¼Œå®ƒä¸æˆå‘˜å†…éƒ¨ç±»çš„åŒºåˆ«åœ¨äºå±€éƒ¨å†…éƒ¨ç±»çš„<strong>è®¿é—®æƒé™å’Œä½œç”¨èŒƒå›´ä»…é™äºæ–¹æ³•æˆ–ä½œç”¨åŸŸå†…</strong></li><li>æ–¹æ³•å†…éƒ¨ç±»ä¸èƒ½ä½¿ç”¨ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦ï¼Œä¸èƒ½ä½¿ç”¨<code>static</code>ä¿®é¥°</li><li>ç±»ä¸­ä¸èƒ½åŒ…å«é™æ€æˆå‘˜ï¼Œä½†å¯ä»¥åŒ…å«<code>final</code>ã€<code>abstract</code>ä¿®é¥°çš„æˆå‘˜</li></ul><h4 id="5-7-4-åŒ¿åå†…éƒ¨ç±»"><a href="#5-7-4-åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="5.7.4 åŒ¿åå†…éƒ¨ç±»"></a>5.7.4 åŒ¿åå†…éƒ¨ç±»</h4><pre><code class="java">//å®Œæˆä¸€ä¸ªä¸åŒçš„äººè¿›è¡Œé˜…è¯»çš„æ“ä½œ//å®šä¹‰æŠ½è±¡çˆ¶ç±»public abstract class Person &#123;    //é˜…è¯»æ–¹æ³•    public abstract void read();&#125;//å®šä¹‰å­ç±»public class Man extends Person&#123;    @Override    public void read() &#123;        System.out.println(&quot;ç”·ç”Ÿå–œæ¬¢çœ‹ç§‘å¹»ç±»ä¹¦ç±&quot;);           &#125;&#125;public class Women extends Person&#123;    @Override    public void read() &#123;        System.out.println(&quot;å¥³ç”Ÿå–œæ¬¢è¯»è¨€æƒ…å°è¯´&quot;);            &#125;&#125;</code></pre><pre><code class="java">//ä½¿ç”¨ä¼ ç»Ÿçš„å¤šæ€æ–¹å¼å®ç°ä»¥åŠåŒ¿åå†…éƒ¨ç±»å®ç°public class Test &#123;    //éœ€æ±‚ï¼šæ ¹æ®ä¼ å…¥çš„ä¸åŒçš„äººçš„ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„readæ–¹æ³•    public void getRead(Person person)&#123;        person.read();    &#125;    public static void main(String[] args) &#123;        //æ–¹æ¡ˆä¸€ï¼šåˆ©ç”¨å¤šæ€è°ƒç”¨å¯¹åº”å­ç±»çš„å®ç°        Test test = new Test();        Man one=new Man();        Woman two=new Woman();        test.getRead(one);        test.getRead(two);          //æ–¹æ¡ˆäºŒï¼šä¸å®šä¹‰ä»»ä½•å­ç±»ï¼Œä½¿ç”¨åŒ¿åå†…éƒ¨ç±»å®Œæˆå…·ä½“çš„readæ–¹æ³•å®ç°        test.getRead(new Person()&#123;            @Override            public void read() &#123;                System.out.println(&quot;ç”·ç”Ÿå–œæ¬¢çœ‹ç§‘å¹»ç±»ä¹¦ç±&quot;);            &#125;        &#125;);        test.getRead(new Person()&#123;            @Override            public void read() &#123;                System.out.println(&quot;å¥³ç”Ÿå–œæ¬¢è¯»è¨€æƒ…å°è¯´&quot;);            &#125;        &#125;);    &#125;&#125;//åŒ¿åå†…éƒ¨ç±»åœ¨åˆé€‚çš„åœºæ™¯ä¸‹å¯¹äºå†…å­˜çš„æŸè€—å’Œå¯¹ç³»ç»Ÿçš„æ€§èƒ½å½±å“å°±ä¼šç›¸å¯¹è¾ƒå°ï¼Œå¼Šç«¯å°±æ˜¯åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæ— æ³•é‡å¤ä½¿ç”¨</code></pre><h4 id="5-7-5-é€‚ç”¨åœºæ™¯"><a href="#5-7-5-é€‚ç”¨åœºæ™¯" class="headerlink" title="5.7.5 é€‚ç”¨åœºæ™¯"></a>5.7.5 é€‚ç”¨åœºæ™¯</h4><ul><li><p>åªç”¨åˆ°ç±»çš„ä¸€ä¸ªå®ä¾‹</p></li><li><p>ç±»åœ¨å®šä¹‰åé©¬ä¸Šç”¨åˆ°</p></li><li><p>ç»™ç±»å‘½åå¹¶ä¸ä¼šå¯¼è‡´ä»£ç æ›´å®¹æ˜“è¢«ç†è§£</p></li></ul><pre><code class="java">//1.ç»§æ‰¿å¼çš„åŒ¿åå†…éƒ¨ç±»public class Demo &#123;    public static void main(String[] args) &#123;        //ç»§æ‰¿å¼çš„åŒ¿åå†…éƒ¨ç±»(ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªåŒ¿åçš„Threadå­ç±»,ç›®çš„æ˜¯é‡å†™å…¶æ–¹æ³•)        Thread thread = new Thread() &#123;            @Override            public void run() &#123;                for (int i = 0; i &lt;= 5; i++) &#123;                    System.out.println(i + &quot; &quot;);                &#125;            &#125;        &#125;;        thread.start();    &#125;&#125;//2.æ¥å£å¼çš„åŒ¿åå†…éƒ¨ç±»public class Demo &#123;    public static void main(String[] args) &#123;        //æ¥å£å¼çš„åŒ¿åå†…éƒ¨ç±»(ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå®ç°äº†æ¥å£çš„åŒ¿åç±»)        Runnable r = new Runnable() &#123;            @Override            public void run() &#123;                for (int i = 0; i &lt;= 5; i++) &#123;                    System.out.println(i + &quot; &quot;);                &#125;            &#125;        &#125;;        Thread thread = new Thread(r);        thread.start();    &#125;&#125;//3.å‚æ•°å¼çš„åŒ¿åå†…éƒ¨ç±»public class Demo &#123;    public static void main(String[] args) &#123;        //å‚æ•°å¼çš„åŒ¿åå†…éƒ¨ç±»        Thread thread = new Thread(new Runnable() &#123;            @Override            public void run() &#123;                for (int i = 0; i &lt;= 5; i++) &#123;                    System.out.println(i + &quot; &quot;);                &#125;            &#125;        &#125;);        thread.start();    &#125;&#125;</code></pre><p><strong>ç»“è®ºï¼š</strong>ç”±ä¸Šé¢ä¸‰ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼ŒåŒ¿åå†…éƒ¨ç±»å¯ä»¥ç»§æ‰¿ä¸€ä¸ªå…·ä½“çš„çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥å®ç°æŸä¸ªæ¥å£ã€‚åªè¦ä¸€ä¸ªç±»æ˜¯æŠ½è±¡çš„æˆ–æ˜¯ä¸€ä¸ªæ¥å£ï¼Œé‚£ä¹ˆå…¶å­ç±»ä¸­çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¥å®ç°</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>åŒ¿åå†…éƒ¨ç±»æ²¡æœ‰ç±»å‹åç§°ã€å®ä¾‹å¯¹è±¡åç§°</li><li>ç¼–è¯‘åçš„æ–‡ä»¶å‘½åï¼šå¤–éƒ¨ç±»$æ•°å­—.class</li><li>æ— æ³•ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ã€ä¹Ÿæ— æ³•ä½¿ç”¨<code>abstract</code>ã€<code>static</code>ä¿®é¥°</li><li>æ— æ³•ç¼–å†™æ„é€ æ–¹æ³•ï¼Œä¹Ÿæ˜¯å”¯ä¸€æ²¡æœ‰æ„é€ æ–¹æ³•çš„å†…éƒ¨ç±»ï¼Œå¯ä»¥æ·»åŠ æ„é€ ä»£ç å—ï¼Œé€šè¿‡ä»£ç å—å®ŒæˆåŒ¿åå†…éƒ¨ç±»çš„åˆå§‹åŒ–</li><li>ä¸èƒ½å‡ºç°é™æ€æˆå‘˜ï¼Œä¸èƒ½å‡ºç°æŠ½è±¡æ–¹æ³•</li><li>åŒ¿åå†…éƒ¨ç±»å¯ä»¥å®ç°æ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿çˆ¶ç±»ï¼Œä½†æ˜¯ä¸å¯å…¼å¾—</li><li><strong>åŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„finalå˜é‡</strong></li></ul><p><strong>å†…éƒ¨ç±»çš„å¥½å¤„ï¼š</strong></p><ul><li>å®Œå–„äº†Javaå¤šç»§æ‰¿æœºåˆ¶ï¼Œç”±äºæ¯ä¸€ä¸ªå†…éƒ¨ç±»éƒ½å¯ä»¥ç‹¬ç«‹çš„ç»§æ‰¿æ¥å£æˆ–ç±»ï¼Œæ‰€ä»¥æ— è®ºå¤–éƒ¨ç±»æ˜¯å¦ç»§æ‰¿æˆ–å®ç°äº†æŸä¸ªç±»æˆ–æ¥å£ï¼Œå¯¹äºå†…éƒ¨ç±»æ²¡æœ‰å½±å“</li><li>æ–¹ä¾¿å†™äº‹ä»¶é©±åŠ¨ç¨‹åº</li></ul><h3 id="5-8-Objectç±»æµ…æ"><a href="#5-8-Objectç±»æµ…æ" class="headerlink" title="5.8 Objectç±»æµ…æ"></a>5.8 Objectç±»æµ…æ</h3><p>Objectç±»æ˜¯æ‰€æœ‰Javaç±»çš„æ ¹çˆ¶ç±»</p><p>å¦‚æœåœ¨ç±»çš„å£°æ˜ä¸­æœªä½¿ç”¨extendså…³é”®å­—æŒ‡æ˜å…¶çˆ¶ç±»ï¼Œåˆ™é»˜è®¤çˆ¶ç±»ä¸ºjava.lang.Objectç±»</p><p>Objectç±»ä¸­çš„åŠŸèƒ½ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰å…·æœ‰é€šç”¨æ€§</p><p>Objectç±»åªå£°æ˜äº†ä¸€ä¸ªç©ºå‚æ„é€ å™¨</p><p><code>public class Person &#123;...&#125;</code>ç­‰ä»·äº<code>public class Person extends Object &#123;...&#125;</code></p><pre><code class="java">//ä¾‹: method(Object obj)&#123;...&#125;å¯ä»¥æ¥æ”¶ä»»ä½•ç±»ä½œä¸ºå…¶å‚æ•°//Person o=new Person();//method(o);</code></pre><h4 id="5-8-1-Objectç±»ä¸­çš„æ–¹æ³•"><a href="#5-8-1-Objectç±»ä¸­çš„æ–¹æ³•" class="headerlink" title="5.8.1 Objectç±»ä¸­çš„æ–¹æ³•"></a>5.8.1 Objectç±»ä¸­çš„æ–¹æ³•</h4><ul><li>Objectç±»æ²¡æœ‰å±æ€§</li><li> clone()ï¼šå…‹éš†ä¸€ä¸ªå¯¹è±¡å¹¶è¿”å›</li><li>equals()ï¼šæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</li><li>finalize()ï¼šJVMè¿›è¡Œåƒåœ¾å›æ”¶å‰è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œé€šå¸¸æƒ…å†µéƒ½æ˜¯åƒåœ¾å›æ”¶å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œç¨‹åºå‘˜å¯ä»¥é€šè¿‡System.gc()æˆ–è€…Runtime.getRuntime().gc()æ¥é€šçŸ¥ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä½†æ˜¯ç³»ç»Ÿæ˜¯å¦è¿›è¡Œä¾ç„¶ä¸ç¡®å®šï¼ˆåƒåœ¾å›æ”¶æœºåˆ¶åªå›æ”¶JVMä¸­å †å†…å­˜ä¸­çš„å¯¹è±¡ç©ºé—´ï¼‰ï¼ˆé¢è¯•é¢˜ï¼šfinalã€finallyã€finalizeçš„åŒºåˆ«ï¼‰</li><li>getClass()ï¼šè·å–å½“å‰å¯¹è±¡çš„æ‰€å±ç±» </li><li>hashcode()ï¼šè¿”å›å½“å‰å¯¹è±¡çš„å“ˆå¸Œå€¼</li><li>toString()ï¼šå¯¹è±¡æ‰“å°æ—¶è°ƒç”¨ï¼Œåœ¨Objectä¸­æ˜¯è¿”å›å½“å‰å¯¹è±¡çš„ç±»åå’Œå¼•ç”¨åœ°å€ï¼Œå¦‚æœè¢«å…¶ä»–ç±»ï¼ˆå¦‚Stringç±»ã€Dateç±»ã€Fileç±»ã€åŒ…è£…ç±»ç­‰ï¼‰é‡å†™å°±ä¼šæ‰§è¡Œé‡å†™åçš„æ–¹æ³•</li><li>notify()ã€notifyAll()ã€wait()ï¼šçº¿ç¨‹ç›¸å…³æ–¹æ³•</li></ul><h4 id="5-8-2-å’Œequals-æ–¹æ³•çš„åŒºåˆ«"><a href="#5-8-2-å’Œequals-æ–¹æ³•çš„åŒºåˆ«" class="headerlink" title="5.8.2 ==å’Œequals()æ–¹æ³•çš„åŒºåˆ«"></a>5.8.2 ==å’Œequals()æ–¹æ³•çš„åŒºåˆ«</h4><ol><li><p><strong>æ—¢å¯ä»¥æ¯”è¾ƒåŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥æ¯”è¾ƒå¼•ç”¨ç±»å‹</strong>ã€‚å¯¹äº<strong>åŸºæœ¬ç±»å‹</strong>å°±æ˜¯æ¯”è¾ƒ<strong>å€¼</strong>ï¼Œå¯¹äº<strong>å¼•ç”¨ç±»å‹</strong>å°±æ˜¯æ¯”è¾ƒ<strong>å†…å­˜åœ°å€</strong></p></li><li><p>equalsçš„è¯ï¼Œå®ƒæ˜¯å±äºjava.lang.Objectç±»é‡Œé¢çš„æ–¹æ³•ï¼Œå¦‚æœè¯¥æ–¹æ³•æ²¡æœ‰è¢«é‡å†™è¿‡é»˜è®¤ä¹Ÿæ˜¯;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<strong>stringç­‰ç±»çš„equalsæ–¹æ³•æ˜¯è¢«é‡å†™</strong>è¿‡çš„ï¼Œè€Œä¸”Stringç±»åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”¨çš„æ¯”è¾ƒå¤šï¼Œä¹…è€Œä¹…ä¹‹,å½¢æˆäº†equalsæ˜¯æ¯”è¾ƒå€¼çš„é”™è¯¯è§‚ç‚¹ï¼ˆæ¯”å¦‚Stringç±»ã€Dateç±»ã€Fileç±»ã€åŒ…è£…ç±»ç­‰éƒ½é‡å†™äº†Objectç±»çš„equalsæ–¹æ³•ï¼Œé‡å†™åï¼Œä¸æ˜¯æ¯”è¾ƒçš„ä¸¤ä¸ªå¼•ç”¨çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œè€Œæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„â€å®ä½“å†…å®¹â€æ˜¯å¦ç›¸åŒï¼‰</p></li><li><p>å…·ä½“è¦çœ‹è‡ªå®šä¹‰ç±»é‡Œ<strong>æœ‰æ²¡æœ‰é‡å†™</strong>Objectçš„equalsæ–¹æ³•æ¥åˆ¤æ–­</p></li><li><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ<strong>é‡å†™</strong>equalsæ–¹æ³•ï¼Œä¼š<strong>æ¯”è¾ƒç±»ä¸­çš„ç›¸åº”å±æ€§æ˜¯å¦éƒ½ç›¸ç­‰</strong></p></li><li><p>Objectç±»ä¸­equals()æ–¹æ³•å’Œ==çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€å€¼æ˜¯å¦ç›¸åŒ</p><pre><code class="java">//Objectç±»ä¸­çš„equalsæ–¹æ³•ï¼Œæ¯”è¾ƒå¼•ç”¨åœ°å€public boolean equals(Object obj) &#123;    return (this == obj);&#125;//Stringç±»ä¸­çš„equalsæ–¹æ³•ï¼Œé¦–å…ˆæ¯”è¾ƒå¼•ç”¨æ˜¯å¦ç›¸åŒï¼Œå¦‚ä¸åŒå†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å„ä¸ªå±æ€§å€¼æ˜¯å¦ç›¸åŒpublic boolean equals(Object anObject) &#123;        if (this == anObject) &#123;            return true;        &#125;        if (anObject instanceof String) &#123;            String anotherString = (String)anObject;            int n = value.length;            if (n == anotherString.value.length) &#123;                char v1[] = value;                char v2[] = anotherString.value;                int i = 0;                while (n-- != 0) &#123;                    if (v1[i] != v2[i])                        return false;                    i++;                &#125;                return true;            &#125;        &#125;        return false;    &#125;</code></pre></li></ol><h4 id="5-8-3-toString-æ–¹æ³•"><a href="#5-8-3-toString-æ–¹æ³•" class="headerlink" title="5.8.3 toString()æ–¹æ³•"></a>5.8.3 toString()æ–¹æ³•</h4><p><code>toString()</code>æ–¹æ³•åœ¨<strong>Objectç±»</strong>ä¸­å®šä¹‰ï¼Œå…¶è¿”å›å€¼æ˜¯<strong>String</strong>ç±»å‹ï¼Œè¿”å›ç±»åå’Œå®ƒçš„å¼•ç”¨åœ°å€</p><p>åœ¨è¿›è¡ŒStringä¸å…¶å®ƒç±»å‹æ•°æ®çš„è¿æ¥æ“ä½œæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨toString()æ–¹æ³•ï¼ˆä¸åŸºæœ¬ç±»å‹çš„è¿æ¥å¯å‚è€ƒ1.3.3ï¼‰</p><pre><code class="java">Date now=new Date();system.out.printIn(&quot;now=&quot;+now);//ç›¸å½“äºsystem.out.printIn(&quot;now=+now.toString());è¾“å‡º=&gt;now=å½“å‰æ—¶é—´</code></pre><p>å¯ä»¥æ ¹æ®éœ€è¦åœ¨ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ä¸­**é‡å†™toString()**æ–¹æ³•å¦‚String ç±»é‡å†™äº†toString()æ–¹æ³•ï¼Œè¿”å›å­—ç¬¦ä¸²çš„å€¼ã€‚</p><pre><code class="java">s1=&quot;hello&quot;;system.out.printIn(s1);//ç›¸å½“äºSystem.out.printIn(s1.toString());è¾“å‡º=&gt;hello</code></pre><p>åŸºæœ¬ç±»å‹æ•°æ®è½¬æ¢ä¸ºStringç±»å‹æ—¶ï¼Œè°ƒç”¨äº†å¯¹åº”åŒ…è£…ç±»çš„toString()æ–¹æ³•</p><pre><code class="java">int a=10;system.out.printIn(&quot;a=&quot;+a);</code></pre><h3 id="5-9-åŒ…è£…ç±»"><a href="#5-9-åŒ…è£…ç±»" class="headerlink" title="5.9 åŒ…è£…ç±»"></a>5.9 åŒ…è£…ç±»</h3><h4 id="5-9-1-è£…ç®±å’Œæ‹†ç®±"><a href="#5-9-1-è£…ç®±å’Œæ‹†ç®±" class="headerlink" title="5.9.1 è£…ç®±å’Œæ‹†ç®±"></a>5.9.1 è£…ç®±å’Œæ‹†ç®±</h4><pre><code class="java">int num = 10;//è£…ç®±Integer i = new Integer(num);//æ‹†ç®±int num1 = Integer.intValue(i);//å…¶ä»–å…¶ä¸­åŸºæœ¬ç±»å‹çš„è£…ç®±å’Œæ‹†ç®±æ“ä½œä¹Ÿå¦‚ä¸Š</code></pre><h4 id="5-9-2-è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±ï¼ˆJDK5ç‰ˆæœ¬ä¹‹åçš„æ–°ç‰¹æ€§ï¼‰"><a href="#5-9-2-è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±ï¼ˆJDK5ç‰ˆæœ¬ä¹‹åçš„æ–°ç‰¹æ€§ï¼‰" class="headerlink" title="5.9.2 è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±ï¼ˆJDK5ç‰ˆæœ¬ä¹‹åçš„æ–°ç‰¹æ€§ï¼‰"></a>5.9.2 è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±ï¼ˆJDK5ç‰ˆæœ¬ä¹‹åçš„æ–°ç‰¹æ€§ï¼‰</h4><pre><code class="java">int i = 0;//è‡ªåŠ¨è£…ç®±Integer num = i;//è‡ªåŠ¨æ‹†ç®±int m = num;//åŸºæœ¬æ•°æ®ç±»å‹çš„è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±åªé€‚ç”¨äºå˜é‡çš„å€¼åœ¨ç›¸åº”åŒ…è£…ç±»ä¸­ç¼“å†²åŒºèŒƒå›´å†…ï¼Œè¶…å‡ºèŒƒå›´åˆ™éœ€è¦é€šè¿‡5.8.1çš„æ–¹å¼æ¥è¿›è¡Œæ‹†ç®±å’Œè£…ç®±//æ¯”å¦‚ï¼Œintç±»å‹å¯¹åº”çš„IntegeråŒ…è£…ç±»ä¸­ç¼“å†²åŒºçš„æ•°ç»„èŒƒå›´ä¸º-128~127ï¼Œå¦‚æœä¸€ä¸ªint i= 130éœ€è¦è¿›è¡Œè£…ç®±ï¼Œåˆ™éœ€è¦new Integer(i)æ¥è¿›è¡Œè£…ç®±//å…¶ä»–å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿèƒ½è¿›è¡Œè£…ç®±æ‹†ç®±</code></pre><p>é€šè¿‡å°†åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œè£…ç®±æ“ä½œåå¯ä»¥è°ƒç”¨å°è£…ç±»ä¸­çš„æ–¹æ³•å’Œå˜é‡ï¼Œå¸¸é‡</p><p>å°†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡è¿›è¡Œå°è£…åå¯ä»¥åˆ¤æ–­è¿™ä¸ªå˜é‡çš„å€¼æ˜¯å¦ä¸ºnull</p><h4 id="5-9-3-åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢"><a href="#5-9-3-åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢" class="headerlink" title="5.9.3 åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢"></a>5.9.3 åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢</h4><pre><code class="java">//åŒ…è£…ç±»---&gt;String//æ–¹æ³•ä¸€ï¼šè¿æ¥è¿ç®—int num = 10ï¼›String str1 = num + &quot;&quot;;//æ–¹æ³•äºŒï¼šè°ƒç”¨Stringçš„ValueOfæ–¹æ³•float f = 12.3f;String str2 = String.ValueOf(f);//String---&gt;åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»String str3 = &quot;123&quot;;int num1 = Integer.parseInt(Str3);//é”™è¯¯æƒ…å†µï¼šint num1 = (int)str3;æˆ–è€…Integer i = (Integer)str3;</code></pre><h3 id="5-10-å•ä¾‹è®¾è®¡æ¨¡å¼"><a href="#5-10-å•ä¾‹è®¾è®¡æ¨¡å¼" class="headerlink" title="5.10 å•ä¾‹è®¾è®¡æ¨¡å¼"></a>5.10 å•ä¾‹è®¾è®¡æ¨¡å¼</h3><p>è®¾è®¡æ¨¡å¼æ˜¯<strong>åœ¨å¤§é‡çš„å®è·µä¸­æ€»ç»“å’Œç†è®ºåŒ–ä¹‹åä¼˜é€‰çš„ä»£ç ç»“æ„ã€ç¼–ç¨‹é£æ ¼ã€ä»¥åŠè§£å†³é—®é¢˜çš„æ€è€ƒæ–¹å¼</strong></p><p>è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼š</p><ul><li>åˆ›å»ºå‹æ¨¡å¼ï¼Œå…±5ç§ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼</li><li>ç»“æ„å‹æ¨¡å¼ï¼Œå…±7ç§ï¼šé€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼</li><li>è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…±11ç§ï¼šç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å­æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼</li></ul><p>æ‰€è°“ç±»çš„å•ä¾‹è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯é‡‡å–ä¸€å®šçš„æ–¹æ³•ä¿è¯åœ¨<strong>æ•´ä¸ªçš„è½¯ä»¶ç³»ç»Ÿ</strong>ä¸­ï¼Œå¯¹æŸä¸ªç±»<strong>åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹</strong>ï¼Œå¹¶ä¸”è¯¥ç±»<strong>åªæä¾›ä¸€ä¸ªå–å¾—å…¶å¯¹è±¡å®ä¾‹çš„æ–¹æ³•</strong>ã€‚å¦‚æœæˆ‘ä»¬è¦è®©ç±»åœ¨ä¸€ä¸ªè™šæ‹Ÿæœºä¸­åªèƒ½äº§ç”Ÿä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»å°†<strong>ç±»çš„æ„é€ å™¨</strong>çš„è®¿é—®æƒé™è®¾ç½®ä¸º<strong>private</strong>ï¼Œè¿™æ ·ï¼Œå°±ä¸èƒ½ç”¨newåœ¨ç±»çš„å¤–éƒ¨åˆ›å»ºç±»çš„å¯¹è±¡äº†ï¼Œä½†åœ¨<strong>ç±»å†…éƒ¨</strong>ä»å¯ä»¥<strong>äº§ç”Ÿè¯¥ç±»çš„å¯¹è±¡</strong>ã€‚å› ä¸ºåœ¨ç±»çš„å¤–éƒ¨å¼€å§‹è¿˜æ— æ³•å¾—åˆ°ç±»çš„å¯¹è±¡ï¼Œåªèƒ½<strong>è°ƒç”¨è¯¥ç±»çš„æŸä¸ªé™æ€æ–¹æ³•ä»¥è¿”å›ç±»å†…éƒ¨åˆ›å»ºçš„å¯¹è±¡</strong>ï¼Œé™æ€æ–¹æ³•åªèƒ½è®¿é—®ç±»ä¸­çš„é™æ€æˆå‘˜å˜é‡ï¼Œæ‰€ä»¥ï¼ŒæŒ‡å‘ç±»å†…éƒ¨äº§ç”Ÿçš„<strong>è¯¥ç±»å¯¹è±¡çš„å˜é‡ä¹Ÿå¿…é¡»å®šä¹‰æˆé™æ€çš„</strong>ï¼ˆç®€å•æ¥è¯´ï¼Œå•ä¾‹æ¨¡å¼ï¼ˆSingletonæ¨¡å¼ï¼‰æŒ‡çš„æ˜¯<strong>ä¸€ä¸ªç±»ï¼Œåœ¨ä¸€ä¸ªJVMé‡Œï¼Œåªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ï¼›ä¸”æ„é€ æ–¹æ³•ç§æœ‰åŒ–</strong>ï¼‰</p><p>å•ä¾‹æ¨¡å¼<strong>ä¼˜ç‚¹</strong>ï¼šç”±äºå•ä¾‹æ¨¡å¼åªç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œ<strong>å‡å°‘äº†ç³»ç»Ÿæ€§èƒ½å¼€é”€</strong>ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„äº§ç”Ÿéœ€è¦æ¯”è¾ƒå¤šçš„èµ„æºæ—¶ï¼Œå¦‚è¯»å–é…ç½®ã€äº§ç”Ÿå…¶ä»–ä¾èµ–å¯¹è±¡æ—¶ï¼Œåˆ™å¯ä»¥é€šè¿‡åœ¨åº”ç”¨å¯åŠ¨æ—¶ç›´æ¥äº§ç”Ÿä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œç„¶åæ°¸ä¹…é©»ç•™å†…å­˜çš„æ–¹å¼æ¥è§£å†³</p><h4 id="5-10-1-å•ä¾‹æ¨¡å¼é¥¿æ±‰å¼"><a href="#5-10-1-å•ä¾‹æ¨¡å¼é¥¿æ±‰å¼" class="headerlink" title="5.10.1 å•ä¾‹æ¨¡å¼é¥¿æ±‰å¼"></a>5.10.1 å•ä¾‹æ¨¡å¼é¥¿æ±‰å¼</h4><p>é¥¿æ±‰å¼æ˜¯æ— è®ºå¦‚ä½•éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡</p><pre><code class="java">class Bank &#123;    //1.å†…éƒ¨åˆ›å»ºç±»çš„å¯¹è±¡    //2.ç”±äºé™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€å±æ€§ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å±æ€§å¿…é¡»ä¸ºstatic    priavte static Bank instance = new Bank();    //3.æ„é€ æ–¹æ³•ç§æœ‰åŒ–    private Bank() &#123;    &#125;    //4.æä¾›å…¬å…±çš„é™æ€æ–¹æ³•è¿”å›ç±»çš„å¯¹è±¡    public static Bank getInstance() &#123;        return instance;    &#125;&#125;</code></pre><h4 id="5-10-2-å•ä¾‹æ¨¡å¼æ‡’æ±‰å¼"><a href="#5-10-2-å•ä¾‹æ¨¡å¼æ‡’æ±‰å¼" class="headerlink" title="5.10.2 å•ä¾‹æ¨¡å¼æ‡’æ±‰å¼"></a>5.10.2 å•ä¾‹æ¨¡å¼æ‡’æ±‰å¼</h4><p>æ‡’æ±‰å¼åªæœ‰åœ¨è°ƒç”¨getInstanceçš„æ—¶å€™ï¼Œæ‰ä¼šåˆ›å»ºå®ä¾‹ </p><pre><code class="java">class Bank &#123;    //1.å‡†å¤‡ä¸€ä¸ªå±æ€§ï¼Œç”¨äºæŒ‡å‘ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ï¼Œä½†æ˜¯æš‚æ—¶æŒ‡å‘null    //2.ç”±äºé™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€å±æ€§ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å±æ€§å¿…é¡»ä¸ºstatic    priavte static Bank instance;    //3.æ„é€ æ–¹æ³•ç§æœ‰åŒ–    private Bank() &#123;    &#125;    //4.æä¾›å…¬å…±çš„é™æ€æ–¹æ³•è¿”å›ç±»çš„å¯¹è±¡    public static Bank getInstance() &#123;        if(null == instance) &#123; //ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œå‘ç°instanceæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡ï¼Œè¿™æ—¶å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡            instance = new Bank();        &#125;        return instance; //è¿”å›instanceæŒ‡å‘çš„å®ä¾‹å¯¹è±¡    &#125;&#125;</code></pre><h4 id="5-10-3-é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ†"><a href="#5-10-3-é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ†" class="headerlink" title="5.10.3 é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ†"></a>5.10.3 é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼çš„åŒºåˆ†</h4><p>é¥¿æ±‰å¼ï¼š</p><ul><li>å¥½å¤„ï¼šçº¿ç¨‹å®‰å…¨ï¼Œåªèƒ½åˆ›å»ºå‡ºä¸€ä¸ªå®ä¾‹å¯¹è±¡</li><li>åå¤„ï¼šå¯¹è±¡åŠ è½½æ—¶é—´è¿‡é•¿</li></ul><p>æ‡’æ±‰å¼ï¼š</p><ul><li>å¥½å¤„ï¼šå»¶è¿Ÿå¯¹è±¡çš„åˆ›å»º</li><li>åå¤„ï¼šçº¿ç¨‹ä¸å®‰å…¨ï¼Œæœ‰åˆ›å»ºå‡ºå¤šä¸ªå®ä¾‹å¯¹è±¡çš„å¯èƒ½â€”-&gt;åˆ°å¤šçº¿ç¨‹æ—¶å†ä¿®æ”¹</li></ul><h3 id="5-11-MVCè®¾è®¡æ¨¡å¼"><a href="#5-11-MVCè®¾è®¡æ¨¡å¼" class="headerlink" title="5.11 MVCè®¾è®¡æ¨¡å¼"></a>5.11 MVCè®¾è®¡æ¨¡å¼</h3><p>MVCæ˜¯å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œå°†æ•´ä¸ªç¨‹åºåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š<strong>è§†å›¾æ¨¡å‹å±‚</strong>ï¼Œ<strong>æ§åˆ¶å™¨å±‚</strong>ï¼Œä¸<strong>æ•°æ®æ¨¡å‹å±‚</strong>ã€‚è¿™ç§å°†<code>ç¨‹åºè¾“å…¥è¾“å‡º</code>ã€<code>æ•°æ®å¤„ç†</code>ï¼Œä»¥åŠ<code>æ•°æ®çš„å±•ç¤º</code>åˆ†ç¦»å¼€æ¥çš„è®¾è®¡æ¨¡å¼ä½¿ç¨‹åºç»“æ„å˜çš„çµæ´»è€Œä¸”æ¸…æ™°ï¼ŒåŒæ—¶ä¹Ÿæè¿°äº†ç¨‹åºå„ä¸ªå¯¹è±¡é—´çš„é€šä¿¡æ–¹å¼ï¼Œé™ä½äº†ç¨‹åºçš„è€¦åˆæ€§</p><p><strong>æ¨¡å‹å±‚ modelä¸»è¦å¤„ç†æ•°æ®</strong></p><blockquote><p>æ•°æ®å¯¹è±¡å°è£… model.bean/domain</p><p>æ•°æ®åº“æ“ä½œç±» model.dao</p><p>æ•°æ®åº“ model.db</p></blockquote><p><strong>è§†å›¾å±‚ viewæ˜¾ç¤ºæ•°æ®</strong></p><blockquote><p>ç›¸å…³å·¥å…·ç±» view.utils<br>è‡ªå®šä¹‰view view.ui</p></blockquote><p><strong>æ§åˆ¶å±‚ controllerå¤„ç†ä¸šåŠ¡é€»è¾‘</strong></p><blockquote><p>åº”ç”¨ç•Œé¢ç›¸å…³ controller.activity</p><p>å­˜æ”¾fragment controller.fragment</p><p>æ˜¾ç¤ºåˆ—è¡¨çš„é€‚é…å™¨ controller.adapter</p><p>æœåŠ¡ç›¸å…³çš„ controller.service</p><p>æŠ½å–çš„åŸºç±» controller.base</p></blockquote><h2 id="å…­ã€Javaå¼‚å¸¸å’Œé”™è¯¯"><a href="#å…­ã€Javaå¼‚å¸¸å’Œé”™è¯¯" class="headerlink" title="å…­ã€Javaå¼‚å¸¸å’Œé”™è¯¯"></a>å…­ã€Javaå¼‚å¸¸å’Œé”™è¯¯</h2><h3 id="6-1-ä»€ä¹ˆæ˜¯å¼‚å¸¸"><a href="#6-1-ä»€ä¹ˆæ˜¯å¼‚å¸¸" class="headerlink" title="6.1 ä»€ä¹ˆæ˜¯å¼‚å¸¸?"></a>6.1 ä»€ä¹ˆæ˜¯å¼‚å¸¸?</h3><p>è½¯ä»¶ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéå¸¸å¯èƒ½é‡åˆ°åˆšåˆšæåˆ°çš„è¿™äº›å¼‚å¸¸é—®é¢˜ï¼Œæˆ‘ä»¬å«å¼‚å¸¸ï¼Œè‹±æ–‡æ˜¯:<strong>Exception</strong>ï¼Œæ„æ€æ˜¯ä¾‹å¤–ã€‚è¿™äº›ï¼Œä¾‹å¤–æƒ…å†µï¼Œæˆ–è€…å«å¼‚å¸¸ï¼Œæ€ä¹ˆè®©æˆ‘ä»¬å†™çš„ç¨‹åºåšå‡ºåˆç†çš„å¤„ç†ã€‚è€Œä¸è‡³äºç¨‹åºå´©æºƒ</p><p>å¼‚å¸¸æŒ‡<strong>ç¨‹åºè¿è¡Œä¸­å‡ºç°çš„ä¸æœŸè€Œè‡³çš„å„ç§çŠ¶å†µ</strong>,å¦‚:æ–‡ä»¶æ‰¾ä¸åˆ°ã€ç½‘ç»œè¿æ¥å¤±è´¥ã€éæ³•å‚æ•°ç­‰ï¼›å¼‚å¸¸å‘ç”Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸé—´,å®ƒå½±å“äº†æ­£å¸¸çš„ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚</p><h4 id="6-1-1-å¼‚å¸¸åˆ†ç±»"><a href="#6-1-1-å¼‚å¸¸åˆ†ç±»" class="headerlink" title="6.1.1 å¼‚å¸¸åˆ†ç±»"></a>6.1.1 å¼‚å¸¸åˆ†ç±»</h4><p><strong>æ£€æŸ¥æ€§å¼‚å¸¸</strong>:æœ€å…·ä»£è¡¨çš„æ£€æŸ¥æ€§å¼‚å¸¸æ˜¯ç”¨æˆ·é”™è¯¯æˆ–é—®é¢˜å¼•èµ·çš„å¼‚å¸¸,è¿™æ˜¯ç¨‹åºå‘˜æ— æ³•é¢„è§çš„ã€‚ä¾‹å¦‚è¦æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨æ–‡ä»¶æ—¶ï¼Œä¸€ä¸ªå¼‚å¸¸å°±å‘ç”Ÿäº†ï¼Œè¿™äº›å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶ä¸èƒ½è¢«ç®€å•åœ°å¿½ç•¥</p><p><strong>è¿è¡Œæ—¶å¼‚å¸¸</strong>:è¿è¡Œæ—¶å¼‚å¸¸æ˜¯å¯èƒ½è¢«ç¨‹åºå‘˜é¿å…çš„å¼‚å¸¸ã€‚ä¸æ£€æŸ¥æ€§å¼‚å¸¸ç›¸åï¼Œè¿è¡Œæ—¶å¼‚å¸¸å¯ä»¥åœ¨<br>ç¼–è¯‘æ—¶è¢«å¿½ç•¥</p><p><strong>é”™è¯¯(ERROR)</strong>:é”™è¯¯ä¸æ˜¯å¼‚å¸¸, è€Œæ˜¯è„±ç¦»ç¨‹åºå‘˜æ§åˆ¶çš„é—®é¢˜ã€‚é”™è¯¯åœ¨ä»£ç ä¸­é€šå¸¸è¢«å¿½ç•¥ã€‚ä¾‹å¦‚ï¼Œå½“æ ˆæº¢<br>å‡ºæ—¶ï¼Œä¸€ä¸ªé”™è¯¯å°±å‘ç”Ÿäº†ï¼Œå®ƒä»¬åœ¨ç¼–è¯‘ä¹Ÿæ£€æŸ¥ä¸åˆ°çš„</p><h4 id="6-1-2-å¼‚å¸¸ä½“ç³»ç»“æ„"><a href="#6-1-2-å¼‚å¸¸ä½“ç³»ç»“æ„" class="headerlink" title="6.1.2 å¼‚å¸¸ä½“ç³»ç»“æ„"></a>6.1.2 å¼‚å¸¸ä½“ç³»ç»“æ„</h4><p>JavaæŠŠå¼‚å¸¸å½“ä½œå¯¹è±¡æ¥å¤„ç†ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªåŸºç±»java.lang.Throwableä½œä¸ºæ‰€æœ‰å¼‚å¸¸çš„è¶…ç±»</p><p>åœ¨Java APIä¸­å·²ç»å®šä¹‰äº†è®¸å¤šå¼‚å¸¸ç±»ï¼Œè¿™äº›å¼‚å¸¸ç±»åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œé”™è¯¯Errorå’Œå¼‚å¸¸Exception</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636198.png' data-fancybox='default' data-caption='image-20210717185030151'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636198.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201636198.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210717185030151"></a><span class='image-caption'>image-20210717185030151</span></div></div><h4 id="6-2-3-Error"><a href="#6-2-3-Error" class="headerlink" title="6.2.3 Error"></a>6.2.3 Error</h4><p>Errorç±»å¯¹è±¡ç”±Javaè™šæ‹Ÿæœºç”Ÿæˆå¹¶æŠ›å‡ºï¼Œå¤§å¤šæ•°é”™è¯¯ä¸ä»£ç ç¼–å†™è€…æ‰€æ‰§è¡Œçš„æ“ä½œæ— å…³</p><p>Javaè™šæ‹Ÿæœºè¿è¡Œé”™è¯¯(Virtual MachineError) , å½“JVMä¸å†æœ‰ç»§ç»­æ‰§è¡Œæ“ä½œæ‰€éœ€çš„å†…å­˜èµ„æº<br>æ—¶ï¼Œå°†å‡ºç°OutOfMemoryErrorã€‚è¿™äº›å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒJavaè™šæ‹Ÿæœº(JVM) - -èˆ¬ä¼šé€‰æ‹©çº¿ç¨‹ç»ˆ<br>æ­¢</p><p>è¿˜æœ‰å‘ç”Ÿåœ¨è™šæ‹Ÿæœºè¯•å›¾æ‰§è¡Œåº”ç”¨æ—¶ï¼Œå¦‚ç±»å®šä¹‰é”™è¯¯(NoClassDefFoundError) ã€é“¾æ¥é”™è¯¯<br>(LinkageError)ã€‚è¿™äº›é”™è¯¯æ˜¯ä¸å¯æŸ¥çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨åº”ç”¨ç¨‹åºçš„æ§åˆ¶å’Œå¤„ç†èƒ½åŠ›ä¹‹å¤–,è€Œä¸”<br>ç»å¤§å¤šæ•°æ˜¯ç¨‹åºè¿è¡Œæ—¶ä¸å…è®¸å‡ºç°çš„çŠ¶å†µ</p><h4 id="6-2-4-Exception"><a href="#6-2-4-Exception" class="headerlink" title="6.2.4 Exception"></a>6.2.4 Exception</h4><p>åœ¨Exceptionåˆ†æ”¯ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„å­ç±»RuntimeException (è¿è¡Œæ—¶å¼‚å¸¸)ï¼š</p><ul><li><p>ArrayIndexOutOfBoundsException (æ•°ç»„ä¸‹æ ‡è¶Šç•Œ)</p></li><li><p>NullPointerException (ç©ºæŒ‡é’ˆå¼‚å¸¸)</p></li><li><p>ArithmeticException (ç®—æœ¯å¼‚å¸¸)</p></li><li><p>MissingResourceException (ä¸¢å¤±èµ„æº)</p></li><li><p>ClassNotFoundException (æ‰¾ä¸åˆ°ç±»)ç­‰å¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸æ˜¯ä¸æ£€æŸ¥å¼‚å¸¸ï¼Œç¨‹åºä¸­å¯ä»¥é€‰<br>  æ‹©æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†</p></li></ul><p>è¿™äº›å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿ</p><p><strong>Errorå’ŒExceptionçš„åŒºåˆ«</strong>: Erroré€šå¸¸æ˜¯<strong>ç¾éš¾æ€§çš„è‡´å‘½çš„é”™è¯¯</strong>ï¼Œæ˜¯ç¨‹åº<strong>æ— æ³•æ§åˆ¶å’Œå¤„ç†</strong>çš„ï¼Œå½“å‡ºç°è¿™äº›å¼‚å¸¸æ—¶ï¼ŒJavaè™šæ‹Ÿæœº(JVM)ä¸€èˆ¬ä¼šé€‰æ‹©ç»ˆæ­¢çº¿ç¨‹; Exceptioné€šå¸¸æƒ…å†µä¸‹æ˜¯<strong>å¯ä»¥è¢«ç¨‹åºå¤„ç†</strong>çš„ï¼Œå¹¶ä¸”åœ¨ç¨‹åºä¸­åº”è¯¥å°½å¯èƒ½çš„å»å¤„ç†è¿™äº›å¼‚å¸¸</p><h3 id="6-2-å¼‚å¸¸å¤„ç†æœºåˆ¶"><a href="#6-2-å¼‚å¸¸å¤„ç†æœºåˆ¶" class="headerlink" title="6.2 å¼‚å¸¸å¤„ç†æœºåˆ¶"></a>6.2 å¼‚å¸¸å¤„ç†æœºåˆ¶</h3><p>åˆ†ä¸ºï¼š<strong>æŠ›å‡ºå¼‚å¸¸</strong>ã€<strong>æ•è·å¼‚å¸¸</strong></p><p><strong>å­ç±»é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ä¸å¤§äºçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸</strong></p><p>å¼‚å¸¸å¤„ç†çš„5ä¸ªå…³é”®å­—ï¼š<strong>try</strong>ã€<strong>catch</strong>ã€<strong>finally</strong>ã€<strong>throw</strong>ã€<strong>throws</strong></p><pre><code class="java">//æ•è·å¼‚å¸¸try &#123;    //å°†è¦æ‰§è¡Œï¼Œè¢«æ•è·å¼‚å¸¸çš„è¯­å¥ï¼Œæ”¾åœ¨tryè¯­å¥å—ä¸­&#125; catch(Exception e) &#123;    //å¦‚æœä¸Šæ–¹è¯­å¥å‡ºç°ç›¸åº”å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œcatchè¯­å¥å—ä¸­çš„è¯­å¥&#125; finally &#123;    //æ— è®ºtryä¸­çš„ä»£ç è¯­å¥æ˜¯å¦æœ‰è¢«æ•è·åˆ°å¼‚å¸¸ï¼Œç„¶åè½¬åˆ°catchå—è¿›è¡Œå¤„ç†ï¼Œfinallyä¸­çš„è¯­å¥éƒ½ä¼šæ‰§è¡Œ    //finallyè¯­å¥å—æ˜¯å¦ä½¿ç”¨ä¸ºå¯é€‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨&#125;//ä¸€ä¸ªtryä»£ç å—åé¢å¯è·Ÿéšå¤šä¸ªcatchä»£ç å—ï¼Œè¿™ç§æƒ…å†µå«åšå¤šé‡æ•è·//è‹¥éœ€è¦æ•è·å¤šä¸ªå¼‚å¸¸ï¼Œéœ€è¦ä»å°åˆ°å¤§</code></pre><pre><code class="java">//æŠ›å‡ºå¼‚å¸¸//å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æ•è·åˆ°ä¸€ä¸ªæ£€æŸ¥æ€§å¼‚å¸¸ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å¿…é¡»ä½¿ç”¨ throws å…³é”®å­—æ¥å£°æ˜ã€‚throws å…³é”®å­—æ”¾åœ¨æ–¹æ³•ç­¾åçš„å°¾éƒ¨ã€‚//ä¹Ÿå¯ä»¥ä½¿ç”¨ throw å…³é”®å­—æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ— è®ºå®ƒæ˜¯æ–°å®ä¾‹åŒ–çš„è¿˜æ˜¯åˆšæ•è·åˆ°çš„public class Test &#123;    //å‡è®¾æ–¹æ³•ä¸­å¤„ç†ä¸äº†è¿™ä¸ªå¼‚å¸¸ï¼Œåˆ™åœ¨æ–¹æ³•ä¸Šè¿›è¡ŒæŠ›å‡º    //ä¸€ä¸ªæ–¹æ³•å¯ä»¥æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ï¼Œä¸­é—´ç”¨é€—å·éš”å¼€    public void test() throws Exception &#123;        throw new Exception(); //ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ï¼Œä¸€èˆ¬åœ¨æ–¹æ³•ä¸­ä½¿ç”¨    &#125;&#125;</code></pre><p><strong>å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©ä½¿ç”¨try-catch- finallyè¿˜æ˜¯ä½¿ç”¨throws?</strong></p><p>â‘ å¦‚æœ<strong>çˆ¶ç±»</strong>ä¸­è¢«é‡å†™çš„æ–¹æ³•<strong>æ²¡æœ‰</strong>throwsæ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œåˆ™<strong>å­ç±»</strong>é‡å†™çš„æ–¹æ³•<strong>ä¹Ÿä¸èƒ½</strong>ä½¿ç”¨throwsï¼Œæ„å‘³ç€å¦‚æœå­ç±»é‡å†™çš„æ–¹æ³•ä¸­æœ‰å¼‚å¸¸ï¼Œå¿…é¡»ä½¿ç”¨try- catch- finallyæ–¹å¼å¤„ç†</p><p>â‘¡æ‰§è¡Œçš„æ–¹æ³•aä¸­ï¼Œå…ˆååˆè°ƒç”¨äº†å¦å¤–çš„å‡ ä¸ªæ–¹æ³•ï¼Œè¿™å‡ ä¸ªæ–¹æ³•æ˜¯é€’è¿›å…³ç³»æ‰§è¡Œçš„ã€‚å»ºè®®è¿™å‡ ä¸ªæ–¹æ³•ä½¿ç”¨throwsçš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚è€Œæ‰§è¡Œçš„æ–¹æ³•aå¯ä»¥è€ƒè™‘ä½¿ç”¨try- catch-finallyæ–¹å¼è¿›è¡Œå¤„ç†</p><h3 id="6-3-è‡ªå®šä¹‰å¼‚å¸¸"><a href="#6-3-è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="6.3 è‡ªå®šä¹‰å¼‚å¸¸"></a>6.3 è‡ªå®šä¹‰å¼‚å¸¸</h3><p>ä½¿ç”¨Javaå†…ç½®çš„å¼‚å¸¸ç±»å¯ä»¥æè¿°åœ¨ç¼–ç¨‹æ—¶å‡ºç°çš„å¤§éƒ¨åˆ†å¼‚å¸¸æƒ…å†µã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ã€‚ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»,åªéœ€ç»§æ‰¿Exceptionç±»å³å¯</p><p>ç¼–å†™è‡ªå·±çš„å¼‚å¸¸æ—¶ï¼Œéœ€è¦æ³¨æ„å‡ ç‚¹ï¼š</p><ul><li>æ‰€æœ‰å¼‚å¸¸éƒ½å¿…é¡»æ˜¯ Throwable çš„å­ç±»</li><li>å¦‚æœå¸Œæœ›å†™ä¸€ä¸ªæ£€æŸ¥æ€§å¼‚å¸¸ç±»ï¼Œåˆ™éœ€è¦ç»§æ‰¿ Exception ç±»</li><li>å¦‚æœä½ æƒ³å†™ä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ç±»ï¼Œé‚£ä¹ˆéœ€è¦ç»§æ‰¿ RuntimeException ç±»</li></ul><p>åœ¨ç¨‹åºä¸­ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œå¤§ä½“å¯åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:</p><ol><li>åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ç±»</li><li>åœ¨æ–¹æ³•ä¸­é€šè¿‡throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ã€‚</li><li>å¦‚æœåœ¨å½“å‰æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸,å¯ä»¥ä½¿ç”¨try-catchè¯­å¥æ•è·å¹¶å¤„ç†;å¦åˆ™åœ¨æ–¹æ³•çš„å£°æ˜å¤„é€šè¿‡throwså…³é”®å­—æŒ‡æ˜è¦æŠ›å‡ºç»™æ–¹æ³•è°ƒç”¨è€…çš„å¼‚å¸¸ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</li><li>åœ¨å‡ºç°å¼‚å¸¸æ–¹æ³•çš„è°ƒç”¨è€…ä¸­æ•è·å¹¶å¤„ç†å¼‚å¸¸</li></ol><pre><code class="java">//è‡ªå®šä¹‰å¼‚å¸¸public class MyException extends Exception&#123;    //ä¼ é€’æ•°å­—    private int number;    public MyException(int a) &#123;        this.number = a;    &#125;    //toString:å¼‚å¸¸çš„æ‰“å°ä¿¡æ¯    @Override    public String toString() &#123;        return &quot;MyException&#123;&quot; + &quot;number=&quot; + number + &#39;&#125;&#39;;    &#125;&#125;//ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸public class test06 &#123;    public static void main(String[] args) &#123;        try &#123;            addNumber(11); //å› ä¸ºä¼ ç»™addNumbersæ–¹æ³•çš„å€¼ä¸º11ï¼Œæ‰€ä»¥ æŠ¥é”™è¾“å‡ºMyException=&gt;MyException&#123;number=11&#125;        &#125; catch (Exception e) &#123;            System.out.println(&quot;MyException=&gt;&quot; + e);        &#125;    &#125;    private static void addNumber(int a) throws MyException&#123;        if (a &gt; 10) &#123;            throw new MyException(a);        &#125;        System.out.println(a);    &#125;&#125;//ä¸ºä»€ä¹ˆç¬¬21è¡Œè¾“å‡ºeä¼šè‡ªåŠ¨è°ƒç”¨toStringæ–¹æ³•ï¼Ÿ//å› ä¸ºåœ¨MyExceptionä¸­é‡å†™äº†çˆ¶ç±»ä¸­çš„toStringæ–¹æ³•ï¼ŒSystem.out.printlnåˆ™ä¼šè°ƒç”¨å­ç±»é‡å†™çš„è¿™ä¸ªtoStringæ–¹æ³•ï¼Œå¦åˆ™ä»–å°±ä¼šè°ƒç”¨çˆ¶ç±»ä¸­çš„toS æ–¹æ³•</code></pre><h2 id="ä¸ƒã€Javaå¤šçº¿ç¨‹"><a href="#ä¸ƒã€Javaå¤šçº¿ç¨‹" class="headerlink" title="ä¸ƒã€Javaå¤šçº¿ç¨‹"></a>ä¸ƒã€Javaå¤šçº¿ç¨‹</h2><h3 id="7-1-åŸºæœ¬æ¦‚å¿µï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹"><a href="#7-1-åŸºæœ¬æ¦‚å¿µï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹" class="headerlink" title="7.1 åŸºæœ¬æ¦‚å¿µï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹"></a>7.1 åŸºæœ¬æ¦‚å¿µï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹</h3><p><strong>ç¨‹åº(program)<strong>æ˜¯</strong>ä¸ºå®Œæˆç‰¹å®šä»»åŠ¡ã€ç”¨æŸç§è¯­è¨€ç¼–å†™çš„ä¸€ç»„æŒ‡ä»¤çš„é›†åˆ</strong>ã€‚å³æŒ‡<strong>ä¸€æ®µé™æ€çš„ä»£ç </strong>ï¼Œé™æ€å¯¹è±¡</p><p><strong>è¿›ç¨‹(process)<strong>æ˜¯</strong>ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹</strong>ï¼Œæˆ–æ˜¯<strong>æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åº</strong>ã€‚æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼šæœ‰å®ƒè‡ªèº«çš„äº§ç”Ÿã€å­˜åœ¨å’Œæ¶ˆäº¡çš„è¿‡ç¨‹ã€‚â€”â€”ç”Ÿå‘½å‘¨æœŸ</p><ul><li>å¦‚:è¿è¡Œä¸­çš„QQï¼Œè¿è¡Œä¸­çš„MP3æ’­æ”¾å™¨</li><li><strong>ç¨‹åºæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„</strong></li><li><strong>è¿›ç¨‹ä½œä¸ºèµ„æºåˆ†é…çš„å•ä½</strong>ï¼Œç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜åŒºåŸŸ</li></ul><p><strong>çº¿ç¨‹(thread)<strong>ï¼Œè¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯</strong>ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„</strong></p><ul><li>è‹¥ä¸€ä¸ªè¿›ç¨‹åŒä¸€æ—¶é—´<strong>å¹¶è¡Œæ‰§è¡Œ</strong>å¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„</li><li>**çº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨(pc)**ï¼Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€å°</li><li>ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜å•å…ƒ/å†…å­˜åœ°å€ç©ºé—´-&gt;å®ƒä»¬ä»åŒä¸€å †ä¸­åˆ†é…å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®ç›¸åŒçš„å˜é‡å’Œå¯¹è±¡ã€‚è¿™å°±ä½¿å¾—çº¿ç¨‹é—´é€šä¿¡æ›´ç®€ä¾¿ã€é«˜æ•ˆã€‚ä½†å¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«çš„ç³»ç»Ÿèµ„æºå¯èƒ½å°±ä¼šå¸¦æ¥<strong>å®‰å…¨çš„éšæ‚£</strong></li></ul><p><strong>JVMç»“æ„ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637101.png' data-fancybox='default' data-caption='image-20210724213734378'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637101.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637101.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210724213734378"></a><span class='image-caption'>image-20210724213734378</span></div></div><h4 id="7-1-1-CPUã€å¹¶è¡Œä¸å¹¶å‘çš„ç†è§£"><a href="#7-1-1-CPUã€å¹¶è¡Œä¸å¹¶å‘çš„ç†è§£" class="headerlink" title="7.1.1 CPUã€å¹¶è¡Œä¸å¹¶å‘çš„ç†è§£"></a>7.1.1 CPUã€å¹¶è¡Œä¸å¹¶å‘çš„ç†è§£</h4><p><strong>å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£</strong></p><ul><li>å•æ ¸CPUï¼Œå…¶å®æ˜¯ä¸€ç§å‡çš„å¤šçº¿ç¨‹ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªæ—¶é—´å•å…ƒå†…ï¼Œä¹Ÿåªèƒ½æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šè™½ç„¶æœ‰å¤šè½¦é“ï¼Œä½†æ˜¯æ”¶è´¹ç«™åªæœ‰ä¸€ä¸ªå·¥ä½œäººå‘˜åœ¨æ”¶è´¹ï¼Œåªæœ‰æ”¶äº†è´¹æ‰èƒ½é€šè¿‡ï¼Œé‚£ä¹ˆCPUå°±å¥½æ¯”æ”¶è´¹äººå‘˜ã€‚å¦‚æœæœ‰æŸä¸ªäººä¸æƒ³äº¤é’±ï¼Œé‚£ä¹ˆæ”¶è´¹äººå‘˜å¯ä»¥æŠŠä»–â€œæŒ‚èµ·â€(æ™¾ç€ä»–ï¼Œç­‰ä»–æƒ³é€šäº†ï¼Œå‡†å¤‡å¥½äº†é’±ï¼Œå†å»æ”¶è´¹ï¼‰ã€‚ä½†æ˜¯å› ä¸ºCPUæ—¶é—´å•å…ƒç‰¹åˆ«çŸ­ï¼Œå› æ­¤æ„Ÿè§‰ä¸å‡ºæ¥</li><li>å¦‚æœæ˜¯å¤šæ ¸çš„è¯ï¼Œæ‰èƒ½æ›´å¥½çš„å‘æŒ¥å¤šçº¿ç¨‹çš„æ•ˆç‡(ç°åœ¨çš„æœåŠ¡å™¨éƒ½æ˜¯å¤šæ ¸çš„ï¼‰</li><li>ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºjava.exeï¼Œå…¶å®è‡³å°‘æœ‰ä¸‰ä¸ªçº¿ç¨‹ï¼šmain()ä¸»çº¿ç¨‹ï¼Œgc()åƒåœ¾å›æ”¶çº¿ç¨‹ï¼Œå¼‚å¸¸å¤„ç†çº¿ç¨‹ã€‚å½“ç„¶å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¼šå½±å“ä¸»çº¿ç¨‹</li></ul><p><strong>å¹¶è¡Œä¸å¹¶å‘</strong></p><ul><li>å¹¶è¡Œï¼š<strong>å¤šä¸ªCPUåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡</strong>ï¼ˆå¤šä¸ªäººåŒæ—¶åšä¸åŒçš„äº‹(å¤šå¯¹å¤š)ï¼Œå¦‚ï¼Œç¯®çƒåœºä¸Šçš„äºº(å¤šä¸ªCPU)åŒæ—¶åœ¨åšä¸åŒçš„äº‹(å¤šä¸ªä»»åŠ¡)ï¼‰</li><li>å¹¶å‘ï¼š<strong>ä¸€ä¸ªCPU(é‡‡ç”¨æ—¶é—´ç‰‡)åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡</strong>ï¼ˆä¸€ä¸ªäººåŒæ—¶åšä¸åŒçš„äº‹(ä¸€å¯¹å¤š)ï¼Œæ¯”å¦‚ï¼Œç¯®çƒåœº(ä¸€ä¸ªCPU)ä¸Šæ¯ä¸ªäººåšçš„äº‹(å¤šä¸ªä»»åŠ¡)ï¼‰</li></ul><h4 id="7-1-2-å¤šçº¿ç¨‹çš„ä¼˜ç‚¹"><a href="#7-1-2-å¤šçº¿ç¨‹çš„ä¼˜ç‚¹" class="headerlink" title="7.1.2 å¤šçº¿ç¨‹çš„ä¼˜ç‚¹"></a>7.1.2 å¤šçº¿ç¨‹çš„ä¼˜ç‚¹</h4><ol><li><strong>æé«˜åº”ç”¨ç¨‹åºçš„å“åº”</strong>ã€‚å¯¹å›¾å½¢åŒ–ç•Œé¢æ›´æœ‰æ„ä¹‰ï¼Œå¯å¢å¼ºç”¨æˆ·ä½“éªŒ</li><li><strong>æé«˜è®¡ç®—æœºç³»ç»ŸCPUçš„åˆ©ç”¨ç‡</strong></li><li><strong>æ”¹å–„ç¨‹åºç»“æ„</strong>ã€‚å°†æ—¢é•¿åˆå¤æ‚çš„è¿›ç¨‹åˆ†ä¸ºå¤šä¸ªçº¿ç¨‹ï¼Œç‹¬ç«‹è¿è¡Œï¼Œåˆ©äºç†è§£å’Œä¿®æ”¹</li></ol><h4 id="7-1-3-ä»€ä¹ˆæ—¶å€™éœ€è¦å¤šçº¿ç¨‹"><a href="#7-1-3-ä»€ä¹ˆæ—¶å€™éœ€è¦å¤šçº¿ç¨‹" class="headerlink" title="7.1.3 ä»€ä¹ˆæ—¶å€™éœ€è¦å¤šçº¿ç¨‹"></a>7.1.3 ä»€ä¹ˆæ—¶å€™éœ€è¦å¤šçº¿ç¨‹</h4><ol><li>ç¨‹åºéœ€è¦<strong>åŒæ—¶æ‰§è¡Œä¸¤ä¸ªæˆ–å¤šä¸ªä»»åŠ¡</strong></li><li>ç¨‹åºéœ€è¦<strong>å®ç°ä¸€äº›éœ€è¦ç­‰å¾…çš„ä»»åŠ¡</strong>æ—¶ï¼Œå¦‚ç”¨æˆ·è¾“å…¥ã€æ–‡ä»¶è¯»å†™æ“ä½œã€ç½‘ç»œæ“ä½œã€æœç´¢ç­‰</li><li>éœ€è¦ä¸€äº›<strong>åå°è¿è¡Œçš„ç¨‹åº</strong>æ—¶</li></ol><h4 id="7-1-4-çº¿ç¨‹çš„åˆ†ç±»"><a href="#7-1-4-çº¿ç¨‹çš„åˆ†ç±»" class="headerlink" title="7.1.4 çº¿ç¨‹çš„åˆ†ç±»"></a>7.1.4 çº¿ç¨‹çš„åˆ†ç±»</h4><p>Javaä¸­çš„çº¿ç¨‹åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç§æ˜¯<strong>å®ˆæŠ¤çº¿ç¨‹</strong>ï¼Œä¸€ç§æ˜¯<strong>ç”¨æˆ·çº¿ç¨‹</strong></p><ul><li>å®ƒä»¬åœ¨å‡ ä¹æ¯ä¸ªæ–¹é¢éƒ½æ˜¯ç›¸åŒçš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åˆ¤æ–­JVMä½•æ—¶ç¦»å¼€</li><li>å®ˆæŠ¤çº¿ç¨‹æ˜¯ç”¨æ¥æœåŠ¡ç”¨æˆ·çº¿ç¨‹çš„ï¼Œé€šè¿‡åœ¨start()æ–¹æ³•å‰è°ƒç”¨thread.setDaemon(true)å¯ä»¥æŠŠä¸€ä¸ªç”¨æˆ·çº¿ç¨‹å˜æˆä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹</li><li>Javaåƒåœ¾å›æ”¶å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å®ˆæŠ¤çº¿ç¨‹</li><li>è‹¥JVMä¸­éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œå½“å‰JVMå°†é€€å‡º</li></ul><h3 id="7-2-çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨"><a href="#7-2-çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨" class="headerlink" title="7.2 çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨"></a>7.2 çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨</h3><h4 id="7-2-1-çº¿ç¨‹çš„è°ƒåº¦"><a href="#7-2-1-çº¿ç¨‹çš„è°ƒåº¦" class="headerlink" title="7.2.1 çº¿ç¨‹çš„è°ƒåº¦"></a>7.2.1 çº¿ç¨‹çš„è°ƒåº¦</h4><p><strong>è°ƒåº¦ç­–ç•¥ï¼š</strong></p><ul><li><p>æ—¶é—´ç‰‡ï¼šæ¯ä¸ªçº¿ç¨‹å ç”¨CPUä¸€æ®µæ—¶é—´</p></li><li><p>æŠ¢å å¼ï¼šé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹æŠ¢å CPU</p></li></ul><p><strong>Javaçš„è°ƒåº¦æ–¹æ³•</strong></p><ul><li>åŒä¼˜å…ˆçº§çº¿ç¨‹ç»„æˆå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼ˆå…ˆåˆ°å…ˆæœåŠ¡ï¼‰ï¼Œä½¿ç”¨æ—¶é—´ç‰‡ç­–ç•¥</li><li>å¯¹é«˜ä¼˜å…ˆçº§ï¼Œä½¿ç”¨ä¼˜å…ˆè°ƒåº¦çš„æŠ¢å å¼ç­–ç•¥</li></ul><p><strong>çº¿ç¨‹çš„ä¼˜å…ˆçº§ç­‰çº§</strong></p><ul><li>MAX_PRIORITYï¼š10</li><li>MIN_PRIORITYï¼š1</li><li>NORM_PRIORITYï¼š5</li></ul><p><strong>æ¶‰åŠçš„æ–¹æ³•</strong></p><ul><li>getPriority()ï¼šè¿”å›çº¿ç¨‹ä¼˜å…ˆå€¼</li><li>setPriority(int newPriority)ï¼šæ”¹å˜çº¿ç¨‹çš„ä¼˜å…ˆçº§</li></ul><p><strong>è¯´æ˜</strong></p><ul><li>çº¿ç¨‹åˆ›å»ºæ—¶<strong>ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§</strong></li><li>ä½ä¼˜å…ˆçº§åªæ˜¯è·å¾—è°ƒåº¦çš„<strong>æ¦‚ç‡ä½</strong>ï¼Œå¹¶éä¸€å®šæ˜¯åœ¨é«˜ä¼˜å…ˆçº§çº¿ç¨‹ä¹‹åæ‰è¢«è°ƒç”¨</li></ul><p><strong>çº¿ç¨‹é€šä¿¡ï¼š</strong>wait()ã€notify()ã€notifyAll()æ­¤ä¸‰ä¸ªæ–¹æ³•å®šä¹‰åœ¨Objectç±»ä¸­</p><h4 id="7-2-2-å¤šçº¿ç¨‹çš„åˆ›å»º"><a href="#7-2-2-å¤šçº¿ç¨‹çš„åˆ›å»º" class="headerlink" title="7.2.2 å¤šçº¿ç¨‹çš„åˆ›å»º"></a>7.2.2 å¤šçº¿ç¨‹çš„åˆ›å»º</h4><h5 id="1-æ–¹æ³•ä¸€ï¼šç»§æ‰¿Threadç±»"><a href="#1-æ–¹æ³•ä¸€ï¼šç»§æ‰¿Threadç±»" class="headerlink" title="1.æ–¹æ³•ä¸€ï¼šç»§æ‰¿Threadç±»"></a>1.æ–¹æ³•ä¸€ï¼šç»§æ‰¿Threadç±»</h5><ol><li>åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºThreadç±»çš„å­ç±»</li><li>é‡å†™Threadç±»çš„run() â€”&gt;å°†æ­¤çº¿ç¨‹è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨run()ä¸­</li><li>åˆ›å»ºThreadç±»çš„å­ç±»çš„å¯¹è±¡</li><li>é€šè¿‡æ­¤å¯¹è±¡è°ƒç”¨start()  â€”&gt;â‘ å¯åŠ¨å½“å‰çº¿ç¨‹  â‘¡è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•  â‘¢æ¯ä¸ªçº¿ç¨‹åªèƒ½startä¸€æ¬¡</li><li>ä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•ï¼Œå¦åˆ™ç›¸å½“äºæ™®é€šæ–¹æ³•çš„è°ƒç”¨åœ¨mainçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¸ä¼šæœ‰çº¿ç¨‹ä¹‹é—´çš„äº¤äº’è¿›è¡Œ</li></ol><pre><code class="java">public class ThreadTest01  &#123;    public static void main(String[] args) &#123;        MyThread myThread = new MyThread(); //3.åœ¨mainçº¿ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹        myThread.start(); //4.è°ƒç”¨start()æ–¹æ³•ï¼Œå¼€å§‹æ‰§è¡Œè¿™ä¸ªçº¿ç¨‹çš„æ“ä½œï¼Œæ­¤æ—¶ä¼šä»ä¸»çº¿ç¨‹å¦å¤–åˆ†å‡ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå‘½ä»¤        System.out.println(&quot;**************&quot;); //ä¸‹é¢æ˜¯ä¸»çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ“ä½œï¼Œä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºä¸¤ä¸ªçº¿ç¨‹çš„äº¤äº’æ‰§è¡Œ        for (int i = 0; i &lt; 100; i++) &#123; //éå†100ä»¥å†…çš„å¥‡æ•°            if(i % 2 != 0) System.out.println(i + &quot;main()&quot;);        &#125;    &#125;&#125;class MyThread extends Thread &#123; //1.ç»§æ‰¿Threadç±»    @Override    public void run() &#123; //2.é‡å†™run()æ–¹æ³•        for (int i = 0; i &lt; 100; i++) &#123; //éå†100ä»¥å†…çš„å¶æ•°            if(i % 2 == 0) System.out.println(i);        &#125;    &#125;&#125;</code></pre><pre><code class="java">//åˆ›å»ºä¸¤ä¸ªåˆ†çº¿ç¨‹ï¼Œä¸€ä¸ªæ‰“å°100ä»¥å†…çš„å¶æ•°ï¼Œä¸€ä¸ªæ‰“å°100ä»¥å†…çš„å¥‡æ•°public static void main(String[] args) &#123;    //æ–¹æ³•ä¸€ï¼šåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹å­ç±»ï¼Œå†åˆ†åˆ«åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å„è‡ªçš„runæ–¹æ³•ä¸­é‡å†™ä¸åŒæ“ä½œ    //æ–¹æ³•äºŒï¼šåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹çš„åŒ¿åå­ç±»å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š    new Thread()&#123;        @Override        public void run() &#123;            for (int i = 0; i &lt; 100; i++) &#123;                if(i % 2 == 0) System.out.println(Thread.currentThread().getName() + &quot;:&quot; + i);            &#125;        &#125;    &#125;.start();    new Thread()&#123;        @Override        public void run() &#123;            for (int i = 0; i &lt; 100; i++) &#123;                if(i % 2 != 0) System.out.println(Thread.currentThread().getName() + &quot;:&quot; + i);            &#125;        &#125;    &#125;.start();&#125;</code></pre><h5 id="2-æ–¹æ³•äºŒï¼šå®ç°Runnableæ¥å£"><a href="#2-æ–¹æ³•äºŒï¼šå®ç°Runnableæ¥å£" class="headerlink" title="2.æ–¹æ³•äºŒï¼šå®ç°Runnableæ¥å£"></a>2.æ–¹æ³•äºŒï¼šå®ç°Runnableæ¥å£</h5><ol><li>åˆ›å»ºä¸€ä¸ªå®ç°äº†Runnableæ¥å£çš„ç±»</li><li>å®ç°ç±»å»å®ç°Runnableä¸­çš„æŠ½è±¡æ–¹æ³•: run( )</li><li>åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡</li><li>å°†æ­¤å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»çš„å¯¹è±¡</li><li>é€šè¿‡Threadç±»çš„å¯¹è±¡è°ƒç”¨start(ï¼‰</li></ol><pre><code class="java">class  MyThread implements Runnable &#123; //1.åˆ›å»ºä¸€ä¸ªå®ç°äº†Runnableæ¥å£çš„ç±»    @Override    public void run() &#123;  //2.å®ç°ç±»å»å®ç°Runnableä¸­çš„æŠ½è±¡æ–¹æ³•: run()        for (int i = 0; i &lt; 100; i++) &#123;            if(i%2==0) &#123;                System.out.println(i);            &#125;        &#125;    &#125;&#125;public class ThreadTest03 &#123;    public static void main(String[] args) &#123;        MyThread myThread = new MyThread();  //3.åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡        Thread t1 = new Thread(myThread);  //4.å°†æ­¤å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»çš„å¯¹è±¡        t1.start();  //5.é€šè¿‡Threadç±»çš„å¯¹è±¡è°ƒç”¨start(ï¼‰    &#125;&#125;</code></pre><pre><code class="java">//å¤šçª—å£æŠ¢ç¥¨å®ä¾‹//ç›®å‰å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå³ç¬¬100å¼ ç¥¨å¯èƒ½è¢«å¤šä¸ªçª—å£åŒæ—¶å–å‡ºï¼Œç­‰åˆ°7.4èŠ‚å¾—ä»¥è§£å†³class window extends Thread &#123;    private static int stick = 100; //å¿…é¡»åŠ ä¸Šstaticæ‰èƒ½è®©ä¸‰ä¸ªçº¿ç¨‹å…±äº«100å¼ ç¥¨ï¼Œå¦åˆ™ä¼šå‡ºç°æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰100å¼ ç¥¨çš„æƒ…å†µ    @Override                   //å› ä¸ºè¿™ç§çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå®ç°æ¥å£çš„æ–¹å¼æ˜¯ä¸€ä¸ªå¯¹è±¡åˆ›å»ºä¸‰ä¸ªçº¿ç¨‹    public void run() &#123;        while (true) &#123;            if(stick &gt; 0) &#123;                System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + stick);                stick--;            &#125; else &#123;                break;            &#125;        &#125;    &#125;&#125;class window implements Runnable &#123;    private int stick = 100; //ä¸ç”¨åŠ ä¸Šstaticä¹Ÿèƒ½è®©ä¸‰ä¸ªçº¿ç¨‹å…±äº«100å¼ ç¥¨ï¼Œå› ä¸ºè¿™ä¸‰ä¸ªçº¿ç¨‹éƒ½æ˜¯ç”±åŒä¸€ä¸ªå¯¹è±¡åˆ›å»ºçš„    @Override    public void run() &#123;        while (true) &#123;            if(stick &gt; 0) &#123;                System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + stick);                stick--;            &#125; else &#123;                break;            &#125;        &#125;    &#125;&#125;public class ThreadTest02 &#123;    public static void main(String[] args) &#123;        //ç»§æ‰¿Threadç±»çš„æ–¹å¼å®ç°        window t1 = new window();        window t2 = new window();        window t3 = new window();        t1.setName(&quot;çª—å£1&quot;);        t2.setName(&quot;çª—å£2&quot;);        t3.setName(&quot;çª—å£3&quot;);        t1.start();        t2.start();        t3.start();        //å®ç°Runnableæ¥å£çš„æ–¹å¼        window window = new window();        Thread t1 = new Thread(window);        Thread t2 = new Thread(window);        Thread t3 = new Thread(window);        t1.setName(&quot;çª—å£1&quot;);        t2.setName(&quot;çª—å£2&quot;);        t3.setName(&quot;çª—å£3&quot;);        t1.start();        t2.start();        t3.start();    &#125;&#125;</code></pre><h5 id="3-ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒ"><a href="#3-ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒ" class="headerlink" title="3.ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒ"></a>3.ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒ</h5><p>å¼€å‘ä¸­<strong>ä¼˜å…ˆé€‰æ‹©ï¼šå®ç°Runnableæ¥å£çš„æ–¹å¼</strong></p><p><strong>åŸå› </strong>ï¼š</p><ol><li>å®ç°çš„æ–¹å¼<strong>æ²¡æœ‰ç±»çš„å•ç»§æ‰¿æ€§çš„å±€é™æ€§</strong></li><li>å®ç°çš„æ–¹å¼æ›´é€‚åˆæ¥<strong>å¤„ç†å¤šä¸ªçº¿ç¨‹æœ‰å…±äº«æ•°æ®çš„æƒ…å†µ</strong></li></ol><p><strong>è”ç³»</strong>: public class Thread implements Runnable</p><p><strong>ç›¸åŒç‚¹</strong>ï¼šä¸¤ç§æ–¹å¼éƒ½éœ€è¦é‡å†™run()ï¼Œå°†çº¿ç¨‹è¦æ‰§è¡Œçš„é€»è¾‘å£°æ˜åœ¨run( )ä¸­</p><h4 id="7-2-3-Threadç±»ä¸­çš„æœ‰å…³æ–¹æ³•ï¼ˆä½¿ç”¨ï¼‰"><a href="#7-2-3-Threadç±»ä¸­çš„æœ‰å…³æ–¹æ³•ï¼ˆä½¿ç”¨ï¼‰" class="headerlink" title="7.2.3 Threadç±»ä¸­çš„æœ‰å…³æ–¹æ³•ï¼ˆä½¿ç”¨ï¼‰"></a>7.2.3 Threadç±»ä¸­çš„æœ‰å…³æ–¹æ³•ï¼ˆä½¿ç”¨ï¼‰</h4><ul><li>void start()ï¼šå¯åŠ¨çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œå¯¹è±¡çš„run()æ–¹æ³•</li><li>run()ï¼šçº¿ç¨‹åœ¨è¢«è°ƒåº¦æ—¶æ‰§è¡Œçš„æ“ä½œ</li><li>String getName()ï¼šè¿”å›çº¿ç¨‹çš„åç§°</li><li>void setName(String name)ï¼šè®¾ç½®è¯¥çº¿ç¨‹åç§°</li><li>static Thread currentThread()ï¼šè¿”å›å½“å‰çº¿ç¨‹ã€‚åœ¨Threadå­ç±»ä¸­å°±æ˜¯thisï¼Œé€šå¸¸ç”¨äºä¸»çº¿ç¨‹å’ŒRunnableå®ç°ç±»</li><li>static void yield()ï¼šçº¿ç¨‹è®©æ­¥<ul><li><strong>æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹</strong>ï¼ŒæŠŠæ‰§è¡Œæœºä¼šè®©ç»™ä¼˜å…ˆçº§ç›¸åŒæˆ–æ›´é«˜çš„çº¿ç¨‹</li><li>è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ï¼Œå¿½ç•¥æ­¤æ–¹æ³•</li></ul></li><li>join()ï¼šå½“æŸä¸ªç¨‹åºæ‰§è¡Œæµä¸­è°ƒç”¨å…¶ä»–çº¿ç¨‹çš„ join()æ–¹æ³•æ—¶ï¼Œ<strong>è°ƒç”¨çº¿ç¨‹å°†è¢«é˜»å¡</strong>ï¼Œç›´åˆ°join()æ–¹æ³•åŠ å…¥çš„<strong>join çº¿ç¨‹æ‰§è¡Œå®Œä¸ºæ­¢</strong><ul><li>ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹Ÿå¯ä»¥è·å¾—æ‰§è¡Œ</li></ul></li><li>static void sleep(long millis)ï¼š(æŒ‡å®šæ—¶é—´:æ¯«ç§’)<ul><li>ä»¤å½“å‰æ´»åŠ¨çº¿ç¨‹åœ¨<strong>æŒ‡å®šæ—¶é—´æ®µå†…æ”¾å¼ƒå¯¹CPUæ§åˆ¶</strong>ï¼Œä½¿å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šè¢«æ‰§è¡Œï¼Œ<strong>æ—¶é—´åˆ°åé‡æ’é˜Ÿ</strong></li><li>æŠ›å‡ºInterruptedExceptionå¼‚å¸¸</li></ul></li><li>stop()ï¼š<strong>å¼ºåˆ¶çº¿ç¨‹ç”Ÿå‘½æœŸç»“æŸ</strong>ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå·²è¿‡æ—¶</li><li>boolean isAlive()ï¼šè¿”å›booleanï¼Œåˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¿˜æ´»ç€</li></ul><h3 id="7-3-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#7-3-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="7.3 çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>7.3 çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>JDKä¸­ç”¨Thread.Stateç±»å®šä¹‰äº†çº¿ç¨‹çš„å‡ ç§çŠ¶æ€</p><p>è¦æƒ³å®ç°å¤šçº¿ç¨‹ï¼Œå¿…é¡»åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºæ–°çš„çº¿ç¨‹å¯¹è±¡ã€‚Javaè¯­è¨€ä½¿ç”¨Threadç±»åŠå…¶å­ç±»çš„å¯¹è±¡æ¥è¡¨ç¤ºçº¿ç¨‹ï¼Œåœ¨å®ƒçš„ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸä¸­é€šå¸¸è¦ç»å†å¦‚ä¸‹çš„äº”ç§çŠ¶æ€ï¼š</p><ul><li>æ–°å»ºï¼šå½“ä¸€ä¸ªThreadç±»æˆ–å…¶å­ç±»çš„å¯¹è±¡<strong>è¢«å£°æ˜å¹¶åˆ›å»ºæ—¶</strong>ï¼Œæ–°ç”Ÿçš„çº¿ç¨‹å¯¹è±¡<strong>å¤„äºæ–°å»ºçŠ¶æ€</strong></li><li>å°±ç»ªï¼šå¤„äºæ–°å»ºçŠ¶æ€çš„çº¿ç¨‹è¢«<strong>start()åï¼Œå°†è¿›å…¥çº¿ç¨‹é˜Ÿåˆ—ç­‰å¾…CPUæ—¶é—´ç‰‡</strong>ï¼Œæ­¤æ—¶å®ƒå·²å…·å¤‡äº†è¿è¡Œçš„æ¡ä»¶ï¼Œåªæ˜¯è¿˜æ²¡åˆ†é…åˆ°CPUèµ„æº</li><li>è¿è¡Œï¼šå½“å°±ç»ªçš„çº¿ç¨‹<strong>è¢«è°ƒåº¦å¹¶è·å¾—CPUèµ„æºæ—¶,ä¾¿è¿›å…¥è¿è¡ŒçŠ¶æ€</strong>ï¼Œrun()æ–¹æ³•å®šä¹‰äº†çº¿ç¨‹çš„æ“ä½œå’ŒåŠŸèƒ½</li><li>é˜»å¡ï¼šåœ¨æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¢«äººä¸ºæŒ‚èµ·æˆ–æ‰§è¡Œè¾“å…¥è¾“å‡ºæ“ä½œæ—¶ï¼Œ<strong>è®©å‡ºCPUå¹¶ä¸´æ—¶ä¸­æ­¢è‡ªå·±çš„æ‰§è¡Œï¼Œè¿›å…¥é˜»å¡çŠ¶æ€</strong></li><li>æ­»äº¡ï¼šçº¿ç¨‹<strong>å®Œæˆäº†å®ƒçš„å…¨éƒ¨å·¥ä½œæˆ–çº¿ç¨‹è¢«æå‰å¼ºåˆ¶æ€§åœ°ä¸­æ­¢æˆ–å‡ºç°å¼‚å¸¸å¯¼è‡´ç»“æŸ</strong></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637238.png' data-fancybox='default' data-caption='image-20210726120906987'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637238.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637238.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210726120906987"></a><span class='image-caption'>image-20210726120906987</span></div></div><h3 id="7-4-çº¿ç¨‹çš„åŒæ­¥"><a href="#7-4-çº¿ç¨‹çš„åŒæ­¥" class="headerlink" title="7.4 çº¿ç¨‹çš„åŒæ­¥"></a>7.4 çº¿ç¨‹çš„åŒæ­¥</h3><h4 id="7-4-1-çº¿ç¨‹çš„å®‰å…¨é—®é¢˜"><a href="#7-4-1-çº¿ç¨‹çš„å®‰å…¨é—®é¢˜" class="headerlink" title="7.4.1 çº¿ç¨‹çš„å®‰å…¨é—®é¢˜"></a>7.4.1 çº¿ç¨‹çš„å®‰å…¨é—®é¢˜</h4><p>é—®é¢˜æå‡ºï¼š</p><ul><li>å¤šä¸ªçº¿ç¨‹æ‰§è¡Œçš„<strong>ä¸ç¡®å®šæ€§</strong>å¼•èµ·æ‰§è¡Œç»“æœçš„ä¸ç¨³å®š</li><li>å¤šä¸ªçº¿ç¨‹å¯¹è´¦æœ¬çš„å…±äº«ï¼Œä¼šé€ æˆæ“ä½œçš„<strong>ä¸å®Œæ•´æ€§</strong>ï¼Œä¼šç ´åæ•°æ®</li></ul><p><strong>å¦‚ï¼Œ7.2.2ä¸­å¤šçª—å£å–ç¥¨å®ä¾‹è‹¥run()ä¸­åŠ äº†sleep()çš„å¯èƒ½ä¼šå‡ºç°ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637531.png' data-fancybox='default' data-caption='image-20210726152643935'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637531.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637531.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210726152643935"></a><span class='image-caption'>image-20210726152643935</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637008.png' data-fancybox='default' data-caption='image-20210726152750501'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637008.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201637008.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210726152750501"></a><span class='image-caption'>image-20210726152750501</span></div></div><h4 id="7-4-2-çº¿ç¨‹å®‰å…¨é—®é¢˜çš„è§£å†³åŠæ³•-åŒæ­¥å’ŒLock"><a href="#7-4-2-çº¿ç¨‹å®‰å…¨é—®é¢˜çš„è§£å†³åŠæ³•-åŒæ­¥å’ŒLock" class="headerlink" title="7.4.2 çº¿ç¨‹å®‰å…¨é—®é¢˜çš„è§£å†³åŠæ³•(åŒæ­¥å’ŒLock)"></a>7.4.2 çº¿ç¨‹å®‰å…¨é—®é¢˜çš„è§£å†³åŠæ³•(åŒæ­¥å’ŒLock)</h4><p>7.2.2å®ä¾‹å‡ºç°çš„é—®é¢˜ï¼š<strong>å–ç¥¨è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†é‡ç¥¨ã€é”™ç¥¨</strong>â€“&gt;å‡ºç°äº†çº¿ç¨‹çš„å®‰å…¨é—®é¢˜</p><p><strong>é—®é¢˜å‡ºç°çš„åŸå› </strong>ï¼šå½“æŸä¸ªçº¿ç¨‹æ“ä½œè½¦ç¥¨çš„è¿‡ç¨‹ä¸­ï¼Œå°šæœªæ“ä½œå®Œæˆæ—¶ï¼Œå…¶ä»–çº¿ç¨‹å‚ä¸è¿›æ¥ï¼Œä¹Ÿæ“ä½œè½¦ç¥¨</p><p><strong>å¦‚ä½•è§£å†³</strong>ï¼šå½“ä¸€ä¸ªçº¿ç¨‹aåœ¨æ“ä½œticketçš„æ—¶å€™ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å‚ä¸è¿›æ¥ã€‚ç›´åˆ°çº¿ç¨‹aæ“ä½œå®Œticketæ—¶ï¼Œå…¶ä»–çº¿ç¨‹æ‰å¯ä»¥å¼€å§‹æ“ä½œticketã€‚è¿™ç§æƒ…å†µå³ä½¿çº¿ç¨‹aå‡ºç°äº†é˜»å¡ï¼Œticketä¹Ÿä¸èƒ½è¢«æ”¹å˜</p><p>åœ¨Javaä¸­ï¼Œæˆ‘ä»¬<strong>é€šè¿‡åŒæ­¥æœºåˆ¶å’ŒLockæ¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</strong></p><p><strong>åˆ©ç”¨åŒæ­¥æœºåˆ¶è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä¼˜ç¼ºç‚¹ï¼š</strong></p><ol><li>åŒæ­¥çš„æ–¹å¼ï¼Œè§£å†³äº†çº¿ç¨‹çš„å®‰å…¨é—®é¢˜ â€”å¥½å¤„</li><li>æ“ä½œåŒæ­¥ä»£ç æ—¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å‚ä¸ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚ç›¸å½“äºæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„è¿‡ç¨‹ï¼Œæ•ˆç‡ä½ â€”ç¼ºç‚¹</li></ol><h5 id="1-æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—"><a href="#1-æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—" class="headerlink" title="1.æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—"></a>1.æ–¹å¼ä¸€ï¼šåŒæ­¥ä»£ç å—</h5><pre><code class="java">synchronized(åŒæ­¥ç›‘è§†å™¨)&#123;    //éœ€è¦è¢«åŒæ­¥çš„ä»£ç &#125;//1.æ“ä½œå…±äº«æ•°æ®çš„ä»£ç ï¼Œå³ä¸ºéœ€è¦åŒæ­¥çš„ä»£ç   ---&gt;ä¸èƒ½åŒ…å«ä»£ç å¤šäº†ï¼Œä¹Ÿä¸èƒ½åŒ…å«å°‘äº†//2.å…±äº«æ•°æ®ï¼šå¤šä¸ªçº¿ç¨‹å…±åŒæ“ä½œçš„å˜é‡ï¼Œæ¯”å¦‚ticketå°±æ˜¯å…±äº«æ•°æ®//3.åŒæ­¥ç›‘è§†å™¨ï¼Œä¿—ç§°ï¼šé”;ä»»ä½•ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥å……å½“é”//    è¦æ±‚ï¼šå¤šä¸ªçº¿ç¨‹å¿…é¡»è¦å…¬ç”¨åŒä¸€ä¸ªé”//è¡¥å……ï¼šåœ¨å®ç°Runnableæ¥å£å®ç°åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨//        åœ¨ç»§æ‰¿Threadç±»åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ä¸­ï¼Œæ…ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨ï¼Œè€ƒè™‘ä½¿ç”¨å½“å‰ç±»ä½œä¸ºåŒæ­¥ç›‘è§†å™¨</code></pre><p>â‘ è§£å†³å®ç°Runnableçš„çº¿ç¨‹å®‰å…¨é—®é¢˜</p><pre><code class="java">class window implements Runnable &#123;    private int ticket = 100;    Object obj = new Object();    @Override    public void run() &#123;        while (true) &#123;            synchronized(obj)&#123;  //synchronized(this)è¿™ç§æ–¹å¼åœ¨å®ç°Runnableçš„æ–¹å¼ä¸­ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºè¿™ä¸ªthisä»£è¡¨çš„æ˜¯                 if(ticket &gt; 0) &#123;   //windowçš„å¯¹è±¡windowï¼Œæ­¤æ—¶ä»ç„¶æ˜¯ä¸‰ä¸ªçº¿ç¨‹å…¬ç”¨ä¸€æŠŠé”                    System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + ticket);                    ticket--;                &#125; else &#123;                    break;                &#125;               &#125;        &#125;    &#125;&#125;</code></pre><p>â‘¡è§£å†³ç»§æ‰¿Threadçš„çº¿ç¨‹å®‰å…¨é—®é¢˜</p><pre><code class="java">class window extends Thread &#123;    private static int ticket = 100;     private static Object obj = new Object();//å¿…é¡»ç”¨staticä¿®é¥°ï¼Œå› ä¸ºç»§æ‰¿Threadçš„æ–¹å¼éœ€è¦æ¯åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å°±å£°æ˜ä¸€ä¸ª    @Override                   //å¯¹è±¡ï¼Œå¦‚æœä¸åŠ staticå°±ä¼šè®©æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€æŠŠé”ï¼Œå°±è¿èƒŒäº†å¤šä¸ªçº¿ç¨‹å¿…é¡»å…±ç”¨ä¸€æŠŠé”çš„è¦æ±‚    public void run() &#123;        while (true) &#123;            synchronized(obj) &#123;  //synchronized(this)è¿™ç§æ–¹å¼åœ¨ç»§æ‰¿Threadçš„æ–¹å¼ä¸­å°±ä¸å¯ä»¥ï¼Œå› ä¸ºè¿™ä¸ªthisä»£è¡¨çš„æ˜¯å½“                if(ticket &gt; 0) &#123;  //å‰çº¿ç¨‹çš„å¯¹è±¡t1ã€t2ã€t3ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¸€æŠŠé”//ä½†æˆ‘ä»¬å¯ä½¿ç”¨synchronized(window.class)ä½œä¸ºé”çš„æ–¹å¼æ¥å®ç°ï¼Œå› ä¸ºwindow.classä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ­¤æ—¶ä¸‰ä¸ªçº¿ç¨‹ä¹Ÿæ˜¯å…¬ç”¨ä¸€æŠŠé”                    System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + ticket);                    ticket--;                &#125; else &#123;                    break;                &#125;            &#125;        &#125;    &#125;&#125;</code></pre><h5 id="2-æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•"><a href="#2-æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•" class="headerlink" title="2.æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•"></a>2.æ–¹å¼äºŒï¼šåŒæ­¥æ–¹æ³•</h5><p>å¦‚æœæ“ä½œå…±äº«æ•°æ®çš„ä»£ç å®Œæ•´çš„å£°æ˜åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸å¦¨å°†æ­¤æ–¹æ³•å£°æ˜ä¸ºåŒæ­¥çš„</p><p>â‘ è§£å†³å®ç°Runnableæ¥å£çš„çº¿ç¨‹å®‰å…¨é—®é¢˜</p><pre><code class="java">class  MyThread implements Runnable &#123;    private int ticket = 100;    @Override    public void run() &#123;        while (true) &#123;            show();            if(ticket &lt;= 0) break;        &#125;    &#125;    public synchronized void show() &#123; //åŒæ­¥æ–¹æ³•        if(ticket &gt; 0) &#123;              //åŒæ­¥ç›‘è§†å™¨ï¼šthis            System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + ticket);            ticket--;        &#125;    &#125;&#125;public class ThreadTest03 &#123;    public static void main(String[] args) &#123;        MyThread myThread = new MyThread();        Thread t1 = new Thread(myThread);        Thread t2 = new Thread(myThread);        Thread t3 = new Thread(myThread);        t1.start();        t2.start();        t3.start();    &#125;&#125;</code></pre><p>â‘¡è§£å†³ç»§æ‰¿Threadç±»çš„çº¿ç¨‹å®‰å…¨é—®é¢˜</p><pre><code class="java">class  MyThread extends Thread &#123;    private static int ticket = 100;    @Override    public void run() &#123;        while (true) &#123;            show();            if (ticket &lt;= 0) break;        &#125;    &#125;    public static synchronized void show() &#123; //è‹¥ä¸åŠ staticï¼ŒåŒæ­¥ç›‘è§†å™¨ï¼št1ã€t2ã€t3        if(ticket &gt; 0) &#123;      //åŠ ä¸Šstaticï¼ŒåŒæ­¥ç›‘è§†å™¨ï¼šMyThread.Classå³è¿™ä¸ªç±»æœ¬èº«å……å½“å¯¹è±¡ä½œä¸ºé”ï¼ˆåå°„æœºåˆ¶ï¼‰            System.out.println(Thread.currentThread().getName() + &quot;ï¼šå–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š&quot; + ticket);            ticket--;        &#125;    &#125;&#125;public class ThreadTest03 &#123;    public static void main(String[] args) &#123;        MyThread t1 = new MyThread();        MyThread t2 = new MyThread();        MyThread t3 = new MyThread();        t1.start();        t2.start();        t3.start();    &#125;&#125;</code></pre><p><strong>å…³äºåŒæ­¥æ–¹æ³•çš„æ€»ç»“ï¼š</strong></p><ol><li>åŒæ­¥æ–¹æ³•ä»ç„¶æ¶‰åŠåˆ°åŒæ­¥ç›‘è§†å™¨ï¼Œåªæ˜¯<strong>ä¸éœ€è¦æˆ‘ä»¬æ˜¾å¼çš„å£°æ˜</strong></li><li><strong>éé™æ€</strong>çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ç›‘è§†å™¨æ˜¯: <strong>this</strong><br> <strong>é™æ€</strong>çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ç›‘è§†å™¨æ˜¯ï¼š<strong>å½“å‰ç±»æœ¬èº«</strong></li></ol><h5 id="3-æ–¹å¼ä¸‰ï¼šLocké”-â€”JDK5-0æ–°å¢"><a href="#3-æ–¹å¼ä¸‰ï¼šLocké”-â€”JDK5-0æ–°å¢" class="headerlink" title="3.æ–¹å¼ä¸‰ï¼šLocké” â€”JDK5.0æ–°å¢"></a>3.æ–¹å¼ä¸‰ï¼šLocké” â€”JDK5.0æ–°å¢</h5><p>ä»JDK5.0å¼€å§‹ï¼ŒJavaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶â€”â€”é€šè¿‡æ˜¾å¼å®šä¹‰åŒæ­¥é”å¯¹è±¡æ¥å®ç°åŒæ­¥ã€‚åŒæ­¥é”ä½¿ç”¨<strong>Lockå¯¹è±¡å……å½“</strong></p><p>java.util.concurrent.locks.Lockæ¥å£æ˜¯æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„å·¥å…·ã€‚<strong>é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®</strong>ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”ï¼Œçº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºä¹‹å‰åº”å…ˆè·å¾—Lockå¯¹è±¡</p><p>ReentrantLockç±»å®ç°äº†Lock ï¼Œå®ƒæ‹¥æœ‰ä¸synchronizedç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLockï¼Œå¯ä»¥æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”</p><pre><code class="java">public class ThreadTest06 &#123;    public static void main(String[] args) &#123;        Window window = new Window();        Thread t1 = new Thread(window);        Thread t2 = new Thread(window);        Thread t3 = new Thread(window);        t1.start();        t2.start();        t3.start();    &#125;&#125;class Window implements Runnable &#123;    private int ticket = 100;    //1.å®ä¾‹åŒ–ReentrantLock    private ReentrantLock lock = new ReentrantLock(true);    @Override    public void run() &#123;        while(true) &#123;            try&#123; //ä½¿ç”¨try-finallyä»£ç å—æ˜¯ä¸ºäº†è®©åŒæ­¥ä»£ç æ— è®ºæ˜¯å¦æ‰§è¡Œå®Œæœ€ç»ˆéƒ½è¦é‡Šæ”¾é”ï¼Œå¦åˆ™ä¼šå‡ºç°æ‰§è¡Œçš„æŸä¸€æ¬¡æ²¡æœ‰è§£é”                //2.è°ƒç”¨lock()ä¸Šé”                lock.lock();                if (ticket &gt; 0) &#123;                    System.out.println(Thread.currentThread().getName() + &quot;:å”®ç¥¨,ç¥¨å·ä¸º:&quot; + ticket);                    ticket--;                &#125; else &#123;                    break;                &#125;            &#125; finally &#123;                //3.è°ƒç”¨unlock()è§£é”                lock.unlock();            &#125;        &#125;    &#125;&#125;</code></pre><p><strong>synchronizedå’ŒLockçš„å¯¹æ¯”ï¼š</strong></p><ul><li><strong>Lockæ˜¯æ˜¾å¼é”</strong>ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”ï¼‰ï¼Œ<strong>synchronizedæ˜¯éšå¼é”</strong>ï¼Œå‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾</li><li><strong>Lockåªæœ‰ä»£ç å—é”</strong>ï¼Œ<strong>synchronizedæœ‰ä»£ç å—é”å’Œæ–¹æ³•é”</strong></li><li>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼ˆæä¾›æ›´å¤šçš„å­ç±»ï¼‰</li><li>ä¼˜å…ˆä½¿ç”¨é¡ºåºï¼š<strong>Lock&gt;åŒæ­¥ä»£ç å—ï¼ˆå·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…äº†ç›¸åº”èµ„æºï¼‰&gt;åŒæ­¥æ–¹æ³•(åœ¨æ–¹æ³•ä½“ä¹‹å¤–)</strong></li></ul><p><strong>é¢è¯•é¢˜: synchronized ä¸Lockçš„å¼‚åŒ?</strong></p><ul><li><p>ç›¸åŒï¼šäºŒè€…éƒ½å¯ä»¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</p></li><li><p>ä¸åŒï¼šsynchronizedæœºåˆ¶åœ¨æ‰§è¡Œå®Œç›¸åº”çš„åŒæ­¥ä»£ç ä»¥åï¼Œ<strong>è‡ªåŠ¨çš„é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</strong></p><p>  â€‹        Lockéœ€è¦<strong>æ‰‹åŠ¨çš„å¯åŠ¨</strong>åŒæ­¥(ä¸Šé”Lock() )ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦<strong>æ‰‹åŠ¨çš„ç»“æŸ</strong>åŒæ­¥(è§£é”unlock() )</p></li></ul><p><strong>é¢è¯•é¢˜ï¼šå¦‚ä½•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿæœ‰å‡ ç§æ–¹å¼ï¼Ÿ</strong></p><ul><li>ä½¿ç”¨synchronizedå…³é”®å­—<ul><li>ä½¿ç”¨synchronizedä¿®é¥°ä»£ç å—ï¼Œä½¿å…¶æˆä¸ºåŒæ­¥ä»£ç å—ï¼ˆåŒ…ä½æ“ä½œå…±äº«æ•°æ®çš„ä»£ç ï¼‰</li><li>ä½¿ç”¨synchronizedä¿®é¥°æ–¹æ³•ï¼Œä½¿å…¶æˆä¸ºåŒæ­¥æ–¹æ³•ï¼ˆæ–¹æ³•ä½“æ˜¯æ“ä½œå…±äº«æ•°æ®çš„ä»£ç å—ï¼‰</li></ul></li><li>ä½¿ç”¨Locké”çš„æ–¹å¼ï¼ˆå¸¸ç”¨ReentrantLockç±»ï¼‰</li></ul><h4 id="7-4-3-çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å¼"><a href="#7-4-3-çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å¼" class="headerlink" title="7.4.3 çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å¼"></a>7.4.3 çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å¼</h4><pre><code class="java">Class Bank &#123;    private Bank()&#123;&#125;    private static Bank instance = null;    public static Bank getInstance() &#123;        //æ–¹å¼ä¸€ï¼šæ•ˆç‡ç¨å·®        synchronized(Bnak.class) &#123;            if(instance == null) &#123;                instance = new Bank();            &#125;            return instance;         &#125;        //æ–¹å¼äºŒï¼šæ•ˆç‡æ›´é«˜        if(instance == null) &#123; //ç¬¬ä¸€ä¸ªifæ˜¯ä¸ºäº†åé¢çš„çº¿ç¨‹å¯ä»¥ç›´æ¥è¿”å›instanceï¼Œè€Œä¸ç”¨è¿›å…¥åŒæ­¥æ–¹æ³•å—é‡Œå†è¿›è¡Œåˆ¤æ–­ï¼Œä»¥æ­¤æ¥æé«˜æ•ˆç‡            synchronized(Bnak.class) &#123;                if(instance == null) &#123;  //è¿™ä¸ªifä¸èƒ½åˆ é™¤ï¼Œå¦‚æœåˆ é™¤ä»ç„¶å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±ä¼šåŒæ—¶è¿›å…¥ç¬¬ä¸€ä¸ªifè¯­å¥å†…ï¼Œè¿™æ ·è¿™äº›çº¿ç¨‹å°±ä¼šé€ƒè¿‡åˆ¤ç©ºçš„ç¯èŠ‚ç­‰å¾…è¿›å…¥åŒæ­¥ä»£ç å—ï¼Œç­‰åˆ°è‡ªå·±ä½¿ç”¨CPUæ—¶åˆä¼šnewä¸€ä¸ªæ–°çš„bankå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªç¬¬äºŒä¸ªifåˆ¤æ–­å°±æ˜¯ç¬¬äºŒé‡ä¿é™©                    instance = new Bank();                &#125;             &#125;        &#125;        return instance;    &#125;&#125;</code></pre><h4 id="7-4-4-çº¿ç¨‹çš„æ­»é”é—®é¢˜"><a href="#7-4-4-çº¿ç¨‹çš„æ­»é”é—®é¢˜" class="headerlink" title="7.4.4 çº¿ç¨‹çš„æ­»é”é—®é¢˜"></a>7.4.4 çº¿ç¨‹çš„æ­»é”é—®é¢˜</h4><p>æ­»é”ï¼š</p><ul><li><strong>ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å ç”¨å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒè‡ªå·±éœ€è¦çš„åŒæ­¥èµ„æº</strong>ï¼Œå°±å½¢æˆäº†çº¿ç¨‹çš„æ­»é”</li><li>å‡ºç°æ­»é”åï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸ä¼šå‡ºç°æç¤ºï¼Œåªæ˜¯æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€ï¼Œæ— æ³•ç»§ç»­</li><li>æˆ‘ä»¬ä½¿ç”¨åŒæ­¥æ—¶è¦é¿å…å‡ºç°æ­»é”</li></ul><p>æ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š</p><ul><li> 1ã€<strong>äº’æ–¥ä½¿ç”¨</strong>ï¼Œå³å½“èµ„æºè¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨(å æœ‰)æ—¶ï¼Œåˆ«çš„çº¿ç¨‹ä¸èƒ½ä½¿ç”¨</li><li>2ã€<strong>ä¸å¯æŠ¢å </strong>ï¼Œèµ„æºè¯·æ±‚è€…ä¸èƒ½å¼ºåˆ¶ä»èµ„æºå æœ‰è€…æ‰‹ä¸­å¤ºå–èµ„æºï¼Œèµ„æºåªèƒ½ç”±èµ„æºå æœ‰è€…ä¸»åŠ¨é‡Šæ”¾</li><li>3ã€<strong>è¯·æ±‚å’Œä¿æŒ</strong>ï¼Œå³å½“èµ„æºè¯·æ±‚è€…åœ¨è¯·æ±‚å…¶ä»–çš„èµ„æºçš„åŒæ—¶ä¿æŒå¯¹åŸæœ‰èµ„æºçš„å æœ‰</li><li>4ã€<strong>å¾ªç¯ç­‰å¾…</strong>ï¼Œå³å­˜åœ¨ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ï¼šP1å æœ‰P2çš„èµ„æºï¼ŒP2å æœ‰P3çš„èµ„æºï¼ŒP3å æœ‰P1çš„èµ„æºã€‚è¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªç­‰å¾…ç¯è·¯</li><li>å½“ä¸Šè¿°å››ä¸ªæ¡ä»¶<strong>éƒ½æˆç«‹</strong>çš„æ—¶å€™ï¼Œä¾¿å½¢æˆæ­»é”ã€‚å½“ç„¶ï¼Œæ­»é”çš„æƒ…å†µä¸‹å¦‚æœ<strong>æ‰“ç ´ä¸Šè¿°ä»»ä½•ä¸€ä¸ªæ¡ä»¶ï¼Œä¾¿å¯è®©æ­»é”æ¶ˆå¤±</strong></li></ul><p>è§£å†³æ–¹æ³•ï¼š</p><ul><li>ä¸“é—¨çš„ç®—æ³•ã€åŸåˆ™</li><li>å°½é‡å‡å°‘åŒæ­¥èµ„æºçš„å®šä¹‰</li><li>å°½é‡é¿å…åµŒå¥—åŒæ­¥</li></ul><pre><code class="java">//æ­»é”å®ä¾‹public static void main(String[] args) &#123;    StringBuffer s1 = new StringBuffer();    StringBuffer s2 = new StringBuffer();    new Thread()&#123; //ç¬¬ä¸€ä¸ªçº¿ç¨‹        @Override        public void run() &#123;            synchronized (s1) &#123; //ä»¥å¯¹è±¡s1ä½œä¸ºç¬¬ä¸€æŠŠé”                s1.append(&quot;a&quot;);                s2.append(&quot;1&quot;);                try &#123;                    Thread.sleep(100);                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;                synchronized (s2) &#123; //ä»¥å¯¹è±¡s2ä½œä¸ºç¬¬äºŒæŠŠé”                    s1.append(&quot;b&quot;);                    s2.append(&quot;2&quot;);                    System.out.println(s1);                    System.out.println(s2);                &#125;            &#125;        &#125;    &#125;.start();    new Thread(new Runnable() &#123; //ç¬¬äºŒä¸ªçº¿ç¨‹        @Override        public void run() &#123;            synchronized (s2) &#123; ////ä»¥å¯¹è±¡s2ä½œä¸ºç¬¬ä¸€æŠŠé”                s1.append(&quot;c&quot;);                s2.append(&quot;3&quot;);                try &#123;                    Thread.sleep(100);                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;                synchronized (s1) &#123; //ä»¥å¯¹è±¡s1ä½œä¸ºç¬¬äºŒæŠŠé”                    s1.append(&quot;d&quot;);                    s2.append(&quot;4&quot;);                    System.out.println(s1);                    System.out.println(s2);                &#125;            &#125;        &#125;    &#125;).start();&#125;//è¯¥ç¨‹åºå½¢æˆæ­»é”åŸå› ï¼š//ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ‹¿åˆ°ç¬¬ä¸€æŠŠé”s1ï¼Œç„¶åä¼šæ‰§è¡Œsleepè¿›è¡Œç¡çœ ï¼ŒåŒæ—¶ç¬¬äºŒä¸ªçº¿ç¨‹ä¹Ÿå¼€å§‹æ‰§è¡Œï¼Œæ‹¿åˆ°ç¬¬ä¸€æŠŠé”s2//ç¬¬ä¸€ä¸ªçº¿ç¨‹ç¡çœ ç»“æŸï¼Œéœ€è¦ç¬¬äºŒæŠŠé”s2ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹æ­£åœ¨å ç”¨s2ï¼Œs2å¾—ä¸åˆ°é‡Šæ”¾ï¼Œåˆ™ç¬¬ä¸€ä¸ªçº¿ç¨‹å°±ä¼šä¸€ç›´ç­‰å¾…ç¬¬äºŒä¸ªçº¿ç¨‹é‡Šæ”¾s2//ä½†æ˜¯ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ªçº¿ç¨‹ç¡çœ ç»“æŸï¼Œéœ€è¦ç”¨åˆ°é”s1ï¼Œä½†ç¬¬ä¸€ä¸ªçº¿ç¨‹åˆå› ä¸ºæ— æ³•ä½¿ç”¨é”s2ï¼Œä¼šä¸€ç›´å ç”¨s1å¯¼è‡´s1å¾—ä¸åˆ°é‡Šæ”¾ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªçº¿ç¨‹ä¹Ÿå°±éœ€è¦ç­‰å¾…ç¬¬ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”s1//ç”±æ­¤ä¾¿äº§ç”Ÿäº†ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‹¿ä¸åˆ°s2çš„åŒæ—¶åˆä¸é‡Šæ”¾s1ï¼Œè€Œç¬¬äºŒä¸ªçº¿ç¨‹æ‹¿ä¸åˆ°s1çš„åŒæ—¶ä¹Ÿä¸é‡Šæ”¾s2ï¼Œè¿™æ ·å°±ä½¿ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¸åˆ°äº’ç›¸éœ€è¦çš„é”ï¼Œè¿›å…¥æ— é™å¾ªç¯ç­‰å¾…èµ„æºçš„æ­»é”çŠ¶æ€</code></pre><h3 id="7-5-çº¿ç¨‹çš„é€šä¿¡"><a href="#7-5-çº¿ç¨‹çš„é€šä¿¡" class="headerlink" title="7.5 çº¿ç¨‹çš„é€šä¿¡"></a>7.5 çº¿ç¨‹çš„é€šä¿¡</h3><h4 id="7-5-1-çº¿ç¨‹é€šä¿¡çš„ä»‹ç»"><a href="#7-5-1-çº¿ç¨‹é€šä¿¡çš„ä»‹ç»" class="headerlink" title="7.5.1 çº¿ç¨‹é€šä¿¡çš„ä»‹ç»"></a>7.5.1 çº¿ç¨‹é€šä¿¡çš„ä»‹ç»</h4><p><strong>æ¶‰åŠåˆ°çš„ä¸‰ä¸ªæ–¹æ³•ï¼š</strong></p><ul><li><p>wait()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹å°±è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå¹¶é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</p></li><li><p>notify()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå°±ä¼šå”¤é†’<strong>è¢«wait()çš„ä¸€ä¸ªçº¿ç¨‹</strong>ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹è¢«waitï¼Œå°±å”¤é†’ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹</p></li><li><p>notifyAll()ï¼šä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå°±ä¼šå”¤é†’**æ‰€æœ‰è¢«wait()**çš„çº¿ç¨‹</p></li></ul><p><strong>è¯´æ˜ï¼š</strong></p><ul><li>wait()ï¼Œnotify()ï¼ŒnotifyAll()ä¸‰ä¸ªæ–¹æ³•<strong>å¿…é¡»ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­</strong></li><li>wait()ï¼Œnotify()ï¼ŒnotifyAll()ä¸‰ä¸ªæ–¹æ³•çš„<strong>è°ƒç”¨è€…å¿…é¡»æ˜¯åŒæ­¥ä»£ç å—æˆ–åŒæ­¥ä»£ç ä¸­çš„åŒæ­¥ç›‘è§†å™¨</strong>ï¼Œå¦åˆ™ï¼Œä¼šå‡ºç°IllegalMonitorStateExceptionå¼‚å¸¸</li><li>wait()ï¼Œnotify()ï¼ŒnotifyAll()ä¸‰ä¸ªæ–¹æ³•æ˜¯å®šä¹‰åœ¨java.lang.Objectç±»ä¸­åœ¨Â·</li></ul><p><strong>é¢è¯•é¢˜ï¼šsleep()å’Œwait()çš„å¼‚åŒï¼Ÿ</strong></p><ul><li>ç›¸åŒç‚¹ï¼šä¸€æ—¦æ‰§è¡Œæ–¹æ³•ï¼Œéƒ½å¯ä»¥ä½¿å¾—<strong>å½“å‰çš„çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</strong></li><li>ä¸åŒç‚¹ï¼š<ul><li>ä¸¤ä¸ªæ–¹æ³•<strong>å£°æ˜çš„ä½ç½®ä¸åŒ</strong>ï¼šsleep()å£°æ˜åœ¨Threadç±»ä¸­ï¼Œwait()å£°æ˜åœ¨objectç±»ä¸­</li><li><strong>è°ƒç”¨çš„è¦æ±‚ä¸åŒ</strong>: sleep()å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„åœºæ™¯ä¸‹è°ƒç”¨ï¼Œwait()å¿…é¡»ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­</li><li>å…³äº**æ˜¯å¦é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨(é”)**ï¼šå¦‚æœä¸¤ä¸ªæ–¹æ³•éƒ½ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼Œsleep()ä¸ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ï¼Œè€Œwait()ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</li></ul></li></ul><pre><code class="java">//çº¿ç¨‹é€šä¿¡çš„ä¾‹å­ï¼šä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ‰“å°1-100ï¼Œçº¿ç¨‹1å’Œçº¿ç¨‹2äº¤æ›¿æ‰“å°public class ThreadTest08 &#123;    public static void main(String[] args) &#123;        Number number = new Number();        Thread t1 = new Thread(number);        Thread t2 = new Thread(number);        t1.setName(&quot;çº¿ç¨‹1&quot;);        t2.setName(&quot;çº¿ç¨‹2&quot;);        t1.start();        t2.start();    &#125;&#125;class Number implements Runnable &#123;    private int number = 1;    @Override    public void run() &#123;        while(true) &#123;            synchronized (this)&#123;                notify(); //å”¤é†’è¢«é˜»å¡çš„                if(number &lt;= 100) &#123;                    System.out.println(Thread.currentThread().getName() + &quot;:&quot; + number);                    number++;                    try &#123;                        wait(); //ä½¿è°ƒç”¨wait()æ–¹æ³•çš„çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œä¸”é‡Šæ”¾é”(sleepé˜»å¡ä½†ä¸ä¼šé‡Šæ”¾é”)                    &#125; catch (InterruptedException e) &#123;                        e.printStackTrace();                    &#125;                &#125;else&#123;                    break;                &#125;            &#125;        &#125;    &#125;&#125;</code></pre><h4 id="7-5-2-çº¿ç¨‹é€šä¿¡çš„åº”ç”¨"><a href="#7-5-2-çº¿ç¨‹é€šä¿¡çš„åº”ç”¨" class="headerlink" title="7.5.2 çº¿ç¨‹é€šä¿¡çš„åº”ç”¨"></a>7.5.2 çº¿ç¨‹é€šä¿¡çš„åº”ç”¨</h4><p>ç»å…¸ä¾‹é¢˜ï¼šç”Ÿäº§è€…/æ¶ˆè´¹è€…é—®é¢˜</p><p>ç”Ÿäº§è€…(Productor)å°†äº§å“äº¤ç»™åº—å‘˜(Clerk)ï¼Œè€Œæ¶ˆè´¹è€…(Customer)ä»åº—å‘˜å¤„å–èµ°äº§å“ï¼Œåº—å‘˜ä¸€æ¬¡åªèƒ½æŒæœ‰å›ºå®šæ•°é‡çš„äº§å“(æ¯”å¦‚:20ï¼‰ï¼Œå¦‚æœç”Ÿäº§è€…è¯•å›¾ç”Ÿäº§æ›´å¤šçš„äº§å“ï¼Œåº—å‘˜ä¼šå«ç”Ÿäº§è€…åœä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰ç©ºä½æ”¾äº§å“äº†å†é€šçŸ¥ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ï¼›å¦‚æœåº—ä¸­æ²¡æœ‰äº§å“äº†ï¼Œåº—å‘˜ä¼šå‘Šè¯‰æ¶ˆè´¹è€…ç­‰ä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰äº§å“äº†å†é€šçŸ¥æ¶ˆè´¹è€…æ¥å–èµ°äº§å“</p><p>è¿™é‡Œå¯èƒ½å‡ºç°ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>ç”Ÿäº§è€…æ¯”æ¶ˆè´¹è€…å¿«æ—¶ï¼Œæ¶ˆè´¹è€…ä¼šæ¼æ‰ä¸€äº›æ•°æ®æ²¡æœ‰å–åˆ°</li><li>æ¶ˆè´¹è€…æ¯”ç”Ÿäº§è€…å¿«æ—¶ï¼Œæ¶ˆè´¹è€…ä¼šå–åŒæ ·çš„æ•°æ®</li></ul><pre><code class="java">/*ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜ç”Ÿäº§è€…(Productor)å°†äº§å“äº¤ç»™åº—å‘˜(Clerk)ï¼Œè€Œæ¶ˆè´¹è€…(Customer)ä»åº—å‘˜å¤„å–èµ°äº§å“ï¼Œåº—å‘˜ä¸€æ¬¡åªèƒ½æŒæœ‰å›ºå®šæ•°é‡çš„äº§å“(æ¯”å¦‚:20ï¼‰ï¼Œå¦‚æœç”Ÿäº§è€…è¯•å›¾ç”Ÿäº§æ›´å¤šçš„äº§å“ï¼Œåº—å‘˜ä¼šå«ç”Ÿäº§è€…åœä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰ç©ºä½æ”¾äº§å“äº†å†é€šçŸ¥ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ï¼›å¦‚æœåº—ä¸­æ²¡æœ‰äº§å“äº†ï¼Œåº—å‘˜ä¼šå‘Šè¯‰æ¶ˆè´¹è€…ç­‰ä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰äº§å“äº†å†é€šçŸ¥æ¶ˆè´¹è€…æ¥å–èµ°äº§å“ */public class ThreadTest09 &#123;    public static void main(String[] args) &#123;        Clerk clerk = new Clerk();        Productor productor1 = new Productor(clerk); //å®šä¹‰ç”Ÿäº§è€…çº¿ç¨‹        Productor productor2 = new Productor(clerk);        Customer customer1 = new Customer(clerk); //å®šä¹‰æ¶ˆè´¹è€…çº¿ç¨‹        Customer customer2 = new Customer(clerk);        Customer customer3 = new Customer(clerk);        productor1.setName(&quot;ç”Ÿäº§è€…1&quot;);        productor2.setName(&quot;ç”Ÿäº§è€…2&quot;);        customer1.setName(&quot;æ¶ˆè´¹è€…1&quot;);        customer2.setName(&quot;æ¶ˆè´¹è€…2&quot;);        customer3.setName(&quot;æ¶ˆè´¹è€…3&quot;);        productor1.start();        productor2.start();        customer1.start();        customer2.start();        customer3.start();    &#125;&#125;class Clerk &#123;    private int product = 0; //åº—å‘˜æ‹¥æœ‰çš„äº§å“æ•°    public int getProduct() &#123;        return product;    &#125;    public void addProduct() &#123;        product++;    &#125;    public void reduceProduct() &#123;        product--;    &#125;&#125;class Productor extends Thread &#123;    private Clerk clerk; //å£°æ˜Clerkå¯¹è±¡ï¼Œæ–¹ä¾¿å¯¹äºäº§å“æ•°çš„æ“ä½œ    public Productor(Clerk clerk) &#123;        this.clerk = clerk;    &#125;    @Override    public void run() &#123;        while(true) &#123;            try &#123;                Thread.sleep(100); //é˜»å¡çº¿ç¨‹ï¼Œè®©å…¶ä»–çº¿ç¨‹æœ‰äº‰å¤ºçš„æ—¶é—´            &#125; catch (InterruptedException e) &#123;                e.printStackTrace();            &#125;            synchronized(Clerk.class) &#123;                if(clerk.getProduct() &lt; 20)&#123; //å¦‚æœå•†å“çš„æ•°é‡å°äº20ï¼Œåˆ™ç”Ÿäº§è€…ä¼šæŒç»­ç”Ÿäº§                    System.out.println(Thread.currentThread().getName() + &quot;å¼€å§‹ç”Ÿäº§......&quot;);                    System.out.println(Thread.currentThread().getName() + &quot;æ­£åœ¨å‡†å¤‡ç”Ÿäº§ç¬¬&quot; + (clerk.getProduct()+1) + &quot;ä¸ªäº§å“&quot;);                    clerk.addProduct();                    System.out.println(Thread.currentThread().getName() + &quot;å·²ç»å®Œæˆç”Ÿäº§ç¬¬&quot; + clerk.getProduct() + &quot;ä¸ªäº§å“&quot;);                    Clerk.class.notify(); //å”¤é†’å› ä¸€äº›åŸå› è¢«æ‰§è¡Œwait()çš„çº¿ç¨‹                &#125; else &#123;                    //ç”Ÿäº§è€…ç”Ÿäº§è¿‡å¿«ï¼Œåº—å‘˜è®©ç”Ÿäº§è€…ç­‰å¾…                    try &#123;                        Clerk.class.wait(); //ç”Ÿäº§è€…ç”Ÿäº§å¤ªå¿«ï¼Œå•†å“æ•°é‡è¿‡å¤šï¼Œè¢«åº—å‘˜å«åœä¼‘æ¯                    &#125; catch (InterruptedException e) &#123;                        e.printStackTrace();                    &#125;                &#125;            &#125;        &#125;    &#125;&#125;class Customer extends Thread &#123;    private Clerk clerk; //å£°æ˜Clerkå¯¹è±¡ï¼Œæ–¹ä¾¿å¯¹äºäº§å“æ•°çš„æ“ä½œ    public Customer(Clerk clerk) &#123;        this.clerk = clerk;    &#125;    @Override    public void run() &#123;        while(true) &#123;            try &#123;                Thread.sleep(500); //é˜»å¡çº¿ç¨‹ï¼Œè®©å…¶ä»–çº¿ç¨‹æœ‰äº‰å¤ºçš„æ—¶é—´            &#125; catch (InterruptedException e) &#123;                e.printStackTrace();            &#125;            synchronized(Clerk.class) &#123;                if(clerk.getProduct() &gt; 0)&#123; //å¦‚æœå•†å“æ•°é‡å¤§äº0ï¼Œåˆ™æ¶ˆè´¹è€…å¯ä»¥è¿›è¡Œæ¶ˆè´¹                    System.out.println(Thread.currentThread().getName() + &quot;å¼€å§‹æ¶ˆè´¹......&quot;);                    System.out.println(Thread.currentThread().getName() + &quot;æ­£åœ¨å‡†å¤‡æ¶ˆè´¹ç¬¬&quot; + clerk.getProduct() + &quot;ä¸ªäº§å“&quot;);                    System.out.println(Thread.currentThread().getName() + &quot;å·²ç»å®Œæˆæ¶ˆè´¹ç¬¬&quot; + clerk.getProduct() + &quot;ä¸ªäº§å“&quot;);                    clerk.reduceProduct();                    Clerk.class.notify(); //å”¤é†’å› ä¸€äº›åŸå› è¢«æ‰§è¡Œwait()çš„çº¿ç¨‹                &#125; else &#123;                    //æ¶ˆè´¹è€…æ¶ˆè´¹è¿‡å¿«ï¼Œåº—å‘˜è®©æ¶ˆè´¹è€…ç­‰å¾…                    try &#123;                        Clerk.class.wait(); //æ¶ˆè´¹è€…æ¶ˆè´¹è¿‡å¿«ï¼Œå•†å“æ•°é‡ä¸è¶³ï¼Œåº—å‘˜å‘Šè¯‰æ¶ˆè´¹è€…ç¨ç­‰                    &#125; catch (InterruptedException e) &#123;                        e.printStackTrace();                    &#125;                &#125;            &#125;        &#125;    &#125;&#125;/*æ­¤å®ä¾‹å®ç°è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼š1.å› ä¸ºä½¿ç”¨whileå¾ªç¯ï¼Œä¼šå¯¼è‡´ä¸€ä¸ªçº¿ç¨‹ä¸€æ—¦æŠ¢åˆ°CPUä½¿ç”¨æƒåå°±ä¸æ˜“è¢«å…¶ä»–çº¿ç¨‹æŠ¢å ï¼Œæ‰€ä»¥åœ¨è¿›å…¥åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•å‰åŠ ä¸Šsleepæ¥è®©å…¶ä»–çº¿ç¨‹æœ‰æŠ¢å CPUçš„æœºä¼š2.åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ä½¿ç”¨notify()å’Œwait()æ—¶è¦æ³¨æ„è°ƒç”¨è€…ä¸€å®šè¦æ˜¯åŒæ­¥ç›‘è§†å™¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™IllegalMonitorStateExceptionå¼‚å¸¸*/</code></pre><h4 id="7-5-3-å“ªäº›æ“ä½œä¼šé‡Šæ”¾é”ï¼Œå“ªäº›ä¸ä¼šé‡Šæ”¾é”ï¼Ÿ"><a href="#7-5-3-å“ªäº›æ“ä½œä¼šé‡Šæ”¾é”ï¼Œå“ªäº›ä¸ä¼šé‡Šæ”¾é”ï¼Ÿ" class="headerlink" title="7.5.3 å“ªäº›æ“ä½œä¼šé‡Šæ”¾é”ï¼Œå“ªäº›ä¸ä¼šé‡Šæ”¾é”ï¼Ÿ"></a>7.5.3 å“ªäº›æ“ä½œä¼šé‡Šæ”¾é”ï¼Œå“ªäº›ä¸ä¼šé‡Šæ”¾é”ï¼Ÿ</h4><h6 id="1-é‡Šæ”¾é”çš„æ“ä½œ"><a href="#1-é‡Šæ”¾é”çš„æ“ä½œ" class="headerlink" title="1.é‡Šæ”¾é”çš„æ“ä½œ"></a>1.é‡Šæ”¾é”çš„æ“ä½œ</h6><ul><li>å½“å‰çº¿ç¨‹çš„åŒæ­¥æ–¹æ³•ã€åŒæ­¥ä»£ç å—<strong>æ‰§è¡Œç»“æŸ</strong></li><li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­é‡åˆ°<strong>breakã€returnç»ˆæ­¢äº†è¯¥ä»£ç å—ã€è¯¥æ–¹æ³•çš„ç»§ç»­æ‰§è¡Œ</strong></li><li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­å‡ºç°äº†<strong>æœªå¤„ç†çš„Erroræˆ–Exception</strong>ï¼Œå¯¼è‡´å¼‚å¸¸ç»“æŸ</li><li>å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­<strong>æ‰§è¡Œäº†çº¿ç¨‹å¯¹è±¡çš„wait()æ–¹æ³•</strong>ï¼Œå½“å‰çº¿ç¨‹æš‚åœï¼Œå¹¶é‡Šæ”¾é”</li></ul><h6 id="2-ä¸ä¼šé‡Šæ”¾é”çš„æ“ä½œ"><a href="#2-ä¸ä¼šé‡Šæ”¾é”çš„æ“ä½œ" class="headerlink" title="2.ä¸ä¼šé‡Šæ”¾é”çš„æ“ä½œ"></a>2.ä¸ä¼šé‡Šæ”¾é”çš„æ“ä½œ</h6><ul><li>çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•æ—¶ï¼Œç¨‹åºè°ƒç”¨**Thread.sleep()<strong>ã€</strong>Thread.yield()**æ–¹æ³•æš‚åœå½“å‰çº¿ç¨‹çš„æ‰§è¡Œ</li><li>çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†è¯¥çº¿ç¨‹çš„<strong>suspend()æ–¹æ³•å°†è¯¥çº¿ç¨‹æŒ‚èµ·</strong>ï¼Œè¯¥çº¿ç¨‹ä¸ä¼šé‡Šæ”¾é”ï¼ˆåŒæ­¥ç›‘è§†å™¨ï¼‰<ul><li>åº”å°½é‡é¿å…ä½¿ç”¨suspend()å’Œresume()æ¥æ§åˆ¶çº¿ç¨‹</li></ul></li></ul><h3 id="7-6-JDK5æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼"><a href="#7-6-JDK5æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼" class="headerlink" title="7.6 JDK5æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼"></a>7.6 JDK5æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼</h3><h4 id="7-6-1-æ–¹æ³•ä¸€ï¼šå®ç°Callableæ¥å£"><a href="#7-6-1-æ–¹æ³•ä¸€ï¼šå®ç°Callableæ¥å£" class="headerlink" title="7.6.1 æ–¹æ³•ä¸€ï¼šå®ç°Callableæ¥å£"></a>7.6.1 æ–¹æ³•ä¸€ï¼šå®ç°Callableæ¥å£</h4><p>ä¸ä½¿ç”¨Runnableç›¸æ¯”ï¼ŒCallableåŠŸèƒ½æ›´å¼ºå¤§äº›</p><ul><li>ç›¸æ¯”run()æ–¹æ³•ï¼Œå¯ä»¥<strong>æœ‰è¿”å›å€¼</strong></li><li>æ–¹æ³•å¯ä»¥<strong>æŠ›å‡ºå¼‚å¸¸</strong></li><li><strong>æ”¯æŒæ³›å‹</strong>çš„è¿”å›å€¼</li><li>éœ€è¦<strong>å€ŸåŠ©FutureTaskç±»</strong>ï¼Œæ¯”å¦‚è·å–è¿”å›ç»“æœ</li></ul><p>Futureæ¥å£ï¼š</p><ul><li>å¯ä»¥å¯¹å…·ä½“Runnableã€Callableä»»åŠ¡çš„æ‰§è¡Œç»“æœè¿›è¡Œå–æ¶ˆã€æŸ¥è¯¢æ˜¯å¦å®Œæˆã€è·å–ç»“æœç­‰</li><li><strong>FutrueTaskæ˜¯Futrueæ¥å£çš„å”¯ä¸€çš„å®ç°ç±»</strong></li><li>FutureTaskåŒæ—¶å®ç°äº†Runnableï¼ŒFutureæ¥å£ã€‚å®ƒæ—¢å¯ä»¥<strong>ä½œä¸ºRunnableè¢«çº¿ç¨‹æ‰§è¡Œ</strong>ï¼Œåˆå¯ä»¥<strong>ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›å€¼</strong></li></ul><pre><code class="java">/** å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹** å¦‚ä½•ç†è§£å®ç°Callableæ¥å£çš„æ–¹å¼åˆ›å»ºå¤šçº¿ç¨‹æ¯”å®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹æ–¹å¼å¼ºå¤§?* 1. calL()å¯ä»¥æœ‰è¿”å›å€¼çš„* 2. calL()å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¢«å¤–é¢çš„æ“ä½œæ•è·ï¼Œè·å–å¼‚å¸¸çš„ä¿¡æ¯* 3. Callableæ˜¯æ”¯æŒæ³›å‹çš„*///1.åˆ›å»ºä¸€ä¸ªå®ç°Callableæ¥å£çš„å®ç°ç±»class NumThread implements Callable &#123;    //2.å®ç°callæ–¹æ³•ï¼Œå°†æ­¤çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨call()ä¸­    @Override    public Object call() throws Exception &#123; //ç›¸å½“äºrun()æ–¹æ³•        int sum = 0;        for (int i = 1; i &lt;= 100; i++) &#123;            if(i % 2 == 0) &#123;                System.out.println(i);                sum += i;            &#125;        &#125;        return sum;    &#125;&#125;public class ThreadTest10 &#123;    public static void main(String[] args) &#123;        //3.åˆ›å»ºCallableæ¥å£å®ç°ç±»çš„å¯¹è±¡        NumThread numThread = new NumThread();        //4.å°†æ­¤Callableæ¥å£å®ç°ç±»çš„å¯¹è±¡ä¼ é€’åˆ°FutureTaskæ„é€ å™¨ä¸­ï¼Œåˆ›å»ºFutureTaskçš„å¯¹è±¡        FutureTask futureTask = new FutureTask(numThread);        //5.å°†FutureTaskçš„å¯¹è±¡ä¼ é€’åˆ°Threadç±»ä¸­ï¼Œåˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶è°ƒç”¨start()æ–¹æ³•        Thread thread = new Thread(futureTask);        thread.start();        try &#123;            //6.è·å–Callableä¸­call()çš„è¿”å›å€¼(å¦‚æœéœ€è¦çš„è¯)            //get()æ–¹æ³•çš„è¿”å›å€¼å³ä¸ºFutureTaskæ„é€ å‚æ•°Callableå®ç°ç±»é‡å†™çš„call()çš„è¿”å›å€¼            Object sum = futureTask.get();            System.out.println(&quot;æ€»å’Œä¸ºï¼š&quot; + sum);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125; catch (ExecutionException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="7-6-2-æ–¹æ³•äºŒï¼šçº¿ç¨‹æ± "><a href="#7-6-2-æ–¹æ³•äºŒï¼šçº¿ç¨‹æ± " class="headerlink" title="7.6.2 æ–¹æ³•äºŒï¼šçº¿ç¨‹æ± "></a>7.6.2 æ–¹æ³•äºŒï¼šçº¿ç¨‹æ± </h4><p>èƒŒæ™¯ï¼šç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§</p><p>æ€è·¯ï¼š<strong>æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± </strong>ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥<strong>é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨</strong>ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·</p><p>å¥½å¤„ï¼š</p><ul><li><strong>æé«˜å“åº”é€Ÿåº¦</strong>ï¼ˆå‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´)</li><li><strong>é™ä½èµ„æºæ¶ˆè€—</strong>ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»º)</li><li><strong>ä¾¿äºçº¿ç¨‹ç®¡ç†</strong><ul><li>corePoolSizeï¼šæ ¸å¿ƒæ± çš„å¤§å°</li><li>maximumPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°</li><li>keepAliveTimeï¼šçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</li></ul></li></ul><p><strong>çº¿ç¨‹æ± ç›¸å…³çš„APIï¼š</strong></p><ul><li>JDK5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³APIï¼šExecutorServiceå’Œ Executors</li><li>ExecutorServiceï¼šçœŸæ­£çš„<strong>çº¿ç¨‹æ± æ¥å£</strong>ã€‚å¸¸è§å­ç±»ThreadPoolExecutor<ul><li>void execute(Runnable command)ï¼šæ‰§è¡Œä»»åŠ¡/å‘½ä»¤ï¼Œ<strong>æ²¡æœ‰è¿”å›å€¼</strong>ï¼Œä¸€èˆ¬ç”¨æ¥<strong>æ‰§è¡ŒRunnable</strong></li><li><T>  Future<T>  submit(Callable<T> task)ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œ<strong>æœ‰è¿”å›å€¼</strong>ï¼Œä¸€èˆ¬ç”¨æ¥<strong>æ‰§è¡ŒCallable</strong></li><li>void shutdown()ï¼š<strong>å…³é—­è¿æ¥æ± </strong></li></ul></li><li>Executorsï¼š<strong>å·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»</strong>ï¼Œç”¨äº<strong>åˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± </strong><ul><li>Executors.newCachedThreadPool()ï¼šåˆ›å»ºä¸€ä¸ªå¯æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± </li><li>Executors.newFixedThreadPool(n)ï¼šåˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± </li><li>Executors.newSingleThreadExecutor()ï¼šåˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± </li><li>Executors.newScheduledThreadPool(n)ï¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå®ƒå¯å®‰æ’åœ¨ç»™å®šå»¶è¿Ÿåè¿è¡Œå‘½ä»¤æˆ–è€…å®šæœŸåœ°æ‰§è¡Œ</li></ul></li></ul><pre><code class="java">/*    åˆ›å»ºæ–°çº¿ç¨‹æ–¹å¼å››ï¼šä½¿ç”¨çº¿ç¨‹æ±     é¢è¯•é¢˜ï¼šåˆ›å»ºå¤šçº¿ç¨‹çš„å‡ ç§æ–¹æ³•ï¼Ÿå››ç§ */class NumberThread implements Runnable &#123;    @Override    public void run() &#123;        for (int i = 1; i &lt;= 100; i++) &#123;            if(i % 2 == 0) &#123;                System.out.println(Thread.currentThread().getName() + &quot;:&quot; + i);            &#125;        &#125;    &#125;&#125;public class ThreadTest11 &#123;    public static void main(String[] args) &#123;        //1.æä¾›æŒ‡å®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ±         ExecutorService service = Executors.newFixedThreadPool(10); //åˆ›å»ºå‡ºä¸€ä¸ªThreadPoolExecutorç±»å‹çš„çº¿ç¨‹æ± ï¼Œè¿”å›ä¸€ä¸ªExecutorServiceæ¥å£ï¼Œä»æºç å…³ç³»å¯ä»¥çœ‹å‡ºè¿™å„¿ç›¸å½“äºå‘ä¸Šè½¬å‹        //å¦‚æœæƒ³è®¾ç½®çº¿ç¨‹æ± çš„ä¸€äº›ç›¸å…³å±æ€§,éœ€è¦å°†æ¥å£å¯¹è±¡serviceå‘ä¸‹è½¬æˆå®ç°ç±»ThreadPoolExecutorå¯¹è±¡æ‰èƒ½è°ƒç”¨å…¶è‡ªèº«æ‹¥æœ‰çš„æ–¹æ³•        ThreadPoolExecutor service1 = (ThreadPoolExecutor)service;        service1.setCorePoolSize(15);//æ¯”å¦‚è®¾ç½®æœ€å¤§è¿æ¥æ•°        //2.æ‰§è¡ŒæŒ‡å®šçš„çº¿ç¨‹çš„æ“ä½œï¼Œéœ€è¦æä¾›å®ç°Runnableæˆ–Callableæ¥å£çš„å®ç°ç±»çš„å¯¹è±¡        service.execute(new NumberThread());//é€‚åˆä½¿ç”¨äºRunnable //æ‰§è¡Œçš„æ˜¯åˆ›å»ºå‡ºçš„çº¿ç¨‹æ± ç±»å‹å¯¹åº”ç±»ä¸­çš„execute()æ–¹æ³•        //service.submit(Callable callable);//é€‚åˆé€‚ç”¨äºCallable        //3.å…³é—­çº¿ç¨‹æ±         service.shutdown();    &#125;&#125;</code></pre><h2 id="å…«ã€Javaå¸¸ç”¨ç±»"><a href="#å…«ã€Javaå¸¸ç”¨ç±»" class="headerlink" title="å…«ã€Javaå¸¸ç”¨ç±»"></a>å…«ã€Javaå¸¸ç”¨ç±»</h2><h3 id="8-1-å­—ç¬¦ä¸²ç›¸å…³çš„ç±»"><a href="#8-1-å­—ç¬¦ä¸²ç›¸å…³çš„ç±»" class="headerlink" title="8.1 å­—ç¬¦ä¸²ç›¸å…³çš„ç±»"></a>8.1 å­—ç¬¦ä¸²ç›¸å…³çš„ç±»</h3><h4 id="8-1-1-Stringç±»"><a href="#8-1-1-Stringç±»" class="headerlink" title="8.1.1 Stringç±»"></a>8.1.1 Stringç±»</h4><h5 id="1-Stringçš„ç‰¹æ€§"><a href="#1-Stringçš„ç‰¹æ€§" class="headerlink" title="1.Stringçš„ç‰¹æ€§"></a>1.Stringçš„ç‰¹æ€§</h5><ul><li>Stringç±»ï¼šä»£è¡¨å­—ç¬¦ä¸²ã€‚Javaç¨‹åºä¸­çš„æ‰€æœ‰<strong>å­—ç¬¦ä¸²å­—é¢å€¼</strong>ï¼ˆå¦‚ â€œabcâ€)éƒ½<strong>ä½œä¸ºæ­¤ç±»çš„å®ä¾‹å®ç°</strong></li><li>Stringæ˜¯ä¸€ä¸ªfinalç±»ï¼Œä»£è¡¨<strong>ä¸å¯å˜</strong>çš„å­—ç¬¦åºåˆ—</li><li>å­—ç¬¦ä¸²æ˜¯<strong>å¸¸é‡</strong>ï¼Œç”¨åŒå¼•å·å¼•èµ·æ¥è¡¨ç¤ºã€‚å®ƒä»¬çš„å€¼åœ¨<strong>åˆ›å»ºä¹‹åä¸èƒ½æ›´æ”¹</strong></li><li>Stringå¯¹è±¡çš„<strong>å­—ç¬¦å†…å®¹æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„value[]ä¸­</strong>çš„</li><li>Stringå®ç°äº†serializableæ¥å£ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯<strong>æ”¯æŒåºåˆ—åŒ–</strong>çš„</li><li>Stringå®ç°äº†Comparableæ¥å£ï¼šè¡¨ç¤ºString<strong>å¯ä»¥æ¯”è¾ƒå¤§å°</strong></li><li>Stringå†…éƒ¨å®šä¹‰äº†final char[ ] <strong>valueç”¨äºå­˜å‚¨å­—ç¬¦ä¸²æ•°æ®</strong></li><li>Stringï¼šä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ã€‚ç®€ç§°ï¼š<strong>ä¸å¯å˜æ€§</strong><ul><li>å½“<strong>å¯¹å­—ç¬¦ä¸²é‡æ–°èµ‹å€¼</strong>æ—¶ï¼Œä¼š<strong>é‡å†™æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼</strong>ï¼Œ<strong>ä¸èƒ½</strong>ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼</li><li>å½“<strong>å¯¹ç°æœ‰çš„å­—ç¬¦ä¸²è¿›è¡Œè¿æ¥æ“ä½œ</strong>æ—¶ï¼Œä¹Ÿ<strong>ä¼šé‡æ–°æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼</strong>ï¼Œ<strong>ä¸èƒ½</strong>ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼</li><li>å½“è°ƒç”¨Stringçš„<strong>replace()æ–¹æ³•ä¿®æ”¹æŒ‡å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²</strong>æ—¶ï¼Œä¹Ÿ<strong>ä¼šé‡æ–°æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼</strong></li></ul></li><li>é€šè¿‡<strong>å­—é¢é‡çš„æ–¹å¼</strong>(åŒºåˆ«äºnewï¼‰ç»™ä¸€ä¸ªå­—ç¬¦ä¸²èµ‹å€¼ï¼Œæ­¤æ—¶çš„<strong>å­—ç¬¦ä¸²å€¼å£°æ˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­</strong></li><li>å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯ä¸ä¼šå­˜å‚¨å·²æœ‰<strong>ç›¸åŒå†…å®¹</strong>çš„å­—ç¬¦ä¸²çš„</li></ul><pre><code class="java">String s1 = &quot;abc&quot;; //å­—é¢é‡çš„å®šä¹‰æ–¹å¼String s2 = &quot;abc&quot;;System.out.println(s1 == s2);//è¿”å›trues2 = &quot;hello&quot;;System.out.println(s1 == s2);//è¿”å›falseSystem.out.println(s1);//abcSystem.out.println(s2);//helloString s3 = &quot;abc&quot;;System.out.print1n(s3);//abcs3 += &quot;def&quot;;System.out.print1n(s3);//abcdefString s4 = &quot;abc&quot;;String s5 = s4.replace(&#39;a&#39;,&#39;m&#39;);System.out.println(s4); //abcSystem.out.println(s5); //mbc</code></pre><h5 id="2-String-å¯¹è±¡çš„åˆ›å»º"><a href="#2-String-å¯¹è±¡çš„åˆ›å»º" class="headerlink" title="2.String å¯¹è±¡çš„åˆ›å»º"></a>2.String å¯¹è±¡çš„åˆ›å»º</h5><p>é¢è¯•é¢˜ï¼šString s = new String(â€œabcâ€)æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œåœ¨å†…å­˜ä¸­åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡?<br><strong>ä¸¤ä¸ª</strong>ï¼šä¸€ä¸ªæ˜¯å †ç©ºé—´ä¸­newç»“æ„ï¼Œå¦ä¸€ä¸ªæ˜¯char[]å¯¹åº”çš„å¸¸é‡æ± ä¸­çš„æ•°æ®ï¼šâ€abcâ€</p><pre><code class="java">String str = &quot;he1lo&quot;; //å­—é¢é‡å®šä¹‰String s1 = new String(); //æœ¬è´¨ä¸Šthis.value = new char[0];String s2 = new String(String original); //this.value = original.value;//this.value = Arrays.copy0f(value, value.length);String s3 = new String(char[] a);String s4 = new String(char[] a,int startIndex , int count) ;</code></pre><pre><code class="java">Person p1 = new Person(&quot;Tom&quot;,12);Person p2 = new Person(&quot;Tom&quot;,12);System.out.println(p1.name.equals(p2.name));//trueSystem.out.println(p1.name == p2.name);//true//å¦‚æœæƒ³æ”¹å˜åå­—ï¼Œå¦‚p1.name = &quot;Jerry&quot;,è¿˜åœ¨å¸¸é‡æ± ä¸­åˆæ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´å­˜å‚¨&quot;Jerry&quot;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638158.png' data-fancybox='default' data-caption='image-20210729172439917'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638158.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638158.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210729172439917"></a><span class='image-caption'>image-20210729172439917</span></div></div><h5 id="3-Stringä¸åŒæ‹¼æ¥æ“ä½œçš„æ¯”è¾ƒ"><a href="#3-Stringä¸åŒæ‹¼æ¥æ“ä½œçš„æ¯”è¾ƒ" class="headerlink" title="3.Stringä¸åŒæ‹¼æ¥æ“ä½œçš„æ¯”è¾ƒ"></a>3.Stringä¸åŒæ‹¼æ¥æ“ä½œçš„æ¯”è¾ƒ</h5><pre><code class="java">String s1 = &quot;javaEE&quot;;String s2 = &quot;hadoop&quot;;String s3 = &quot;javaEEhadoop&quot; ;String s4 = &quot;javaEE&quot; + &quot;hadoop&quot;;String s5 = s1 + &quot;hadoop&quot; ;String s6 = &quot;javaEE&quot; + s2;String s7 = s1 + s2;final String s8 = &quot;javaEE&quot;;//å¸¸é‡String s9 = s9 + &quot;hadoop&quot;;System.out.println(s3 == s4);//trueSystem.out.println(s3 == s5);//falseSystem.out.println(s3 == s6);//falseSystem.out.print1n(s3 == s7);//falseSystem.out.println(s5 == s6);//falseSystem.out.print1n(s5 == s7);//falseSystem.out.println(s6 == s7);//falseSystem.out.println(s3 == s9);//trueï¼Œs8ä¸ºfinalä¿®é¥°ï¼Œæ‰€ä»¥s9æ˜¯å¸¸é‡åŠ å¸¸é‡ï¼Œä¹Ÿå­˜å‚¨åœ¨å¸¸é‡æ± ï¼Œæ‰€ä»¥ä¸ºtrueString s8 = s5.intern();//è¿”å›å€¼å¾—åˆ°çš„s8ä½¿ç”¨çš„æ˜¯å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨çš„javaEEhadoop&quot;//str5è°ƒç”¨intern()æ–¹æ³•æ—¶ï¼ŒJavaæŸ¥æ‰¾å¸¸é‡æ± ä¸­æ˜¯å¦æœ‰ç›¸åŒUnicodeçš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è¿”å›å…¶çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åœ¨å¸¸é‡æ± ä¸­å¢åŠ ä¸€ä¸ªUnicodeç­‰äºstrçš„å­—ç¬¦ä¸²å¹¶è¿”å›å®ƒçš„å¼•ç”¨System.out.println(s3 == s8);//true</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638514.png' data-fancybox='default' data-caption='image-20210729173652497'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638514.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201638514.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210729173652497"></a><span class='image-caption'>image-20210729173652497</span></div></div><p><strong>ç»“è®ºï¼š</strong></p><ul><li><strong>å¸¸é‡ä¸å¸¸é‡çš„æ‹¼æ¥ç»“æœåœ¨å¸¸é‡æ± </strong>ã€‚ä¸”å¸¸é‡æ± ä¸­ä¸ä¼šå­˜åœ¨ç›¸åŒå†…å®¹çš„å¸¸é‡</li><li>åªè¦<strong>å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å˜é‡ï¼Œç»“æœå°±åœ¨å †ä¸­</strong></li><li>å¦‚æœ<strong>æ‹¼æ¥çš„ç»“æœè°ƒç”¨intern(æ–¹æ³•ï¼Œè¿”å›å€¼å°±åœ¨å¸¸é‡æ± ä¸­</strong></li></ul><pre><code class="java">//ç»ƒä¹ ï¼šé¢è¯•é¢˜String str = new String(&quot;good&quot;); //æ­¤æ—¶stræŒ‡å‘å †ä¸­çš„new String(&quot;good&quot;)char[] ch = &#123; &#39;t&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39; &#125;;//åŒæ ·ï¼ŒchæŒ‡å‘å †ä¸­çš„testpublic void change(String str, char ch[]) &#123;//ä¼ å…¥strå’ŒchæŒ‡å‘çš„å¯¹è±¡çš„å¼•ç”¨å€¼    str = &quot;test ok&quot;; //æ­¤æ—¶æ˜¯å­—é¢é‡åˆ›å»ºï¼Œæ‰€ä»¥ä¼šåˆ›å»ºåœ¨å¸¸é‡æ± ä¸­ï¼Œä½†changeå¤–çš„stræŒ‡å‘å¹¶æ²¡æœ‰å˜ï¼Œæ‰€ä»¥è¾“å‡ºä»æ˜¯good    ch[0] = &#39;b&#39;;//æ ¹æ®ä¼ å…¥çš„æ•°ç»„çš„å¼•ç”¨å€¼ï¼Œå°†å…¶ch[0]çš„å€¼æ”¹å˜äº†ï¼Œæ‰€ä»¥è¾“å‡ºbestpublic static void main(String[] args) &#123;    StringTest ex = new StringTest();    ex.change(ex.str, ex.ch);    System.out.println(ex.str);//good    System.out.println(ex.ch);//best&#125;</code></pre><h5 id="4-JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„"><a href="#4-JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„" class="headerlink" title="4.JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„"></a>4.JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„</h5><p>JDK1.6ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± åœ¨æ–¹æ³•åŒºï¼ˆå…·ä½“å®ç°ï¼šæ°¸ç”Ÿä»£ï¼‰ä¸­</p><p>JDK1.7ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± åœ¨å †ä¸­</p><p>JDK1.8ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± åœ¨æ–¹æ³•åŒºï¼ˆå…·ä½“å®ç°ï¼šå…ƒç©ºé—´ï¼‰ä¸­</p><h5 id="5-Stringå¸¸ç”¨æ–¹æ³•"><a href="#5-Stringå¸¸ç”¨æ–¹æ³•" class="headerlink" title="5.Stringå¸¸ç”¨æ–¹æ³•"></a>5.Stringå¸¸ç”¨æ–¹æ³•</h5><ul><li><p>int length()ï¼šè¿”å›<strong>å­—ç¬¦ä¸²çš„é•¿åº¦</strong>: return value.length</p></li><li><p>char charAt(int index)ï¼šè¿”å›<strong>æŸç´¢å¼•å¤„çš„å­—ç¬¦</strong>return value[index]</p></li><li><p>boolean isEmpty()ï¼šåˆ¤æ–­<strong>æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸²</strong>: return value.length == 0</p></li><li><p>String tol owerCase()ï¼šä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦<strong>è½¬æ¢ä¸ºå°å†™</strong></p></li><li><p>String toUpperCase()ï¼šä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦<strong>è½¬æ¢ä¸ºå¤§å†™</strong></p></li><li><p>String trim()ï¼šè¿”å›å­—ç¬¦ä¸²çš„å‰¯æœ¬ï¼Œ<strong>å¿½ç•¥å‰å¯¼ç©ºç™½å’Œå°¾éƒ¨ç©ºç™½</strong></p></li><li><p>boolean equals(Object obj)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²çš„<strong>å†…å®¹æ˜¯å¦ç›¸åŒ</strong></p></li><li><p>boolean equalslgnoreCase(String anotherString)ï¼šä¸equalsæ–¹æ³•ç±»ä¼¼ï¼Œ <strong>å¿½ç•¥å¤§å°å†™</strong></p></li><li><p>String concat(String str)ï¼šå°†<strong>æŒ‡å®šå­—ç¬¦ä¸²è¿æ¥åˆ°æ­¤å­—ç¬¦ä¸²çš„ç»“å°¾</strong>ã€‚ç­‰ä»·äºç”¨ â€œ+â€</p></li><li><p>int compare To(String anotherString)ï¼š<strong>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°</strong></p></li><li><p>String substring(int beginlndex)ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„<strong>ä»beginIndexå¼€å§‹æˆªå–åˆ°æœ€åçš„ä¸€ä¸ªå­å­—ç¬¦ä¸²</strong></p></li><li><p>String substring(int beginIndex, int endIndex)ï¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²<strong>ä»beginlndexå¼€å§‹æˆªå–åˆ°endIndex(ä¸åŒ…å«)çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²</strong></p></li><li><p>String replace(char oldChar, char newChar)ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡<strong>ç”¨newCharæ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„<em>æ‰€æœ‰</em>oldChar</strong>å¾—åˆ°çš„</p></li><li><p>String replace(CharSequence target, CharSequence replacement)ï¼šä½¿ç”¨<strong>æŒ‡å®šçš„å­—é¢å€¼æ›¿æ¢åºåˆ—æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…å­—é¢å€¼ç›®æ ‡åºåˆ—çš„å­å­—ç¬¦ä¸²</strong></p></li><li><p>String replaceAll(String regex, String replacement)ï¼šä½¿ç”¨<strong>ç»™å®šçš„replacementæ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²</strong></p></li><li><p>String replaceFirst(String regex, String replacement)ï¼šä½¿ç”¨<strong>ç»™å®šçš„replacementæ›¿æ¢æ­¤å­—ç¬¦ä¸²åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²</strong></p></li><li><p>boolean matches(String regex)ï¼šå‘ŠçŸ¥æ­¤å­—ç¬¦ä¸²<strong>æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼</strong></p></li><li><p>String[] split(String regex)ï¼šæ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…<strong>æ‹†åˆ†æ­¤å­—ç¬¦ä¸²</strong></p></li><li><p>String[] split(String regex, int limit)ï¼š<strong>æ ¹æ®åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‹†åˆ†æ­¤å­—ç¬¦ä¸²</strong>ï¼Œæœ€å¤šä¸è¶…è¿‡limitä¸ªï¼Œå¦‚æœè¶…è¿‡äº†ï¼Œå‰©ä¸‹çš„å…¨éƒ¨éƒ½æ”¾åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¸­</p></li><li><p>boolean endsWith(String suffix)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²<strong>æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“æŸ</strong></p></li><li><p>boolean startsWith(String prefix)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²<strong>æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹</strong></p></li><li><p>boolean startsWith(String prefix, int toffset)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²<strong>ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å§‹</strong></p></li><li><p>boolean contains(CharSequence s)ï¼šå½“ä¸”ä»…å½“<strong>æ­¤å­—ç¬¦ä¸²åŒ…å«æŒ‡å®šçš„charå€¼åºåˆ—</strong>æ—¶ï¼Œè¿”å›true</p><pre><code class="java">//è°ƒç”¨æ­¤æ–¹æ³•çš„å­—ç¬¦ä¸²æ˜¯å¦å«æœ‰ä¼ å…¥çš„å­—ç¬¦ä¸²String str1 = &quot;helloworld&quot;;String str2 = &quot;wo&quot;;System.out.println(str1.contains(str2));//true</code></pre></li><li><p>int indexOf(String str)ï¼šè¿”å›<strong>æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•</strong></p></li><li><p>int indexOf(String str, int fromlndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œ<strong>ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹</strong></p></li><li><p>int lastlndexOf(String str)ï¼šè¿”å›<strong>æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°å¤„çš„ç´¢å¼•</strong></p></li><li><p>int lastlndexOf(String str, int fromIndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œ<strong>ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢</strong></p></li><li><p>æ³¨ï¼šindexOfå’ŒlastIndexOfæ–¹æ³•å¦‚æœ<strong>æœªæ‰¾åˆ°éƒ½æ˜¯è¿”å›-1</strong>ï¼Œå¦‚æœåªå‡ºç°ä¸€æ¬¡è¯¥å­å­—ç¬¦ä¸²ï¼Œè¿”å›å€¼ç›¸åŒ</p></li></ul><h5 id="6-Stringä¸å…¶ä»–ç»“æ„ä¹‹é—´çš„è½¬æ¢"><a href="#6-Stringä¸å…¶ä»–ç»“æ„ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="6.Stringä¸å…¶ä»–ç»“æ„ä¹‹é—´çš„è½¬æ¢"></a>6.Stringä¸å…¶ä»–ç»“æ„ä¹‹é—´çš„è½¬æ¢</h5><h6 id="â‘ Stringä¸åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ä¹‹é—´çš„è½¬æ¢"><a href="#â‘ Stringä¸åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="â‘ Stringä¸åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ä¹‹é—´çš„è½¬æ¢"></a>â‘ Stringä¸åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ä¹‹é—´çš„è½¬æ¢</h6><pre><code class="java">//String --&gt;åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»:è°ƒç”¨åŒ…è£…ç±»çš„é™æ€æ–¹æ³•: parseXx(str)String str1 = &quot;123&quot;;int num = (int)str1;//é”™è¯¯çš„int num = Integer.parseInt(str1);//åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»--&gt; String: è°ƒç”¨Stringé‡è½½çš„value0f(xxx)String str2 = String.valueOf(num);//&quot;123&quot;String str3 = num + &quot;&quot;;System.out.println(str1 == str3);//falseï¼Œstr1åœ¨å¸¸é‡æ± ä¸­ï¼Œstr3åœ¨å †ä¸­</code></pre><h6 id="â‘¡Stringä¸char-ä¹‹é—´çš„è½¬æ¢"><a href="#â‘¡Stringä¸char-ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="â‘¡Stringä¸char[]ä¹‹é—´çš„è½¬æ¢"></a>â‘¡Stringä¸char[]ä¹‹é—´çš„è½¬æ¢</h6><pre><code class="java">//String --&gt; char[]: è°ƒç”¨Stringçš„toCharArray()String str1 = &quot;abc123&quot;;char[] charArray = str1. toCharArray();for (int i = 0; i &lt; charArray.1ength; i++) &#123;    System.out.print1n( charArray[i]);&#125;//char[] --&gt; String: è°ƒç”¨Stringçš„æ„é€ å™¨char[] arr = new char[]&#123;&#39;h&#39;,&#39;e&#39;,&#39;1&#39;,&#39;1&#39;,&#39;o&#39;&#125;;String str2 = new String(arr);System.out.println(str2);</code></pre><h6 id="â‘¢Stringä¸byte-ä¹‹é—´çš„è½¬æ¢"><a href="#â‘¢Stringä¸byte-ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="â‘¢Stringä¸byte[]ä¹‹é—´çš„è½¬æ¢"></a>â‘¢Stringä¸byte[]ä¹‹é—´çš„è½¬æ¢</h6><pre><code class="java">//ç¼–ç :å­—ç¬¦ä¸²--&gt;å­—èŠ‚ (çœ‹å¾—æ‡‚ ---&gt;  çœ‹ä¸æ‡‚çš„äºŒè¿›åˆ¶æ•°æ®)//è§£ç :å­—èŠ‚--&gt;å­—ç¬¦ä¸²(çœ‹ä¸æ‡‚çš„äºŒè¿›åˆ¶æ•°æ® ---&gt;çœ‹å¾—æ‡‚)//ç¼–ç : String --&gt; byte[]:è°ƒç”¨Stringçš„getBytes()//è¯´æ˜:è§£ç æ—¶ï¼Œè¦æ±‚è§£ç ä½¿ç”¨çš„å­—ç¬¦é›†å¿…é¡»ä¸ç¼–ç æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†ä¸€è‡´ï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç String str1 = &quot;abc123ä¸­å›½&quot;;byte[] bytes = str1.getBytes();//ä½¿ç”¨é»˜è®¤çš„å­—ç¬¦é›†ï¼Œè¿›è¡Œè½¬æ¢System.out.println(Arrays.toString(bytes));byte[] gbks = str1.getBytes(charsetName: &quot;gbk&quot; );//ä½¿ç”¨gbkå­—ç¬¦é›†è¿›è¡Œç¼–ç System.out.println(Arrays.toString(gbks));//è§£ç : byte[] --&gt; String:è°ƒç”¨Stringçš„æ„é€ å™¨String str2 = new String(bytes);//ä½¿ç”¨é»˜è®¤çš„å­—ç¬¦é›†ï¼ˆUTF-8ï¼‰ï¼Œè¿›è¡Œè§£ç System. out. println(str2);String str3 = new String(gbks) ;System.out.println(str3);//å‡ºç°ä¹±ç ã€‚åŸå› :ç¼–ç é›†å’Œè§£ç é›†ä¸ä¸€è‡´</code></pre><h5 id="7-Stringå¸¸è§çš„ç®—æ³•é¢˜ç›®"><a href="#7-Stringå¸¸è§çš„ç®—æ³•é¢˜ç›®" class="headerlink" title="7.Stringå¸¸è§çš„ç®—æ³•é¢˜ç›®"></a>7.Stringå¸¸è§çš„ç®—æ³•é¢˜ç›®</h5><ol><li>æ¨¡æ‹Ÿä¸€ä¸ªtrim()æ–¹æ³•ï¼Œå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼</li><li>å°†ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œåè½¬ã€‚å°†å­—ç¬¦ä¸²ä¸­æŒ‡å®šéƒ¨åˆ†è¿›è¡Œåè½¬ã€‚æ¯”å¦‚â€œabcdefgâ€åè½¬ä¸ºâ€abfedcgâ€</li><li>è·å–ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œæ¯”å¦‚ï¼šè·å–â€abâ€åœ¨â€abkkcadkabkebfkabkskabâ€ä¸­å‡ºç°çš„æ¬¡æ•°</li><li>è·å–ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æœ€å¤§ç›¸åŒå­ä¸²ã€‚æ¯”å¦‚ï¼šstr1 = â€œabcwerthelloyuiodefâ€ï¼›str2 = â€œcvhellobnmâ€<br> æç¤ºï¼šå°†çŸ­çš„é‚£ä¸ªä¸²è¿›è¡Œé•¿åº¦ä¾æ¬¡é€’å‡çš„å­ä¸²ä¸è¾ƒé•¿çš„ä¸²æ¯”è¾ƒ</li><li>å¯¹å­—ç¬¦ä¸²ä¸­å­—ç¬¦è¿›è¡Œè‡ªç„¶é¡ºåºæ’åº<br> æç¤ºï¼šâ‘ å­—ç¬¦ä¸²å˜æˆå­—ç¬¦æ•°ç»„ â‘¡å¯¹æ•°ç»„æ’åºï¼Œé€‰æ‹©ï¼Œå†’æ³¡ï¼ŒArrays sor() â‘¢å°†æ’åºåçš„æ•°ç»„å˜æˆå­—ç¬¦ä¸²</li></ol><h4 id="8-1-2-StringBufferå’ŒStringBuilder"><a href="#8-1-2-StringBufferå’ŒStringBuilder" class="headerlink" title="8.1.2 StringBufferå’ŒStringBuilder"></a>8.1.2 StringBufferå’ŒStringBuilder</h4><h5 id="1-StringBufferç±»"><a href="#1-StringBufferç±»" class="headerlink" title="1.StringBufferç±»"></a>1.StringBufferç±»</h5><p>java.lang.StringBufferä»£è¡¨<strong>å¯å˜çš„å­—ç¬¦åºåˆ—</strong>ï¼ŒJDK1.0ä¸­å£°æ˜ï¼Œå¯ä»¥å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œå¢åˆ ï¼Œæ­¤æ—¶<strong>ä¸ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡</strong></p><p>å¾ˆå¤šæ–¹æ³•éƒ½å’ŒStringç›¸åŒ</p><p>ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼Œ<strong>æ–¹æ³•å†…éƒ¨å¯ä»¥æ”¹å˜å€¼</strong></p><p>åœ¨StringBufferç±»ä¸­<code>char[] value</code>æ²¡æœ‰ç”¨finalå£°æ˜ï¼Œvalueå¯ä»¥ä¸æ–­æ‰©å®¹ï¼›<code>int count</code>æœ‰æ•ˆå­—ç¬¦çš„ä¸ªæ•°</p><pre><code class="java">//æºç åˆ†æString str = new String();// &lt;=&gt; char[] value = new char[0];String str1 = new String( &quot;abc&quot;);// &lt;=&gt; char[] value = new char[]&#123;&#39;a&#39;, &#39;b&#39;,&#39;c&#39;&#125;;StringBuffer sb1 = new StringBuffer();// &lt;=&gt; char[] value = new char[16]; åº•å±‚åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦æ˜¯16çš„å­—ç¬¦æ•°ç»„System.out.println(sb1.Length());//è¾“å‡º0ï¼Œå› ä¸ºè¯¥ç±»çš„length()æ–¹æ³•æ˜¯è¿”å›æ•°ç»„ä¸­æœ‰æ•ˆå­—ç¬¦çš„ä¸ªæ•°å³return count;sb1.append(&#39;a&#39;);//value[0] = &#39;a&#39;;sb1.append(&#39;b&#39;)://value[1] = &#39;b&#39;;StringBuffer sb2 = new StringBuffer( &quot;abc&quot;);//char[] value = new char[&quot;abc&quot;.Length()+16]//é—®é¢˜1. System.out.println(sb2.Length());//3//é—®é¢˜2.æ‰©å®¹é—®é¢˜:å¦‚æœè¦æ·»åŠ çš„æ•°æ®åº•å±‚æ•°ç»„ç››ä¸ä¸‹äº†ï¼Œé‚£å°±éœ€è¦æ‰©å®¹åº•å±‚çš„æ•°ç»„ã€‚//é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€+ 2,åŒæ—¶å°†åŸæœ‰æ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚//æŒ‡å¯¼æ„ä¹‰:å¼€å‘ä¸­å»ºè®®å¤§å®¶ä½¿ç”¨: StringBuffer(int capacity) æˆ–StringBuilder(int capacity)</code></pre><pre><code class="java">String str = nu1l;StringBuffer sb = new StringBuffer();sb.append(str);//æºç æŠ½è±¡ç±»AbstractStringBuilderä¸­ä¼šåˆ¤æ–­stræ˜¯å¦ä¸ºnullï¼Œå¦‚æœæ˜¯åˆ™ä¼šè°ƒç”¨appendNull()æ–¹æ³•å°†nullå½“ä½œå­—ç¬¦ä¸²æ‹¼æ¥åœ¨sbåé¢System.out.println(sb.1ength());//è¾“å‡º4System.out.print1n(sb);//è¾“å‡ºå­—ç¬¦ä¸²&quot;null&quot;StringBuffer sb1 = new StringBuffer(str);//æŠ›å‡ºNullPointerExceptionå¼‚å¸¸System.out.println(sb1);</code></pre><h5 id="2-StringBuilderç±»"><a href="#2-StringBuilderç±»" class="headerlink" title="2.StringBuilderç±»"></a>2.StringBuilderç±»</h5><p>StringBuilderå’ŒStringBufferéå¸¸ç±»ä¼¼ï¼Œå‡ä»£è¡¨<strong>å¯å˜çš„å­—ç¬¦åºåˆ—</strong>ï¼Œè€Œä¸”æä¾›<strong>ç›¸å…³åŠŸèƒ½çš„æ–¹æ³•ä¹Ÿä¸€æ ·</strong></p><p><strong>é¢è¯•é¢˜ï¼šå¯¹æ¯”Stringã€StringBufferã€ StringBuilderä¸‰è€…çš„å¼‚åŒ</strong><br>String(JDK1.0)ï¼š<strong>ä¸å¯å˜</strong>å­—ç¬¦åºåˆ—<br>StringBuffer(JDK1.0)ï¼š<strong>å¯å˜</strong>å­—ç¬¦åºåˆ—ã€<strong>æ•ˆç‡ä½</strong>ã€<strong>çº¿ç¨‹å®‰å…¨</strong><br>StringBuilder(JDK5.0)ï¼š<strong>å¯å˜</strong>å­—ç¬¦åºåˆ—ã€<strong>æ•ˆç‡é«˜</strong>ã€<strong>çº¿ç¨‹ä¸å®‰å…¨</strong></p><p>æ³¨æ„ï¼šä½œä¸ºå‚æ•°ä¼ é€’çš„è¯ï¼Œ<strong>æ–¹æ³•å†…éƒ¨Stringä¸ä¼šæ”¹å˜å…¶å€¼</strong>ï¼Œ<strong>StringBufferå’ŒStringBuilderä¼šæ”¹å˜å…¶å€¼</strong></p><h5 id="3-StringBufferå’ŒStringBuilderä¸­çš„ä¸€äº›æ–¹æ³•ï¼š"><a href="#3-StringBufferå’ŒStringBuilderä¸­çš„ä¸€äº›æ–¹æ³•ï¼š" class="headerlink" title="3.StringBufferå’ŒStringBuilderä¸­çš„ä¸€äº›æ–¹æ³•ï¼š"></a>3.StringBufferå’ŒStringBuilderä¸­çš„ä¸€äº›æ–¹æ³•ï¼š</h5><ul><li>StringBuffer append(xxx)ï¼šæä¾›äº†å¾ˆå¤šçš„append()æ–¹æ³•ï¼Œ ç”¨äºè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</li><li>StringBuffer delete(int start,int end)ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å†…å®¹</li><li>StringBuffer replace(int start, int end, String str)ï¼šæŠŠ[start,end)ä½ç½®æ›¿æ¢ä¸ºstr</li><li>StringBuffer insert(int offset, xxX)ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥xxx</li><li>StringBuffer reverse()ï¼šæŠŠå½“å‰å­—ç¬¦åºåˆ—é€†è½¬</li><li>public int index0f(String str)</li><li>public String substring(int start, int end)</li><li>public int Length( )</li><li>public char charAt(int n)</li><li>public void setCharAt(int n , char ch)</li></ul><p><strong>æ€»ç»“ï¼š</strong></p><p>å¢ï¼šappend(xxx)<br>åˆ ï¼šdelete(int start, int end)<br>æ”¹ï¼šsetCharAt(int n ,char ch) / replace(int start, int end, String str)<br>æŸ¥ï¼šcharAt(int n )<br>æ’ï¼šinsert(int offset, xxx) .<br>é•¿åº¦ï¼šLength();<br>éå†ï¼šfor() + charAt() / toString() </p><h5 id="4-Stringã€StringBufferã€StringBuilderä¸‰è€…çš„æ•ˆç‡å¯¹æ¯”"><a href="#4-Stringã€StringBufferã€StringBuilderä¸‰è€…çš„æ•ˆç‡å¯¹æ¯”" class="headerlink" title="4.Stringã€StringBufferã€StringBuilderä¸‰è€…çš„æ•ˆç‡å¯¹æ¯”"></a>4.Stringã€StringBufferã€StringBuilderä¸‰è€…çš„æ•ˆç‡å¯¹æ¯”</h5><pre><code class="java">//åˆå§‹è®¾ç½®long startTime = 0L;long endTime = 0L;String text = &quot;&quot;;StringBuffer buffer = new StringBuffer(&quot;&quot;);StringBuilder builder = new StringBuilder(&quot;&quot;);//å¼€å§‹å¯¹æ¯”startTime = System.currentTimeMillis();for(int i=0; i&lt;20000; i++)&#123;    buffer.append(String.valueOf(i));&#125;endTime = System.currentTimeMillis();System.out.println(&quot;StringBufferçš„æ‰§è¡Œæ—¶é—´: &quot; + (endTime - startTime));startTime = System.currentTimeMillis();for(int i=0; i&lt;20000; i++)&#123;    builder.append(String.valueOf(i));&#125;endTime = System.currentTimeMillis();System.out.println(&quot;StringBuilderçš„æ‰§è¡Œæ—¶é—´: &quot; + (endTime - startTime));startTime = System.currentTimeMillis();for(int i=0; i&lt;20000; i++)&#123;    text = text + i;&#125;endTime = System.currentTimeMillis();System.out.println(&quot;Stringçš„æ‰§è¡Œæ—¶é—´: &quot; + (endTime - startTime));//StringBuilder&gt;StringBuffer&gt;String</code></pre><h3 id="8-2-æ—¥æœŸæ—¶é—´ç›¸å…³çš„ç±»"><a href="#8-2-æ—¥æœŸæ—¶é—´ç›¸å…³çš„ç±»" class="headerlink" title="8.2 æ—¥æœŸæ—¶é—´ç›¸å…³çš„ç±»"></a>8.2 æ—¥æœŸæ—¶é—´ç›¸å…³çš„ç±»</h3><h4 id="8-2-1-java-lang-Systemç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"><a href="#8-2-1-java-lang-Systemç±»ï¼ˆJDK8ä¹‹å‰ï¼‰" class="headerlink" title="8.2.1 java.lang.Systemç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"></a>8.2.1 java.lang.Systemç±»ï¼ˆJDK8ä¹‹å‰ï¼‰</h4><p>Systemç±»æä¾›çš„public static <strong>long</strong> currentTimeMillis()ç”¨æ¥è¿”å›<strong>å½“å‰æ—¶é—´</strong>ä¸<strong>1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’</strong>ä¹‹é—´ä»¥<strong>æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´å·®</strong>ï¼ˆæ­¤æ–¹æ³•é€‚äºè®¡ç®—æ—¶é—´å·®ï¼‰</p><pre><code class="java">long time = System.currentTimeMillis();//è¿”å›å½“å‰æ—¶é—´ä¸1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ä¹‹é—´ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´å·®//ç§°ä¸ºæ—¶é—´æˆ³System.out.println(time);</code></pre><p>è®¡ç®—ä¸–ç•Œæ—¶é—´çš„ä¸»è¦æ ‡å‡†æœ‰ï¼š</p><ul><li>UTC(Coordinated Universal Time)</li><li>GMT(Greenwich Mean Time)</li><li>CST(Central Standard Time)</li></ul><h4 id="8-2-2-java-util-Dateç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"><a href="#8-2-2-java-util-Dateç±»ï¼ˆJDK8ä¹‹å‰ï¼‰" class="headerlink" title="8.2.2 java.util.Dateç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"></a>8.2.2 java.util.Dateç±»ï¼ˆJDK8ä¹‹å‰ï¼‰</h4><p>è¡¨ç¤º<strong>ç‰¹å®šçš„ç¬é—´ï¼Œç²¾ç¡®åˆ°æ¯«ç§’</strong></p><p><strong>æ„é€ å™¨ï¼š</strong></p><ul><li>Date():ä½¿ç”¨æ— å‚æ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡å¯ä»¥<strong>è·å–æœ¬åœ°å½“å‰æ—¶é—´</strong></li><li>Date(long date)</li></ul><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>getTime()ï¼šè¿”å›è‡ª 1970 å¹´1æœˆ1æ—¥00:00:00 GMT ä»¥æ¥æ­¤Dateå¯¹è±¡è¡¨ç¤ºçš„æ¯«ç§’æ•°</li><li>toString()ï¼šæŠŠæ­¤ Dateå¯¹è±¡è½¬æ¢ä¸ºä»¥ä¸‹å½¢å¼çš„String: dow mon dd hh:mm:ss zzz yyyy å…¶ä¸­: dow æ˜¯ä¸€å‘¨ä¸­çš„æŸä¸€å¤© (Sun, Mon, Tue, Wed, Thu, Fri, Sat)ï¼Œzzzæ˜¯æ—¶é—´æ ‡å‡†</li><li>å…¶å®ƒå¾ˆå¤šæ–¹æ³•éƒ½è¿‡æ—¶äº†</li></ul><pre><code class="java">//æ„é€ å™¨ä¸€ï¼šDate()ï¼Œè¿”å›å½“å‰æ—¶é—´çš„Dateå¯¹è±¡Date date = new Date();System.out.println(date.toString());//Fri Jul 30 11:20:58 CST 2021System.out.println(date.getTime());//1627615258490//æ„é€ å™¨äºŒï¼šDate(long date)ï¼Œè¿”å›æŒ‡å®šæ¯«ç§’æ•°çš„Dateå¯¹è±¡Date date1 = new Date(372846236919L);System.out.println(date1);//Sun Oct 25 16:23:56 CST 1981</code></pre><p><strong>java.sql.Dateå¯¹åº”ç€æ•°æ®åº“ä¸­çš„æ—¥æœŸç±»å‹çš„å˜é‡</strong></p><ul><li>å¦‚ä½•å®ä¾‹åŒ–</li></ul><pre><code class="java">java.sql.Date date2 = new java.sql.Date(9837592502580L);System.out.println(date2);//2281-09-28</code></pre><ul><li>å¦‚ä½•å°†java.util.Dateå¯¹è±¡è½¬æ¢ä¸ºjava.sql.Dateå¯¹è±¡</li></ul><pre><code class="java">//æƒ…å†µä¸€:Date date4 = new java.sql.Date(2343243242323L); //å­ç±»è½¬çˆ¶ç±»java.sql.Date date5 = (java.sql.Date)date4; //å¯ä»¥èµ‹å€¼ç»™å­ç±»å¯¹è±¡//æƒ…å†µäºŒ:Date date6 = new Date();java.sq1.Date date7 = (java.sql.Date)date6 //çˆ¶ç±»ç›´æ¥å‘ä¸‹è½¬æˆå­ç±»ï¼ŒæŠ¥é”™java.sq1.Date date7 = new java.sq1.Date(date6.getTime()); //å…ˆå°†è·å¾—çˆ¶ç±»å¯¹è±¡çš„æ¯«ç§’æ•°å†åˆ©ç”¨æ„é€ å™¨è½¬æ¢æˆsqlä¸­çš„æ—¥æœŸ</code></pre><h4 id="8-2-3-java-text-SimpleDateFormatç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"><a href="#8-2-3-java-text-SimpleDateFormatç±»ï¼ˆJDK8ä¹‹å‰ï¼‰" class="headerlink" title="8.2.3 java.text.SimpleDateFormatç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"></a>8.2.3 java.text.SimpleDateFormatç±»ï¼ˆJDK8ä¹‹å‰ï¼‰</h4><p>Dateç±»çš„APIä¸æ˜“äºå›½é™…åŒ–ï¼Œå¤§éƒ¨åˆ†è¢«åºŸå¼ƒäº†ï¼Œjava.text.SimpleDateFormatç±»æ˜¯ä¸€ä¸ªä¸ä¸è¯­è¨€ç¯å¢ƒæœ‰å…³çš„æ–¹å¼æ¥æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»</p><p>å®ƒå…è®¸è¿›è¡Œæ ¼å¼åŒ–ï¼šæ—¥æœŸ -&gt; æ–‡æœ¬ã€ è§£æï¼šæ–‡æœ¬ -&gt; æ—¥æœŸ</p><p>æ ¼å¼åŒ–ï¼š<br>SimpleDateFormat()ï¼š<strong>é»˜è®¤çš„æ¨¡å¼</strong>å’Œè¯­è¨€ç¯å¢ƒåˆ›å»ºå¯¹è±¡<br>public SimpleDateFormat(String pattern)ï¼šè¯¥æ„é€ æ–¹æ³•å¯ä»¥ç”¨<strong>å‚æ•°patternæŒ‡å®šçš„æ ¼å¼</strong>åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ è¯¥å¯¹è±¡è°ƒç”¨:<br>public String format(Date date)æ–¹æ³•<strong>æ ¼å¼åŒ–</strong>æ—¶é—´å¯¹è±¡date</p><p>è§£æï¼špublic Date parse(String source)ï¼šä»ç»™å®šå­—ç¬¦ä¸²çš„å¼€å§‹<strong>è§£ææ–‡æœ¬</strong>ï¼Œä»¥<strong>ç”Ÿæˆä¸€ä¸ªæ—¥æœŸ</strong></p><pre><code class="java">//ä½¿ç”¨é»˜è®¤æ„é€ å™¨å®ä¾‹åŒ–SimpleDateFormatå¯¹è±¡SimpleDateFormat simpleDateFormat = new SimpleDateFormat();//æ ¼å¼åŒ–ï¼šæ—¥æœŸ --&gt; å­—ç¬¦ä¸²Date date = new Date();String format = simpleDateFormat.format(date);System.out.println(format);//è§£æï¼šå­—ç¬¦ä¸² --&gt; æ—¥æœŸString str = &quot;21-7-31 ä¸Šåˆ10:23&quot;;//ä½¿ç”¨SimpleDateFormaté»˜è®¤æ„é€ å™¨å®ä¾‹åŒ–çš„å¯¹è±¡å¿…é¡»ä½¿ç”¨è¿™ç§è¿™ç§æ ¼å¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸Date date1 = simpleDateFormat.parse(str);System.out.println(date1);//æŒ‰ç…§æŒ‡å®šæ ¼å¼è¿›è¡Œæ ¼å¼åŒ–å’Œè§£æï¼šè°ƒç”¨å¸¦å‚çš„æ„é€ å™¨System.out.println(&quot;============æŒ‡å®šæ ¼å¼==============&quot;);SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);//ä¼ å…¥çš„å‚æ•°å³ä¸ºæ—¥æœŸè¦æ ¼å¼åŒ–å’Œè§£æçš„æ ¼å¼//æ ¼å¼åŒ–Date date2 = new Date();String format1 = sdf.format(date2);System.out.println(format1);//è§£æï¼šè¦æ±‚å­—ç¬¦ä¸²å¿…é¡»æ˜¯ç¬¦åˆSimpleDateFormatçš„æ ¼å¼String str1 = &quot;2021-07-31 10:34:45&quot;;Date date3 = sdf.parse(str1);System.out.println(date3);</code></pre><h4 id="8-2-4-java-utils-Calendar-æ—¥å†-ç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"><a href="#8-2-4-java-utils-Calendar-æ—¥å†-ç±»ï¼ˆJDK8ä¹‹å‰ï¼‰" class="headerlink" title="8.2.4 java.utils.Calendar(æ—¥å†)ç±»ï¼ˆJDK8ä¹‹å‰ï¼‰"></a>8.2.4 java.utils.Calendar(æ—¥å†)ç±»ï¼ˆJDK8ä¹‹å‰ï¼‰</h4><p>Calendaræ˜¯ä¸€ä¸ª<strong>æŠ½è±¡åŸºç±»</strong>ï¼Œä¸»ç”¨ç”¨äºå®Œæˆæ—¥æœŸå­—æ®µä¹‹é—´ç›¸äº’æ“ä½œçš„åŠŸèƒ½</p><p><strong>è·å–Calendarå®ä¾‹çš„æ–¹æ³•ï¼š</strong></p><ul><li>ä½¿ç”¨**Calendar.getInstance()**æ–¹æ³•</li><li>è°ƒç”¨å®ƒçš„å­ç±»<strong>GregorianCalendarçš„æ„é€ å™¨</strong></li></ul><p>ä¸€ä¸ªCalendarçš„å®ä¾‹æ˜¯ç³»ç»Ÿæ—¶é—´çš„æŠ½è±¡è¡¨ç¤ºï¼Œé€šè¿‡<strong>get(int field)æ–¹æ³•æ¥å–å¾—æƒ³è¦çš„æ—¶é—´ä¿¡æ¯</strong>ã€‚æ¯”å¦‚YEARã€MONTHã€DAY_OF_ _WEEKã€HOUR_OF_DAY ã€MINUTEã€SECOND</p><ul><li>public void set(int field,int value)</li><li>public void add(int field,int amount)</li><li>public final Date getTime()</li><li>public final void setTime(Date date)</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>è·å–æœˆä»½æ—¶ï¼šä¸€æœˆæ˜¯0ï¼ŒäºŒæœˆæ˜¯1ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ12æœˆæ˜¯11</li><li>è·å–æ˜ŸæœŸæ—¶ï¼šå‘¨æ—¥æ˜¯1ï¼Œå‘¨äºŒæ˜¯2ï¼Œã€‚ã€‚ã€‚ã€‚å‘¨å…­æ˜¯7</li></ul><pre><code class="java">//1.å®ä¾‹åŒ–//æ–¹å¼ä¸€ï¼šåˆ›å»ºå…¶å­ç±»ï¼ˆGregorianCalendarï¼‰çš„å¯¹è±¡//æ–¹å¼äºŒï¼šè°ƒç”¨å…¶é™æ€æ–¹æ³•getInstance()Calendar calendar = Calendar.getInstance();//è¿”å›çš„å…¶å®è¿˜æ˜¯å­ç±»GregorianCalendarçš„å¯¹è±¡//2.å¸¸ç”¨æ–¹æ³•int days = calendar.get(Calendar.DAY_OF_MONTH);//get(),è·å–å½“å‰calendarå¯¹è±¡å¯¹åº”å­—æ®µçš„å€¼System.out.println(days);System.out.println(&quot;==============&quot;);calendar.set(Calendar.DAY_OF_MONTH,22);//set(),è®¾ç½®å½“å‰calendarå¯¹è±¡çš„å±æ€§å­—æ®µå€¼ï¼Œdays = calendar.get(Calendar.DAY_OF_MONTH);System.out.println(days);System.out.println(&quot;==============&quot;);calendar.add(Calendar.DAY_OF_MONTH,4);//add(),åœ¨å½“å‰calendarå¯¹è±¡å¯¹åº”å­—æ®µå€¼çš„åŸºç¡€ä¸ŠåŠ å‡System.out.println(calendar.get(Calendar.DAY_OF_MONTH));System.out.println(&quot;==============&quot;);Date date = calendar.getTime();//getTime(),æ—¥å†ç±» --&gt; DateSystem.out.println(date);System.out.println(&quot;==============&quot;);Date date1 = new Date();calendar.setTime(date1);//setTime(),Date --&gt; æ—¥å†ç±»System.out.println(calendar.get(Calendar.DAY_OF_MONTH));</code></pre><h4 id="8-2-5-java-timeï¼ˆJDK8ä¸­ï¼‰"><a href="#8-2-5-java-timeï¼ˆJDK8ä¸­ï¼‰" class="headerlink" title="8.2.5 java.timeï¼ˆJDK8ä¸­ï¼‰"></a>8.2.5 java.timeï¼ˆJDK8ä¸­ï¼‰</h4><p>Java8å¸æ”¶äº†Joda-Timeçš„ç²¾åï¼Œä»¥ä¸€ä¸ªæ–°çš„å¼€å§‹ä¸ºJavaåˆ›å»ºä¼˜ç§€çš„API</p><p>æ–°çš„<strong>java.time</strong>ä¸­åŒ…å«äº†æ‰€æœ‰å…³äº<strong>æœ¬åœ°æ—¥æœŸ(LocalDate)</strong> ã€<strong>æœ¬åœ°æ—¶é—´(LocalTime)<strong>ã€</strong>æœ¬åœ°æ—¥æœŸæ—¶é—´(LocalDateTime)</strong> ã€<strong>æ—¶åŒº( ZonedDate Time)<strong>å’Œ</strong>æŒç»­æ—¶é—´(Duration)<strong>çš„ç±»ã€‚å†å²æ‚ ä¹…çš„Dateç±»æ–°å¢äº†</strong>tolnstant() æ–¹æ³•, ç”¨äºæŠŠDateè½¬æ¢æˆæ–°çš„è¡¨ç¤ºå½¢å¼</strong></p><p>LocalDateã€LocalTimeã€LocalDateTimeç±»æ˜¯å…¶ä¸­è¾ƒé‡è¦çš„å‡ ä¸ªç±»ï¼Œå®ƒä»¬çš„å®ä¾‹æ˜¯<strong>ä¸å¯å˜çš„å¯¹è±¡</strong>ï¼Œåˆ†åˆ«è¡¨ç¤ºä½¿ç”¨ISO-8601æ—¥å†ç³»ç»Ÿçš„<strong>æ—¥æœŸ</strong>ã€<strong>æ—¶é—´</strong>ã€<strong>æ—¥æœŸå’Œæ—¶é—´</strong>ã€‚å®ƒä»¬æä¾›äº†ç®€å•çš„<strong>æœ¬åœ°æ—¥æœŸæˆ–æ—¶é—´</strong>ï¼Œå¹¶ä¸åŒ…å«å½“å‰çš„æ—¶é—´ä¿¡æ¯ï¼Œä¹Ÿä¸åŒ…å«ä¸æ—¶åŒºç›¸å…³çš„ä¿¡æ¯</p><ul><li>LocalDate<strong>ä»£è¡¨IOSæ ¼å¼(yyyy-MM-dd) çš„æ—¥æœŸ</strong>ï¼Œå¯ä»¥å­˜å‚¨ç”Ÿæ—¥ã€çºªå¿µæ—¥ç­‰æ—¥æœŸ</li><li>LocalTime<strong>è¡¨ç¤ºä¸€ä¸ªæ—¶é—´ï¼Œ è€Œä¸æ˜¯æ—¥æœŸ</strong></li><li>LocalDateTimeæ˜¯ç”¨æ¥<strong>è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´</strong>çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ€å¸¸ç”¨çš„ç±»ä¹‹ä¸€</li></ul><p>æ³¨ï¼šISO-8601æ—¥å†ç³»ç»Ÿæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡åˆ¶å®šçš„ç°ä»£å…¬æ°‘çš„æ—¥æœŸå’Œæ—¶é—´çš„è¡¨ç¤ºæ³•ï¼Œä¹Ÿå°±æ˜¯<strong>å…¬å†</strong></p><h5 id="1-LocalDateã€LocalTimeã€LocalDateTimeç±»"><a href="#1-LocalDateã€LocalTimeã€LocalDateTimeç±»" class="headerlink" title="1.LocalDateã€LocalTimeã€LocalDateTimeç±»"></a>1.LocalDateã€LocalTimeã€LocalDateTimeç±»</h5><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">now() / * now(Zoneld zone)</td><td align="center">é™æ€æ–¹æ³•ï¼Œ<strong>æ ¹æ®å½“å‰æ—¶é—´åˆ›å»ºå¯¹è±¡/æŒ‡å®šæ—¶åŒºçš„å¯¹è±¡</strong></td></tr><tr><td align="center">of()</td><td align="center">é™æ€æ–¹æ³•ï¼Œ<strong>æ ¹æ®æŒ‡å®šæ—¥æœŸ/æ—¶é—´åˆ›å»ºå¯¹è±¡</strong></td></tr><tr><td align="center">getDayOfMonth()/getDayOfYear()</td><td align="center"><strong>è·å¾—</strong>æœˆä»½å¤©æ•°(1-31) /è·å¾—å¹´ä»½å¤©æ•°(1-366)</td></tr><tr><td align="center">getDayOfWeek()</td><td align="center">è·å¾—æ˜ŸæœŸå‡ (è¿”å›ä¸€ä¸ªDayOfWeekæšä¸¾å€¼)</td></tr><tr><td align="center">getMonth()</td><td align="center">è·å¾—æœˆä»½ï¼Œè¿”å›ä¸€ä¸ªMonthæšä¸¾å€¼</td></tr><tr><td align="center">getMonthValue()/getYear()</td><td align="center">è·å¾—æœˆä»½(1-12)/è·å¾—å¹´ä»½</td></tr><tr><td align="center">getHour()/getMinute()/getSecond()</td><td align="center">è·å¾—å½“å‰å¯¹è±¡å¯¹åº”çš„å°æ—¶ã€åˆ†é’Ÿã€ç§’</td></tr><tr><td align="center">withDayOfMonth()/withDayOfYear()/withMonth()/withYear()</td><td align="center">å°†æœˆä»½å¤©æ•°ã€å¹´ä»½å¤©æ•°ã€æœˆä»½ã€å¹´ä»½ä¿®æ”¹ä¸ºæŒ‡å®šçš„å€¼å¹¶<strong>è¿”å›æ–°çš„å¯¹è±¡</strong></td></tr><tr><td align="center">plusDays(), plusWeeks(),plusMonths(), plusYears(),plusHours()</td><td align="center"><strong>å‘å½“å‰å¯¹è±¡æ·»åŠ </strong>å‡ å¤©ã€å‡ å‘¨ã€å‡ ä¸ªæœˆã€å‡ å¹´ã€å‡ å°æ—¶</td></tr><tr><td align="center">minusMonths()/minusWeeks()/minusDays()/minus Years()/minusHours</td><td align="center"><strong>ä»å½“å‰å¯¹è±¡å‡å»</strong>å‡ æœˆã€å‡ å‘¨ã€å‡ å¤©ã€å‡ å¹´ã€å‡ å°æ—¶</td></tr></tbody></table><pre><code class="java">//jdk8ä¸­çš„æ—¶é—´API//LocalDateã€LocalTimeã€LocalDateTimeè·å–å½“å‰çš„æ—¥æœŸã€æ—¶é—´ã€æ—¥æœŸ+æ—¶é—´ï¼ŒLocalDateTimeä½¿ç”¨æœ€å¤š//æ–¹æ³•ä¸€ï¼šnow()å®ä¾‹åŒ–å¯¹è±¡LocalDate now = LocalDate.now();LocalTime now1 = LocalTime.now();LocalDateTime now2 = LocalDateTime.now();System.out.println(now);System.out.println(now1);System.out.println(now2);//æ–¹æ³•äºŒï¼šof()å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¯æŒ‡å®šå…·ä½“çš„æ—¥æœŸå’Œæ—¶é—´å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’,æ²¡æœ‰åç§»é‡LocalDateTime of = LocalDateTime.of(2021, 7, 31, 16, 30, 34);System.out.println(of);//getXxx()System.out.println(of.getDayOfMonth());System.out.println(of.getDayOfWeek());System.out.println(of.getMonth());System.out.println(of.getMonthValue());System.out.println(of.getMinute());//withXxxx(),è¿”å›æ–°çš„å¯¹è±¡ï¼ŒåŸå¯¹è±¡ä»ç„¶ä¿å­˜ï¼Œä½“ç°å‡ºä¸å¯å˜æ€§LocalDateTime localDateTime = of.withDayOfMonth(20);System.out.println(localDateTime);//plusXxxx(),è¿”å›æ–°çš„å¯¹è±¡ï¼ŒåŸå¯¹è±¡ä»ç„¶ä¿å­˜ï¼Œä½“ç°å‡ºä¸å¯å˜æ€§LocalDateTime localDateTime1 = of.plusMonths(2);System.out.println(localDateTime1);//minusXxxx(),è¿”å›æ–°çš„å¯¹è±¡ï¼ŒåŸå¯¹è±¡ä»ç„¶ä¿å­˜ï¼Œä½“ç°å‡ºä¸å¯å˜æ€§LocalDateTime localDateTime2 = of.minusHours(2);System.out.println(localDateTime2);</code></pre><h5 id="2-Instantç±»"><a href="#2-Instantç±»" class="headerlink" title="2.Instantç±»"></a>2.Instantç±»</h5><p>Instantï¼š<strong>æ—¶é—´çº¿ä¸Šçš„ä¸€ä¸ªç¬æ—¶ç‚¹</strong>ã€‚è¿™å¯èƒ½è¢«ç”¨æ¥è®°å½•åº”ç”¨ç¨‹åºä¸­çš„äº‹ä»¶æ—¶é—´æˆ³</p><p>åœ¨å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæƒ³åˆ°å¹´ï¼Œæœˆï¼Œæ—¥ï¼Œæ—¶ï¼Œåˆ†ï¼Œç§’ã€‚ç„¶è€Œï¼Œè¿™åªæ˜¯æ—¶é—´çš„ä¸€ä¸ªæ¨¡å‹ï¼Œæ˜¯é¢å‘äººç±»çš„ã€‚ç¬¬äºŒç§é€šç”¨æ¨¡å‹æ˜¯é¢å‘æœºå™¨çš„ï¼Œæˆ–è€…è¯´æ˜¯è¿ç»­çš„ã€‚åœ¨æ­¤æ¨¡å‹ä¸­ï¼Œæ—¶é—´çº¿ä¸­çš„ä¸€ä¸ªç‚¹è¡¨ç¤ºä¸ºä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œè¿™æœ‰åˆ©äºè®¡ç®—æœºå¤„ç†ã€‚åœ¨UNIXä¸­ï¼Œè¿™ä¸ªæ•°ä»1970å¹´å¼€å§‹ï¼Œ ä»¥ç§’ä¸ºçš„å•ä½ï¼›åŒæ ·çš„ï¼Œåœ¨Javaä¸­ï¼Œä¹Ÿæ˜¯ä»1970å¹´å¼€å§‹ï¼Œä½†ä»¥æ¯«ç§’ä¸ºå•ä½</p><p>javatimeåŒ…é€šè¿‡å€¼ç±»å‹Instantæä¾›æœºå™¨è§†å›¾ï¼Œä¸æä¾›å¤„ç†äººç±»æ„ä¹‰ä¸Šçš„æ—¶é—´å•ä½ã€‚<strong>Instantè¡¨ç¤ºæ—¶é—´çº¿ä¸Šçš„ä¸€ç‚¹</strong>ï¼Œè€Œä¸éœ€è¦ä»»ä½•ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œæ—¶åŒºã€‚æ¦‚å¿µä¸Šè®²ï¼Œ<strong>å®ƒåªæ˜¯ç®€å•çš„è¡¨ç¤ºè‡ª1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’(UTC)å¼€å§‹çš„ç§’æ•°</strong>ã€‚å› ä¸ºjava.timeåŒ…æ˜¯åŸºäºçº³ç§’è®¡ç®—çš„ï¼Œæ‰€ä»¥Instantçš„ç²¾åº¦å¯ä»¥è¾¾åˆ°çº³ç§’çº§</p><p>(1ns= 10^-9s) 1ç§’= 1000æ¯«ç§’=10^6å¾®ç§’=10^9çº³ç§’</p><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">now()</td><td align="center">é™æ€æ–¹æ³•ï¼Œ<strong>è¿”å›é»˜è®¤UTCæ—¶åŒºçš„Instantç±»çš„å¯¹è±¡</strong></td></tr><tr><td align="center">ofEpochMill(long epochMili)</td><td align="center">é™æ€æ–¹æ³•ï¼Œè¿”å›<strong>åœ¨1970-01-01 00:00:00åŸºç¡€ä¸ŠåŠ ä¸ŠæŒ‡å®šæ¯«ç§’æ•°ä¹‹åçš„Instantç±»çš„å¯¹è±¡</strong></td></tr><tr><td align="center">atOffset(ZoneOffset offset)</td><td align="center">ç»“åˆå³æ—¶çš„åç§»æ¥åˆ›å»ºä¸€ä¸ª<strong>OffsetDateTime</strong></td></tr><tr><td align="center">toEpochMilli()</td><td align="center"><strong>è¿”å›1970-01-01 00:00:00åˆ°å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°</strong>ï¼Œå³ä¸ºæ—¶é—´æˆ³</td></tr></tbody></table><p>æ—¶é—´æˆ³æ˜¯æŒ‡æ ¼æ—å¨æ²»æ—¶é—´1970å¹´01æœˆ01æ—¥00æ—¶00åˆ†00ç§’(åŒ—äº¬æ—¶é—´1970å¹´01æœˆ01æ—¥08æ—¶00åˆ†00ç§’)èµ·è‡³ç°åœ¨çš„æ€»ç§’æ•°</p><pre><code class="java">//now(),æœ¬åˆå­åˆçº¿çš„æ ‡å‡†æ—¶é—´Instant now = Instant.now();System.out.println(now);//2021-07-31T09:15:43.844Z//atOffset(),æ·»åŠ æ—¶é—´åç§»é‡OffsetDateTime offsetDateTime = now.atOffset(ZoneOffset.ofHours(8));System.out.println(offsetDateTime);//2021-07-31T17:15:43.844+08:00//toEpochMilli(),è·å–è‡ª1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ï¼ˆUTCï¼‰å¼€å§‹åˆ°å½“å‰çš„æ¯«ç§’æ•°ï¼Œç±»ä¼¼äºgetTime()long milli = now.toEpochMilli();System.out.println(milli);//1627722943844//ofEpochMilli(),åˆ›å»ºåœ¨1970-01-01 00:00:00åŸºç¡€ä¸ŠåŠ ä¸ŠæŒ‡å®šæ¯«ç§’æ•°ä¹‹åçš„Instantç±»çš„å¯¹è±¡ï¼Œç±»ä¼¼äºnew Date(long milli)Instant instant = Instant.ofEpochMilli(1627722943844L);System.out.println(instant);//2021-07-31T09:15:43.844Z</code></pre><h5 id="3-java-time-format-DateTimeFormpatterç±»"><a href="#3-java-time-format-DateTimeFormpatterç±»" class="headerlink" title="3.java.time.format.DateTimeFormpatterç±»"></a>3.java.time.format.DateTimeFormpatterç±»</h5><p>java.time.format.DateTimeFormpatterç±»ç±»ä¼¼äºSimpleDateFormatç±»ï¼Œéƒ½æ˜¯æ ¼å¼åŒ–æˆ–è§£ææ—¥æœŸã€æ—¶é—´çš„ç±»</p><p>è¯¥ç±»æä¾›äº†ä¸‰ç§æ ¼å¼åŒ–æ–¹æ³•ï¼š</p><ul><li><strong>é¢„å®šä¹‰çš„æ ‡å‡†æ ¼å¼</strong>ã€‚å¦‚:ISO_LOCAL_DATE_TIMEï¼›ISO_LOCAL_DATEï¼›ISO_LOCAL_TIME</li><li><strong>æœ¬åœ°åŒ–ç›¸å…³çš„æ ¼å¼</strong>ã€‚ å¦‚ï¼šofLocalizedDateTime(FormatStyle.LONG/FormatStyle.MEDIUM/FormatStyLe.SHORT)ã€ofLocalizedDate(FormatStyLe.FULL/FormatStyLe.LONG/FormatStyLe.MEDIUM/FormatStyLe.SHORT)</li><li><strong>è‡ªå®šä¹‰çš„æ ¼å¼</strong>ã€‚å¦‚ï¼šofPattern(â€œyyyy-MM-dd hh:mm:ss Eâ€)</li></ul><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">ofPattern(String pattern)</td><td align="center">é™æ€æ–¹æ³•ï¼Œ<strong>è¿”å›ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²æ ¼å¼çš„DateTimeFormatter</strong></td></tr><tr><td align="center">format(TemporalAccessor t)</td><td align="center"><strong>æ ¼å¼åŒ–ä¸€ä¸ªæ—¥æœŸã€ æ—¶é—´ï¼Œè¿”å›å­—ç¬¦ä¸²</strong></td></tr><tr><td align="center">parse(CharSequence text)</td><td align="center"><strong>å°†æŒ‡å®šæ ¼å¼çš„å­—ç¬¦åºåˆ—è§£æä¸ºä¸€ä¸ªæ—¥æœŸã€æ—¶é—´</strong></td></tr></tbody></table><pre><code class="java">//æ–¹æ³•ä¸€ï¼šé¢„å®šä¹‰çš„æ ‡å‡†æ ¼å¼ã€‚å¦‚:ISO_LOCAL_DATE_TIMEï¼›ISO_LOCAL_DATEï¼›ISO_LOCAL_TIMEDateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME;//æ ¼å¼åŒ–:æ—¥æœŸ ---&gt; å­—ç¬¦ä¸²LocalDateTime now = LocalDateTime.now();String str = formatter.format(now);System.out.println(now);//2021-07-31T18:00:04.243System.out.println(str);//2021-07-31T18:00:04.243//è§£æ:å­—ç¬¦ä¸² ---&gt; æ—¥æœŸTemporalAccessor parse = formatter.parse(&quot;2021-07-31T17:38:27.063&quot;);System.out.println(parse);//&#123;&#125;,ISO resolved to 2021-07-31T17:38:27.063//æ–¹æ³•äºŒï¼š//æœ¬åœ°åŒ–ç›¸å…³çš„æ ¼å¼ã€‚ å¦‚ï¼šofLocalizedDateTime(FormatStyle.LONG)LocalDateTime now1 = LocalDateTime.now();DateTimeFormatter formatter1 = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG);//æ ¼å¼åŒ–String str1 = formatter1.format(now1);System.out.println(now1);//2021-07-31T18:00:04.251System.out.println(str1);//2021å¹´7æœˆ31æ—¥ ä¸‹åˆ06æ—¶00åˆ†04ç§’//è§£æTemporalAccessor parse1 = formatter1.parse(&quot;2021å¹´7æœˆ31æ—¥ ä¸‹åˆ05æ—¶52åˆ†08ç§’&quot;);System.out.println(parse1);//&#123;&#125;,ISO resolved to 2021-07-31T17:52:08//æœ¬åœ°åŒ–ç›¸å…³çš„æ ¼å¼ã€‚ å¦‚ï¼šofLocalizedDate(FormatStyle.FULL)LocalDate now2 = LocalDate.now();DateTimeFormatter formatter2 = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL);//æ ¼å¼åŒ–String str2 = formatter2.format(now2);System.out.println(now2);//2021-07-31System.out.println(str2);//2021å¹´7æœˆ31æ—¥ æ˜ŸæœŸå…­//è§£æTemporalAccessor parse2 = formatter2.parse(&quot;2021å¹´7æœˆ31æ—¥ æ˜ŸæœŸå…­&quot;);System.out.println(parse2);//&#123;&#125;,ISO resolved to 2021-07-31//æ–¹æ³•ä¸‰ï¼šé‡ç‚¹ï¼šè‡ªå®šä¹‰çš„æ ¼å¼ã€‚å¦‚ï¼šofPattern(&quot;yyyy-MM-dd hh:mm:ss E&quot;)DateTimeFormatter formatter3 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&quot;);//æ ¼å¼åŒ–String str3 = formatter3.format(LocalDateTime.now());System.out.println(str3);//2021-07-31 06:06:53//è§£æTemporalAccessor parse3 = formatter3.parse(&quot;2021-07-31 06:06:37&quot;);System.out.println(parse3);//&#123;SecondOfMinute=37, HourOfAmPm=6, MicroOfSecond=0, NanoOfSecond=0, MinuteOfHour=6, MilliOfSecond=0&#125;,ISO resolved to 2021-07-31</code></pre><h5 id="4-å…¶ä»–API"><a href="#4-å…¶ä»–API" class="headerlink" title="4.å…¶ä»–API"></a>4.å…¶ä»–API</h5><p>ZoneIdï¼šè¯¥ç±»ä¸­åŒ…å«äº†<strong>æ‰€æœ‰çš„æ—¶åŒºä¿¡æ¯ï¼Œä¸€ä¸ªæ—¶åŒºçš„ID</strong>ï¼Œå¦‚Europe/Paris</p><p>ZonedDateTimeï¼šä¸€ä¸ªåœ¨IS0-8601æ—¥å†ç³»ç»Ÿæ—¶åŒºçš„æ—¥æœŸæ—¶é—´ï¼Œå¦‚2007-12-03T10:15:30+01:00 Europe/Paris</p><ul><li>å…¶ä¸­æ¯ä¸ªæ—¶åŒºéƒ½å¯¹åº”ç€IDï¼Œ<strong>åœ°åŒºIDéƒ½ä¸ºâ€œ{åŒºåŸŸ}{åŸå¸‚}â€</strong>çš„æ ¼å¼ï¼Œä¾‹å¦‚ï¼šAsia/Shanghaiç­‰</li></ul><p>Clockï¼šä½¿ç”¨æ—¶åŒºæä¾›<strong>å¯¹å½“å‰å³æ—¶ã€æ—¥æœŸå’Œæ—¶é—´çš„è®¿é—®çš„æ—¶é’Ÿ</strong></p><ul><li>æŒç»­æ—¶é—´: Duration, ç”¨äºè®¡ç®—ä¸¤ä¸ªâ€œæ—¶é—´â€é—´éš”</li><li>æ—¥æœŸé—´éš”: Periodï¼Œ ç”¨äºè®¡ç®—ä¸¤ä¸ªâ€œæ—¥æœŸâ€é—´éš”</li></ul><p>TemporalAdjusterï¼š<strong>æ—¶é—´æ ¡æ­£</strong>å™¨ã€‚æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦è·å–ä¾‹å¦‚ï¼šå°†æ—¥æœŸè°ƒæ•´åˆ°â€œä¸‹ä¸€ä¸ªå·¥ä½œæ—¥â€ç­‰æ“ä½œ</p><p>TemporalAdjustersï¼šè¯¥ç±»é€šè¿‡é™æ€æ–¹æ³•(firstDayOfXxx()/lastDayOfXxx()/nextXxx())æä¾›äº†å¤§é‡çš„å¸¸ç”¨TemporalAdjusterçš„å®ç°</p><h3 id="8-3-Javaæ¯”è¾ƒå™¨"><a href="#8-3-Javaæ¯”è¾ƒå™¨" class="headerlink" title="8.3 Javaæ¯”è¾ƒå™¨"></a>8.3 Javaæ¯”è¾ƒå™¨</h3><p>Javaå®ç°å¯¹è±¡æ’åºçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ul><li>è‡ªç„¶æ’åºï¼šjava.lang.Comparable</li><li>å®šåˆ¶æ’åºï¼šjava.util.Comparator</li></ul><p>è¯´æ˜ï¼šJavaä¸­çš„å¯¹è±¡ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåªèƒ½è¿›è¡Œæ¯”è¾ƒï¼š==æˆ–!=ã€‚ä¸èƒ½ä½¿ç”¨&gt;æˆ–&lt;çš„ï¼Œä½†æ˜¯åœ¨å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ’åºï¼Œè¨€å¤–ä¹‹æ„ï¼Œå°±éœ€è¦æ¯”è¾ƒå¯¹è±¡çš„å¤§å°</p><p>å¦‚ä½•å®ç°å‘¢?ä½¿ç”¨ä¸¤ä¸ªæ¥å£ä¸­çš„ä»»ä½•ä¸€ä¸ª: Comparable æˆ–Comparator</p><h4 id="8-3-1-Comparableæ¥å£-è‡ªç„¶æ’åº"><a href="#8-3-1-Comparableæ¥å£-è‡ªç„¶æ’åº" class="headerlink" title="8.3.1 Comparableæ¥å£(è‡ªç„¶æ’åº)"></a>8.3.1 Comparableæ¥å£(è‡ªç„¶æ’åº)</h4><p>Comparableæ¥å£<strong>å¼ºè¡Œå¯¹å®ç°å®ƒçš„æ¯ä¸ªç±»çš„å¯¹è±¡è¿›è¡Œæ•´ä½“æ’åº</strong>ã€‚è¿™ç§æ’åºè¢«ç§°ä¸ºç±»çš„è‡ªç„¶æ’åº</p><p>å®ç°Comparableçš„ç±»å¿…é¡»å®ç°compare To(Object obj)æ–¹æ³•ï¼Œä¸¤ä¸ªå¯¹è±¡å³é€šè¿‡compareTo(Object obj)æ–¹æ³•çš„è¿”å›å€¼æ¥æ¯”è¾ƒå¤§å°ã€‚<strong>å¦‚æœå½“å‰å¯¹è±¡thiså¤§äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›æ­£æ•´æ•°ï¼Œå¦‚æœå½“å‰å¯¹è±¡thiså°äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›è´Ÿæ•´æ•°ï¼Œå¦‚æœå½“å‰å¯¹è±¡thisç­‰äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›é›¶</strong></p><p>å®ç°Comparableæ¥å£çš„å¯¹è±¡åˆ—è¡¨(å’Œæ•°ç»„)å¯ä»¥é€šè¿‡Collections.sortæˆ–Arrays.sortè¿›è¡Œè‡ªåŠ¨æ’åºã€‚å®ç°æ­¤æ¥å£çš„å¯¹è±¡å¯ä»¥ç”¨ä½œæœ‰åºæ˜ å°„ä¸­çš„é”®æˆ–æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼Œæ— éœ€æŒ‡å®šæ¯”è¾ƒå™¨</p><p>å¯¹äºç±»Cçš„æ¯ä¸€ä¸ªe1å’Œe2æ¥è¯´ï¼Œå½“ä¸”ä»ªå½“e1.compareTo(e2) == 0ä¸e1.equals(e2)å…·æœ‰ç›¸åŒçš„booleanå€¼æ—¶ï¼Œç±»Cçš„è‡ªç„¶æ’åºæ‰å«åšä¸equalsä¸€è‡´ã€‚<strong>å»ºè®®(è™½ç„¶ä¸æ˜¯å¿…éœ€çš„)æœ€å¥½ä½¿è‡ªç„¶æ’åºä¸equalsä¸€è‡´</strong></p><pre><code class="java">//Comparableæ¥å£çš„ä½¿ç”¨å®ä¾‹ï¼š//1.Stringã€åŒ…è£…ç±»ç­‰å®ç°äº†Comparableæ¥å£ï¼Œé‡å†™äº†compareTo(obj)æ–¹æ³•ï¼Œç»™å‡ºäº†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡å¤§å°çš„æ–¹æ³•//2.Stringã€åŒ…è£…ç±»é‡å†™compareTo()æ–¹æ³•ä»¥åï¼Œè¿›è¡Œäº†ä»å°åˆ°å¤§çš„æ’åˆ—//3.é‡å†™compareTo(obj)çš„è§„åˆ™://  å¦‚æœå½“å‰å¯¹è±¡ä¸Šhiså¤§äºå½¢å‚å¯¹è±¡obj,åˆ™è¿”å›æ­£æ•´æ•°ï¼Œ//  å¦‚æœå½“å‰å¯¹è±¡thiså°äºå½¢å‚å¯¹è±¡obj,åˆ™è¿”å›è´Ÿæ•´æ•°ï¼Œ//  å¦‚æœå½“å‰å¯¹è±¡thisç­‰äºå½¢å‚å¯¹è±¡obj,åˆ™è¿”å›é›¶ã€‚String[] arr = new String[]&#123;&quot;AA&quot;,&quot;CC&quot;,&quot;KK&quot;,&quot;MM&quot;,&quot;GG&quot;,&quot;JJ&quot;,&quot;DD&quot;&#125;;Arrays.sort(arr);//sortæ–¹æ³•åº•å±‚æ˜¯é€šè¿‡Comparableæ¥å£å®ç°çš„ï¼Œå³ä¼ å…¥æ•°ç»„çš„å…ƒç´ çš„ç±»å‹å¿…é¡»è¦å®ç°Comparableæ¥å£ï¼Œç„¶åä¼šè°ƒç”¨ComparableTo()æ–¹æ³•è¿›è¡Œå„å…ƒç´ é—´çš„æ¯”è¾ƒSystem.out.println(Arrays.toString(arr));//[AA, CC, DD, GG, JJ, KK, MM]//4.å¯¹äºè‡ªå®šä¹‰ç±»æ¥è¯´,å¦‚æœéœ€è¦æ’åº,æˆ‘ä»¬å¯ä»¥è®©è‡ªå®šä¹‰ç±»å®ç°Comparableæ¥å£,é‡å†™compareTo(obj)æ–¹æ³•,åœ¨æ–¹æ³•ä¸­æŒ‡æ˜å¦‚ä½•æ’åºï¼Œä»å¦ä¸€æ–¹é¢è¯´æ˜äº†éœ€è¦è¿›è¡Œæ¯”è¾ƒçš„æ•°ç»„å…ƒç´ ç±»å‹å¯¹åº”çš„ç±»å¿…é¡»å®ç°Comparableæ¥å£public class Goods implements Comparable &#123;    private String name;    private double price;    public Goods() &#123;    &#125;    public Goods(String name, double price) &#123;        this.name = name;        this.price = price;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public double getPrice() &#123;        return price;    &#125;    public void setPrice(double price) &#123;        this.price = price;    &#125;    @Override    public String toString() &#123;        return &quot;Goods&#123;&quot; +                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +                &quot;, price=&quot; + price +                &#39;&#125;&#39;;    &#125;    //æŒ‡æ˜å•†å“æ¯”è¾ƒå¤§å°çš„æ–¹å¼ï¼šæŒ‰ä»·æ ¼ä»ä½åˆ°é«˜    @Override    public int compareTo(Object o) &#123;        if(o instanceof Goods) &#123;            Goods goods = (Goods) o;            //æ–¹å¼ä¸€ï¼š            if(this.price &gt; goods.price)                return 1;            else if(this.price &lt; goods.price)                return -1;            else                return 0;            //æ–¹å¼äºŒï¼š            //return Double.compare(this.price,goods.price);        &#125;        throw new RuntimeException(&quot;ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸æ­£ç¡®&quot;);    &#125;&#125;main()&#123;    Goods[] goods = new Goods[4];    goods[0] = new Goods(&quot;lenovoMouse&quot;,34);    goods[1] = new Goods(&quot;dellMouse&quot;,43);    goods[2] = new Goods(&quot;xiaomiMouse&quot;,20);    goods[3] = new Goods(&quot;huaweiMouse&quot;,65);    Arrays.sort(goods);    System.out.println(Arrays.toString(goods));//[Goods&#123;name=&#39;xiaomiMouse&#39;, price=20.0&#125;, Goods&#123;name=&#39;lenovoMouse&#39;, price=34.0&#125;, Goods&#123;name=&#39;dellMouse&#39;, price=43.0&#125;, Goods&#123;name=&#39;huaweiMouse&#39;, price=65.0&#125;]&#125;</code></pre><h4 id="8-3-2-Comparatoræ¥å£-å®šåˆ¶æ’åº"><a href="#8-3-2-Comparatoræ¥å£-å®šåˆ¶æ’åº" class="headerlink" title="8.3.2 Comparatoræ¥å£(å®šåˆ¶æ’åº)"></a>8.3.2 Comparatoræ¥å£(å®šåˆ¶æ’åº)</h4><p>å½“å…ƒç´ çš„ç±»å‹<strong>æ²¡æœ‰å®ç°java.lang.Comparableæ¥å£è€Œåˆä¸æ–¹ä¾¿ä¿®æ”¹ä»£ç </strong>ï¼Œæˆ–è€…<strong>å®ç°äº†java.lang.Comparableæ¥å£çš„æ’åºè§„åˆ™ä¸é€‚åˆå½“å‰çš„æ“ä½œ</strong>ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨Comparator çš„å¯¹è±¡æ¥æ’åºï¼Œ<strong>å¼ºè¡Œå¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ•´ä½“æ’åºçš„æ¯”è¾ƒ</strong></p><p>é‡å†™compare(Object o1,Object o2)æ–¹æ³•ï¼Œæ¯”è¾ƒo1å’Œo2çš„å¤§å°ï¼š<strong>å¦‚æœæ–¹æ³•è¿”å›æ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºo1å¤§äºo2ï¼›å¦‚æœè¿”å›0ï¼Œè¡¨ç¤ºç›¸ç­‰ï¼›è¿”å›è´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºo1å°äºo2</strong></p><p>å¯ä»¥<strong>å°†Comparatorä¼ é€’ç»™sortæ–¹æ³•</strong>(å¦‚Collections.sortæˆ–Arrays.sort)ï¼Œä»è€Œå…è®¸åœ¨æ’åºé¡ºåºä¸Šå®ç°ç²¾ç¡®æ§åˆ¶</p><p>è¿˜å¯ä»¥ä½¿ç”¨Comparatoræ¥æ§åˆ¶æŸäº›æ•°æ®ç»“æ„ï¼ˆå¦‚æœ‰åºsetæˆ–æœ‰åºæ˜ å°„ï¼‰çš„é¡ºåºï¼Œæˆ–è€…ä¸ºé‚£äº›æ²¡æœ‰è‡ªç„¶é¡ºåºçš„å¯¹è±¡collectionæä¾›æ’åº</p><pre><code class="java">//Comparatoræ¥å£//Stringç±»æµ‹è¯•String[] arr = new String[]&#123;&quot;AA&quot;,&quot;CC&quot;,&quot;KK&quot;,&quot;MM&quot;,&quot;GG&quot;,&quot;JJ&quot;,&quot;DD&quot;&#125;;Arrays.sort(arr,new Comparator()&#123;    //å­—ç¬¦ä¸²ä»å¤§åˆ°å°è¿›è¡Œæ’åˆ—    @Override    public int compare(Object o1, Object o2) &#123;        if(o1 instanceof String &amp;&amp; o2 instanceof String) &#123;            String s1 = (String) o1;            String s2 = (String) o2;            return -s1.compareTo(s2);        &#125;        throw new RuntimeException(&quot;è¾“å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´&quot;);    &#125;&#125;);System.out.println(Arrays.toString(arr));//[MM, KK, JJ, GG, DD, CC, AA]//è‡ªå®šä¹‰ç±»æµ‹è¯•Goods[] goods = new Goods[5];goods[0] = new Goods(&quot;lenovoMouse&quot;,34);goods[1] = new Goods(&quot;dellMouse&quot;,43);goods[2] = new Goods(&quot;xiaomiMouse&quot;,20);goods[3] = new Goods(&quot;huaweiMouse&quot;,65);goods[4] = new Goods(&quot;huaweiMouse&quot;,165);Arrays.sort(goods,new Comparator() &#123;    //å•†å“å…ˆæŒ‰å•†å“åä»ä½åˆ°é«˜æ’ï¼Œå¦‚æœå•†å“åä¸€æ ·åˆ™æŒ‰ä»·æ ¼ä»é«˜åˆ°ä½æ’    @Override    public int compare(Object o1, Object o2) &#123;        if(o1 instanceof Goods &amp;&amp; o2 instanceof Goods) &#123;            Goods goods1 = (Goods) o1;            Goods goods2 = (Goods) o2;            if(goods1.getName().equals(goods2.getName()))&#123;                return -Double.compare(goods1.getPrice(),goods2.getPrice());//ä»·æ ¼ä»é«˜åˆ°ä½æ’            &#125;else&#123;                return goods1.getName().compareTo(goods2.getName());//å•†å“åå­—ä»ä½åˆ°é«˜æ’åº            &#125;        &#125;        throw new RuntimeException(&quot;æ¯”è¾ƒçš„ç±»å‹ä¸ä¸€æ ·&quot;);    &#125;&#125;);System.out.println(Arrays.toString(goods));//[Goods&#123;name=&#39;dellMouse&#39;, price=43.0&#125;, Goods&#123;name=&#39;huaweiMouse&#39;, price=165.0&#125;, Goods&#123;name=&#39;huaweiMouse&#39;, price=65.0&#125;, Goods&#123;name=&#39;lenovoMouse&#39;, price=34.0&#125;, Goods&#123;name=&#39;xiaomiMouse&#39;, price=20.0&#125;]</code></pre><h4 id="8-3-3-Comparableæ¥å£ä¸Comparatoræ¥å£çš„ç®€å•å¯¹æ¯”"><a href="#8-3-3-Comparableæ¥å£ä¸Comparatoræ¥å£çš„ç®€å•å¯¹æ¯”" class="headerlink" title="8.3.3 Comparableæ¥å£ä¸Comparatoræ¥å£çš„ç®€å•å¯¹æ¯”"></a>8.3.3 Comparableæ¥å£ä¸Comparatoræ¥å£çš„ç®€å•å¯¹æ¯”</h4><p>Comparableæ¥å£çš„æ–¹å¼ä¸€æ—¦ä¸€å®šï¼Œä¿è¯<strong>Comparableæ¥å£å®ç°ç±»çš„å¯¹è±¡åœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥æ¯”è¾ƒå¤§å°</strong></p><p>Comparatoræ¥å£å±äº<strong>ä¸´æ—¶æ€§çš„æ¯”è¾ƒ</strong></p><h3 id="8-4-Systemç±»"><a href="#8-4-Systemç±»" class="headerlink" title="8.4 Systemç±»"></a>8.4 Systemç±»</h3><p>Systemç±»ä»£è¡¨ç³»ç»Ÿï¼Œç³»ç»Ÿçº§çš„å¾ˆå¤šå±æ€§å’Œæ§åˆ¶æ–¹æ³•éƒ½æ”¾ç½®åœ¨è¯¥ç±»çš„å†…éƒ¨ã€‚è¯¥ç±»ä½äºjava.langåŒ…</p><p>ç”±äºè¯¥ç±»çš„<strong>æ„é€ å™¨æ˜¯private</strong>çš„ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ— æ³•å®ä¾‹åŒ–è¯¥ç±»ã€‚å…¶<strong>å†…éƒ¨çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•éƒ½æ˜¯static</strong>çš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œè°ƒç”¨ã€‚</p><p>æˆå‘˜å˜é‡</p><ul><li>Systemç±»å†…éƒ¨åŒ…å«inã€outå’Œerrä¸‰ä¸ªæˆå‘˜å˜é‡ï¼Œåˆ†åˆ«ä»£è¡¨æ ‡å‡†è¾“å…¥æµ(é”®ç›˜è¾“å…¥)ï¼Œæ ‡å‡†è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)å’Œæ ‡å‡†é”™è¯¯è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)</li></ul><p>æˆå‘˜æ–¹æ³•</p><ul><li><p>native long currentTimeMillis()ï¼šè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯<strong>è¿”å›å½“å‰çš„è®¡ç®—æœºæ—¶é—´</strong>ï¼Œæ—¶é—´çš„è¡¨è¾¾æ ¼å¼ä¸ºå½“å‰è®¡ç®—æœºæ—¶é—´å’ŒGMTæ—¶é—´(æ ¼æ—å¨æ²»æ—¶é—´)1970å¹´1æœˆ1å·0æ—¶0åˆ†0ç§’æ‰€å·®çš„æ¯«ç§’æ•°</p></li><li><p>void exit(int status)ï¼šè¯¥æ–¹æ³•çš„<strong>ä½œç”¨æ˜¯é€€å‡ºç¨‹åº</strong>ã€‚å…¶ä¸­statusçš„å€¼ä¸º<strong>0ä»£è¡¨æ­£å¸¸é€€å‡º</strong>ï¼Œ<strong>éé›¶ä»£è¡¨å¼‚å¸¸é€€å‡º</strong>ã€‚ä½¿ç”¨<strong>è¯¥æ–¹æ³•å¯ä»¥åœ¨å›¾å½¢ç•Œé¢ç¼–ç¨‹ä¸­å®ç°ç¨‹åºçš„é€€å‡ºåŠŸèƒ½</strong>ç­‰</p></li><li><p>void gc()ï¼šè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯<strong>è¯·æ±‚ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶</strong>ã€‚è‡³äºç³»ç»Ÿæ˜¯å¦ç«‹åˆ»å›æ”¶ï¼Œåˆ™å–å†³äºç³»ç»Ÿä¸­åƒåœ¾å›æ”¶ç®—æ³•çš„å®ç°ä»¥åŠç³»ç»Ÿæ‰§è¡Œæ—¶çš„æƒ…å†µ</p></li><li><p>String getProperty(String key)ï¼šè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯<strong>è·å¾—ç³»ç»Ÿä¸­å±æ€§åä¸ºkeyçš„å±æ€§å¯¹åº”çš„å€¼</strong>ã€‚ç³»ç»Ÿä¸­å¸¸è§çš„å±æ€§åä»¥åŠå±æ€§çš„ä½œç”¨å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th align="center">å±æ€§å</th><th align="center">å±æ€§è¯´æ˜</th></tr></thead><tbody><tr><td align="center">java.version</td><td align="center">Javaè¿è¡Œæ—¶ç¯å¢ƒç‰ˆæœ¬</td></tr><tr><td align="center">java.home</td><td align="center">Javaå®‰è£…ç›®å½•</td></tr><tr><td align="center">os.name</td><td align="center">æ“ä½œç³»ç»Ÿçš„åç§°</td></tr><tr><td align="center">os.version</td><td align="center">æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬</td></tr><tr><td align="center">user.name</td><td align="center">ç”¨æˆ·çš„è´¦æˆ·åç§°</td></tr><tr><td align="center">user.home</td><td align="center">ç”¨æˆ·çš„ä¸»ç›®å½•</td></tr><tr><td align="center">user.dir</td><td align="center">ç”¨æˆ·çš„å½“å‰å·¥ä½œç›®å½•</td></tr></tbody></table><pre><code class="java">String javaVersion = System.getProperty(&quot;java.version&quot;);System.out.println(&quot;javaçš„version:&quot; + javaVersion);//javaçš„version:1.8.0_291String javaHome = System.getProperty(&quot;java.home&quot;);System.out.println(&quot;javaçš„home:&quot; + javaHome);//javaçš„home:C:\ProgramFiles\Java\jdk1.8.0_291\jreString osName = System.getProperty(&quot;os.name&quot;);System.out.println(&quot;osçš„name:&quot; + osName );//osçš„name:Windows 10String osVersion = System.getProperty(&quot;os.version&quot;);System.out.println(&quot;osçš„version:&quot; + osVersion);//osçš„version: 10.0String userName = System.getProperty(&quot;user.name&quot; );System.out.println(&quot;userçš„name:&quot; + userName);//userçš„name:AdministratorString userHome = System.getProperty(&quot;user.home&quot;);System.out.println(&quot;userçš„home:&quot; + userHome);//userçš„home:C:\Users\AdministratorString userDir = System.getProperty(&quot;user.dir&quot;);System.out.println(&quot;userçš„dir:&quot; + userDir);//userçš„dir:E:\JavaProject\IDEAProject\è‡ªä¸»ç»ƒä¹ \Demo</code></pre></li></ul><h3 id="8-5-Mathç±»"><a href="#8-5-Mathç±»" class="headerlink" title="8.5 Mathç±»"></a>8.5 Mathç±»</h3><p>java.lang.Mathæä¾›äº†ä¸€ç³»åˆ—<strong>é™æ€æ–¹æ³•</strong>ç”¨äºç§‘å­¦è®¡ç®—ã€‚å…¶æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ä¸€èˆ¬ä¸ºdoubleå‹</p><table><thead><tr><th align="center">æ–¹æ³•å</th><th align="center">ç”¨æ³•</th></tr></thead><tbody><tr><td align="center">abs</td><td align="center">ç»å¯¹å€¼</td></tr><tr><td align="center">acos,asin,atan,cos,sin,tan</td><td align="center">ä¸‰è§’å‡½æ•°</td></tr><tr><td align="center">sqrt</td><td align="center">å¹³æ–¹æ ¹</td></tr><tr><td align="center">pow(double a,doble b)</td><td align="center">açš„bæ¬¡å¹‚</td></tr><tr><td align="center">log</td><td align="center">è‡ªç„¶å¯¹æ•°</td></tr><tr><td align="center">exp</td><td align="center">eä¸ºåº•æŒ‡æ•°</td></tr><tr><td align="center">max(double a,double b)</td><td align="center">å–aä¸bä¹‹é—´çš„æœ€å¤§å€¼</td></tr><tr><td align="center">min(double a,double b)</td><td align="center">å–aä¸bä¹‹é—´çš„æœ€å°å€¼</td></tr><tr><td align="center">random()</td><td align="center">è¿”å›0.0åˆ°1.0çš„éšæœºæ•°</td></tr><tr><td align="center">long round(double a)</td><td align="center">doubleå‹æ•°æ®aè½¬æ¢ä¸ºlongå‹(å››èˆäº”å…¥)</td></tr><tr><td align="center">toDegrees(double angrad)</td><td align="center">å¼§åº¦ â€“&gt; è§’åº¦</td></tr><tr><td align="center">toRadians(double angdeg)</td><td align="center">è§’åº¦ â€“&gt; å¼§åº¦</td></tr></tbody></table><h3 id="8-6-BigIntegerä¸BigDecimal"><a href="#8-6-BigIntegerä¸BigDecimal" class="headerlink" title="8.6 BigIntegerä¸BigDecimal"></a>8.6 BigIntegerä¸BigDecimal</h3><h4 id="8-6-1-BigIntegerç±»"><a href="#8-6-1-BigIntegerç±»" class="headerlink" title="8.6.1 BigIntegerç±»"></a>8.6.1 BigIntegerç±»</h4><p>java.mathåŒ…çš„<strong>BigIntegerå¯ä»¥è¡¨ç¤ºä¸å¯å˜çš„ä»»æ„ç²¾åº¦çš„æ•´æ•°</strong>ã€‚BigIntegeræä¾›æ‰€æœ‰Javaçš„åŸºæœ¬æ•´æ•°æ“ä½œç¬¦çš„å¯¹åº”ç‰©ï¼Œå¹¶æä¾›java.lang.Mathçš„æ‰€æœ‰ç›¸å…³æ–¹æ³•ã€‚å¦å¤–ï¼ŒBigInteger è¿˜æä¾›ä»¥ä¸‹è¿ç®—ï¼šæ¨¡ç®—æœ¯ã€GCDè®¡ç®—ã€è´¨æ•°æµ‹è¯•ã€ç´ æ•°ç”Ÿæˆã€ä½æ“ä½œä»¥åŠä¸€äº›å…¶ä»–æ“ä½œ</p><p><strong>æ„é€ å™¨</strong>ï¼šBigInteger(String val)ï¼š<strong>æ ¹æ®å­—ç¬¦ä¸²æ„å»ºBigIntegerå¯¹è±¡</strong></p><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>public BigInteger <strong>abs</strong>()ï¼šè¿”å›æ­¤BigIntegerçš„<strong>ç»å¯¹å€¼</strong>çš„BigInteger</li><li>BigInteger <strong>add</strong>(BigInteger val)ï¼šè¿”å›å…¶å€¼ä¸º**(this + val)**çš„BigInteger</li><li>BigInteger <strong>subtract</strong>(BigInteger val)ï¼šè¿”å›å…¶å€¼ä¸º**(this - val)**çš„BigInteger</li><li>BigInteger <strong>multiply</strong>(BigInteger val)ï¼šè¿”å›å…¶å€¼ä¸º**(this * val)**çš„BigInteger</li><li>BigInteger <strong>divide</strong>(BigInteger val)ï¼šè¿”å›å…¶å€¼ä¸º**(this / val)<strong>çš„BigIntegerã€‚</strong>æ•´æ•°ç›¸é™¤åªä¿ç•™æ•´æ•°éƒ¨åˆ†**</li><li>BigInteger <strong>remainder</strong>(BigInteger val)ï¼šè¿”å›å…¶å€¼ä¸º**(this % val)**çš„BigInteger</li><li>BigInteger[] <strong>divideAndRemainder</strong>(BigInteger val)ï¼šè¿”å›åŒ…å«**(this / val)<strong>åè·Ÿ</strong>(this % val)**çš„ä¸¤ä¸ªBigIntegerçš„æ•°ç»„</li><li>BigInteger <strong>pow</strong>(int exponent)ï¼šè¿”å›å…¶å€¼ä¸º**(this^exponent)**çš„BigInteger</li></ul><h4 id="8-6-2-BigDecimalç±»"><a href="#8-6-2-BigDecimalç±»" class="headerlink" title="8.6.2 BigDecimalç±»"></a>8.6.2 BigDecimalç±»</h4><p>ä¸€èˆ¬çš„<strong>Float</strong>ç±»å’Œ<strong>Double</strong>ç±»å¯ä»¥ç”¨æ¥<strong>åšç§‘å­¦è®¡ç®—æˆ–å·¥ç¨‹è®¡ç®—</strong>ï¼Œä½†åœ¨å•†ä¸šè®¡ç®—ä¸­ï¼Œè¦æ±‚æ•°å­—ç²¾åº¦æ¯”è¾ƒé«˜ï¼Œæ•…ç”¨åˆ°java.math.BigDecimalç±»</p><p>BigDecimalç±»æ”¯æŒ<strong>ä¸å¯å˜çš„</strong>ã€<strong>ä»»æ„ç²¾åº¦</strong>çš„æœ‰ç¬¦å·åè¿›åˆ¶å®šç‚¹æ•°</p><p>æ„é€ å™¨</p><ul><li>public BigDecimal(double val)</li><li>public BigDecimal(String val)</li></ul><p>å¸¸ç”¨æ–¹æ³•</p><ul><li>public BigDecimal add(BigDecimal augend)</li><li>public BigDecimal subtract(BigDecimal subtrahend)</li><li>public BigDecimal multiply(BigDecimal multiplicand)</li><li>public BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)</li></ul><pre><code class="java">BigInteger bi = new BigInteger(&quot;12433241123&quot;);BigDecimal bd = new BigDecimal(&quot;12435.351&quot;);BigDecimal bd2 = new BigDecimal(&quot;11&quot;);System.out.println(bi);//12433241123//System.out.println(bd.divide(bd2)); //é™¤ä¸å°½å°±å¿…é¡»è¦å‘Šè¯‰ä¿ç•™å¤šå°‘ä½System.out.println(bd.divide(bd2,BigDecimal.ROUND_HALF_UP));//1130.486System.out.println(bd.divide(bd2,15,BigDecimal.ROUND_HALF_UP));//1130.486454545454545</code></pre><h2 id="ä¹ã€æšä¸¾ç±»å’Œæ³¨è§£"><a href="#ä¹ã€æšä¸¾ç±»å’Œæ³¨è§£" class="headerlink" title="ä¹ã€æšä¸¾ç±»å’Œæ³¨è§£"></a>ä¹ã€æšä¸¾ç±»å’Œæ³¨è§£</h2><h3 id="9-1-æšä¸¾-enum"><a href="#9-1-æšä¸¾-enum" class="headerlink" title="9.1 æšä¸¾(enum)"></a>9.1 æšä¸¾(enum)</h3><p>Java æšä¸¾æ˜¯ä¸€ä¸ª<strong>ç‰¹æ®Šçš„ç±»</strong>ï¼Œä¸€èˆ¬è¡¨ç¤ºä¸€ç»„å¸¸é‡ï¼Œæ¯”å¦‚ä¸€å¹´çš„ 4 ä¸ªå­£èŠ‚ï¼Œä¸€ä¸ªå¹´çš„ 12 ä¸ªæœˆä»½ï¼Œä¸€ä¸ªæ˜ŸæœŸçš„ 7 å¤©ï¼Œæ–¹å‘æœ‰ä¸œå—è¥¿åŒ—ç­‰ã€‚å½“éœ€è¦å®šä¹‰<strong>ä¸€ç»„</strong>å¸¸é‡æ—¶ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æšä¸¾ç±»</p><p>Java æšä¸¾ç±»ä½¿ç”¨ enum å…³é”®å­—æ¥å®šä¹‰ï¼Œç±»çš„<strong>å¯¹è±¡åªæœ‰æœ‰é™ä¸ªï¼Œç¡®å®šçš„</strong>ï¼›<strong>å„ä¸ªå¸¸é‡ä½¿ç”¨é€—å· , æ¥åˆ†å‰²</strong></p><p><strong>JDK5ä¹‹å‰</strong>è‡ªå®šä¹‰ä¸€ä¸ªå­£èŠ‚æšä¸¾ç±»</p><pre><code class="java">class Season&#123;    //1.å£°æ˜Seasonå±æ€§ï¼šprivate finalä¿®é¥°    private final String seasonName;    private final String seasonDesc;    //2.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨ï¼Œå¹¶ç»™å¯¹è±¡èµ‹å€¼    private Season(String seasonName,String seasonDesc)&#123;        this.seasonName = seasonName;        this.seasonDesc = seasonDesc;    &#125;    //3.æä¾›å½“å‰æšä¸¾ç±»çš„å¤šä¸ªå¯¹è±¡    public static final Season SPRING = new Season(&quot;æ˜¥å¤©&quot; ,&quot;æ˜¥æš–èŠ±å¼€&quot;);    public static final Season SUMMER = new Season(&quot;å¤å¤©&quot;,&quot;å¤æ—¥ç‚ç‚&quot;);    public static final Season AUTUMN = new Season(&quot;ç§‹å¤©&quot; ,&quot;ç§‹é«˜æ°”çˆ½&quot;);    public static final Season WINTER = new Season(&quot;å†¬å¤©&quot; ,&quot;å†°å¤©é›ªåœ°&quot;);    //4.å…¶ä»–è¯‰æ±‚1ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§    public String getSeasonName() &#123;        return seasonName;    &#125;    public String getSeasonDesc() &#123;        return seasonDesc;    &#125;    //å…¶ä»–è¯‰æ±‚2ï¼šæä¾›toString()æ–¹æ³•    @Override    public String toString() &#123;        return &quot;Season&#123;&quot; +                &quot;seasonName=&#39;&quot; + seasonName + &#39;\&#39;&#39; +                &quot;, seasonDesc=&#39;&quot; + seasonDesc + &#39;\&#39;&#39; +                &#39;&#125;&#39;;    &#125;&#125;</code></pre><p><strong>JDK5ä¹‹å</strong>è‡ªå®šä¹‰ä¸€ä¸ªå­£èŠ‚æšä¸¾ç±»</p><pre><code class="java">//ä½¿ç”¨enumå®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿java.lang.Enumç±»enum Season  &#123;     //1.æä¾›å½“å‰æšä¸¾ç±»çš„å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´ç”¨&quot;,&quot;éš”å¼€ï¼Œæœ€åç”¨&quot;;&quot;ç»“æŸ    SPRING(&quot;æ˜¥å¤©&quot; ,&quot;æ˜¥æš–èŠ±å¼€&quot;),    SUMMER(&quot;å¤å¤©&quot;,&quot;å¤æ—¥ç‚ç‚&quot;),    AUTUMN(&quot;ç§‹å¤©&quot; ,&quot;ç§‹é«˜æ°”çˆ½&quot;),    WINTER(&quot;å†¬å¤©&quot; ,&quot;å†°å¤©é›ªåœ°&quot;);    //2.å£°æ˜Seasonå±æ€§ï¼šprivate finalä¿®é¥°    private final String seasonName;    private final String seasonDesc;    //3.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨ï¼Œå¹¶ç»™å¯¹è±¡èµ‹å€¼    private Season(String seasonName,String seasonDesc)&#123;        this.seasonName = seasonName;        this.seasonDesc = seasonDesc;    &#125;    //4.å…¶ä»–è¯‰æ±‚1ï¼šè·å–æšä¸¾ç±»å¯¹è±¡çš„å±æ€§    public String getSeasonName() &#123;        return seasonName;    &#125;    public String getSeasonDesc() &#123;        return seasonDesc;    &#125;    //å…¶ä»–è¯‰æ±‚2ï¼šæä¾›toString()æ–¹æ³•ï¼Œæ­¤æ—¶çš„toStringæ–¹æ³•å¯ä¸æä¾›ï¼Œå› ä¸ºè¿™ä¸ªæšä¸¾ç±»ç»§æ‰¿è‡ªEnumç±»ï¼Œæ‰“å°è¾“å‡ºçš„ä»æ˜¯è¿™ä¸ªæšä¸¾ç±»å¯¹è±¡çš„å¯¹è±¡å    @Override    public String toString() &#123;        return &quot;Season&#123;&quot; +                &quot;seasonName=&#39;&quot; + seasonName + &#39;\&#39;&#39; +                &quot;, seasonDesc=&#39;&quot; + seasonDesc + &#39;\&#39;&#39; +                &#39;&#125;&#39;;    &#125; &#125; </code></pre><h4 id="9-1-1-æšä¸¾ç±»æˆå‘˜"><a href="#9-1-1-æšä¸¾ç±»æˆå‘˜" class="headerlink" title="9.1.1 æšä¸¾ç±»æˆå‘˜"></a>9.1.1 æšä¸¾ç±»æˆå‘˜</h4><p>æšä¸¾è·Ÿæ™®é€šç±»ä¸€æ ·å¯ä»¥<strong>ç”¨è‡ªå·±çš„å˜é‡ã€æ–¹æ³•å’Œæ„é€ å‡½æ•°</strong>ï¼Œæ„é€ å‡½æ•°<strong>åªèƒ½ä½¿ç”¨ private</strong> è®¿é—®ä¿®é¥°ç¬¦ï¼Œæ‰€ä»¥å¤–éƒ¨æ— æ³•è°ƒç”¨</p><p>æšä¸¾ç±»<strong>æ—¢å¯ä»¥åŒ…å«å…·ä½“æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•</strong>ã€‚ å¦‚æœæšä¸¾ç±»å…·æœ‰æŠ½è±¡æ–¹æ³•ï¼Œåˆ™æšä¸¾ç±»çš„æ¯ä¸ªå®ä¾‹éƒ½å¿…é¡»å®ç°å®ƒ</p><pre><code class="java">enum Color &#123;    RED, GREEN, BLUE;    // æ„é€ å‡½æ•°    private Color() &#123;        System.out.println(&quot;Constructor called for : &quot; + this.toString());    &#125;    public void colorInfo() &#123;        System.out.println(&quot;Universal Color&quot;);    &#125;&#125; public class Test &#123;        // è¾“å‡º    public static void main(String[] args) &#123;        Color c1 = Color.RED;        System.out.println(c1);        c1.colorInfo();    &#125;&#125;</code></pre><p><strong>æšä¸¾ç±»ä¸­æŠ½è±¡æ–¹æ³•çš„å®ç°ï¼š</strong></p><pre><code class="java">enum Color &#123;    RED &#123;        public String getColor()&#123;//æšä¸¾å¯¹è±¡å®ç°æŠ½è±¡æ–¹æ³•            return &quot;çº¢è‰²&quot;;        &#125;    &#125;,    GREEN&#123;        public String getColor()&#123;//æšä¸¾å¯¹è±¡å®ç°æŠ½è±¡æ–¹æ³•            return &quot;ç»¿è‰²&quot;;        &#125;    &#125;,    BLUE&#123;        public String getColor()&#123;//æšä¸¾å¯¹è±¡å®ç°æŠ½è±¡æ–¹æ³•            return &quot;è“è‰²&quot;;        &#125;    &#125;;    public abstract String getColor();//å®šä¹‰æŠ½è±¡æ–¹æ³•&#125;</code></pre><h4 id="9-1-2-values-ï¼Œordinal-å’ŒvalueOf-æ–¹æ³•"><a href="#9-1-2-values-ï¼Œordinal-å’ŒvalueOf-æ–¹æ³•" class="headerlink" title="9.1.2 values()ï¼Œordinal()å’ŒvalueOf()æ–¹æ³•"></a>9.1.2 values()ï¼Œordinal()å’ŒvalueOf()æ–¹æ³•</h4><p>enum å®šä¹‰çš„æšä¸¾ç±»é»˜è®¤ç»§æ‰¿äº† java.lang.Enum ç±»ï¼Œå¹¶å®ç°äº† java.lang.Seriablizable å’Œ java.lang.Comparable ä¸¤ä¸ªæ¥å£ã€‚</p><p>values(), ordinal() å’Œ valueOf() æ–¹æ³•ä½äº java.lang.Enum ç±»ä¸­ï¼š</p><ul><li>values()ï¼šæšä¸¾ç±»ä¸­<strong>æ‰€æœ‰çš„å€¼</strong></li><li>ordinal()ï¼šå¯ä»¥æ‰¾åˆ°<strong>æ¯ä¸ªæšä¸¾å¸¸é‡çš„ç´¢å¼•</strong>ï¼Œå°±åƒæ•°ç»„ç´¢å¼•ä¸€æ ·</li><li>valueOf()ï¼šè¿”å›<strong>æŒ‡å®šå­—ç¬¦ä¸²å€¼çš„æšä¸¾å¸¸é‡</strong></li><li>toString()ï¼šè¿”å›<strong>å½“å‰æšä¸¾ç±»å¯¹è±¡å¸¸é‡çš„åç§°</strong></li></ul><pre><code class="java">enum Color &#123;    RED, GREEN, BLUE;&#125;public class Test &#123;    public static void main(String[] args) &#123;        // è°ƒç”¨ values()        Color[] arr = Color.values();        // è¿­ä»£æšä¸¾        for (Color col : arr) &#123;            // æŸ¥çœ‹ç´¢å¼•            System.out.println(col + &quot; at index &quot; + col.ordinal());        &#125;        // ä½¿ç”¨ valueOf() è¿”å›æšä¸¾å¸¸é‡ï¼Œä¸å­˜åœ¨çš„ä¼šæŠ¥é”™ IllegalArgumentException        System.out.println(Color.valueOf(&quot;RED&quot;));        // System.out.println(Color.valueOf(&quot;WHITE&quot;));    &#125;&#125;</code></pre><h4 id="9-1-3-ä½¿ç”¨Enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£"><a href="#9-1-3-ä½¿ç”¨Enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£" class="headerlink" title="9.1.3 ä½¿ç”¨Enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£"></a>9.1.3 ä½¿ç”¨Enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£</h4><p>æƒ…å†µä¸€ï¼šå®ç°æ¥å£ï¼Œåœ¨enumç±»ä¸­å®ç°æŠ½è±¡æ–¹æ³•</p><p>æƒ…å†µäºŒï¼šè®©æšä¸¾ç±»çš„å¯¹è±¡åˆ†åˆ«å®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p><pre><code class="java">interface Info&#123;    void show();&#125;enum Season implements Info&#123;    //æšä¸¾ç±»å®ç°æ¥å£æƒ…å†µä¸€ï¼šå®ç°æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•    @Override    public void show() &#123;        System.out.println(&quot;è¿™ä¸€ä¸ªå­£èŠ‚&quot;);    &#125;    //æšä¸¾ç±»å®ç°æ¥å£æƒ…å†µäºŒï¼šæ¯ä¸ªæšä¸¾ç±»å¯¹è±¡ç‹¬ç«‹å®ç°æŠ½è±¡æ–¹æ³•    SPRING(&quot;æ˜¥å¤©&quot; ,&quot;æ˜¥æš–èŠ±å¼€&quot;)&#123;        @Override        public void show() &#123;            System.out.println(&quot;è¿™æ˜¯æ˜¥å¤©&quot;);        &#125;    &#125;,    SUMMER(&quot;å¤å¤©&quot;,&quot;å¤æ—¥ç‚ç‚&quot;)&#123;        @Override        public void show() &#123;            System.out.println(&quot;è¿™æ˜¯å¤å¤©&quot;);        &#125;    &#125;,    AUTUMN(&quot;ç§‹å¤©&quot; ,&quot;ç§‹é«˜æ°”çˆ½&quot;)&#123;        @Override        public void show() &#123;            System.out.println(&quot;è¿™æ˜¯ç§‹å¤©&quot;);        &#125;    &#125;,    WINTER(&quot;å†¬å¤©&quot; ,&quot;å†°å¤©é›ªåœ°&quot;)&#123;        @Override        public void show() &#123;            System.out.println(&quot;è¿™æ˜¯å†¬å¤©&quot;);        &#125;    &#125;;&#125;</code></pre><h4 id="9-1-4-å†…éƒ¨ç±»ä¸­ä½¿ç”¨æšä¸¾"><a href="#9-1-4-å†…éƒ¨ç±»ä¸­ä½¿ç”¨æšä¸¾" class="headerlink" title="9.1.4 å†…éƒ¨ç±»ä¸­ä½¿ç”¨æšä¸¾"></a>9.1.4 å†…éƒ¨ç±»ä¸­ä½¿ç”¨æšä¸¾</h4><p>æšä¸¾ç±»å¯ä»¥å£°æ˜åœ¨å†…éƒ¨ç±»ä¸­ï¼š</p><pre><code class="java">public class Test &#123;    enum Color &#123;        RED, GREEN, BLUE;    &#125;     // æ‰§è¡Œè¾“å‡ºç»“æœ    public static void main(String[] args) &#123;        Color c1 = Color.RED;        System.out.println(c1); //è¾“å‡ºä¸ºRED    &#125;&#125;</code></pre><p><strong>æ¯ä¸ªæšä¸¾éƒ½æ˜¯é€šè¿‡ Class åœ¨å†…éƒ¨å®ç°çš„</strong>ï¼Œä¸”æ‰€æœ‰çš„<strong>æšä¸¾å€¼éƒ½æ˜¯ public static final</strong> çš„ã€‚</p><p>ä»¥ä¸Šçš„æšä¸¾ç±» Color è½¬åŒ–åœ¨å†…éƒ¨ç±»å®ç°ï¼š</p><pre><code class="java">class Color &#123;     public static final Color RED = new Color();     public static final Color BLUE = new Color();     public static final Color GREEN = new Color();&#125;</code></pre><h4 id="9-1-5-è¿­ä»£æšä¸¾å…ƒç´ "><a href="#9-1-5-è¿­ä»£æšä¸¾å…ƒç´ " class="headerlink" title="9.1.5 è¿­ä»£æšä¸¾å…ƒç´ "></a>9.1.5 è¿­ä»£æšä¸¾å…ƒç´ </h4><p>å¯ä»¥ä½¿ç”¨forè¯­å¥æ¥è¿­ä»£æšä¸¾å…ƒç´ ï¼š</p><pre><code class="java">enum Color &#123;    RED, GREEN, BLUE;&#125;public class MyClass &#123;  public static void main(String[] args) &#123;    for (Color myVar : Color.values()) &#123;      System.out.println(myVar);    &#125;  &#125;&#125;</code></pre><h4 id="9-1-6-åœ¨switchä¸­ä½¿ç”¨æšä¸¾ç±»"><a href="#9-1-6-åœ¨switchä¸­ä½¿ç”¨æšä¸¾ç±»" class="headerlink" title="9.1.6 åœ¨switchä¸­ä½¿ç”¨æšä¸¾ç±»"></a>9.1.6 åœ¨switchä¸­ä½¿ç”¨æšä¸¾ç±»</h4><p>æšä¸¾ç±»å¸¸è¿ç”¨äºswitchè¯­å¥ä¸­ï¼š</p><pre><code class="java">enum Color &#123;    RED, GREEN, BLUE;&#125;public class MyClass &#123;  public static void main(String[] args) &#123;    Color myVar = Color.BLUE;    switch(myVar) &#123;      case RED:        System.out.println(&quot;çº¢è‰²&quot;);        break;      case GREEN:         System.out.println(&quot;ç»¿è‰²&quot;);        break;      case BLUE:        System.out.println(&quot;è“è‰²&quot;);        break;    &#125;  &#125;&#125;</code></pre><h3 id="9-2-æ³¨è§£-Annotation"><a href="#9-2-æ³¨è§£-Annotation" class="headerlink" title="9.2 æ³¨è§£(Annotation)"></a>9.2 æ³¨è§£(Annotation)</h3><p><strong>ä»JDK5.0å¼€å§‹</strong>ï¼ŒJavaå¢åŠ äº†å¯¹å…ƒæ•°æ®(MetaData)çš„æ”¯æŒï¼Œä¹Ÿå°±æ˜¯Annotation(æ³¨è§£)</p><p>Annotationå…¶å®å°±æ˜¯ä»£ç é‡Œçš„<strong>ç‰¹æ®Šæ ‡è®°</strong>ï¼Œè¿™äº›æ ‡è®°å¯ä»¥åœ¨ç¼–è¯‘ï¼Œç±»åŠ è½½ï¼Œè¿è¡Œæ—¶è¢«è¯»å–ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚é€šè¿‡ä½¿ç”¨Annotationï¼Œç¨‹åºå‘˜å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰é€»è¾‘çš„æƒ…å†µä¸‹,åœ¨æºæ–‡ä»¶ä¸­åµŒå…¥ä¸€äº›è¡¥å……ä¿¡æ¯ã€‚ä»£ç åˆ†æå·¥å…·ã€å¼€å‘å·¥å…·å’Œéƒ¨ç½²å·¥å…·å¯ä»¥é€šè¿‡è¿™äº›è¡¥å……ä¿¡æ¯è¿›è¡ŒéªŒè¯æˆ–è€…è¿›è¡Œéƒ¨ç½²</p><p>Annotationå¯ä»¥åƒä¿®é¥°ç¬¦ä¸€æ ·è¢«ä½¿ç”¨ï¼Œ<strong>å¯ç”¨äºä¿®é¥°åŒ…ï¼Œç±»ï¼Œæ„é€ å™¨ï¼Œæ–¹æ³•ï¼Œæˆå‘˜å˜é‡ï¼Œå‚æ•°ï¼Œå±€éƒ¨å˜é‡çš„å£°æ˜</strong>ï¼Œè¿™äº›ä¿¡æ¯è¢«ä¿å­˜åœ¨Annotationçš„â€œname=valueâ€å¯¹ä¸­</p><p>JavaSEä¸­ï¼Œæ³¨è§£çš„ä½¿ç”¨ç›®çš„æ¯”è¾ƒç®€å•ï¼Œä¾‹å¦‚<strong>æ ‡è®°è¿‡æ—¶çš„åŠŸèƒ½ï¼Œå¿½ç•¥è­¦å‘Šç­‰</strong>ã€‚åœ¨JavaEE/Androidä¸­æ³¨è§£å æ®äº†æ›´é‡è¦çš„è§’è‰²ï¼Œä¾‹å¦‚ç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºçš„ä»»ä½•åˆ‡é¢ï¼Œ<strong>ä»£æ›¿JavaEEæ—§ç‰ˆä¸­æ‰€é—ç•™çš„ç¹å†—ä»£ç å’ŒXMLé…ç½®ç­‰</strong></p><p>æœªæ¥çš„å¼€å‘æ¨¡å¼éƒ½æ˜¯åŸºäºæ³¨è§£çš„ï¼ŒJPAæ˜¯åŸºäºæ³¨è§£çš„ï¼ŒSpring2.5ä»¥ä¸Šéƒ½æ˜¯åŸºäºæ³¨è§£çš„ï¼ŒHibernate3.xä»¥åä¹Ÿæ˜¯åŸºäºæ³¨è§£çš„ï¼Œç°åœ¨çš„Struts2æœ‰ä¸€éƒ¨åˆ†ä¹Ÿæ˜¯åŸºäºæ³¨è§£çš„äº†ï¼Œæ³¨è§£æ˜¯ä¸€ç§è¶‹åŠ¿ï¼Œ<strong>ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è¯´ï¼šæ¡†æ¶=æ³¨è§£ï¼‹åå°„ï¼‹è®¾è®¡æ¨¡å¼</strong></p><h4 id="9-2-1-å¸¸è§çš„Annotationç¤ºä¾‹"><a href="#9-2-1-å¸¸è§çš„Annotationç¤ºä¾‹" class="headerlink" title="9.2.1 å¸¸è§çš„Annotationç¤ºä¾‹"></a>9.2.1 å¸¸è§çš„Annotationç¤ºä¾‹</h4><p>ä½¿ç”¨Annotationæ—¶è¦åœ¨å…¶å‰é¢å¢åŠ **@**ç¬¦å·ï¼Œå¹¶æŠŠè¯¥Annotationå½“æˆä¸€ä¸ªä¿®é¥°ç¬¦ä½¿ç”¨ã€‚ç”¨äºä¿®é¥°å®ƒæ”¯æŒçš„ç¨‹åºå…ƒç´ </p><h5 id="ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£"><a href="#ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£"></a>ç¤ºä¾‹ä¸€ï¼šç”Ÿæˆæ–‡æ¡£ç›¸å…³çš„æ³¨è§£</h5><p><code>@author</code> <strong>æ ‡æ˜å¼€å‘è¯¥ç±»æ¨¡å—çš„ä½œè€…</strong>ï¼Œå¤šä¸ªä½œè€…ä¹‹é—´ä½¿ç”¨â€,â€åˆ†å‰²</p><p><code>@version</code> æ ‡æ˜è¯¥ç±»æ¨¡å—çš„<strong>ç‰ˆæœ¬</strong></p><p><code>@see </code><strong>å‚è€ƒè½¬å‘</strong>ï¼Œä¹Ÿå°±æ˜¯ç›¸å…³ä¸»é¢˜</p><p><code>@since</code> ä»<strong>å“ªä¸ªç‰ˆæœ¬å¼€å§‹å¢åŠ </strong>çš„</p><p><code>@param</code> å¯¹æ–¹æ³•ä¸­<strong>æŸå‚æ•°çš„è¯´æ˜</strong>ï¼Œå¦‚æœ<strong>æ²¡æœ‰å‚æ•°å°±ä¸èƒ½å†™</strong></p><p><code>@return</code> å¯¹<strong>æ–¹æ³•è¿”å›å€¼çš„è¯´æ˜</strong>ï¼Œå¦‚æœæ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯<strong>voidå°±ä¸èƒ½å†™</strong></p><p><code>@exception</code> å¯¹æ–¹æ³•<strong>å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸è¿›è¡Œè¯´æ˜</strong>ï¼Œå¦‚æœæ–¹æ³•<strong>æ²¡æœ‰ç”¨throwsæ˜¾å¼æŠ›å‡ºçš„å¼‚å¸¸å°±ä¸èƒ½å†™</strong></p><p>å…¶ä¸­@paramã€@returnå’Œ@exceptionè¿™ä¸‰ä¸ªæ ‡è®°éƒ½æ˜¯<strong>åªç”¨äºæ–¹æ³•</strong>çš„</p><p>@paramçš„æ ¼å¼è¦æ±‚ï¼š<code>@param å½¢å‚å å½¢å‚ç±»å‹ å½¢å‚è¯´æ˜</code></p><p>@returnçš„æ ¼å¼è¦æ±‚ï¼š<code>@return è¿”å›å€¼ç±»å‹ è¿”å›å€¼è¯´æ˜</code></p><p>@exceptionçš„æ ¼å¼è¦æ±‚ï¼š<code>@exception å¼‚å¸¸ç±»å‹ å¼‚å¸¸è¯´æ˜</code></p><p>@paramå’Œ@exception<strong>å¯ä»¥å¹¶åˆ—å¤šä¸ª</strong></p><h5 id="ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥-JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£"><a href="#ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥-JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£" class="headerlink" title="ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥(JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£)"></a>ç¤ºä¾‹äºŒï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥(JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£)</h5><p><code>@Override</code> <strong>é™å®šé‡å†™çˆ¶ç±»æ–¹æ³•</strong>ï¼Œè¯¥æ³¨è§£<strong>åªèƒ½ç”¨äºæ–¹æ³•</strong></p><p><code>@Deprecated</code> ç”¨äºè¡¨ç¤º<strong>æ‰€ä¿®é¥°çš„å…ƒç´ (ç±»ï¼Œæ–¹æ³•ç­‰)å·²è¿‡æ—¶</strong>ã€‚é€šå¸¸æ˜¯å› ä¸ºæ‰€ä¿®é¥°çš„ç»“æ„å±é™©æˆ–å­˜åœ¨æ›´å¥½çš„é€‰æ‹©</p><p><code>@suppressWarnings</code> <strong>æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</strong></p><h5 id="ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½"><a href="#ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½"></a>ç¤ºä¾‹ä¸‰ï¼šè·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½</h5><p><code>@WebServlet</code> <strong>Servlet3.0</strong>æä¾›äº†æ³¨è§£(annotation)ï¼Œä½¿å¾—<strong>ä¸å†éœ€è¦åœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡ŒServletçš„éƒ¨ç½²</strong></p><p><code>@Transactional</code> <strong>springæ¡†æ¶ä¸­å…³äºâ€œäº‹åŠ¡â€çš„ç®¡ç†</strong></p><h5 id="ç¤ºä¾‹å››ï¼šJunitå•å…ƒæµ‹è¯•ä¸­çš„æ³¨è§£"><a href="#ç¤ºä¾‹å››ï¼šJunitå•å…ƒæµ‹è¯•ä¸­çš„æ³¨è§£" class="headerlink" title="ç¤ºä¾‹å››ï¼šJunitå•å…ƒæµ‹è¯•ä¸­çš„æ³¨è§£"></a>ç¤ºä¾‹å››ï¼šJunitå•å…ƒæµ‹è¯•ä¸­çš„æ³¨è§£</h5><p>Junit<strong>å•å…ƒæµ‹è¯•</strong>ä¸­ä¹Ÿæœ‰å¤§é‡æ³¨è§£çš„ä½¿ç”¨ã€‚ç®€å•ç½—åˆ—åˆ°ä¸‹é¢ï¼Œè¿™é‡Œä¸å†èµ˜è¿°<br><code>@Test</code> æ ‡è®°åœ¨<strong>éé™æ€çš„æµ‹è¯•æ–¹æ³•</strong>ä¸Šã€‚åªæœ‰<strong>æ ‡è®°@Testçš„æ–¹æ³•æ‰èƒ½è¢«ä½œä¸ºä¸€ä¸ªæµ‹è¯•æ–¹æ³•å•ç‹¬æµ‹è¯•</strong>ã€‚<strong>ä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ª@Testæ ‡è®°çš„æ–¹æ³•</strong>ï¼Œè¿è¡Œæ—¶å¦‚æœåªæƒ³è¿è¡Œå…±ä¸­ä¸€ä¸ª@Testæ ‡è®°çš„æ–¹æ³•ï¼Œé‚£ä¹ˆ<strong>é€‰æ‹©è¿™ä¸ªæ–¹æ³•åï¼Œç„¶åå•ç‹¬è¿è¡Œ</strong>ï¼Œå¦åˆ™æ•´ä¸ªç±»çš„æ‰€æœ‰æ ‡è®°äº†@Testçš„æ–¹æ³•éƒ½ä¼šè¢«æ‰§è¡Œ</p><ul><li>@Test(timeout=1000)ï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœ<strong>æµ‹è¯•æ—¶é—´è¶…è¿‡äº†ä½ å®šä¹‰çš„timeoutï¼Œæµ‹è¯•å¤±è´¥</strong></li><li>@Test(expected)ï¼š<strong>ç”³æ˜å‡ºä¼šå‘ç”Ÿçš„å¼‚å¸¸</strong>ï¼Œæ¯”å¦‚@Test ( expected = Exception.class )</li></ul><p><strong>äº†è§£:</strong></p><p><code>@BeforeClass</code> æ ‡è®°åœ¨<strong>é™æ€æ–¹æ³•ä¸Š</strong>ã€‚å› ä¸ºè¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚åœ¨<strong>ç±»åˆå§‹åŒ–æ—¶æ‰§è¡Œ</strong></p><p><code>@AfterClass</code> æ ‡è®°åœ¨<strong>é™æ€æ–¹æ³•ä¸Š</strong>ã€‚å› ä¸ºè¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚åœ¨<strong>æ‰€æœ‰æ–¹æ³•å®Œæˆåæ‰§è¡Œ</strong></p><p><code>@Before</code> æ ‡è®°åœ¨<strong>éé™æ€æ–¹æ³•ä¸Š</strong>ã€‚åœ¨@Testæ–¹æ³•å‰é¢æ‰§è¡Œï¼Œè€Œä¸”æ˜¯<strong>åœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰é¢éƒ½æ‰§è¡Œ</strong></p><p><code>@After</code> æ ‡è®°åœ¨<strong>éé™æ€æ–¹æ³•ä¸Š</strong>ã€‚åœ¨@Testæ–¹æ³•åé¢æ‰§è¡Œï¼Œè€Œä¸”æ˜¯<strong>åœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åé¢éƒ½æ‰§è¡Œ</strong></p><p><code>@Ignore</code> æ ‡è®°åœ¨<strong>æœ¬æ¬¡ä¸å‚ä¸æµ‹è¯•çš„æ–¹æ³•ä¸Š</strong>ã€‚è¿™ä¸ªæ³¨è§£çš„å«ä¹‰å°±æ˜¯â€<strong>æŸäº›æ–¹æ³•å°šæœªå®Œæˆï¼Œæš‚ä¸å‚ä¸æ­¤æ¬¡æµ‹è¯•</strong>â€œ</p><p>@BeforeClassã€@AfterClassã€@Beforeã€@Afterã€@Ignoreéƒ½æ˜¯é…åˆ@Testå®ƒä½¿ç”¨çš„ï¼Œ<strong>å•ç‹¬ä½¿ç”¨æ²¡æœ‰æ„ä¹‰</strong></p><h4 id="9-2-2-è‡ªå®šä¹‰æ³¨è§£"><a href="#9-2-2-è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="9.2.2 è‡ªå®šä¹‰æ³¨è§£"></a>9.2.2 è‡ªå®šä¹‰æ³¨è§£</h4><p>â‘ æ³¨è§£å£°æ˜ä¸º<code>@interface</code>ï¼Œå¹¶ä¸”éƒ½ä¼šæŒ‡æ˜ä¸¤ä¸ªå…ƒæ³¨è§£ï¼ˆRetentionã€Targetï¼‰</p><p>â‘¡è‡ªå®šä¹‰æ³¨è§£<strong>è‡ªåŠ¨ç»§æ‰¿äº†java.lang.annotation.Annotationæ¥å£</strong></p><p>â‘¢Annotationçš„<strong>æˆå‘˜å˜é‡åœ¨ Annotationå®šä¹‰ä¸­ä»¥æ— å‚æ•°æ–¹æ³•çš„å½¢å¼æ¥å£°æ˜</strong>ã€‚å…¶æ–¹æ³•åå’Œè¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜çš„åå­—å’Œç±»å‹ã€‚æˆ‘ä»¬ç§°ä¸ºé…ç½®å‚æ•°ã€‚<strong>ç±»å‹åªèƒ½æ˜¯å…«ç§åŸºæœ¬æ•°æ®ç±»å‹ã€Stringç±»å‹ã€Classç±»å‹ã€enumç±»å‹ã€Annotationç±»å‹ä»¥ä¸Šæ‰€æœ‰ç±»å‹çš„æ•°ç»„</strong></p><p>â‘£å¯ä»¥åœ¨å®šä¹‰ Annotationçš„æˆå‘˜å˜é‡æ—¶ä¸ºå…¶æŒ‡å®šåˆå§‹å€¼ï¼ŒæŒ‡å®šæˆå‘˜å˜é‡çš„<strong>åˆå§‹å€¼å¯ä½¿ç”¨defaultå…³é”®å­—</strong></p><p>â‘¤å¦‚æœ<strong>åªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œå»ºè®®ä½¿ç”¨å‚æ•°åä¸ºvalue</strong></p><p>â‘¥å¦‚æœå®šä¹‰çš„æ³¨è§£<strong>å«æœ‰é…ç½®å‚æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨æ—¶å¿…é¡»æŒ‡å®šå‚æ•°å€¼</strong>ï¼Œé™¤éå®ƒæœ‰é»˜è®¤å€¼ã€‚<strong>æ ¼å¼æ˜¯â€œå‚æ•°å=å‚æ•°å€¼â€</strong>ï¼Œå¦‚æœ<strong>åªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸”åç§°ä¸ºvalueï¼Œå¯ä»¥çœç•¥â€œvalue=â€</strong></p><p>â‘¦<strong>æ²¡æœ‰æˆå‘˜å®šä¹‰çš„Annotationç§°ä¸ºæ ‡è®°ï¼›åŒ…å«æˆå‘˜å˜é‡çš„ Annotationç§°ä¸ºå…ƒæ•°æ®Annotation</strong></p><p>æ³¨æ„ï¼š<strong>è‡ªå®šä¹‰æ³¨è§£å¿…é¡»é…ä¸Šæ³¨è§£çš„ä¿¡æ¯å¤„ç†æµç¨‹æ‰æœ‰æ„ä¹‰</strong></p><pre><code class="java">public @interface MyAnnotation &#123;    //è‡ªå®šä¹‰æ³¨è§£ï¼šä»¥@suppressWarningsä¸ºä¾‹    String value() default &quot;hello&quot;;&#125;@MyAnnotation(value = &quot;hi&quot;)class Test&#123;&#125;</code></pre><h4 id="9-2-3-JDKä¸­çš„å…ƒæ³¨è§£"><a href="#9-2-3-JDKä¸­çš„å…ƒæ³¨è§£" class="headerlink" title="9.2.3 JDKä¸­çš„å…ƒæ³¨è§£"></a>9.2.3 JDKä¸­çš„å…ƒæ³¨è§£</h4><p>JDKçš„å…ƒAnnotationç”¨äº<strong>ä¿®é¥°å…¶ä»–Annotationå®šä¹‰</strong>ï¼Œå³å¯¹ç°æœ‰çš„æ³¨è§£è¿›è¡Œè§£é‡Šè¯´æ˜çš„æ³¨è§£</p><p>JDK5.0æä¾›äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œ åˆ†åˆ«æ˜¯ï¼š</p><ul><li>Retentionï¼š<strong>æŒ‡å®šè¯¥Annotationçš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œåªæœ‰å£°æ˜ä¸ºRUNTIMEçš„æ³¨è§£æ‰èƒ½é€šè¿‡åå°„è·å–</li><li>Targetï¼š<strong>æŒ‡å®šè¢«ä¿®é¥°çš„Annotationèƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ </strong></li><li>Documentedï¼š<strong>æŒ‡å®šè¢«è¯¥å…ƒAnnotationä¿®é¥°çš„Annotationç±»å°†è¢«javadocå·¥å…·æå–æˆæ–‡æ¡£</strong></li><li>Inheritedï¼š<strong>è¢«å®ƒä¿®é¥°çš„Annotationå°†å…·æœ‰ç»§æ‰¿æ€§</strong></li></ul><h5 id="1-Retention"><a href="#1-Retention" class="headerlink" title="1.Retention"></a>1.Retention</h5><p>@Retentionï¼šåªèƒ½ç”¨äºä¿®é¥°ä¸€ä¸ªAnnotationå®šä¹‰ï¼Œç”¨äº<strong>æŒ‡å®šè¯¥Annotationçš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œ@RententionåŒ…å«ä¸€ä¸ªRetentionPolicyç±»å‹çš„æˆå‘˜å˜é‡ï¼Œä½¿ç”¨@Rententionæ—¶å¿…é¡»ä¸ºè¯¥valueæˆå‘˜å˜é‡æŒ‡å®šå€¼ï¼š</p><ul><li><strong>RetentionPolicy.SOURCE</strong>ï¼šåœ¨<strong>æºæ–‡ä»¶ä¸­æœ‰æ•ˆ</strong>(å³æºæ–‡ä»¶ä¿ç•™)ï¼Œ<strong>ç¼–è¯‘å™¨ç›´æ¥ä¸¢å¼ƒ</strong>è¿™ç§ç­–ç•¥çš„æ³¨é‡Š</li><li><strong>RetentionPolicy.CLASS</strong>ï¼šåœ¨<strong>classæ–‡ä»¶ä¸­æœ‰æ•ˆ</strong>(å³classä¿ç•™)ï¼Œå½“<strong>è¿è¡Œ Javaç¨‹åºæ—¶ï¼ŒJVMä¸ä¼šä¿ç•™æ³¨è§£</strong>ã€‚è¿™æ˜¯é»˜è®¤å€¼</li><li><strong>RetentionPolicy.RUNTIME</strong>ï¼šåœ¨<strong>è¿è¡Œæ—¶æœ‰æ•ˆ</strong>(å³è¿è¡Œæ—¶ä¿ç•™)ï¼Œå½“<strong>è¿è¡Œ Javaç¨‹åºæ—¶, JVMä¼šä¿ç•™æ³¨é‡Š</strong>ã€‚ç¨‹åºå¯<strong>ä»¥é€šè¿‡åå°„è·å–è¯¥æ³¨é‡Š</strong></li></ul><h5 id="2-Target"><a href="#2-Target" class="headerlink" title="2.Target"></a>2.Target</h5><p>@Targetï¼šç”¨äºä¿®é¥°Annotationå®šä¹‰ï¼Œç”¨äº<strong>æŒ‡å®šè¢«ä¿®é¥°çš„Annotationèƒ½ç”¨äºä¿®é¥°å“ªäº›ç¨‹åºå…ƒç´ </strong>ã€‚</p><p>@Targetä¹ŸåŒ…å«ä¸€ä¸ªåä¸ºvalueçš„æˆå‘˜å˜é‡ï¼š</p><ul><li>CONSTRUCTOR ï¼šç”¨äº<strong>æè¿°æ„é€ å™¨</strong></li><li>FIELDï¼šç”¨äº<strong>æè¿°åŸŸ</strong></li><li>LOCAL_VARIABLEï¼šç”¨äº<strong>æè¿°å±€éƒ¨å˜é‡</strong></li><li>METHODï¼šç”¨äº<strong>æè¿°æ–¹æ³•</strong></li><li>PACKAGEï¼šç”¨äº<strong>æè¿°åŒ…</strong></li><li>PARAMETERï¼šç”¨äº<strong>æè¿°å‚æ•°</strong></li><li>TYPEï¼šç”¨äº<strong>æè¿°ç±»ã€æ¥å£(åŒ…æ‹¬æ³¨è§£ç±»å‹)æˆ–enumå£°æ˜</strong></li></ul><h5 id="3-Documented"><a href="#3-Documented" class="headerlink" title="3.Documented"></a>3.Documented</h5><p>@Documentedï¼šç”¨äº<strong>æŒ‡å®šè¢«è¯¥å…ƒAnnotationä¿®é¥°çš„Annotationç±»å°†è¢«javadocå·¥å…·æå–æˆæ–‡æ¡£</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œjavadoc æ˜¯ä¸åŒ…æ‹¬æ³¨è§£çš„</p><ul><li><strong>å®šä¹‰ä¸ºDocumentedçš„æ³¨è§£å¿…é¡»è®¾ç½®Retentionå€¼ä¸ºRUNTIME</strong></li></ul><h5 id="4-Inherited"><a href="#4-Inherited" class="headerlink" title="4.Inherited"></a>4.Inherited</h5><p>@Inheritedï¼š<strong>è¢«å®ƒä¿®é¥°çš„Annotationå°†å…·æœ‰ç»§æ‰¿æ€§</strong>ã€‚å¦‚æœæŸä¸ªç±»ä½¿ç”¨äº†è¢«@Inheritedä¿®é¥°çš„Annotationï¼Œåˆ™å…¶å­ç±»å°†è‡ªåŠ¨å…·æœ‰è¯¥æ³¨è§£</p><ul><li>æ¯”å¦‚ï¼šå¦‚æœ<strong>æŠŠæ ‡æœ‰@Inheritedæ³¨è§£çš„è‡ªå®šä¹‰æ³¨è§£æ ‡æ³¨åœ¨ç±»çº§åˆ«ä¸Šï¼Œå­ç±»åˆ™å¯ä»¥ç»§æ‰¿çˆ¶ç±»ç±»çº§åˆ«çš„æ³¨è§£</strong></li><li>å®é™…åº”ç”¨ä¸­ï¼Œä½¿ç”¨è¾ƒå°‘</li></ul><h4 id="9-2-4-JDK8ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§"><a href="#9-2-4-JDK8ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§" class="headerlink" title="9.2.4 JDK8ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§"></a>9.2.4 JDK8ä¸­æ³¨è§£çš„æ–°ç‰¹æ€§</h4><h5 id="1-å¯é‡å¤æ³¨è§£"><a href="#1-å¯é‡å¤æ³¨è§£" class="headerlink" title="1.å¯é‡å¤æ³¨è§£"></a>1.å¯é‡å¤æ³¨è§£</h5><pre><code class="java">//JDK8åŠä»¥åï¼š//â‘ åœ¨MyAnnotationä¸Šå£°æ˜@Repeatableï¼Œæˆå‘˜å€¼ä¸ºMyAnnotations.class//â‘¡MyAnotationçš„Targetå’ŒRetentionè¦ä¸MyAnnotationsç›¸åŒ@Repeatable(value = MyAnnotations.class)@Target(&#123;ElementType.TYPE,ElementType.PARAMETER,ElementType.FIELD,ElementType.METHOD,ElementType.CONSTRUCTOR,ElementType.LOCAL_VARIABLE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface MyAnnotation &#123;    String value();&#125;@Target(&#123;ElementType.TYPE,ElementType.PARAMETER,ElementType.FIELD,ElementType.METHOD,ElementType.CONSTRUCTOR,ElementType.LOCAL_VARIABLE&#125;)@Retention(RetentionPolicy.RUNTIME)pubilc @interface MyAnnotations &#123;    MyAnnotation[] value();&#125;//å¯é‡å¤æ³¨è§£JDK8ä¹‹å‰çš„å†™æ³•:æ–°å»ºä¸€ä¸ªå®¹å™¨æ³¨è§£æ¥ä¿å­˜è¿™å¤šä¸ªç›¸åŒç±»å‹çš„æ³¨è§£//@MyAnnotations(&#123;@MyAnnotation(value = &quot;hi&quot;),@MyAnnotation(value = &quot;hello&quot;)&#125;)@MyAnnotation(value = &quot;hello&quot;)@MyAnnotation(value = &quot;hi&quot;)public class AnnotationTest&#123;&#125;</code></pre><h5 id="2-ç±»å‹æ³¨è§£"><a href="#2-ç±»å‹æ³¨è§£" class="headerlink" title="2.ç±»å‹æ³¨è§£"></a>2.ç±»å‹æ³¨è§£</h5><p>JDK1.8ä¹‹åï¼Œå…³äºå…ƒæ³¨è§£@Targetçš„å‚æ•°ç±»å‹ElementTypeæšä¸¾å€¼å¤šäº†ä¸¤ä¸ªï¼šTYPE_ PARAMETERï¼ŒTYPE_ USE</p><p>åœ¨Java8ä¹‹å‰ï¼Œæ³¨è§£åªèƒ½æ˜¯åœ¨å£°æ˜çš„åœ°æ–¹æ‰€ä½¿ç”¨ï¼Œ<strong>Java8å¼€å§‹ï¼Œæ³¨è§£å¯ä»¥åº”ç”¨åœ¨ä»»ä½•åœ°æ–¹</strong></p><ul><li>ElementType.TYPE_PARAMETERè¡¨ç¤º<strong>è¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å˜é‡çš„å£°æ˜è¯­å¥ä¸­</strong>(å¦‚ï¼šæ³›å‹å£°æ˜)</li><li>ElementType.TYPE_USEè¡¨ç¤º<strong>è¯¥æ³¨è§£èƒ½å†™åœ¨ä½¿ç”¨ç±»å‹çš„ä»»ä½•è¯­å¥ä¸­</strong></li></ul><pre><code class="java">@Target(&#123;ElementType.TYPE_PARAMETER,ElementType.TYPE_USE&#125;)public @interface MyAnnotation1 &#123;&#125;class Generic&lt;@MyAnnotation1 T&gt;&#123;    public void show()&#123;        ArrayList&lt;@MyAnnotation1 String&gt; list = new ArrayList&lt;&gt;();        int num = (@MyAnnotation1 int)10L;    &#125;&#125;</code></pre><h2 id="åã€Javaé›†åˆ"><a href="#åã€Javaé›†åˆ" class="headerlink" title="åã€Javaé›†åˆ"></a>åã€Javaé›†åˆ</h2><h3 id="10-1-Javaç»“åˆæ¡†æ¶æ¦‚è¿°"><a href="#10-1-Javaç»“åˆæ¡†æ¶æ¦‚è¿°" class="headerlink" title="10.1 Javaç»“åˆæ¡†æ¶æ¦‚è¿°"></a>10.1 Javaç»“åˆæ¡†æ¶æ¦‚è¿°</h3><p>ä¸€æ–¹é¢ï¼Œé¢å‘å¯¹è±¡è¯­è¨€å¯¹äº‹ç‰©çš„ä½“ç°éƒ½æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼ï¼Œä¸ºäº†æ–¹ä¾¿<strong>å¯¹å¤šä¸ªå¯¹è±¡çš„æ“ä½œ</strong>ï¼Œå°±è¦å¯¹å¯¹è±¡è¿›è¡Œå­˜å‚¨ã€‚å¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨Arrayå­˜å‚¨å¯¹è±¡æ–¹é¢å…·æœ‰ä¸€äº›å¼Šç«¯ï¼Œè€ŒJava é›†åˆå¯ä»¥<strong>åŠ¨æ€åœ°æŠŠå¤šä¸ªå¯¹è±¡çš„å¼•ç”¨æ”¾å…¥å®¹å™¨ä¸­</strong></p><p>é›†åˆã€æ•°ç»„éƒ½æ˜¯<strong>å¯¹å¤šä¸ªæ•°æ®è¿›è¡Œå­˜å‚¨æ“ä½œ</strong>çš„ç»“æ„ï¼Œç®€ç§°Javaå®¹å™¨ï¼ˆæ­¤æ—¶çš„å­˜å‚¨ä¸»è¦<strong>æŒ‡å†…å­˜å±‚é¢çš„å­˜å‚¨</strong>ï¼Œä¸æ¶‰åŠåˆ°æŒä¹…åŒ–çš„å­˜å‚¨ï¼‰</p><ul><li>æ•°ç»„åœ¨å†…å­˜å­˜å‚¨æ–¹é¢çš„ç‰¹ç‚¹ï¼š<ul><li>æ•°ç»„åˆå§‹åŒ–ä»¥åï¼Œé•¿åº¦å°±ç¡®å®šäº†ï¼ˆ<strong>é•¿åº¦ç¡®å®š</strong>ï¼‰</li><li>æ•°ç»„å£°æ˜çš„ç±»å‹ï¼Œå°±å†³å®šäº†è¿›è¡Œå…ƒç´ åˆå§‹åŒ–æ—¶çš„ç±»å‹ï¼ˆ<strong>å…ƒç´ ç±»å‹ç¡®å®š</strong>ï¼‰</li></ul></li><li>æ•°ç»„åœ¨å­˜å‚¨æ•°æ®æ–¹é¢çš„å¼Šç«¯ï¼š<ul><li>æ•°ç»„åˆå§‹åŒ–ä»¥åï¼Œ<strong>é•¿åº¦å°±ä¸å¯å˜äº†ï¼Œä¸ä¾¿äºæ‰©å±•</strong></li><li>æ•°ç»„ä¸­æä¾›çš„å±æ€§å’Œæ–¹æ³•å°‘ï¼Œ<strong>ä¸ä¾¿äºè¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€æ’å…¥ç­‰æ“ä½œï¼Œä¸”æ•ˆç‡ä¸é«˜</strong>ã€‚åŒæ—¶<strong>æ— æ³•ç›´æ¥è·å–å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</strong></li><li>æ•°ç»„å­˜å‚¨çš„<strong>æ•°æ®æ˜¯æœ‰åºçš„ã€å¯ä»¥é‡å¤</strong>çš„ã€‚â€”&gt;å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹å•ä¸€</li></ul></li></ul><p>Javaé›†åˆç±»å¯ä»¥ç”¨äº<strong>å­˜å‚¨æ•°é‡ä¸ç­‰çš„å¤šä¸ªå¯¹è±¡</strong>ï¼Œè¿˜å¯ç”¨äº<strong>ä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„å…³è”æ•°ç»„</strong></p><h4 id="10-1-1-é›†åˆæ¡†æ¶çš„ä½¿ç”¨åœºæ™¯"><a href="#10-1-1-é›†åˆæ¡†æ¶çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="10.1.1 é›†åˆæ¡†æ¶çš„ä½¿ç”¨åœºæ™¯"></a>10.1.1 é›†åˆæ¡†æ¶çš„ä½¿ç”¨åœºæ™¯</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639409.png' data-fancybox='default' data-caption='image-20210802145115189'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639409.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639409.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210802145115189"></a><span class='image-caption'>image-20210802145115189</span></div></div><h4 id="10-1-2-Javaé›†åˆå¯åˆ†ä¸ºCollectionå’ŒMapä¸¤ç§ä½“ç³»"><a href="#10-1-2-Javaé›†åˆå¯åˆ†ä¸ºCollectionå’ŒMapä¸¤ç§ä½“ç³»" class="headerlink" title="10.1.2 Javaé›†åˆå¯åˆ†ä¸ºCollectionå’ŒMapä¸¤ç§ä½“ç³»"></a>10.1.2 Javaé›†åˆå¯åˆ†ä¸ºCollectionå’ŒMapä¸¤ç§ä½“ç³»</h4><ul><li>Collectionæ¥å£ï¼š<strong>å•åˆ—æ•°æ®</strong>ï¼Œå®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•çš„é›†åˆ<ul><li>Listï¼š<strong>å…ƒç´ æœ‰åºã€å¯é‡å¤</strong>çš„é›†åˆ  â€”&gt;â€åŠ¨æ€â€æ•°ç»„<ul><li>å®ç°ç±»ï¼šArrayListã€LinkedListã€Vector</li></ul></li><li>Setï¼š<strong>å…ƒç´ æ— åºã€ä¸å¯é‡å¤</strong>çš„é›†åˆ  â€”&gt;é«˜ä¸­å­¦çš„â€é›†åˆâ€<ul><li>å®ç°ç±»ï¼šHashSetã€LinkedHashSetã€TreeSet</li></ul></li></ul></li><li>Mapæ¥å£ï¼š<strong>åŒåˆ—æ•°æ®</strong>ï¼Œä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»â€œ<strong>key-valueå¯¹</strong>â€çš„é›†åˆ â€”&gt;é«˜ä¸­å‡½æ•°ï¼šy=f(x)ï¼Œ<strong>xç›¸å½“äºkeyï¼Œyç›¸å½“äºvalue</strong>ï¼Œå¯ä»¥æœ‰å¤šä¸ªkeyæŒ‡å‘åŒä¸€ä¸ªvalueï¼ˆ<strong>key-&gt;valueå¤šå¯¹ä¸€</strong>ï¼‰ï¼Œä¸èƒ½æœ‰ä¸€ä¸ªkeyæŒ‡å‘å¤šä¸ªvalueï¼ˆ<strong>value-&gt;keyä¸€å¯¹ä¸€</strong>ï¼‰<ul><li>å®ç°ç±»ï¼šHashMapã€LinkedHashMapã€TreeMapã€Hashtableã€Properties</li></ul></li></ul><p><strong>1.Collectionæ¥å£ç»§æ‰¿æ ‘ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639220.png' data-fancybox='default' data-caption='image-20210802145632177'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639220.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201639220.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210802145632177"></a><span class='image-caption'>image-20210802145632177</span></div></div><p><strong>2.Mapæ¥å£ç»§æ‰¿æ ‘ï¼š</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641823.png' data-fancybox='default' data-caption='image-20210802145827415'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641823.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641823.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210802145827415"></a><span class='image-caption'>image-20210802145827415</span></div></div><h3 id="10-2-Collectionæ¥å£"><a href="#10-2-Collectionæ¥å£" class="headerlink" title="10.2 Collectionæ¥å£"></a>10.2 Collectionæ¥å£</h3><h4 id="10-2-1-Collectionæ¥å£ä¸­å¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨"><a href="#10-2-1-Collectionæ¥å£ä¸­å¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="10.2.1 Collectionæ¥å£ä¸­å¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨"></a>10.2.1 Collectionæ¥å£ä¸­å¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨</h4><p><strong>æ·»åŠ å…ƒç´ </strong>ï¼šadd(Object obj)ã€addAlI(Collection coll)</p><p><strong>è·å–æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°</strong>ï¼šint size()</p><p><strong>æ¸…ç©ºé›†åˆ</strong>ï¼švoid clear()</p><p><strong>æ˜¯å¦æ˜¯ç©ºé›†åˆ</strong>ï¼šboolean isEmpty()</p><pre><code class="java">Collection collection = new ArrayList();//1.add(Object e):å°†å…ƒç´ eæ·»åŠ åˆ°é›†åˆcollectionä¸­collection.add(&quot;AA&quot;);collection.add(&quot;AA&quot;);collection.add(123);//è‡ªåŠ¨è£…ç®±collection.add(new Date());//2.size():è·å–æ·»åŠ çš„å…ƒç´ ä¸ªæ•°System.out.println(collection.size());//4//3.addAll(Collection collection):å°†collectioné›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°å½“å‰é›†åˆä¸­Collection collection1 = new ArrayList();collection1.add(456);collection1.add(&quot;CC&quot;);collection.addAll(collection1);System.out.println(collection.size());//6System.out.println(collection);//4.clear():æ¸…ç©ºé›†åˆå…ƒç´ collection.clear();//å¯¹è±¡ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯å…ƒç´ è¢«æ¸…ç©ºäº†//5.isEmpty():åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©ºSystem.out.println(collection.isEmpty());</code></pre><p><strong>æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </strong>ï¼š</p><ul><li>boolean contains(Object obj)ï¼šæ˜¯é€šè¿‡<strong>å…ƒç´ çš„equalsæ–¹æ³•æ¥åˆ¤æ–­</strong>æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡</li><li>boolean containsAll(Collection c)ï¼šä¹Ÿæ˜¯è°ƒç”¨å…ƒç´ çš„equalsæ–¹æ³•æ¥æ¯”è¾ƒçš„ã€‚æ‹¿ä¸¤ä¸ªé›†åˆçš„å…ƒç´ <strong>æŒ¨ä¸ªæ¯”è¾ƒ</strong></li></ul><pre><code class="java">//6.contains(Object obj):åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦åŒ…å«obj//åœ¨åˆ¤æ–­æ—¶ä¼šè°ƒç”¨objå¯¹è±¡æ‰€åœ¨ç±»çš„equals()æ–¹æ³•ï¼Œå¦‚æœæ‰€åœ¨ç±»æ²¡æœ‰é‡å†™equals()ï¼Œåˆ™ä¼šè°ƒç”¨Objectç±»çš„equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬è¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ï¼Œå¿…é¡»é‡å†™equals()Collection collection = new ArrayList();collection.add(123);collection.add(456);collection.add(false);collection.add(new String(&quot;Jerry&quot;));collection.add(new Person(&quot;Tom&quot;,20));//Person p = new Person(&quot;Tom&quot;, 20);//collection.add(p);//System.out.println(collection.contains(p));//trueboolean contains = collection.contains(123);System.out.println(contains);//trueSystem.out.println(collection.contains(new String(&quot;Jerry&quot;)));//trueï¼Œå› ä¸ºStringç±»é‡å†™äº†equalsæ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œæ¯”è¾ƒçš„æ˜¯å†…å®¹System.out.println(collection.contains(new Person(&quot;Tom&quot;, 20)));//falseï¼Œå› ä¸ºæˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»Personæ²¡æœ‰é‡å†™equalsæ–¹æ³•ï¼Œæ‰€ä»¥æ˜¯ç›¸å½“äºç”¨â€œ==â€æ¯”è¾ƒçš„åœ°å€å€¼//7.containsAll(Collection collection):åˆ¤æ–­å½¢å‚collectionä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½å­˜åœ¨äºå½“å‰é›†åˆä¸­Collection collection1 = Arrays.asList(123,456);//è¿”å›ä¸€ä¸ªListï¼Œä¹Ÿæ˜¯ä¸€ç§åˆ›å»ºé›†åˆçš„æ–¹å¼System.out.println(collection.containsAll(collection1));//true</code></pre><p><strong>åˆ é™¤å…ƒç´ ï¼š</strong></p><ul><li>boolean remove(Object obj)ï¼šé€šè¿‡å…ƒç´ æ‰€å±ç±»çš„<strong>equalsæ–¹æ³•åˆ¤æ–­æ˜¯å¦æ˜¯è¦åˆ é™¤çš„é‚£ä¸ªå…ƒç´ </strong>ã€‚åªä¼š<strong>åˆ é™¤æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ </strong></li><li>boolean removeAll(Collection coll)ï¼š<strong>å–å½“å‰é›†åˆçš„å·®é›†</strong></li></ul><pre><code class="java"> //8.remove(Object obj):ä»å½“å‰é›†åˆç§»é™¤objå…ƒç´ ï¼Œè¿”å›trueã€false,ç§»é™¤å…ƒç´ åçš„é›†åˆä»ä¿å­˜åœ¨å½“å‰é›†åˆ Collection collection = new ArrayList(); collection.add(123); collection.add(456); collection.add(false); collection.add(new String(&quot;Jerry&quot;)); collection.add(new Person(&quot;Tom&quot;,20));boolean remove = collection.remove(123);System.out.println(remove);//trueSystem.out.println(collection);//[456, false, Jerry, Collection.Person@4ee285c6]//9.removeAll(Collection collection):ä»å½“å‰é›†åˆä¸­ç§»é™¤collectionä¸­çš„æ‰€æœ‰å…ƒç´ Collection collection1 = Arrays.asList(123,456);collection.removeAll(collection1);System.out.println(collection);//[false, Jerry, Collection.Person@4ee285c6]</code></pre><p><strong>å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼š</strong>boolean retainAll(Collection c)ï¼šæŠŠäº¤é›†çš„ç»“æœå­˜åœ¨å½“å‰é›†åˆä¸­ï¼Œ<strong>ä¸å½±å“c</strong></p><p><strong>é›†åˆæ˜¯å¦ç›¸ç­‰ï¼š</strong>boolean equals(Object obj)ï¼šå¦‚æœä¸¤ä¸ª<strong>List</strong>(æœ‰åº)é›†åˆä¸­çš„å…ƒç´ å†…å®¹ä¸€æ ·ï¼Œé¡ºåºä¸ä¸€æ ·ï¼Œåˆ™ä¼šè¿”å›false(Listçš„æƒ…å†µ)ï¼›å¦‚æœæ˜¯<strong>Set</strong>(æ— åº)é›†åˆï¼Œé¡ºåºä¸ä¸€æ ·å†…å®¹ä¸€æ ·ä»ä¸ºtrue</p><pre><code class="java">//10.retainAll(Collection collection):è·å–å½“å‰é›†åˆå’Œcollectionçš„äº¤é›†ï¼Œå¹¶å°†äº¤é›†ä¿ç•™åœ¨å½“å‰é›†åˆCollection collection = new ArrayList();collection.add(123);collection.add(456);collection.add(false);collection.add(new String(&quot;Jerry&quot;));collection.add(new Person(&quot;Tom&quot;,20));Collection collection1 = Arrays.asList(123,456);collection.retainAll(collection1);System.out.println(collection);//[123, 456]System.out.println(collection1);//[123, 456]//11.equals():åˆ¤æ–­å½“å‰é›†åˆä¸collectionæ˜¯å¦ç›¸ç­‰ï¼ˆæ¯”è¾ƒå†…å®¹ï¼‰System.out.println(collection.equals(collection1));//trueï¼Œå› ä¸ºä¸Šæ–¹ç”¨retainAllå–äº†è¿™ä¸¤ä¸ªé›†åˆçš„äº¤é›†ã€‚ä¿å­˜åœ¨collectionä¸­ï¼Œè€Œcollection1ä¸å˜ï¼Œæ‰€ä»¥è¿™é‡Œæ¯”è¾ƒå°±è¿”å›true</code></pre><p><strong>è½¬æˆå¯¹è±¡æ•°ç»„ï¼š</strong>Object[] toArray()</p><p><strong>è·å–é›†åˆå¯¹è±¡çš„å“ˆå¸Œå€¼ï¼š</strong>hashCode()</p><pre><code class="java">Collection collection = new ArrayList();collection.add(123);collection.add(456);collection.add(false);collection.add(new String(&quot;Jerry&quot;));collection.add(new Person(&quot;Tom&quot;,20));//12.HashCode():è¿”å›å½“å‰å¯¹è±¡çš„Hashå€¼System.out.println(collection.hashCode());//13.toArray():é›†åˆ  --&gt;  æ•°ç»„Object[] objects = collection.toArray();for (int i = 0; i &lt; objects.length; i++) &#123;System.out.println(objects[i]);&#125;//æ‰©å±•:æ•°ç»„  --&gt;  é›†åˆ:è°ƒç”¨Arraysç±»çš„é™æ€æ–¹æ³•asList()List&lt;String&gt; strings = Arrays.asList(new String[]&#123;&quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;&#125;);System.out.println(strings);List&lt;int[]&gt; ints = Arrays.asList(new int[]&#123;123, 456&#125;);System.out.println(ints.size());//1ï¼Œå› ä¸ºintæ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé›†åˆä¸­åªèƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¦‚æœç”¨åŸºæœ¬æ•°æ®ç±»å‹è¿™å„¿ä¼šæŠŠå®ƒè®¤ä¸ºæ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä¸‹æ–¹ä½¿ç”¨åŒ…è£…ç±»æ•°æ®å»ºç«‹çš„é›†åˆå°±æ˜¯ä¸¤ä¸ªå…ƒç´ List&lt;Integer&gt; integers = Arrays.asList(new Integer[]&#123;123, 456&#125;);System.out.println(integers.size());//2</code></pre><p><strong>éå†ï¼š</strong>iterator()ï¼šè¿”å›<strong>è¿­ä»£å™¨å¯¹è±¡ï¼Œç”¨äºé›†åˆéå†</strong>ï¼Œå†…éƒ¨æ–¹æ³•ï¼šhasNext()ï¼Œnext()ï¼Œremove()</p><p>Iteratorå¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨(è®¾è®¡æ¨¡å¼çš„ä¸€ç§)ï¼Œä¸»è¦<strong>ç”¨äºéå†Collectioné›†åˆä¸­çš„å…ƒç´ </strong></p><p>GOFç»™è¿­ä»£å™¨æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šæä¾›ä¸€ç§æ–¹æ³•è®¿é—®ä¸€ä¸ªå®¹å™¨(container)å¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ã€‚è¿­ä»£å™¨æ¨¡å¼ï¼Œå°±æ˜¯<strong>ä¸ºå®¹å™¨è€Œç”Ÿ</strong></p><p>Collectionæ¥å£ç»§æ‰¿äº†java.lang.lterableæ¥å£ï¼Œè¯¥æ¥å£æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œé‚£ä¹ˆæ‰€æœ‰å®ç°äº†Collectionæ¥å£çš„é›†åˆç±»éƒ½æœ‰ä¸€ä¸ª<strong>iterator()æ–¹æ³•ï¼Œ ç”¨ä»¥è¿”å›ä¸€ä¸ªå®ç°äº†iteratoræ¥å£çš„å¯¹è±¡</strong></p><p>Iterator<strong>ä»…ç”¨äºéå†é›†åˆ</strong>ï¼ŒIterator æœ¬èº«å¹¶<strong>ä¸æä¾›æ‰¿è£…å¯¹è±¡çš„èƒ½åŠ›</strong>ã€‚å¦‚æœéœ€è¦<strong>åˆ›å»ºteratorå¯¹è±¡ï¼Œåˆ™å¿…é¡»æœ‰ä¸€ä¸ªè¢«è¿­ä»£çš„é›†åˆ</strong></p><p>é›†åˆå¯¹è±¡<strong>æ¯æ¬¡è°ƒç”¨</strong>iterator()æ–¹æ³•éƒ½<strong>å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡</strong>ï¼Œé»˜è®¤æ¸¸æ ‡éƒ½åœ¨é›†åˆçš„<strong>ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641040.png' data-fancybox='default' data-caption='image-20210803100049690'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641040.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641040.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210803100049690"></a><span class='image-caption'>image-20210803100049690</span></div></div><pre><code class="java">//é›†åˆå…ƒç´ çš„éå†æ“ä½œï¼Œä½¿ç”¨è¿­ä»£å™¨Iteratoræ¥å£Collection collection = new ArrayList();collection.add(123);collection.add(456);collection.add(false);collection.add(new String(&quot;Jerry&quot;));collection.add(new Person(&quot;Tom&quot;,20));Iterator iterator = collection.iterator();//éå†æ–¹å¼ä¸€ï¼š//System.out.println(iterator.next());//System.out.println(iterator.next());//System.out.println(iterator.next());//System.out.println(iterator.next());//System.out.println(iterator.next());//System.out.println(iterator.next());//è¶…å‡ºé›†åˆå…ƒç´ ä¸ªæ•°èŒƒå›´ï¼ŒæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸//éå†æ–¹å¼äºŒï¼šä¸æ¨èfor (int i = 0; i &lt; collection.size(); i++) &#123;    System.out.println(iterator.next());&#125;//éå†æ–¹å¼ä¸‰ï¼šæ¨èwhile(iterator.hasNext()) &#123;    System.out.println(iterator.next());&#125;//é”™è¯¯å†™æ³•ä¸€ï¼šIterator iterator = collection.iterator();while(iterator.next() != null) &#123;    System.out.println(iterator.next());//éš”ç©ºéå†è¾“å‡ºï¼Œåˆ¤æ–­æ—¶è¿­ä»£å™¨æŒ‡é’ˆå¾€ä¸‹ç§»ï¼Œè¾“å‡ºæ—¶åˆå¾€ä¸‹ç§»ï¼Œæ‰€ä»¥é€ æˆéš”ç©ºè¾“å‡º&#125;//é”™è¯¯å†™æ³•äºŒï¼šwhile(collection.iterator().hasNext())&#123;    System.out.println(collection.iterator().next());//æ¯æ¬¡éƒ½æ˜¯è¾“å‡º123ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨iterator()éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯åœ¨éå†ç¬¬ä¸€ä¸ªå…ƒç´ &#125;//è¿­ä»£å™¨ç§»é™¤å…ƒç´ ï¼šremove()while(iterator.hasNext())&#123;    Object obj = iterator.next();    if(obj.equals(&quot;Jerry&quot;))&#123;         iterator.remove();       &#125;&#125;//æ³¨æ„ï¼šIteratorå¯ä»¥åˆ é™¤é›†åˆçš„å…ƒç´ ï¼Œä½†æ˜¯æ˜¯éå†è¿‡ç¨‹ä¸­é€šè¿‡è¿­ä»£å™¨å¯¹è±¡çš„removeæ–¹æ³•ï¼Œä¸æ˜¯é›†åˆå¯¹è±¡çš„removeæ–¹æ³•//å¦‚æœè¿˜æœªè°ƒç”¨next()æˆ–åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ä¹‹åå·²ç»è°ƒç”¨äº†removeæ–¹æ³•ï¼Œå†è°ƒç”¨removeéƒ½ä¼šæŠ¥IllgalStateException</code></pre><p><strong>JDK5æ–°å¢äº†ä¸€ä¸ªå¢å¼ºforå¾ªç¯foreachï¼Œç”¨äºéå†é›†åˆå’Œæ•°ç»„</strong></p><pre><code class="java">Collection collection = new ArrayList();collection.add(123);collection.add(456);collection.add(false);collection.add(new String(&quot;Jerry&quot;));collection.add(new Person(&quot;Tom&quot;,20));//é›†åˆä¸­å…ƒç´ çš„ç±»å‹  å±€éƒ¨å˜é‡ : éœ€è¦éå†çš„é›†åˆæˆ–æ•°ç»„å¯¹è±¡//å†…éƒ¨ä»æ˜¯ä½¿ç”¨è¿­ä»£å™¨for(Object obj : collection)&#123;    System.out.println(obj);&#125;</code></pre><h4 id="10-2-2-Collectionçš„å­æ¥å£List"><a href="#10-2-2-Collectionçš„å­æ¥å£List" class="headerlink" title="10.2.2 Collectionçš„å­æ¥å£List"></a>10.2.2 Collectionçš„å­æ¥å£List</h4><p>é‰´äºJavaä¸­æ•°ç»„ç”¨æ¥å­˜å‚¨æ•°æ®çš„å±€é™æ€§ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<strong>Listæ›¿ä»£æ•°ç»„</strong></p><p>Listé›†åˆç±»ä¸­<strong>å…ƒç´ æœ‰åºã€ä¸”å¯é‡å¤</strong>ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•</p><p>Listå®¹å™¨ä¸­çš„<strong>å…ƒç´ éƒ½å¯¹åº”ä¸€ä¸ªæ•´æ•°å‹çš„åºå·</strong>è®°è½½å…¶åœ¨å®¹å™¨ä¸­çš„ä½ç½®ï¼Œå¯ä»¥<strong>æ ¹æ®å­—å·å­˜å–å®¹å™¨ä¸­çš„å…ƒç´ </strong></p><p>JDK APIä¸­Listæ¥å£çš„<strong>å®ç°ç±»</strong>å¸¸ç”¨çš„æœ‰: <strong>ArrayListã€ LinkedListå’ŒVector</strong>ï¼ˆlistçš„å¤è€å®ç°ç±»ï¼‰</p><pre><code class="java">é¢è¯•é¢˜ï¼šArrayListã€LinkedListã€Vectorä¸‰è€…çš„å¼‚åŒï¼ŸåŒï¼šä¸‰ä¸ªç±»éƒ½å®ç°Listæ¥å£ï¼Œå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ï¼šå­˜å‚¨æœ‰åºã€å¯é‡å¤çš„æ•°æ®ï¼›ArrayListå’ŒVectoråº•å±‚ä½¿ç”¨Object[]å­˜å‚¨ï¼ŒLinkedListä½¿ç”¨åŒå‘é“¾è¡¨å¼‚ï¼š|--ArrayListï¼šä½œä¸ºlistæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼Œä½¿ç”¨æœ€å¤šï¼›çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼›å¯¹äºæ•°æ®çš„æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œä½†é¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ•ˆç‡ä½ï¼›åº•å±‚æ•°ç»„æ‰©å®¹ä¸€æ¬¡ä¸º1.5å€|--LinkedListï¼šçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼›å¯¹äºé¢‘ç¹çš„æ’å…¥ã€åˆ é™¤æ“ä½œæ•ˆç‡é«˜ï¼Œä½†æŸ¥è¯¢æ•ˆç‡ä½ï¼›åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨|--Vectorï¼šä½œä¸ºlistæ¥å£çš„å¤è€å®ç°ç±»ï¼›çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼›åº•å±‚æ•°ç»„æ‰©å®¹ä¸€æ¬¡2å€</code></pre><h5 id="1-ArrayListç±»"><a href="#1-ArrayListç±»" class="headerlink" title="1.ArrayListç±»"></a>1.ArrayListç±»</h5><p>ArrayListæ˜¯Listæ¥å£çš„å…¸å‹å®ç°ç±»ã€ä¸»è¦å®ç°ç±»</p><p>æœ¬è´¨ä¸Šï¼ŒArrayListæ˜¯å¯¹è±¡å¼•ç”¨çš„ä¸€ä¸ªâ€å˜é•¿â€æ•°ç»„</p><p>ArrayListçš„JDK1.8ä¹‹å‰ä¸ä¹‹åçš„å®ç°åŒºåˆ«?</p><ul><li>JDK1.7ï¼šArrayListåƒé¥¿æ±‰å¼ï¼Œ<strong>ç›´æ¥åˆ›å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º10çš„æ•°ç»„</strong></li><li>JDK1.8ï¼šArrayListåƒæ‡’æ±‰å¼ï¼Œ<strong>ä¸€å¼€å§‹åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œå½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å†åˆ›å»ºä¸€ä¸ªå§‹å®¹é‡ä¸º10çš„æ•°ç»„</strong></li></ul><p>Arrays.asList(â€¦)æ–¹æ³•<strong>è¿”å›çš„Listé›†åˆ</strong>ï¼Œæ—¢ä¸æ˜¯ArrayListå®ä¾‹ï¼Œä¹Ÿä¸æ˜¯Vector å®ä¾‹ã€‚Arrays.asList(â€¦)è¿”å›å€¼<strong>æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„Listé›†åˆ</strong></p><h6 id="æºç åˆ†æï¼šJDK7"><a href="#æºç åˆ†æï¼šJDK7" class="headerlink" title="æºç åˆ†æï¼šJDK7"></a>æºç åˆ†æï¼šJDK7</h6><pre><code class="java">åº•å±‚å­˜å‚¨æ•°æ®ï¼šObject[] elementDataArrayList list = new ArrayList();//åº•å±‚åˆ›å»ºä¸€ä¸ªåˆå§‹é•¿åº¦ä¸º10çš„Objectæ•°ç»„//æ— å‚æ„é€ å™¨æºç public ArrayList() &#123;    this(10);//è°ƒç”¨æœ‰å‚æ„é€ å™¨ï¼Œä¼ å…¥å®¹é‡å€¼ä¸º10ï¼Œç›´æ¥åˆ›å»ºthis.elementData = new Object[10];&#125;//add()æ–¹æ³•public boolean add(E e) &#123;    ensureCapacityInternal(size + 1);  // åˆ¤æ–­æ˜¯å¦è¶…å‡ºlistèŒƒå›´ï¼Œè‹¥è¶…å‡ºåˆ™ä¼šè°ƒç”¨æ‰©å®¹çš„æ–¹æ³•growï¼Œgrowçš„å†…å®¹å¯å‚è€ƒä¸‹æ–¹JDK8ä¸­çš„growæ–¹æ³•    elementData[size++] = e;//å°†æ•°æ®eæ·»åŠ åˆ°æ‰©å®¹åçš„list    return true;&#125;List.add(123);//elementData[0] = new Integer(123);...list.add(11);//å¦‚æœæ­¤æ¬¡çš„æ·»åŠ å¯¼è‡´åº•å±‚elementDataæ•°ç»„å®¹é‡ä¸å¤Ÿï¼Œåˆ™æ‰©å®¹é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥çš„å®¹é‡çš„1.5å€ï¼ŒåŒæ—¶éœ€è¦å°†åŸæœ‰æ•°ç»„ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­ç»“è®º:å»ºè®®å¼€å‘ä¸­ä½¿ç”¨å¸¦å‚çš„æ„é€ å™¨: ArrayList list = new ArrayList(int capacity)</code></pre><h6 id="æºç åˆ†æï¼šJDK8ä¸­ArrayListçš„å˜åŒ–"><a href="#æºç åˆ†æï¼šJDK8ä¸­ArrayListçš„å˜åŒ–" class="headerlink" title="æºç åˆ†æï¼šJDK8ä¸­ArrayListçš„å˜åŒ–"></a>æºç åˆ†æï¼šJDK8ä¸­ArrayListçš„å˜åŒ–</h6><pre><code class="java">åº•å±‚å­˜å‚¨æ•°æ®ï¼šä»ä¸ºObject[] elementDataArrayList list = new ArrayList();//åº•å±‚object[] eLementDataåˆå§‹åŒ–ä¸º&#123;&#125;ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºé•¿åº¦ä¸º10çš„Objectæ•°ç»„//æ— å‚æ„é€ å™¨æºç public ArrayList() &#123;    this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;//DEFAULTCAPACITY_EMPTY_ELEMENTDATA=&#123;&#125;&#125;list.add(123);//ç¬¬ä¸€æ¬¡è°ƒç”¨add()æ—¶ï¼Œåº•å±‚æ‰åˆ›å»ºäº†é•¿åº¦10çš„æ•°ç»„ï¼Œå¹¶å°†æ•°æ®123æ·»åŠ åˆ°elementData...åç»­çš„æ·»åŠ å’Œæ‰©å®¹æ“ä½œä¸jdk7æ— å¼‚//add()æ–¹æ³•æ·»åŠ æ•°æ®åŠè°ƒç”¨çš„ä¸€ç³»åˆ—æ–¹æ³•public boolean add(E e) &#123;    ensureCapacityInternal(size + 1);  // åˆ¤æ–­æ˜¯å¦è¶…å‡ºlistèŒƒå›´    elementData[size++] = e;//å°†æ•°æ®eæ·»åŠ åˆ°æ‰©å®¹åçš„list    return true;&#125;private void ensureCapacityInternal(int minCapacity) &#123;    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));//å°†calculateCapacityè¿”å›çš„å®¹é‡å€¼ä¼ å…¥&#125;private static int calculateCapacity(Object[] elementData, int minCapacity) &#123;    if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;//åˆ¤æ–­æ·»åŠ çš„è¿™ä¸ªæ•°æ®æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®        return Math.max(DEFAULT_CAPACITY, minCapacity);//å¦‚æœæ˜¯åˆ™è¿”å›Objectæ•°ç»„é»˜è®¤å®¹é‡10å’Œæ·»åŠ è¿™ä¸ªæ•°æ®åçš„æ•°ç»„ä¸­éœ€è¦çš„å®¹é‡ä¸­æ›´å¤§çš„é‚£ä¸ªå€¼ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ å…¶å®è¿”å›çš„å°±æ˜¯é»˜è®¤å®¹é‡10    &#125;    return minCapacity;&#125;private void ensureExplicitCapacity(int minCapacity) &#123;//ä¼ å…¥éœ€è¦çš„å®¹é‡å€¼ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ ä¼ å…¥çš„æ˜¯10    modCount++;    // overflow-conscious code    if (minCapacity - elementData.length &gt; 0)//ä¼ å…¥çš„éœ€è¦å®¹é‡çš„å€¼æ˜¯å¦æ¯”æ•°ç»„elementDataç°æœ‰é•¿åº¦å¤§        grow(minCapacity);//å¦‚æœæ˜¯ï¼Œåˆ™è¿›è¡Œæ‰©å®¹&#125;private void grow(int minCapacity) &#123;//ä¼ å…¥éœ€è¦ç”¨åˆ°çš„å®¹é‡10    // overflow-conscious code    int oldCapacity = elementData.length;//ç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®ï¼Œlengthä¸º0    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);//æ‰©å®¹1.5å€    if (newCapacity - minCapacity &lt; 0)//è‹¥æ‰©å®¹åçš„å®¹é‡å€¼è¿˜æ˜¯éœ€è¦çš„å°        newCapacity = minCapacity;//åˆ™æŠŠéœ€è¦çš„å®¹é‡å€¼èµ‹ç»™è¿™ä¸ªæ–°å®¹é‡æ¥è¿›è¡Œæ‰©å®¹    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)//è‹¥æ‰©å®¹åè¿™ä¸ªéœ€è¦ç”¨åˆ°çš„å®¹é‡å€¼æ¯”Integer.MAX_VALUE-8è¿˜å¤§ï¼Œåˆ™è°ƒç”¨hugeCapacity()        newCapacity = hugeCapacity(minCapacity);    //æ‰©å®¹åå°†åŸæ•°ç»„çš„å€¼å¤åˆ¶åˆ°æ‰©å®¹è¿‡åçš„æ•°ç»„    elementData = Arrays.copyOf(elementData, newCapacity);&#125;</code></pre><p><strong>å°ç»“ï¼š</strong>jdk7ä¸­çš„ArrayListçš„å¯¹è±¡çš„åˆ›å»º<strong>ç±»ä¼¼äºå•ä¾‹çš„é¥¿æ±‰å¼</strong>ï¼Œè€Œjdk8ä¸­çš„ArrayListçš„å¯¹è±¡çš„åˆ›å»º<strong>ç±»ä¼¼äºå•ä¾‹çš„æ‡’æ±‰å¼</strong>ï¼Œ<strong>å»¶è¿Ÿäº†æ•°ç»„çš„åˆ›å»ºï¼ŒèŠ‚çœå†…å­˜</strong></p><h5 id="2-LinkedListç±»"><a href="#2-LinkedListç±»" class="headerlink" title="2.LinkedListç±»"></a>2.LinkedListç±»</h5><p>å¯¹äºé¢‘ç¹çš„æ’å…¥æˆ–åˆ é™¤å…ƒç´ çš„æ“ä½œï¼Œå»ºè®®ä½¿ç”¨LinkedListç±»ï¼Œæ•ˆç‡è¾ƒé«˜</p><p>æ–°å¢æ–¹æ³•ï¼š</p><ul><li>void addFirst(Object obj)</li><li>void addLast(Object obj)</li><li>Object getFirst()</li><li>Object getLast()</li><li>Object removeFirst()</li><li>Object removeLast()</li></ul><h6 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h6><pre><code class="java">åº•å±‚å­˜å‚¨æ•°æ®ï¼šåŒå‘é“¾è¡¨LinkedList linkedList = new LinkedList();//å†…éƒ¨å£°æ˜äº†Nodeç±»å‹çš„firstå’Œlastå±æ€§ï¼Œé»˜è®¤å€¼ä¸ºnulllast.add(123);//å°†123å°è£…åœ¨Nodeä¸­ï¼Œåˆ›å»ºäº†Nodeå¯¹è±¡å…¶ä¸­ï¼ŒNodeå®šä¹‰ä¸ºï¼šprivate static class Node&lt;E&gt; &#123;    E item;//è¦æ·»åŠ çš„æ•°æ®æœ¬èº«    Node&lt;E&gt; next;//è¯¥ç»“ç‚¹éœ€è¦æŒ‡å‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€å€¼    Node&lt;E&gt; prev;//è¯¥ç»“ç‚¹éœ€è¦æŒ‡å‘çš„ä¸Šä¸€ä¸ªç»“ç‚¹çš„åœ°å€å€¼    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;    this.item = element;    this.next = next;    this.prev = prev;    &#125;&#125;æ·»åŠ æ•°æ®æ—¶è°ƒç”¨çš„`add()`æ–¹æ³•ä¸­è°ƒç”¨çš„æ–¹æ³•(å°¾æ’)ï¼švoid linkLast(E e) &#123;    final Node&lt;E&gt; l = last;//å°†lå’ŒlastæŒ‡å‘åŒä¸€ä¸ªç»“ç‚¹    final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);//åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œä¿å­˜æ–°æ•°æ®ï¼Œå†æŠŠæ–°ç»“ç‚¹çš„prevæŒ‡å‘æ·»åŠ æ–°ç»“ç‚¹å‰çš„æœ€åä¸€ä¸ªç»“ç‚¹    last = newNode;//å°†æ–°ç»“ç‚¹ä½œä¸ºè¯¥é“¾è¡¨çš„æœ€åä¸€ä¸ªç»“ç‚¹    if (l == null)//åˆ¤æ–­æ–°æ·»åŠ çš„ç»“ç‚¹æ˜¯å¦æ˜¯è¿™ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹        first = newNode;//å¦‚æœæ˜¯ï¼Œå°±è®©firstæŒ‡å‘æ–°ç»“ç‚¹    else        l.next = newNode;//å¦‚æœä¸æ˜¯ï¼Œåˆ™è®©æ·»åŠ æ–°ç»“ç‚¹å‰çš„æœ€åä¸€ä¸ªç»“ç‚¹çš„nextæŒ‡å‘æ–°ç»“ç‚¹    size++;//é“¾è¡¨æ•°æ®æ•°é‡åŠ 1    modCount++;&#125;</code></pre><h5 id="3-Vectorç±»"><a href="#3-Vectorç±»" class="headerlink" title="3.Vectorç±»"></a>3.Vectorç±»</h5><h6 id="æºç åˆ†æ-1"><a href="#æºç åˆ†æ-1" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h6><pre><code class="java">jdk7å’Œjdk8ä¸­é€šè¿‡`Vector()`æ„é€ å™¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåº•å±‚éƒ½åˆ›å»ºäº†é•¿åº¦ä¸º10çš„æ•°åœ¨æ‰©å®¹æ–¹é¢ï¼Œé»˜è®¤æ‰©å®¹ä¸ºåŸæ¥çš„æ•°ç»„é•¿åº¦çš„2å€è¯¥ç±»å·²ç»ä¸ç”¨äº†ï¼Œå°½ç®¡çº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯ç°æœ‰Collectionså·¥å…·ç±»ä¹Ÿèƒ½æŠŠArrayListå˜æˆçº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥ä»ç”¨ArrayListæ›¿ä»£Vector</code></pre><h5 id="4-Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#4-Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="4.Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>4.Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•</h5><p>Listé™¤äº†ä»Collectioné›†åˆç»§æ‰¿çš„æ–¹æ³•å¤–ï¼ŒListé›†åˆé‡Œæ·»åŠ äº†ä¸€äº›<strong>æ ¹æ®ç´¢å¼•æ¥æ“ä½œé›†åˆå…ƒç´ çš„æ–¹æ³•</strong></p><ul><li>void add(int indexï¼ŒObject ele)ï¼šåœ¨<strong>indexä½ç½®æ’å…¥eleå…ƒç´ </strong></li><li>boolean addAll(int indexï¼ŒCollection eles)ï¼š<strong>ä»indexä½ç½®å¼€å§‹å°†elesä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</strong></li><li>Object get(int index)ï¼š<strong>è·å–æŒ‡å®šindexä½ç½®çš„å…ƒç´ </strong></li><li>int indexOf(Object obj)ï¼šè¿”å›<strong>objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®</strong></li><li>int lastIndexOf(Object obj)ï¼šè¿”å›<strong>objåœ¨å½“å‰é›†åˆä¸­æœ«æ¬¡å‡ºç°çš„ä½ç½®</strong></li><li>Object remove(int index)ï¼š<strong>ç§»é™¤æŒ‡å®šindexä½ç½®çš„å…ƒç´ </strong>ï¼Œå¹¶<strong>è¿”å›æ­¤å…ƒç´ </strong></li><li>Object set(int indexï¼ŒObject ele)ï¼š<strong>è®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºele</strong></li><li>List subList(int fromIndexï¼Œint tolndex)ï¼š<strong>è¿”å›ä»fromIndexåˆ°tolndexä½ç½®çš„å­é›†åˆ</strong></li></ul><pre><code class="java">ArrayList arrayList = new ArrayList();arrayList.add(123);arrayList.add(456);arrayList.add(&quot;AA&quot;);arrayList.add(new Person(&quot;Tom&quot;,20));arrayList.add(456);System.out.println(arrayList);//[123, 456, AA, Collection.Person@4ee285c6, 456]//1.void add(int indexï¼ŒObject ele)ï¼šåœ¨indexä½ç½®æ’å…¥eleå…ƒç´ arrayList.add(1,&quot;BB&quot;);System.out.println(arrayList);//[123, BB, 456, AA, Collection.Person@4ee285c6, 456]//2.boolean addAll(int indexï¼ŒCollection eles)ï¼šä»indexä½ç½®å¼€å§‹å°†elesä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥List list = Arrays.asList(1,2,3);arrayList.addAll(1,list);System.out.println(arrayList);//[123, 1, 2, 3, BB, 456, AA, Collection.Person@4ee285c6, 456]//3.Object get(int index)ï¼šè·å–æŒ‡å®šindexä½ç½®çš„å…ƒç´ System.out.println(arrayList.get(4));//BB//4.int indexOf(Object obj)ï¼šè¿”å›objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®System.out.println(arrayList.indexOf(456));//5//5.int lastIndexOf(Object obj)ï¼šè¿”å›objåœ¨å½“å‰é›†åˆä¸­æœ«æ¬¡å‡ºç°çš„ä½ç½®System.out.println(arrayList.lastIndexOf(456));//8//6.Object remove(int index)ï¼šç§»é™¤æŒ‡å®šindexä½ç½®çš„å…ƒç´ ï¼Œå¹¶è¿”å›æ­¤å…ƒç´ Object remove = arrayList.remove(8);System.out.println(arrayList);//[123, 1, 2, 3, BB, 456, AA, Collection.Person@4ee285c6]System.out.println(remove);//456//7.Object set(int indexï¼ŒObject ele)ï¼šè®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºelearrayList.set(5,4567);System.out.println(arrayList);//[123, 1, 2, 3, BB, 4567, AA, Collection.Person@4ee285c6]//8.List subList(int fromIndexï¼Œint tolndex)ï¼šè¿”å›ä»fromIndexåˆ°tolndexä½ç½®çš„å·¦é—­å³å¼€åŒºé—´çš„å­é›†åˆList list1 = arrayList.subList(3,6);System.out.println(list1);//[3, BB, 4567]System.out.println(arrayList);//[123, 1, 2, 3, BB, 4567, AA, Collection.Person@4ee285c6]ï¼ŒåŸlistæ²¡å˜</code></pre><h5 id="5-Listçš„ä¸€é“é¢è¯•ç¬”è¯•é¢˜"><a href="#5-Listçš„ä¸€é“é¢è¯•ç¬”è¯•é¢˜" class="headerlink" title="5.Listçš„ä¸€é“é¢è¯•ç¬”è¯•é¢˜"></a>5.Listçš„ä¸€é“é¢è¯•ç¬”è¯•é¢˜</h5><pre><code class="java">@Testpublic void test1() &#123;    //åŒºåˆ†Listä¸­remove(int index)å’Œremove(0bject obj)    List list = new ArrayList();    list.add(1);    list.add(2);    list.add(3);    updateList(list);    System.out.println(list);&#125;private void updateList(List list)&#123;    //list.remove(2);//ç§»é™¤ç´¢å¼•ä¸º2çš„å…ƒç´     list.remove(new Integer(2));//ç§»é™¤å€¼ä¸º2çš„å…ƒç´ &#125;</code></pre><h4 id="10-2-3-Collectionå­æ¥å£Set"><a href="#10-2-3-Collectionå­æ¥å£Set" class="headerlink" title="10.2.3 Collectionå­æ¥å£Set"></a>10.2.3 Collectionå­æ¥å£Set</h4><p>Setæ¥å£æ˜¯Collectionçš„å­æ¥å£ï¼Œsetæ¥å£<strong>æ²¡æœ‰æä¾›é¢å¤–çš„æ–¹æ³•</strong>ï¼ˆå³Setä¸­ä½¿ç”¨çš„éƒ½æ˜¯Collectionæ¥å£ä¸­å£°æ˜è¿‡çš„æ–¹æ³•ï¼‰</p><p>Seté›†åˆ<strong>ä¸å…è®¸åŒ…å«ç›¸åŒçš„å…ƒç´ </strong>ï¼Œå¦‚æœè¯•æŠŠä¸¤ä¸ªç›¸åŒçš„å…ƒç´ åŠ å…¥åŒä¸€ä¸ªSeté›†åˆä¸­ï¼Œåˆ™æ·»åŠ æ“ä½œå¤±è´¥</p><p><strong>ï¼ˆHashSetå’ŒLinkedHashSetï¼‰åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒä¸æ˜¯ä½¿ç”¨==è¿ç®—ç¬¦ï¼Œè€Œæ˜¯æ ¹æ®equals()æ–¹æ³•å’ŒhashCode()æ–¹æ³•</strong>ï¼Œæ‰€ä»¥<strong>æ·»åŠ çš„æ•°æ®æ‰€åœ¨ç±»ä¸€å®šè¦é‡å†™equals()å’ŒhashCode()æ–¹æ³•</strong>ï¼Œ<strong>è€Œï¼ˆTreeSetï¼‰åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸åŒé€šè¿‡Comparableæ¥å£å’ŒComparatoræ¥å£</strong></p><pre><code class="java">|--Setæ¥å£:å­˜å‚¨æ— åºçš„ã€ä¸å¯é‡å¤çš„æ•°æ®--&gt; é«˜ä¸­è®²çš„â€œé›†åˆâ€    |--HashSet:ä½œä¸ºSetæ¥å£çš„ä¸»è¦å®ç°ç±»;çº¿ç¨‹ä¸å®‰å…¨çš„;å¯ä»¥å­˜å‚¨nullå€¼        |--LinkedHashSet:ä½œä¸ºHashSetçš„å­ç±»; éå†å…¶å†…éƒ¨æ•°æ®æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ çš„é¡ºåºéå†;            åœ¨æ·»åŠ æ•°æ®çš„åŒæ—¶ï¼Œæ¯ä¸ªæ•°æ®è¿˜ç»´æŠ¤äº†ä¸¤ä¸ªå¼•ç”¨ï¼Œè®°å½•æ­¤æ•°æ®å‰ä¸€ä¸ªæ•°æ®å’Œåä¸€ä¸ªæ•°æ®            å¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼ŒLinkedHashSet æ•ˆç‡é«˜äºHashSet    |--TreeSet:å¯ä»¥æŒ‰ç…§æ·»åŠ å¯¹è±¡çš„æŒ‡å®šå±æ€§ï¼Œè¿›è¡Œæ’åº</code></pre><p><strong>Setçš„æ— åºæ€§å’Œä¸é‡å¤æ€§çš„ç†è§£</strong></p><pre><code class="java">/*    Set:å­˜å‚¨æ— åºã€ä¸å¯é‡å¤çš„æ•°æ®    ä»¥HashSetä¸ºä¾‹è¯´æ˜ï¼š    1ã€æ— åºæ€§ï¼šä¸ç­‰äºéšæœºæ€§ã€‚å­˜å‚¨çš„æ•°æ®åœ¨åº•å±‚æ•°ç»„ä¸­å¹¶éæŒ‰ç…§æ•°ç»„ç´¢å¼•çš„é¡ºåºè¿›è¡Œæ·»åŠ ï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®çš„Hashå€¼ç¡®å®š    2ã€ä¸å¯é‡å¤æ€§ï¼šä¿è¯æ·»åŠ çš„å…ƒç´ æŒ‰ç…§equals()åˆ¤æ–­æ—¶ï¼Œä¸èƒ½è¿”å›trueã€‚å³:ç›¸åŒçš„å…ƒç´ åªèƒ½æ·»åŠ ä¸€ä¸ª*/Set set = new HashSet();set.add(456);set.add(123);set.add(123);set.add(&quot;AA&quot;);set.add(&quot;CC&quot;);set.add(new User(&quot;Tom&quot;,20));set.add(new User(&quot;Tom&quot;,20));set.add(129);Iterator iterator = set.iterator();while(iterator.hasNext())&#123;    System.out.println(iterator.next());//AA CC 129 User&#123;name=&#39;Tom&#39;, age=20&#125; 456 123&#125;</code></pre><h5 id="1-HashSetç±»"><a href="#1-HashSetç±»" class="headerlink" title="1.HashSetç±»"></a>1.HashSetç±»</h5><p>HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œ<strong>å¤§å¤šæ•°æ—¶å€™ä½¿ç”¨Seté›†åˆæ—¶éƒ½ä½¿ç”¨è¿™ä¸ªå®ç°ç±»</strong></p><p>HashSetæŒ‰Hashç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå› æ­¤å…·æœ‰å¾ˆå¥½çš„å­˜å–ã€æŸ¥æ‰¾ã€åˆ é™¤æ€§èƒ½</p><p>HashSetå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><strong>ä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåº</strong></li><li><strong>HashSetä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</strong></li><li><strong>é›†åˆå…ƒç´ å¯ä»¥æ˜¯null</strong></li></ul><p>HashSeté›†åˆ<strong>åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†</strong>ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡<strong>hashCode()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰</strong>ï¼Œå¹¶ä¸”<strong>ä¸¤ä¸ªå¯¹è±¡çš„equals()æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰</strong></p><p>å¯¹äº<strong>å­˜æ”¾åœ¨Setå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œå¯¹åº”çš„ç±»ä¸€å®šè¦é‡å†™equals()å’ŒhashCode(Object obj)æ–¹æ³•</strong>ï¼Œä»¥å®ç°å¯¹è±¡ç›¸ç­‰è§„åˆ™ã€‚å³:â€œ <strong>ç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„æ•£åˆ—ç </strong>â€</p><p><strong>é‡å†™HashCode()æ–¹æ³•çš„åŸºæœ¬åŸåˆ™ï¼š</strong></p><ul><li>åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œ<strong>åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨hashCode()æ–¹æ³•åº”è¯¥è¿”å›ç›¸åŒçš„å€¼</strong></li><li>å½“ä¸¤ä¸ªå¯¹è±¡çš„<strong>equals()æ–¹æ³•æ¯”è¾ƒè¿”å›trueæ—¶</strong>ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„<strong>hashCode()æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿåº”ç›¸ç­‰</strong></li><li><strong>å¯¹è±¡ä¸­ç”¨ä½œequals()æ–¹æ³•æ¯”è¾ƒçš„Fieldï¼ˆå±æ€§ï¼‰, éƒ½åº”è¯¥ç”¨æ¥è®¡ç®—hashCodeå€¼</strong></li></ul><p><strong>HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹ï¼š</strong></p><pre><code>HashSetåº•å±‚ï¼šæ•°ç»„+é“¾è¡¨1.æˆ‘ä»¬å‘HashSetä¸­æ·»åŠ å…ƒç´ a,é¦–å…ˆè°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„`hashCode()`æ–¹æ³•ï¼Œè®¡ç®—å…ƒç´ açš„å“ˆå¸Œå€¼ï¼Œé€šè¿‡æ­¤å“ˆå¸Œå€¼å†ç”±æŸç§ç®—æ³•è®¡ç®—å‡ºå…ƒç´ aåº”è¯¥åœ¨HashSetåº•å±‚æ•°ç»„ä¸­çš„å­˜æ”¾ä½ç½®(å³ä¸º:ç´¢å¼•ä½ç½®)2.åˆ¤æ–­æ•°ç»„æ­¤ä½ç½®ä¸Šæ˜¯å¦å·²ç»æœ‰å…ƒç´ :    (1)å¦‚æœæ­¤ä½ç½®ä¸Šæ²¡æœ‰å…¶ä»–å…ƒç´ ï¼Œåˆ™å…ƒç´ aç›´æ¥æ·»åŠ åˆ°åº•å±‚æ•°ç»„çš„æ­¤ä½ç½®ä¸Š  --&gt;æ·»åŠ æˆåŠŸçš„æƒ…å†µ1    (2)å¦‚æœæ­¤ä½ç½®ä¸Šå·²æœ‰å…¶ä»–å…ƒç´ b(æˆ–ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨äº†å¤šä¸ªå…ƒç´ )ï¼Œåˆ™æ¯”è¾ƒå…ƒç´ aä¸å…ƒç´ b(æˆ–è¿™äº›å…ƒç´ )çš„hashå€¼:        â‘ å¦‚æœhashå€¼ä¸ç›¸åŒï¼Œåˆ™å…ƒç´ aæ·»åŠ æˆåŠŸ  --&gt;æ·»åŠ æˆåŠŸçš„æƒ…å†µ2        â‘¡å¦‚æœhashå€¼ç›¸åŒï¼Œè¿›è€Œéœ€è¦è°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„equals()æ–¹æ³•:            equals()è¿”å›true,å…ƒç´ aæ·»åŠ å¤±è´¥            equals()è¿”å›false,åˆ™å…ƒç´ aæ·»åŠ æˆåŠŸ  --&gt;æ·»åŠ æˆåŠŸçš„æƒ…å†µ33.è¯´æ˜:å¯¹äºæ·»åŠ æˆåŠŸçš„æƒ…å†µ2å’Œæƒ…å†µ3è€Œè¨€:å…ƒç´ aä¸å·²ç»å­˜åœ¨åœ¨æŒ‡å®šç´¢å¼•ä½ç½®ä¸Šçš„æ•°æ®ä»¥é“¾è¡¨çš„æ–¹å¼å­˜å‚¨    jdk7:å…ƒç´ aæ”¾åˆ°æ•°ç»„ä¸­ï¼ŒæŒ‡å‘åŸæ¥çš„å…ƒç´     jdk8:åŸæ¥çš„å…ƒç´ åœ¨æ•°ç»„ä¸­ï¼ŒæŒ‡å‘å…ƒç´ dæ€»ç»“ï¼šä¸ƒä¸Šå…«ä¸‹ï¼ˆJDK7ï¼šæ–°å…ƒç´ ä»¥å¤´æ’æ³•æ”¾åœ¨æ‰€æœ‰é“¾è¡¨æ•°æ®å‰é¢ï¼Œå³æ•°ç»„ä¸­ï¼›JDK8ï¼šæ–°å…ƒç´ ä»¥å°¾æ’æ³•æ”¾åœ¨é“¾è¡¨æ•°æ®åé¢ï¼Œå³é“¾è¡¨å°¾éƒ¨ï¼‰</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641735.png' data-fancybox='default' data-caption='image-20210803204939848'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641735.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201641735.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210803204939848"></a><span class='image-caption'>image-20210803204939848</span></div></div><h5 id="2-LinkedHashSetç±»"><a href="#2-LinkedHashSetç±»" class="headerlink" title="2.LinkedHashSetç±»"></a>2.LinkedHashSetç±»</h5><p><strong>LinkedHashSetæ˜¯HashSetçš„å­ç±»</strong></p><p>LinkedHashSetæ ¹æ®å…ƒç´ çš„<strong>hashCodeå€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®</strong>ï¼Œä½†å®ƒåŒæ—¶<strong>ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åº</strong>ï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥æ’å…¥é¡ºåºä¿å­˜çš„</p><p><strong>LinkedHashSetæ’å…¥æ€§èƒ½ç•¥ä½äºHashSet</strong>, ä½†<strong>åœ¨è¿­ä»£è®¿é—®Seté‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½</strong></p><p>LinkedHashSet<strong>ä¸å…è®¸é›†åˆå…ƒç´ é‡å¤</strong></p><pre><code class="java">//LinkedHashSetçš„ä½¿ç”¨Set set = new LinkedHashSet();set.add(456);set.add(new String(&quot;AA&quot;));set.add(456);set.add(new User(&quot;Tom&quot;,30));Iterator iterator = set.iterator();while(iterator.hasNext())&#123;    System.out.println(iterator.next());//456 AA User&#123;name=&#39;Tom&#39;, age=30&#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642753.png' data-fancybox='default' data-caption='image-20210804101418488'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642753.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642753.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210804101418488"></a><span class='image-caption'>image-20210804101418488</span></div></div><h5 id="3-TreeSetç±»"><a href="#3-TreeSetç±»" class="headerlink" title="3.TreeSetç±»"></a>3.TreeSetç±»</h5><p><strong>TreeSetæ˜¯SortedSetæ¥å£çš„å®ç°ç±»</strong>ï¼ŒTreeSetå¯ä»¥<strong>ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€</strong></p><p>TreeSet<strong>ä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åº(Comparable)å’Œå®šåˆ¶æ’åº(Comparator)<strong>ã€‚</strong>é»˜è®¤æƒ…å†µä¸‹ï¼ŒTreeSeté‡‡ç”¨è‡ªç„¶æ’åº</strong></p><p>TreeSetåº•å±‚<strong>ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„å­˜å‚¨æ•°æ®</strong>ï¼Œå‘TreeSetä¸­<strong>æ·»åŠ çš„æ•°æ®è¦æ±‚å¿…é¡»æ˜¯ç›¸åŒç±»çš„å¯¹è±¡</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642570.png' data-fancybox='default' data-caption='image-20210804113159347'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642570.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642570.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210804113159347"></a><span class='image-caption'>image-20210804113159347</span></div></div><p><strong>æ–°å¢çš„æ–¹æ³•</strong>å¦‚ä¸‹ï¼š(äº†è§£)</p><ul><li>Comparator comparator()</li><li>Object first()</li><li>Object last()</li><li>Object lower(Object e)</li><li>Object higher(Object e)</li><li>SortedSet subSet(fromElement, toElement)</li><li>SortedSet headSet(toElement)</li><li>SortedSet tailSet(fromElement)</li></ul><p><strong>TreeSeté»˜è®¤æƒ…å†µä¸‹æ·»åŠ æ•°æ®ï¼š</strong></p><pre><code class="java">é»˜è®¤æƒ…å†µï¼ˆè‡ªç„¶æ’åºï¼‰ä¸‹ï¼ŒTreeSetè°ƒç”¨add()æ·»åŠ æ•°æ®æ—¶ä¼šè°ƒç”¨è¯¥æ•°æ®å¯¹è±¡çš„æ‰€å±ç±»ä¸­çš„compareTo()æ–¹æ³•å¯¹è¿™äº›å¯¹è±¡æ•°æ®è¿›è¡Œå¼ºåˆ¶æ’åºï¼Œæ‰€ä»¥å‘TreeSetä¸­æ·»åŠ çš„æ•°æ®å…¶æ‰€å±ç±»å¿…é¡»è¦å®ç°Comparableæ¥å£ï¼Œé‡å†™compareTo()æ–¹æ³•ï¼Œå¹¶åœ¨å…¶ä¸­æŒ‡æ˜è¯¥ç±»å‹çš„å¯¹è±¡ä»¥å“ªç§æ–¹æ³•è¿›è¡Œæ’åºè‡ªç„¶æ’åºä¸­ï¼Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒçš„æ ‡å‡†ä¸º: compareTo()è¿”å›å€¼ä¸º0è€Œä¸å†æ˜¯equals()å’ŒhashCode()çš„æ¯”è¾ƒç»“æœTreeSet set = new TreeSet();//æ·»åŠ å¤±è´¥ï¼ŒTreeSetä¸­ä¸èƒ½æ·»åŠ ä¸åŒç±»çš„å…ƒç´ set.add(456);set.add(new String(&quot;AA&quot;));set.add(456);set.add(new User(&quot;Tom&quot;,30));//æ·»åŠ æˆåŠŸï¼Œä¸¾ä¾‹ä¸€ï¼šIntegeråŒ…è£…ç±»å®ç°äº†Comparableæ¥å£å¹¶é‡å†™äº†compareTo()æ–¹æ³•ï¼Œæ‰€ä»¥æ·»åŠ æˆåŠŸåæ•°æ®é¡ºåºä¸º-34ã€34ã€44ã€65set.add(34);set.add(-34);set.add(44);set.add(65);//æ·»åŠ æˆåŠŸï¼Œä¸¾ä¾‹äºŒï¼šset.add(new User(&quot;Tom&quot;,10));set.add(new User(&quot;Jack&quot;,50));set.add(new User(&quot;Jerry&quot;,20));set.add(new User(&quot;Eric&quot;,25));/*æ·»åŠ æˆåŠŸåæ•°æ®é¡ºåºä¸ºï¼šUser&#123;name=&#39;Tom&#39;, age=10&#125;User&#123;name=&#39;Jerry&#39;, age=20&#125;User&#123;name=&#39;Jack&#39;, age=50&#125; User&#123;name=&#39;Eric&#39;, age=25&#125;*///Userç±»é‡å†™çš„compareToæ–¹æ³•@Overridepublic int compareTo(Object o) &#123;    //å…ˆæŒ‰å§“åä»å¤§åˆ°å°æ’ï¼Œå†æŒ‰å¹´é¾„ä»å°åˆ°å¤§æ’    if(o instanceof User)&#123;        User user = (User) o;        //return -this.name.compareTo(user.name);        int compare = -this.name.compareTo(user.name);        if(compare != 0)&#123;            return compare;        &#125;else&#123;            return Integer.compare(this.age,user.age);        &#125;    &#125;else&#123;        throw new RuntimeException(&quot;è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…&quot;);    &#125;&#125;</code></pre><p><strong>TreeSetå®šåˆ¶æ’åºä¸‹æ·»åŠ æ•°æ®ï¼š</strong></p><pre><code class="java">å®šåˆ¶æ’åºæƒ…å†µä¸‹ï¼ŒTreeSetè°ƒç”¨add()æ·»åŠ æ•°æ®æ—¶ä¼šè°ƒç”¨`new TreeSet(comparator)`ä¸­ä¼ å…¥çš„Comparatorå®ç°ç±»å¯¹è±¡é‡å†™çš„compare()æ–¹æ³•å¯¹è¿™äº›å¯¹è±¡æ•°æ®è¿›è¡Œå¯¹åº”çš„å¼ºåˆ¶æ’åºå®šåˆ¶æ’åºä¸­ï¼Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒçš„æ ‡å‡†ä¸º: compare()è¿”å›å€¼ä¸º0è€Œä¸å†æ˜¯equals()å’ŒhashCode()çš„æ¯”è¾ƒç»“æœComparator comparator = new Comparator() &#123;    //åªè€ƒè™‘å¹´é¾„çš„æƒ…å†µä¸‹ä»å°åˆ°å¤§æ’åº    @Override    public int compare(Object o1, Object o2) &#123;        if(o1 instanceof User &amp;&amp; o2 instanceof User)&#123;        User user1 = (User) o1;        User user2 = (User) o2;        return Integer.compare(user1.getAge(),user2.getAge());        &#125;        throw new RuntimeException(&quot;æ¯”è¾ƒçš„ç±»å‹ä¸æ­£ç¡®&quot;);    &#125;&#125;;TreeSet set = new TreeSet(comparator);set.add(new User(&quot;Tom&quot;,10));set.add(new User(&quot;Jack&quot;,50));set.add(new User(&quot;Jerry&quot;,20));set.add(new User(&quot;Mary&quot;,20));//å¹´é¾„ç›¸ç­‰ï¼Œä½†æ˜¯ç”±äºJerryå…ˆè¢«æ·»åŠ åˆ°TreeSetä¸­ï¼Œæ‰€ä»¥Maryè¿›ä¸èƒ½å†è¢«æ·»åŠ åˆ°å…¶ä¸­set.add(new User(&quot;Eric&quot;,25));Iterator iterator = set.iterator();while(iterator.hasNext())&#123;System.out.println(iterator.next());&#125;/*æ·»åŠ æ•°æ®åçš„é¡ºåºä¸ºï¼šUser&#123;name=&#39;Tom&#39;, age=10&#125;User&#123;name=&#39;Jerry&#39;, age=20&#125;User&#123;name=&#39;Eric&#39;, age=25&#125;User&#123;name=&#39;Jack&#39;, age=50&#125;*/</code></pre><h5 id="4-Setä¸¤é“ç›¸å…³é¢è¯•é¢˜"><a href="#4-Setä¸¤é“ç›¸å…³é¢è¯•é¢˜" class="headerlink" title="4.Setä¸¤é“ç›¸å…³é¢è¯•é¢˜"></a>4.Setä¸¤é“ç›¸å…³é¢è¯•é¢˜</h5><pre><code class="java">//ç»ƒä¹ :åœ¨Listå†…å»é™¤é‡å¤æ•°å­—å€¼ï¼Œè¦æ±‚å°½é‡ç®€å•public static List duplicateList(List list) &#123;    HashSet set = new HashSet( ) ;    set.addA1l(list);    return new ArrayList(set);&#125;public static void main(String[] args)&#123;    List list = new ArrayList();    list.add(new Integer(1));    list.add(new Integer(2));    list.add(new Integer(2));    list.add(new Integer(4));    list.add(new Integer(4));    List list2 = duplicatelist(list);    for (bject integer : list2) &#123;        System.out.println(integer);    &#125;&#125;</code></pre><pre><code class="java">HashSet set = new HashSet();Person p1 = new Person(1001,&quot;AA&quot;); Person p2 = new Person(1002,&quot;BB&quot;);set.add(p1);set.add(p2);System.out.println(set);//1002,&quot;BB&quot;  1001,&quot;AA&quot; //æ ¹æ®é‡å†™åçš„hashCode()è®¡ç®—å‡ºå¯¹åº”å­˜å‚¨ä½ç½®æ·»åŠ åˆ°setä¸­åp1.name = &quot;CC&quot;;//ä¿®æ”¹p1çš„nameå±æ€§,æ­¤æ—¶setä¸­çš„p1å˜ä¸º1001,&quot;CC&quot;ï¼Œä½†å…¶å­˜å‚¨çš„åœ°å€æ˜¯ç”±1001,&quot;AA&quot;ç»è¿‡é‡å†™åçš„hashCode()å’Œequals()å¾—åˆ°çš„set.remove(p1); //æ­¤æ—¶çš„p1ä¸º1001,&quot;CC&quot;ï¼Œåˆ™ä¼šä½¿ç”¨æ­¤æ—¶çš„1001,&quot;CC&quot;é€šè¿‡é‡å†™åçš„hashCode()è®¡ç®—å¾—åˆ°å…¶åœ¨setä¸­å¯¹åº”çš„ä½ç½®ï¼Œæ˜¾ç„¶è®¡ç®—å‡ºçš„ä½ç½®æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ç§»é™¤1001,&quot;CC&quot;å¤±è´¥System.out.println(set);//1002,&quot;BB&quot;  1001,&quot;CC&quot; æ­¤æ—¶&quot;CC&quot;æ˜¯&quot;AA&quot;è¢«ä¿®æ”¹åçš„æ•°æ®set.add(new Person(1001,&quot;CC&quot;));//èƒ½æ·»åŠ æˆåŠŸï¼Œå› ä¸ºèƒ½ç”±ä¸Šæ–¹è§£é‡Šå¾—å‡º1001,&quot;CC&quot;å’Œ1001,&quot;AA&quot;ç»ç”±é‡å†™åçš„hashCode()è®¡ç®—å‡ºçš„å­˜å‚¨ä½ç½®æ˜¯ä¸åŒçš„System.out.println(set);//1002,&quot;BB&quot;  1001,&quot;CC&quot;  1001,&quot;CC&quot;set.add(new Person(1001,&quot;AA&quot;));//èƒ½æ·»åŠ æˆåŠŸï¼Œè™½ç„¶æ­¤æ—¶æ–°æ·»åŠ çš„è¿™ä¸ª1001,&quot;AA&quot;ç»ç”±é‡å†™åçš„hashCode()è®¡ç®—å‡ºçš„ä½ç½®å’Œp1ç›¸åŒï¼Œä½†æ­¤æ—¶ä¼šé€šè¿‡equals()åˆ¤æ–­ä»–ä»¬çš„å†…å®¹æ˜¯ä¸æ˜¯éƒ½ç›¸ç­‰ï¼Œæ˜¾ç„¶&quot;AA&quot;ä¸ç­‰äº&quot;CC&quot;ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°æ®ä¼šä»¥é“¾è¡¨çš„å½¢å¼ä¸p1å­˜å‚¨åœ¨ä¸€èµ·System.out.println(set);//1002,&quot;BB&quot;  1001,&quot;CC&quot;  1001,&quot;CC&quot;  1001,&quot;AA&quot;//å…¶ä¸­Personç±»ä¸­å†™äº†hashCode()å’Œequal()æ–¹æ³•</code></pre><h3 id="10-3-Mapæ¥å£"><a href="#10-3-Mapæ¥å£" class="headerlink" title="10.3 Mapæ¥å£"></a>10.3 Mapæ¥å£</h3><pre><code class="java">|--Map:åŒåˆ—æ•°æ®,å­˜å‚¨key-valueå¯¹çš„æ•°æ®   ---ç±»ä¼¼äºé«˜ä¸­çš„å‡½æ•°: y = f(x)    |--HashMap:ä½œä¸ºMapçš„ä¸»è¦å®ç°ç±»,ä½¿ç”¨æœ€å¤š;çº¿ç¨‹ä¸å®‰å…¨,æ•ˆç‡é«˜;èƒ½å­˜å‚¨nullçš„key-valueå¯¹;        HashMapçš„åº•å±‚:æ•°ç»„+é“¾è¡¨(jdk7åŠä¹‹å‰)   æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘(jdk8)        |--LinkedHashMap:ä¿è¯åœ¨éå†mapå…ƒç´ æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ çš„é¡ºåºå®ç°éå†            åŸå› :åœ¨åŸæœ‰çš„HashMapåº•å±‚ç»“æ„åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€å¯¹æŒ‡é’ˆï¼ŒæŒ‡å‘å‰ä¸€ä¸ªå’Œåä¸€ä¸ªå…ƒç´             å¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼Œæ­¤ç±»æ‰§è¡Œæ•ˆç‡é«˜äºHashMap    |-- TreeMap:ä¿è¯æŒ‰ç…§æ·»åŠ çš„key-valueå¯¹è¿›è¡Œæ’åº,å®ç°æ’åºéå†ã€‚æ­¤æ—¶è€ƒè™‘keyçš„è‡ªç„¶æ’åºæˆ–å®šåˆ¶æ’åº            åº•å±‚é‡‡ç”¨çº¢é»‘æ ‘ç»“æ„å­˜å‚¨æ•°æ®    |--Hashtable:ä½œä¸ºMapçš„å¤è€å®ç°ç±»;çº¿ç¨‹å®‰å…¨,æ•ˆç‡ä½;ä¸èƒ½å­˜å‚¨nullçš„key-valueå¯¹        |--Properties:å¸¸ç”¨æ¥å¤„ç†é…ç½®æ–‡ä»¶ã€‚keyå’Œvalueéƒ½æ˜¯Stringç±»å‹                é¢è¯•é¢˜:1. HashMapçš„åº•å±‚å®ç°åŸç†?2. HashMapå’ŒHashtableçš„å¼‚åŒ?3. CurrentHashMapä¸Hashtableçš„å¼‚åŒ? (æš‚æ—¶ä¸è®²)4. è°ˆè°ˆä½ å¯¹HashMapä¸­put/getæ–¹æ³•çš„è®¤è¯†?å¦‚æœäº†è§£å†è°ˆè°ˆHashMapçš„æ‰©å®¹æœºåˆ¶?é»˜è®¤å¤§å°æ˜¯å¤šå°‘?ä»€ä¹ˆæ˜¯è´Ÿè½½å› å­(æˆ–å¡«å……æ¯”)?ä»€ä¹ˆæ˜¯ååä¸´ç•Œå€¼(æˆ–é˜ˆå€¼ã€threshold)?</code></pre><p><strong>Mapç»“æ„çš„ç†è§£ï¼š</strong></p><p>Mapä¸­çš„keyï¼š<strong>æ— åºçš„ã€ä¸å¯é‡å¤</strong>çš„ï¼Œä½¿ç”¨Set å­˜å‚¨æ‰€æœ‰çš„key â€”&gt; keyæ‰€åœ¨çš„ç±»è¦é‡å†™equals()å’ŒhashCode() (ä»¥HashMapä¸ºä¾‹)ï¼Œå› ä¸ºä¼šåˆ©ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•<strong>å†³å®škeyçš„å­˜å‚¨ä½ç½®</strong></p><p>Mapä¸­çš„valueï¼š<strong>æ— åºçš„ã€å¯é‡å¤</strong>çš„ï¼Œä½¿ç”¨Collectionå­˜å‚¨æ‰€æœ‰çš„value â€”&gt;valueæ‰€åœ¨çš„ç±»è¦é‡å†™equals()ï¼Œå› ä¸ºä»¥åå¯èƒ½ä¼š<strong>æ¶‰åŠåˆ°valueçš„æ¯”è¾ƒ</strong></p><p>ä¸€ä¸ªé”®å€¼å¯¹ï¼š<strong>key-valueæ„æˆäº†ä¸€ä¸ªEntryå¯¹è±¡</strong>ï¼Œkeyå’Œvalueç›¸å½“äºEntryçš„ä¸¤ä¸ªå±æ€§</p><p>Mapä¸­çš„entryï¼š<strong>æ— åºçš„ã€ä¸å¯é‡å¤</strong>çš„ï¼Œä½¿ç”¨Setå­˜å‚¨æ‰€æœ‰çš„entry</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642180.png' data-fancybox='default' data-caption='image-20210804175628724'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642180.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201642180.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210804175628724"></a><span class='image-caption'>image-20210804175628724</span></div></div><h4 id="10-3-1-Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#10-3-1-Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="10.3.1 Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>10.3.1 Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><p><strong>æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ“ä½œï¼š</strong></p><ul><li>Object put(Object key,Object value)ï¼šå°†æŒ‡å®š<strong>key-valueæ·»åŠ åˆ°(æˆ–ä¿®æ”¹)å½“å‰mapå¯¹è±¡</strong>ä¸­</li><li>void putAll(Map m)ï¼šå°†<strong>mä¸­çš„æ‰€æœ‰key-valueå¯¹å­˜æ”¾åˆ°å½“å‰map</strong>ä¸­</li><li>Object remove(Object key)ï¼š<strong>ç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›value</strong></li><li>void clear()ï¼š<strong>æ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®</strong></li></ul><pre><code class="java">Map map = new HashMap();//Object put(Object key,Object value)ï¼šå°†æŒ‡å®škey-valueæ·»åŠ åˆ°(æˆ–ä¿®æ”¹)å½“å‰mapå¯¹è±¡ä¸­map.put(&quot;AA&quot;,123);map.put(45,123);map.put(&quot;BB&quot;,56);//ä¿®æ”¹map.put(&quot;AA&quot;,87);System.out.println(map);//&#123;AA=87, BB=56, 45=123&#125;//void putAll(Map m)ï¼šå°†mä¸­çš„æ‰€æœ‰key-valueå¯¹å­˜æ”¾åˆ°å½“å‰mapä¸­Map map1 = new HashMap();map1.put(&quot;CC&quot;,123);map1.put(&quot;DD&quot;,432);map.putAll(map1);System.out.println(map);//&#123;AA=87, BB=56, CC=123, DD=432, 45=123&#125;//Object remove(Object key)ï¼šç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›valueSystem.out.println(map.remove(&quot;AA&quot;));//87System.out.println(map);//&#123;BB=56, CC=123, DD=432, 45=123&#125;//void clear()ï¼šæ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®map.clear();//ä¸map=nullä¸åŒï¼Œåªæ˜¯æ¸…é™¤mapä¸­çš„å…ƒç´ ï¼Œmapå¯¹è±¡è¿˜åœ¨System.out.println(map.size());//0System.out.println(map);//&#123;&#125;</code></pre><p><strong>å…ƒç´ æŸ¥è¯¢çš„æ“ä½œï¼š</strong></p><ul><li>Object get(Object key)ï¼š<strong>è·å–æŒ‡å®škeyå¯¹åº”çš„value</strong></li><li>boolean containsKey(Object key)ï¼š<strong>æ˜¯å¦åŒ…å«æŒ‡å®šçš„key</strong></li><li>boolean containsValue(Object value)ï¼š<strong>æ˜¯å¦åŒ…å«æŒ‡å®šçš„value</strong></li><li>int size()ï¼šè¿”å›<strong>mapä¸­key-valueå¯¹çš„ä¸ªæ•°</strong></li><li>boolean isEmpty()ï¼šåˆ¤æ–­<strong>å½“å‰mapæ˜¯å¦ä¸ºç©º</strong></li><li>boolean equals(Object obj)ï¼šåˆ¤æ–­<strong>å½“å‰mapå’Œå‚æ•°å¯¹è±¡objæ˜¯å¦ç›¸ç­‰</strong></li></ul><pre><code class="java">Map map = new HashMap();map.put(&quot;AA&quot;,123);map.put(45,123);map.put(&quot;BB&quot;,56);//Object get(Object key)ï¼šè·å–æŒ‡å®škeyå¯¹åº”çš„valueSystem.out.println(map.get(45));//123System.out.println(map.get(456));//null(ä¸å­˜åœ¨)//boolean containsKey(Object key)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„keySystem.out.println(map.containsKey(&quot;AA&quot;));//trueSystem.out.println(map.containsKey(&quot;CC&quot;));//false//boolean containsValue(Object value)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„valueSystem.out.println(map.containsValue(123));//trueSystem.out.println(map.containsValue(456));//false//int size()ï¼šè¿”å›mapä¸­key-valueå¯¹çš„ä¸ªæ•°System.out.println(map.size());//3//boolean isEmpty()ï¼šåˆ¤æ–­å½“å‰mapæ˜¯å¦ä¸ºç©ºSystem.out.println(map.isEmpty());//falsemap.clear();System.out.println(map.isEmpty());//true//boolean equals(Object obj)ï¼šåˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡objæ˜¯å¦ç›¸ç­‰Map map1 = new HashMap();map1.put(&quot;AA&quot;,123);map1.put(45,123);//map1.put(&quot;BB&quot;,56);System.out.println(map.equals(map1));//false//System.out.println(map.equals(map1));//true</code></pre><p><strong>å…ƒè§†å›¾æ“ä½œçš„æ–¹æ³•(éå†key-valueå¯¹)ï¼š</strong></p><ul><li>Set keySet()ï¼šè¿”å›<strong>æ‰€æœ‰keyæ„æˆçš„Seté›†åˆ</strong></li><li>Collection values()ï¼šè¿”å›<strong>æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆ</strong></li><li>Set entrySet()ï¼šè¿”å›<strong>æ‰€æœ‰key-valueå¯¹æ„æˆçš„Seté›†åˆ</strong></li></ul><pre><code class="java">Map map = new HashMap();map.put(&quot;AA&quot;,123);map.put(45,1234);map.put(&quot;BB&quot;,56);//Set keySet()ï¼šè¿”å›æ‰€æœ‰keyæ„æˆçš„Seté›†åˆSet set = map.keySet();Iterator iterator = set.iterator();while(iterator.hasNext()) &#123;    System.out.println(iterator.next());//AA  BB  45&#125;//Collection values()ï¼šè¿”å›æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆCollection values = map.values();for (Object value : values) &#123;    System.out.println(value);//123  56  1234&#125;//Set entrySet()ï¼šè¿”å›æ‰€æœ‰key-valueå¯¹æ„æˆçš„Seté›†åˆSet set1 = map.entrySet();Iterator iterator1 = set1.iterator();while(iterator1.hasNext()) &#123;    Object obj = iterator1.next();    Map.Entry entry = (Map.Entry) obj;    System.out.println(entry);    System.out.print(entry.getKey() + &quot;  --&gt;  &quot;);    System.out.println(entry.getValue());    //AA=123    //AA  --&gt;  123    //BB=56    //BB  --&gt;  56    //45=1234    //45  --&gt;  1234    //System.out.println(iterator1.next());&#125;</code></pre><h4 id="10-3-2-HashMapç±»"><a href="#10-3-2-HashMapç±»" class="headerlink" title="10.3.2 HashMapç±»"></a>10.3.2 HashMapç±»</h4><h5 id="1-åº•å±‚å®ç°åŸç†"><a href="#1-åº•å±‚å®ç°åŸç†" class="headerlink" title="1.åº•å±‚å®ç°åŸç†"></a>1.åº•å±‚å®ç°åŸç†</h5><p><strong>JDK7</strong></p><pre><code>HashMap map = new HashMap():åœ¨å®ä¾‹åŒ–ä»¥åï¼Œåº•å±‚åˆ›å»ºäº†é•¿åº¦æ˜¯16çš„ä¸€ç»´æ•°ç»„Entry[] table...å¯èƒ½å·²ç»æ‰§è¡Œè¿‡å¤šæ¬¡putå...map.put(key1, value1):é¦–å…ˆï¼Œè°ƒç”¨key1æ‰€åœ¨ç±»çš„hashCode()è®¡ç®—key1å“ˆå¸Œå€¼ï¼Œæ­¤å“ˆå¸Œå€¼ç»è¿‡æŸç§ç®—æ³•è®¡ç®—ä»¥åï¼Œå¾—åˆ°åœ¨Entryæ•°ç»„ä¸­çš„å­˜æ”¾ä½ç½®    å¦‚æœæ­¤ä½ç½®ä¸Šçš„æ•°æ®ä¸ºç©º,æ­¤æ—¶çš„entry1ï¼ˆkey1-value1ï¼‰æ·»åŠ æˆåŠŸ  ----æ·»åŠ æˆåŠŸæƒ…å†µ1    å¦‚æœæ­¤ä½ç½®ä¸Šçš„æ•°æ®ä¸ä¸ºç©ºï¼Œ(æ„å‘³ç€æ­¤ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®(ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨)),æ¯”è¾ƒkey1å’Œå·²ç»å­˜åœ¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®    çš„å“ˆå¸Œå€¼:        å¦‚æœkey1çš„å“ˆå¸Œå€¼ä¸å·²ç»å­˜åœ¨çš„æ•°æ®çš„å“ˆå¸Œå€¼éƒ½ä¸ç›¸åŒ,æ­¤æ—¶key1-value1æ·»åŠ æˆåŠŸ  ----æ·»åŠ æˆåŠŸæƒ…å†µ2        å¦‚æœkey1çš„å“ˆå¸Œå€¼å’Œå·²ç»å­˜åœ¨çš„æŸä¸€ä¸ªæ•°æ®(key2-value2) çš„å“ˆå¸Œå€¼ç›¸åŒï¼Œç»§ç»­æ¯”è¾ƒ:è°ƒç”¨key1æ‰€åœ¨ç±»çš„equals(key2)            å¦‚æœequals()è¿”å›false:æ­¤æ—¶key1-value1æ·»åŠ æˆåŠŸ  ----æ·»åŠ æˆåŠŸæƒ…å†µ3            å¦‚æœequals()è¿”å›true:ä½¿ç”¨value1æ›¿æ¢value2è¡¥å……:å…³äºæƒ…å†µ2å’Œæƒ…å†µ3:æ­¤æ—¶key1-value1å’ŒåŸæ¥çš„æ•°æ®ä»¥é“¾è¡¨çš„æ–¹å¼å­˜å‚¨ï¼ˆJDK7ï¼šæ–°å…ƒç´ ä»¥å¤´æ’æ³•æ”¾åœ¨æ‰€æœ‰é“¾è¡¨æ•°æ®å‰é¢ï¼Œå³æ•°ç»„ä¸­ï¼›JDK8ï¼šæ–°å…ƒç´ ä»¥å°¾æ’æ³•æ”¾åœ¨é“¾è¡¨æ•°æ®åé¢ï¼Œå³é“¾è¡¨å°¾éƒ¨ï¼‰å¦å¤–ï¼Œåœ¨ä¸æ–­çš„æ·»åŠ è¿‡ç¨‹ä¸­ï¼Œä¼šæ¶‰åŠåˆ°æ‰©å®¹é—®é¢˜ï¼Œé»˜è®¤çš„æ‰“å®¹æ–¹å¼:æ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€ï¼Œå¹¶å°†åŸæœ‰çš„æ•°æ®å¤åˆ¶è¿‡æ¥</code></pre><p><strong>JDK8</strong></p><pre><code>jdk8ç›¸è¾ƒäºjdk7åœ¨åº•å±‚å®ç°æ–¹é¢çš„ä¸åŒ:1. new HashMap():åº•å±‚æ²¡æœ‰åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º16çš„æ•°ç»„,å½“é¦–æ¬¡è°ƒç”¨put()æ–¹æ³•æ—¶ï¼Œåº•å±‚æ‰åˆ›å»ºé•¿åº¦ä¸º16çš„æ•°ç»„2. jdk8åº•å±‚çš„æ•°ç»„æ˜¯: Node[],è€ŒéEntry[]3. jdk7åº•å±‚ç»“æ„åªæœ‰:æ•°ç»„+é“¾è¡¨ã€‚jdk8ä¸­åº•å±‚ç»“æ„:æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ã€‚å½“æ•°ç»„çš„æŸä¸€ä¸ªç´¢å¼•ä½ç½®ä¸Šçš„å…ƒç´ ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æ•°æ®ä¸ªæ•°&gt;8ä¸”å½“å‰æ•°ç»„çš„é•¿åº¦&gt;64æ—¶ï¼Œæ­¤æ—¶æ­¤ç´¢å¼•ä½ç½®ä¸Šçš„æ‰€æœ‰æ•°æ®æ”¹ä¸ºä½¿ç”¨çº¢é»‘æ ‘å­˜å‚¨</code></pre><h5 id="2-æºç åˆ†æ"><a href="#2-æºç åˆ†æ" class="headerlink" title="2.æºç åˆ†æ"></a>2.æºç åˆ†æ</h5><p><strong>HashMapæºç ä¸­çš„é‡è¦å¸¸é‡ï¼š</strong></p><ul><li>DEFAULT_INITIAL_CAPACITY : HashMapçš„é»˜è®¤å®¹é‡ï¼Œ16</li><li>MAXIMUM_CAPACITY : HashMapçš„æœ€å¤§æ”¯æŒå®¹é‡ï¼Œ 2^30</li><li>DEFAULT_LOAD_FACTOR : HashMapçš„é»˜è®¤åŠ è½½å› å­</li><li>TREEIFY_THRESHOLD : Bucketä¸­é“¾è¡¨é•¿åº¦å¤§äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘</li><li>UNTREEIFY_THRESHOLD : Bucketä¸­çº¢é»‘æ ‘å­˜å‚¨çš„Nodeå°äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºé“¾è¡¨</li><li>MIN_TREEIFY_CAPACITY : æ¡¶ä¸­çš„Nodeè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡ã€‚( å½“æ¡¶ä¸­Nodeçš„æ•°é‡å¤§åˆ°éœ€è¦å˜çº¢é»‘æ ‘æ—¶ï¼Œè‹¥hashè¡¨å®¹é‡å°äºMIN_TREEIFY_CAPACITYæ—¶ï¼Œæ­¤æ—¶åº”æ‰§è¡Œresizeæ‰©å®¹æ“ä½œï¼Œè¿™ä¸ªMIN_TREEIFY_CAPACITYçš„å€¼è‡³å°‘æ˜¯TREEIFY_ _THRESHOLDçš„4å€ï¼‰</li><li>table : å­˜å‚¨å…ƒç´ çš„æ•°ç»„ï¼Œæ€»æ˜¯2çš„næ¬¡å¹‚</li><li>entrySet : å­˜å‚¨å…·ä½“å…ƒç´ çš„é›†</li><li>size : HashMapä¸­å­˜å‚¨çš„é”®å€¼å¯¹çš„æ•°é‡</li><li>modCount : HashMapæ‰©å®¹å’Œç»“æ„æ”¹å˜çš„æ¬¡æ•°</li><li>threshold : æ‰©å®¹çš„ä¸´ç•Œå€¼ï¼Œ= å®¹é‡ * å¡«å……å› å­</li><li>loadFactor : å¡«å……å› å­</li></ul><pre><code class="java">é¢è¯•é¢˜ï¼šè´Ÿè½½å› å­å€¼çš„å¤§å°ï¼Œå¯¹HashMapæœ‰ä»€ä¹ˆå½±å“1.è´Ÿè½½å› å­çš„å¤§å°å†³å®šäº†HashMapçš„æ•°æ®å¯†åº¦2.è´Ÿè½½å› å­è¶Šå¤§å¯†åº¦è¶Šå¤§ï¼Œå‘ç”Ÿç¢°æ’çš„å‡ ç‡è¶Šé«˜ï¼Œæ•°ç»„ä¸­çš„é“¾è¡¨è¶Šå®¹æ˜“é•¿ï¼Œé€ æˆæŸ¥è¯¢æˆ–æ’å…¥æ—¶çš„æ¯”è¾ƒæ¬¡æ•°å¢å¤šï¼Œæ€§èƒ½ä¼šä¸‹é™3.è´Ÿè½½å› å­è¶Šå°ï¼Œå°±è¶Šå®¹æ˜“è§¦å‘æ‰©å®¹ï¼Œæ•°æ®å¯†åº¦ä¹Ÿè¶Šå°ï¼Œæ„å‘³ç€å‘ç”Ÿç¢°æ’çš„å‡ ç‡è¶Šå°ï¼Œæ•°ç»„ä¸­çš„é“¾è¡¨ä¹Ÿå°±è¶ŠçŸ­ï¼ŒæŸ¥è¯¢å’Œæ’å…¥æ—¶æ¯”è¾ƒçš„æ¬¡æ•°ä¹Ÿè¶Šå°ï¼Œæ€§èƒ½ä¼šæ›´é«˜ã€‚ä½†æ˜¯ä¼šæµªè´¹ä¸€å®šçš„å†…å®¹ç©ºé—´ã€‚è€Œä¸”ç»å¸¸æ‰©å®¹ä¹Ÿä¼šå½±å“æ€§èƒ½ï¼Œå»ºè®®åˆå§‹åŒ–é¢„è®¾å¤§ä¸€ç‚¹çš„ç©ºé—´4.æŒ‰ç…§å…¶ä»–è¯­è¨€çš„å‚è€ƒåŠç ”ç©¶ç»éªŒï¼Œä¼šè€ƒè™‘å°†è´Ÿè½½å› å­è®¾ç½®ä¸º0.7~0.75ï¼Œæ­¤æ—¶å¹³å‡æ£€ç´¢é•¿åº¦æ¥è¿‘äºå¸¸æ•°</code></pre><p><strong>JDK7</strong></p><pre><code class="java">//æ— å‚æ„é€ å™¨public HashMap() &#123;    this(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);//ä¼ å…¥16  0.75åˆ°æœ‰å‚æ„é€ å™¨&#125;//æœ‰å‚æ„é€ å™¨public HashMap(int initialCapacity, float loadFactor) &#123;    if (initialCapacity &lt; 0)//åˆ¤æ–­ä¼ å…¥çš„åˆå§‹åŒ–å®¹é‡æ˜¯å¦å°äº0        throw new IllegalArgumentException(&quot;Illegal initial capacity:&quot; + initialCapacity);    if (initialCapacity &gt; MAXIMUM_ CAPACITY)//åˆ¤æ–­ä¼ å…¥çš„åˆå§‹åŒ–å®¹é‡æ˜¯å¦å¤§äºHashMapä¸­é¢„å…ˆå®šä¹‰çš„æœ€å¤§å®¹é‡        initialCapacity = MAXIMUM_ CAPACITY;    if (1oadFactor &lt;= 0 || Float.isNaN(loadFactor))//åˆ¤æ–­å¡«å……å› å­æ˜¯å¦å°äºç­‰äº0æˆ–æ˜¯å¦ä¸ºè´Ÿæ•°        throw new IllegalArgumentException(&quot;Illegal load factor:&quot; + loadFactor);    // Find a power of 2 &gt;= initialCapacity    int capacity = 1;//å®šä¹‰ä¸€ä¸ªå®¹é‡å˜é‡    while (capacity &lt; initialCapacity)//å¦‚æœå®¹é‡å€¼æ¯”ç»™å®šçš„åˆå§‹åŒ–å®¹é‡å°ï¼Œåˆ™æ‰©å¤§ä¸ºåŸæ¥çš„2å€        capacity &lt;&lt;= 1;    this.1oadFactor = loadFactor;//å°†ä¼ å…¥çš„å¡«å……å› å­èµ‹å€¼ç»™è¿™ä¸ªæ–°å®šä¹‰çš„HashMapå¯¹è±¡ï¼ˆæˆ–æ˜¯è¯´Entryæ•°ç»„ï¼‰    threshold = (int)Math.min(capacity * loadFactor, MAXIMUM_CAPACITY + 1);//è®¾ç½®æ‰©å®¹ä¸´ç•Œå€¼ï¼Œé»˜è®¤16*0.75=12    table = new Entry[capacity];//å®šä¹‰å­˜æ”¾entryå¯¹è±¡çš„Entryæ•°ç»„    useAltHashing = sun.misc.VM.isBooted() &amp;&amp; (capacity &gt;= Holder.ALTERNATIVE_HASHING_THRESHOLD);     init();&#125;//ä»ä¸Šæ–¹å°±å¯çœ‹å‡ºJDK7åœ¨å®ä¾‹åŒ–åå°±åˆ›å»ºå¥½äº†ä¸€ä¸ªå®¹é‡ä¸º16çš„Entryæ•°ç»„//putæ–¹æ³•æ·»åŠ æ•°æ®public V put(K key, V value) &#123;    if (key == null)//å¦‚æœkeyæ˜¯nullï¼ŒHashMapå•ç‹¬å¤„ç†æ”¾å…¥HashMapä¸­        return putForNullKey(value);    int hash = hash(key);//è°ƒç”¨hash()è®¡ç®—å¾—åˆ°å½“å‰keyçš„å“ˆå¸Œå€¼    int i = indexFor(hash, table.1ength);//è°ƒç”¨indexFor()å¹¶ä¼ å…¥hashå€¼å’ŒEntryæ•°ç»„tableçš„é•¿åº¦è®¡ç®—key-valueå­˜æ”¾åœ¨æ•°ç»„ä¸­çš„å“ªä¸ªä½ç½®    for(Entry&lt;K,V&gt; e = table[i]; e != nu1l; e = e.next) &#123;//åˆ¤æ–­è®¡ç®—å‡ºçš„ä½ç½®ä¸Šæœ‰æ²¡æœ‰å·²å­˜åœ¨çš„æ•°æ®ï¼Œå¦‚æœèƒ½è¿›å…¥å¾ªç¯è¯´æ˜è¯¥ä½ç½®ä¸Šå·²ç»æœ‰æ•°æ®äº†    e.nextæ˜¯æŒ‡å‘ä¸‹ä¸€æ¡æ•°æ®ï¼Œå‡†å¤‡ä¸ä¸‹ä¸€æ¡æ•°æ®è¿›è¡Œæ¯”è¾ƒ        Object k;        if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;        //if(æ¯”è¾ƒå·²å­˜åœ¨æ•°æ®å’Œæ–°æ·»åŠ æ•°æ®çš„hashå€¼æ˜¯å¦ç›¸åŒ  ä¸”  æ¯”è¾ƒå·²å­˜åœ¨æ•°æ®å’Œæ–°æ·»åŠ æ•°æ®çš„keyæ˜¯å¦ç›¸åŒ)        //è‹¥å…¶ä¸­ä¸€ä¸ªæ¡ä»¶ä¸ºfalseï¼Œåˆ™ä¸æ»¡è¶³ä¸¤æ¡æ•°æ®ç›¸åŒï¼Œè·³å‡ºå¾ªç¯ï¼Œå°†æ–°æ•°æ®æ·»åŠ åˆ°HashMapä¸­        //è‹¥ä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºtrueï¼Œè¯´æ˜ä¸¤æ¡æ•°æ®ç¡®å®ç›¸åŒã€‚åˆ™æ‰§è¡Œä¸‹æ–¹æ“ä½œæ›¿æ¢æ‰å·²å­˜åœ¨æ•°æ®çš„value            V oldValue = e.value; //å°†å·²å­˜åœ¨æ•°æ®çš„valueèµ‹å€¼ç»™oldValue            e.value = value; //å°†æ–°æ·»åŠ çš„æ•°æ®çš„valueèµ‹å€¼ç»™å·²å­˜åœ¨çš„æ•°æ®çš„valueå®ç°è¦†ç›–æ›¿æ¢            e.recordAccess(this);            return oldValue;//å°†è¢«è¦†ç›–æ›¿æ¢çš„å€¼è¿”å›ï¼Œä¸å†æ‰§è¡Œä¸‹æ–¹æ·»åŠ æ•°æ®çš„ä»£ç         &#125;    &#125;    modCount++;    addEntry(hash, key, value, i);//è‹¥ç»è¿‡åˆ¤æ–­åæ–°æ•°æ®èƒ½è¢«æ·»åŠ ï¼Œåˆ™è°ƒç”¨addEntry()ä¼ å…¥hashå€¼ã€key-valueå¯¹å’Œè¦æ·»åŠ åˆ°çš„ä½ç½®ï¼Œå°†è¿™ä¸ªéœ€è¦æ·»åŠ çš„æ•°æ®æ·»åŠ åˆ°HashMapä¸­    return null;&#125;//è®¡ç®—hashå€¼çš„æ–¹æ³•final int hash(Object k) &#123;    int h=0;    if (useAltHashing) &#123;//é»˜è®¤false        if (k instanceof String) &#123;            return sun.misc.Hashing.stringHash32((String) k);        &#125;        h = hashSeed;    &#125;    h ^= k.hashCode();//è°ƒç”¨hashCode()å¾—åˆ°keyçš„å“ˆå¸Œå€¼ï¼Œç„¶åè¿›è¡Œå¼‚æˆ–è®¡ç®—    // This function ensures that hashCodes that differ only by    // constant multiples at each bit position have a bounded    // number of collisions (approximately 8 at default Load factor).    h ^= (h&gt;&gt;&gt;20) ^ (h&gt;&gt;&gt;12);    return h ^ (h&gt;&gt;&gt;7) ^ (h&gt;&gt;&gt;4);//è¿”å›ç»è¿‡ä¸€äº›è®¡ç®—åçš„hashå€¼&#125;//è®¡ç®—å­˜æ”¾ä½ç½®static int indexFor(int h, int 1ength) &#123;    return h &amp; (1ength-1);&#125;//æ·»åŠ æ•°æ®Entryå¯¹è±¡åˆ°HashMapä¸­çš„å…·ä½“æ–¹æ³•void addEntry(int hash, K key, V value, int bucketIndex) &#123;    if ((size &gt;= threshold) &amp;&amp; (nu1l != table[bucketIndex])) &#123;//åˆ¤æ–­æ˜¯å¦å°†æ•°ç»„tableè¿›è¡Œæ‰©å®¹    //if(åˆ¤æ–­æ•°ç»„tableä¸­å·²å­˜æœ‰çš„key-valueå¯¹ä¸ªæ•°æ˜¯å¦è¶…è¿‡æ‰©å®¹ä¸´ç•Œå€¼  ä¸”  ç¡®è®¤éœ€è¦æ·»åŠ æ–°æ•°æ®çš„ä½ç½®æ˜¯å¦å·²å­˜æœ‰å…¶ä»–æ•°æ®)    //å¦‚æœå·²å­˜æœ‰key-valueå¯¹ä¸ªæ•°å¤§äºç­‰äºæ‰©å®¹ä¸´ç•Œå€¼ï¼Œä½†æ–°æ•°æ®å°†è¦æ·»åŠ åˆ°çš„ä½ç½®ä¸Šä¸ºnullï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œæ‰©å®¹    //æˆ–è€…å¦‚æœéœ€è¦æ·»åŠ æ–°æ•°æ®çš„ä½ç½®ä¸Šä¸ä¸ºnullï¼Œä½†å·²å­˜æœ‰key-valueå¯¹ä¸ªæ•°ä¸å¤§äºç­‰äºæ‰©å®¹ä¸´ç•Œå€¼ï¼Œä¹Ÿä¸è¿›è¡Œæ‰©å®¹    //å³æ—¢å½“éœ€è¦æ·»åŠ æ–°æ•°æ®çš„ä½ç½®ä¸Šä¸ä¸ºnullï¼Œåˆå·²å­˜æœ‰key-valueå¯¹ä¸ªæ•°å¤§äºç­‰äºæ‰©å®¹ä¸´ç•Œå€¼æ—¶æ‰è¿›è¡Œæ‰©å®¹        resize(2 * table.length);//æ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€ï¼Œå¹¶å°†åŸæœ‰çš„æ•°æ®è¿›è¡Œé‡æ–°è®¡ç®—hashå€¼ï¼Œç„¶åæ”¾å…¥æ–°æ•°ç»„çš„æ–°ä½ç½®        hash = (nu1l != key) ? hash(key) : 0;//å°†è¿™ä¸ªéœ€è¦æ–°æ·»åŠ çš„æ•°æ®çš„hashå€¼è¿›è¡Œé‡æ–°è®¡ç®—        bucketIndex = indexFor(hash, table.length);//é‡æ–°è®¡ç®—å­˜æ”¾ä½ç½®    &#125;    //ä¸éœ€è¦è¿›è¡Œæ‰©å®¹æˆ–æ‰©å®¹åæ·»åŠ æ–°æ•°æ®    createEntry(hash, key, value, bucketIndex);&#125;//æ·»åŠ æ–°æ•°æ®void createEntry(int hash, K key, V value, int bucketIndex) &#123;    Entry&lt;K,V&gt; e = table[bucketIndex];//æŠŠæ­¤ä½ç½®ä¸ŠåŸæœ‰çš„æ•°æ®å–å‡ºæ¥    table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);//ç„¶ååœ¨æ­¤ä½ç½®ä¸Šnewä¸€ä¸ªæ–°çš„å­˜æ”¾æ–°æ•°æ®çš„Entryå¯¹è±¡ï¼Œå¹¶å°†åŸæ¥çš„æ•°æ®ä¼ å…¥ï¼Œä»¥æ–°æ•°æ®.next=åŸæ•°æ®çš„æ–¹å¼è®©æ–°æ•°æ®æŒ‡å‘åŸæ¥çš„æ•°æ®    size++;//key-valueå¯¹çš„ä¸ªæ•°åŠ 1&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643610.png' data-fancybox='default' data-caption='image-20210804211433602'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643610.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643610.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210804211433602"></a><span class='image-caption'>image-20210804211433602</span></div></div><p><strong>JDK8</strong></p><pre><code class="java">//æ— å‚æ„é€ å™¨public HashMap() &#123;    this.loadFactor = DEFAULT_LOAD_FACTOR; //è´Ÿè½½å› å­ï¼ˆå¡«å……å› å­ï¼‰ï¼Œé»˜è®¤0.75&#125;//æœ‰å‚æ„é€ å™¨public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123;    this.loadFactor = DEFAULT_LOAD_FACTOR;    putMapEntries(m, false);&#125;//ä»ä¸Šæ–¹å¯çœ‹å‡ºå®ä¾‹åŒ–HashMapåæ²¡æœ‰åˆ›å»ºå¥½é•¿åº¦ä¸º16çš„Nodeæ•°ç»„ï¼Œè€Œæ˜¯ç­‰åˆ°ä¸‹æ–¹ç¬¬ä¸€æ¬¡è°ƒç”¨putæ–¹æ³•åæ‰åˆ›å»ºçš„//æ–°å¢æ•°æ®è°ƒç”¨çš„æ–¹æ³•public V put(K key, V value) &#123;    return putVal(hash(key), key, value, false, true);//å°†è®¡ç®—å¥½åçš„hashå€¼ã€æ–°æ•°æ®çš„keyã€valueç­‰ä¼ å…¥putVal()&#125;//è®¡ç®—hashå€¼çš„æ–¹æ³•static final int hash(Object key) &#123;    int h;    return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125;//æ–°å¢æ•°æ®æ—¶å†…éƒ¨è°ƒç”¨çš„æ–¹æ³•final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123;    Node&lt;K,V&gt;[] tab;     Node&lt;K,V&gt; p;     int n, i;    if ((tab = table) == null || (n = tab.length) == 0)//åˆ¤æ–­æ˜¯å¦é¦–æ¬¡æ·»åŠ æ•°æ®ï¼Œè‹¥æ˜¯åˆ™ç»™å½“å‰HashMapå¯¹è±¡åˆ›å»ºæ–°æ•°ç»„        n = (tab = resize()).length;//è°ƒç”¨resize()ç»™å½“å‰HashMapå¯¹è±¡åˆ›å»ºæ–°æ•°ç»„è¿›è¡Œåˆå§‹åŒ–    if ((p = tab[i = (n - 1) &amp; hash]) == null)//ç»è¿‡(n-1)&amp;hashè®¡ç®—åå¾—åˆ°æ–°æ•°æ®å­˜æ”¾çš„ä½ç½®ï¼Œå¹¶åˆ¤æ–­æ­¤å¤„æ˜¯å¦ä¸ºnull        tab[i] = newNode(hash, key, value, null);//è‹¥æ˜¯ä¸ºnullï¼Œæ·»åŠ æˆåŠŸ    else &#123;//ä¸æ˜¯é¦–æ¬¡æ·»åŠ ä¸”æ–°æ•°æ®éœ€è¦çš„å­˜æ”¾ä½ç½®ä¸ä¸ºnull        Node&lt;K,V&gt; e;         K k;        if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))        //æ¯”è¾ƒå·²å­˜åœ¨çš„æ•°æ®çš„hashå€¼ã€keyå€¼åœ°å€å’Œæ–°æ•°æ®çš„hashå€¼ã€keyå€¼åœ°å€ || è‹¥hashå€¼ä¸€æ ·ï¼Œkeyå€¼åœ°å€ä¸ä¸€æ ·ï¼Œåˆ™æ¯”è¾ƒkeyå€¼çš„å…·ä½“å†…å®¹            e = p;//è‹¥hashå€¼å’Œkeyå€¼éƒ½ä¸€æ ·ï¼Œè¯´æ˜ä¸¤æ¡æ•°æ®ä¸€æ ·ï¼Œåˆ™å°†å·²å­˜åœ¨çš„æ•°æ®å–å‡ºèµ‹ç»™eï¼Œåˆ°ä¸‹æ–¹è¿›è¡Œkey-valueå¯¹çš„valueæ›¿æ¢æ“ä½œ        else if (p instanceof TreeNode)//è‹¥å·²å­˜åœ¨æ•°æ®å’Œæ–°æ•°æ®çš„hashå€¼å’Œkeyå€¼ä¸ä¸€æ ·ï¼Œåˆ¤æ–­å·²å­˜åœ¨è¯¥ä½ç½®ä¸Šçš„æ•°æ®æ˜¯å¦æ˜¯ä»¥çº¢é»‘æ ‘ç»“æ„å­˜åœ¨            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);//è‹¥æ˜¯ï¼Œå°†å·²å­˜åœ¨çš„æ•°æ®        else &#123;            //å·²å­˜åœ¨æ•°æ®å’Œæ–°æ•°æ®çš„hashå€¼å’Œkeyå€¼ä¸ä¸€æ ·ï¼Œä¸”å·²å­˜åœ¨è¯¥ä½ç½®ä¸Šçš„æ•°æ®ä¸æ˜¯ä»¥çº¢é»‘æ ‘ç»“æ„å­˜åœ¨            for (int binCount = 0; ; ++binCount) &#123;                if ((e = p.next) == null) &#123;//å¯»æ‰¾è¯¥ä½ç½®ä¸Šä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æœ€åä¸€ä¸ªæ•°æ®                    p.next = newNode(hash, key, value, null);//è®©æ–°æ•°æ®æ·»åŠ åˆ°è¯¥é“¾è¡¨å·²å­˜åœ¨çš„æœ€åä¸€ä¸ªæ•°æ®åé¢                    if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st                        treeifyBin(tab, hash);//å¦‚æœæ·»åŠ è¯¥æ–°æ•°æ®åï¼Œè¯¥é“¾è¡¨ä¸Šçš„æ•°æ®ä¸ªæ•°å¤§äºç­‰äºæ ‘åŒ–ä¸´ç•Œå€¼-1ï¼Œåˆ™å°†è¯¥æ¡é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå­˜å‚¨                    break;//è·³å‡ºå¾ªç¯                &#125;                //å¯»æ‰¾è¯¥ä½ç½®ä¸Šä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æœ€åä¸€ä¸ªæ•°æ®æ—¶ä¼šä¸è¯¥é“¾è¡¨ä¸Šçš„æ¯ä¸ªæ•°æ®è¿›è¡Œæ¯”è¾ƒhashå€¼ã€keyå€¼å’Œvalueå€¼                if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))                    break;//å¦‚æœå‘ç°æœ‰ä¸€æ ·çš„æ•°æ®ï¼Œè·³å‡ºå¾ªç¯                p = e;//è‹¥æ­£åœ¨è¿›è¡Œæ¯”è¾ƒçš„æ•°æ®æ—¢ä¸æ˜¯è¯¥é“¾è¡¨çš„æœ€åä¸€ä¸ªä¹Ÿä¸å’Œæ–°æ•°æ®ä¸€æ ·ï¼Œåˆ™å°†æ­£åœ¨æ¯”è¾ƒçš„æ•°æ®èµ‹ç»™pï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯p.nextï¼Œå³ç»§ç»­éå†åˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°æ®(pæ˜¯å½“å‰æ•°æ®ï¼Œeæ˜¯ä¸‹ä¸€ä¸ªæ•°æ®)            &#125;        &#125;        if (e != null) &#123; // existing mapping for key              V oldValue = e.value;//æ–°valueæ›¿æ¢æ—§value            if (!onlyIfAbsent || oldValue == null)                e.value = value;            afterNodeAccess(e);            return oldValue;        &#125;    &#125;    ++modCount;    if (++size &gt; threshold)//æ·»åŠ å®Œæ–°æ•°æ®ååˆ¤æ–­key-valueå¯¹çš„ä¸ªæ•°æ˜¯å¦å¤§äºæ‰©å®¹ä¸´ç•Œå€¼        resize();//è‹¥å¤§äºæ‰©å®¹ä¸´ç•Œå€¼ï¼Œæ‰§è¡Œæ‰©å®¹æ“ä½œ    afterNodeInsertion(evict);    return null;&#125;//æ‰©å®¹çš„æ–¹æ³•final Node&lt;K,V&gt;[] resize() &#123;    Node&lt;K,V&gt;[] oldTab = table;//ç¬¬ä¸€æ¬¡æ·»åŠ æ•°æ®æ—¶ï¼Œtable=null    int oldCap = (oldTab == null) ? 0 : oldTab.length;//æ”¹å˜å®¹é‡å‰çš„æ•°ç»„çš„å®¹é‡ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨åˆ™ä¸º0    int oldThr = threshold;//æ”¹å˜å®¹é‡å‰çš„æ•°ç»„çš„æ‰©å®¹ä¸´ç•Œå€¼ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨é»˜è®¤ä¸º0    int newCap, newThr = 0;//å£°æ˜æ–°å®¹é‡ï¼Œæ–°æ‰©å®¹ä¸´ç•Œå€¼    if (oldCap &gt; 0) &#123;//åˆ¤æ–­æ—§æ•°ç»„çš„å®¹é‡æ˜¯å¦å¤§äº0ï¼Œå³æ˜¯ä¸æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨resize()        if (oldCap &gt;= MAXIMUM_CAPACITY) &#123;//è‹¥æ—§æ•°ç»„çš„å®¹é‡å¤§äºç­‰äºè®¾ç½®çš„æœ€å¤§å®¹é‡            threshold = Integer.MAX_VALUE;//è®¾ç½®æ‰©å®¹ä¸´ç•Œå€¼ä¸ºIntegerç±»ä¸­çš„æœ€å¤§å€¼            return oldTab;//è¿”å›é‡æ–°è®¾ç½®äº†æ‰©å®¹ä¸´ç•Œå€¼çš„æ—§æ•°ç»„        &#125;        //æ—§æ•°ç»„å®¹é‡å°äºè®¾ç½®çš„æœ€å¤§å®¹é‡ï¼Œå¯¹æ—§æ•°ç»„è¿›è¡Œæ‰©å®¹        else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY)        //if(æ‰©å®¹ä¸ºåŸæ¥2å€åçš„æ–°å®¹é‡å°äºæœ€å¤§å®¹é‡  ä¸”  æ—§æ•°ç»„å®¹é‡å¤§äºç­‰äºé»˜è®¤åˆå§‹åŒ–å®¹é‡16)            newThr = oldThr &lt;&lt; 1; //æ–°æ•°ç»„çš„æ‰©å®¹ä¸´ç•Œå€¼æ‰©å¤§ä¸ºåŸæ¥çš„2å€    &#125;    else if (oldThr &gt; 0) //initial capacity was placed in threshold    //åˆ¤æ–­å¦‚æœæ—§æ•°ç»„çš„å®¹é‡=0ä½†æ‰©å®¹ä¸´ç•Œå€¼å¤§äº0çš„æƒ…å†µ    //(èƒ½åˆ°è¿™å„¿è¯´æ˜æ˜¯è®¾ç½®äº†åˆå§‹åŒ–çš„æ‰©å®¹ä¸´ç•Œå€¼ï¼Œæœªè®¾ç½®å®¹é‡)        newCap = oldThr;//è‹¥æ˜¯ï¼Œåˆ™æ•°ç»„çš„æ–°å®¹é‡å°±ä¸ºæ—§çš„æ‰©å®¹ä¸´ç•Œå€¼    else &#123;               // zero initial threshold signifies using defaults        //å®ä¾‹åŒ–æ•°ç»„æ—¶ï¼Œå®¹é‡ä¸º0ï¼Œæ‰©å®¹ä¸´ç•Œå€¼ä¹Ÿä¸º0ï¼Œè¿›è¡Œä¸‹æ–¹æ•°ç»„çš„åˆå§‹åŒ–æ“ä½œ        newCap = DEFAULT_INITIAL_CAPACITY;//å®¹é‡è®¾ç½®ä¸º16        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);//æ‰©å®¹ä¸´ç•Œå€¼è®¾ç½®ä¸º12    &#125;    if (newThr == 0) &#123;//åˆ¤æ–­æ–°çš„æ‰©å®¹ä¸´ç•Œå€¼æ˜¯å¦è¿˜æ˜¯ç­‰äº0        float ft = (float)newCap * loadFactor;        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE);    &#125;    //æ–°çš„æ‰©å®¹ä¸´ç•Œå€¼ä¸ä¸º0ï¼Œæ–°å®¹é‡ä¹Ÿå·²è®¾ç½®ï¼Œå‡†å¤‡æ¡ä»¶å·²å°±ç»ª    threshold = newThr;//å°†å¾—åˆ°çš„æ–°æ‰©å®¹ä¸´ç•Œå€¼èµ‹å€¼ç»™å½“å‰HashMapå¯¹è±¡çš„æ‰©å®¹ä¸´ç•Œå€¼    @SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];//æ ¹æ®æ–°çš„å®¹é‡åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„    table = newTab;//å°†æ–°æ•°ç»„èµ‹ç»™å½“å‰HashMapå¯¹è±¡çš„æ•°ç»„ï¼Œè‡ªæ­¤å°±å·²åˆ›å»ºå¥½æ–°æ•°ç»„ï¼Œè‹¥æ˜¯å®ä¾‹åŒ–ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ°æ­¤å·²ç»“æŸï¼Œåªéœ€å°†æ–°æ•°ç»„è¿”å›å³å¯    if (oldTab != null) &#123; //ä¸æ˜¯ç¬¬ä¸€æ¬¡æ—¶è°ƒç”¨è¯¥æ–¹æ³•çš„è¯ï¼Œæ‰©å®¹åä¼šå°†åŸæ¥çš„æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­        for (int j = 0; j &lt; oldCap; ++j) &#123;            Node&lt;K,V&gt; e;            if ((e = oldTab[j]) != null) &#123;                oldTab[j] = null;                if (e.next == null)                    newTab[e.hash &amp; (newCap - 1)] = e;                else if (e instanceof TreeNode)                    ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap);                else &#123; // preserve order                    Node&lt;K,V&gt; loHead = null, loTail = null;                    Node&lt;K,V&gt; hiHead = null, hiTail = null;                    Node&lt;K,V&gt; next;                    do &#123;                        next = e.next;                        if ((e.hash &amp; oldCap) == 0) &#123;                            if (loTail == null)                                loHead = e;                            else                                loTail.next = e;                            loTail = e;                        &#125;                        else &#123;                            if (hiTail == null)                                hiHead = e;                            else                                hiTail.next = e;                            hiTail = e;                        &#125;                    &#125; while ((e = next) != null);                    if (loTail != null) &#123;                        loTail.next = null;                        newTab[j] = loHead;                    &#125;                    if (hiTail != null) &#123;                        hiTail.next = null;                        newTab[j + oldCap] = hiHead;                    &#125;                &#125;            &#125;        &#125;    &#125;    return newTab;&#125;//æ·»åŠ æ–°æ•°æ®åè¯¥é“¾è¡¨çš„æ•°æ®ä¸ªæ•°å¤§äºç­‰äºæ ‘åŒ–ä¸´ç•Œå€¼-1åˆ™è½¬æ¢ä¸ºçº¢é»‘æ ‘final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123;//ä¼ å…¥HashMapå¯¹è±¡åº•å±‚çš„æ•°ç»„tableå’Œæ–°æ•°æ®çš„hashå€¼    int n, index;    Node&lt;K,V&gt; e;    if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)        resize();//åˆ¤æ–­tableæ˜¯å¦ä¸ºnull(ä¸€èˆ¬ä¸å¯èƒ½),æˆ–è€…tableçš„é•¿åº¦æ˜¯å¦å°äºæœ€å°æ ‘åŒ–å®¹é‡ï¼Œè‹¥æ¯”å®ƒå°ï¼Œåˆ™é€‰æ‹©è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œè€Œä¸æ˜¯æ ‘åŒ–    else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123;//å¦åˆ™ï¼Œæ‰§è¡Œä¸‹æ–¹ä»£ç å°†è¯¥é“¾è¡¨è¿›è¡Œæ ‘åŒ–        //åˆ¤æ–­æ ¹æ®æ–°æ•°æ®çš„hashå€¼è®¡ç®—å‡ºçš„tableä¸­å¯¹åº”çš„ä½ç½®ä¸Šæ˜¯å¦ä¸ºnullï¼Œä¸ä¸ºnullåˆ™å°†è¯¥ä½ç½®ä¸Šçš„é“¾è¡¨è¿›è¡Œæ ‘åŒ–æ“ä½œ        TreeNode&lt;K,V&gt; hd = null, tl = null;        do &#123;            TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null);            if (tl == null)                hd = p;            else &#123;                p.prev = tl;                tl.next = p;            &#125;            tl = p;        &#125; while ((e = e.next) != null);        if ((tab[index] = hd) != null)            hd.treeify(tab);    &#125;&#125;</code></pre><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643558.png' data-fancybox='default' data-caption='image-20210804211515316'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643558.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643558.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210804211515316"></a><span class='image-caption'>image-20210804211515316</span></div></div><h4 id="10-3-3-LinkedHashMapç±»"><a href="#10-3-3-LinkedHashMapç±»" class="headerlink" title="10.3.3 LinkedHashMapç±»"></a>10.3.3 LinkedHashMapç±»</h4><h5 id="åº•å±‚å®ç°åŸç†"><a href="#åº•å±‚å®ç°åŸç†" class="headerlink" title="åº•å±‚å®ç°åŸç†"></a>åº•å±‚å®ç°åŸç†</h5><pre><code class="java">Map map = new HashMap();Map map1 = new LinkedHashMap();map.put(123,&quot;AA&quot;);map.put(456,&quot;BB&quot;);map.put(789,&quot;CC&quot;);map1.put(123,&quot;AA&quot;);map1.put(456,&quot;BB&quot;);map1.put(789,&quot;CC&quot;);System.out.println(map);//&#123;789=CC, 456=BB, 123=AA&#125;System.out.println(map1);//&#123;123=AA, 456=BB, 789=CC&#125;</code></pre><p>LinkedHashMapä¸­æ²¡æœ‰putæ–¹æ³•ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ªHashMapï¼Œåœ¨putæ–¹æ³•ä¸­åˆè°ƒç”¨HashMapçš„putValæ–¹æ³•ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªputValæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªnewNodeæ–¹æ³•ï¼Œè€ŒLinkedHashMapé‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œä»æ­¤å¤„å°±èƒ½åŒºåˆ«å¼€HashMapä¸LinkedHashMapçš„å­˜å‚¨ç»“æ„å·®å¼‚</p><pre><code class="java">//HashMapä¸­çš„Nodeç±»(ä»…åŒ…æ‹¬å®šä¹‰çš„å±æ€§)static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;        final int hash;        final K key;        V value;        Node&lt;K,V&gt; next;&#125;//ç»§æ‰¿è‡ªHashMapçš„Entryç±»static class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; &#123;    Entry&lt;K,V&gt; before, after;//æ–°å¢çš„å±æ€§ï¼Œç”¨æ¥æŒ‡æ˜ä¸€ä¸ªæ•°æ®ç»“ç‚¹çš„ä¸Šä¸€ä¸ªæ•°æ®å’Œä¸‹ä¸€ä¸ªæ•°æ®ã€‚è®°å½•å¢æ·»æ•°æ®çš„å…ˆåé¡ºåº    Entry(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;        super(hash, key, value, next);    &#125;    &#125;//è¦†ç›–é‡å†™HashMapä¸­çš„newNodeæ–¹æ³•ã€‚æ‰€ä»¥LinkedHashMapåˆ›å»ºçš„å­˜å‚¨æ•°æ®çš„ç»“ç‚¹ä¼šä¸ä¸€æ ·ï¼Œå³å¤šäº†beforeå’Œafterå±æ€§Node&lt;K,V&gt; newNode(int hash, K key, V value, Node&lt;K,V&gt; e) &#123;    LinkedHashMap.Entry&lt;K,V&gt; p = new LinkedHashMap.Entry&lt;K,V&gt;(hash, key, value, e);    linkNodeLast(p);    return p;&#125;//æŒ‡æ˜æ–°æ•°æ®ç»“ç‚¹çš„ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªæ•°æ®private void linkNodeLast(LinkedHashMap.Entry&lt;K,V&gt; p) &#123;    LinkedHashMap.Entry&lt;K,V&gt; last = tail;    tail = p;    if (last == null)        head = p;    else &#123;        p.before = last;        last.after = p;    &#125;&#125;</code></pre><h4 id="10-3-4-TreeMapç±»"><a href="#10-3-4-TreeMapç±»" class="headerlink" title="10.3.4 TreeMapç±»"></a>10.3.4 TreeMapç±»</h4><pre><code class="java">//å‘TreeMapä¸­æ·»åŠ key-valueï¼Œè¦æ±‚keyå¿…é¡»æ˜¯ç”±åŒä¸€ä¸ªç±»åˆ›å»ºçš„å¯¹è±¡//å› ä¸ºè¦æŒ‰ç…§keyè¿›è¡Œæ’åº:è‡ªç„¶æ’åºã€å®šåˆ¶æ’åº//å…·ä½“ç»†èŠ‚å¯çœ‹10.2.3ä¸­çš„ç¬¬3ç‚¹TreeSetï¼Œå› ä¸ºTreeSetçš„å®ç°åº•å±‚å°±æ˜¯TreeMapã€‚ä¸¤è€…ç›¸å·®ä¸å¤§ï¼Œåªæ˜¯å­˜æ”¾çš„æ•°æ®ç±»å‹ä¸åŒ</code></pre><pre><code class="java">//è‡ªç„¶æ’åºï¼ŒUserç±»ä¸­é‡å†™çš„compareTo()æ–¹æ³•æ˜¯æŒ‰åå­—ä»å¤§åˆ°å°ï¼Œå†æŒ‰å¹´é¾„ä»å°åˆ°å¤§æ’åºTreeMap treeMap = new TreeMap();User user1 = new User(&quot;Tom&quot;,10);User user2 = new User(&quot;Jack&quot;,50);User user3 = new User(&quot;Jerry&quot;,25);User user4 = new User(&quot;Eric&quot;,20);User user5 = new User(&quot;Eric&quot;,23);treeMap.put(user1,98);treeMap.put(user2,94);treeMap.put(user3,89);treeMap.put(user4,87);treeMap.put(user5,98);Set users = treeMap.entrySet();Iterator iterator = users.iterator();while(iterator.hasNext()) &#123;    Object obj = iterator.next();    Map.Entry entry = (Map.Entry) obj;    System.out.print(entry.getKey() + &quot;  --&gt;  &quot;);    System.out.println(entry.getValue());    //User&#123;name=&#39;Tom&#39;, age=10&#125;  --&gt;  98    //User&#123;name=&#39;Jerry&#39;, age=25&#125;  --&gt;  89    //User&#123;name=&#39;Jack&#39;, age=50&#125;  --&gt;  94    //User&#123;name=&#39;Eric&#39;, age=20&#125;  --&gt;  87    //User&#123;name=&#39;Eric&#39;, age=23&#125;  --&gt;  98&#125;//å®šåˆ¶æ’åºComparator comparator = new Comparator() &#123;    //æŒ‰å¹´é¾„ä»å°åˆ°å¤§æ’åº    @Override    public int compare(Object o1, Object o2) &#123;        if(o1 instanceof User &amp;&amp; o2 instanceof User)&#123;            User user1 = (User) o1;            User user2 = (User) o2;            return Integer.compare(user1.getAge(),user2.getAge());        &#125;        throw new RuntimeException(&quot;æ¯”è¾ƒçš„ç±»å‹ä¸æ­£ç¡®&quot;);    &#125;&#125;;TreeMap treeMap = new TreeMap(comparator);User user1 = new User(&quot;Tom&quot;,10);User user2 = new User(&quot;Jack&quot;,50);User user3 = new User(&quot;Jerry&quot;,25);User user4 = new User(&quot;Eric&quot;,20);User user5 = new User(&quot;Eric&quot;,23);treeMap.put(user1,98);treeMap.put(user2,94);treeMap.put(user3,89);treeMap.put(user4,87);treeMap.put(user5,98);Set users = treeMap.entrySet();Iterator iterator = users.iterator();while(iterator.hasNext()) &#123;    Object obj = iterator.next();    Map.Entry entry = (Map.Entry) obj;    System.out.print(entry.getKey() + &quot;  --&gt;  &quot;);    System.out.println(entry.getValue());    //User&#123;name=&#39;Tom&#39;, age=10&#125;  --&gt;  98    //User&#123;name=&#39;Eric&#39;, age=20&#125;  --&gt;  87    //User&#123;name=&#39;Eric&#39;, age=23&#125;  --&gt;  98    //User&#123;name=&#39;Jerry&#39;, age=25&#125;  --&gt;  89    //User&#123;name=&#39;Jack&#39;, age=50&#125;  --&gt;  94&#125;</code></pre><h4 id="10-3-5-Propertiesç±»"><a href="#10-3-5-Propertiesç±»" class="headerlink" title="10.3.5 Propertiesç±»"></a>10.3.5 Propertiesç±»</h4><p>å¯¹äºHashTableæ¥è¯´ï¼ŒHashtableæ˜¯ä¸ªå¤è€çš„Mapå®ç°ç±»ï¼ŒJDK1.0å°±æä¾›äº†ï¼Œä¹Ÿæ˜¯Mapæ¥å£çš„ç¬¬å››ä¸ªå®ç°ç±» ã€‚ä¸åŒäºHashMapï¼Œ<strong>Hashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„</strong></p><p>Hashtable<strong>å®ç°åŸç†å’ŒHashMapç›¸åŒï¼ŒåŠŸèƒ½ç›¸åŒ</strong>ã€‚<strong>åº•å±‚éƒ½ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«</strong>ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥äº’ç”¨</p><ul><li>ä¸HashMapä¸åŒï¼Œ<strong>Hashtableä¸å…è®¸ä½¿ç”¨nullä½œä¸ºkeyå’Œvalue</strong></li><li>ä¸HashMapä¸€æ ·ï¼Œ<strong>Hashtable ä¹Ÿä¸èƒ½ä¿è¯å…¶ä¸­Key-Valueå¯¹çš„é¡ºåº</strong></li><li>Hashtable<strong>åˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰ã€ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†ï¼Œä¸HashMapä¸€è‡´</strong></li></ul><p><strong>Propertiesç±»æ˜¯Hashtableçš„å­ç±»</strong>ï¼Œè¯¥å¯¹è±¡<strong>ç”¨äºå¤„ç†å±æ€§æ–‡ä»¶</strong>ï¼Œç”±äºå±æ€§æ–‡ä»¶é‡Œçš„keyã€valueéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥Properties é‡Œçš„<strong>keyå’Œvalueéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹</strong></p><p><strong>å­˜å–æ•°æ®æ—¶ï¼Œå»ºè®®ä½¿ç”¨setProperty(String key,String value)æ–¹æ³•å’ŒgetProperty(String key)æ–¹æ³•</strong></p><pre><code class="java">Properties pros = new Properties();FileInputStream in = new FileInputStream(&quot;jdbc.properties&quot;);pros.load(in);String name = pros.getProperty(&quot;name&quot;);String password = pros.getProperty(&quot;password&quot;);System.out.println(&quot;name = &quot; + name + &quot;, password = &quot; + password);//name = Tom, password = abc123</code></pre><h3 id="10-4-Collectionså·¥å…·ç±»"><a href="#10-4-Collectionså·¥å…·ç±»" class="headerlink" title="10.4 Collectionså·¥å…·ç±»"></a>10.4 Collectionså·¥å…·ç±»</h3><p>é¢è¯•é¢˜ï¼šCollection å’ŒCollectionsçš„åŒºåˆ«?</p><pre><code class="java">Collectionæ˜¯ä¸€ä¸ªå­˜å‚¨å•åˆ—æ•°æ®é›†åˆçš„æ¥å£ï¼ŒListã€Setéƒ½ç»§æ‰¿è‡ªå®ƒCollectionsæ˜¯ä¸€ä¸ªæ“ä½œListã€Setå’ŒMapçš„å·¥å…·ç±»</code></pre><p>Collections æ˜¯ä¸€ä¸ª<strong>æ“ä½œSetã€ Listå’ŒMap</strong>ç­‰é›†åˆçš„å·¥å…·ç±»ï¼ŒCollectionsä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•<strong>å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºã€æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œ</strong>ï¼Œè¿˜æä¾›äº†<strong>å¯¹é›†åˆå¯¹è±¡è®¾ç½®ä¸å¯å˜ã€å¯¹é›†åˆå¯¹è±¡å®ç°åŒæ­¥æ§åˆ¶ç­‰æ–¹æ³•</strong></p><h4 id="10-4-1-Collectionsä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#10-4-1-Collectionsä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="10.4.1 Collectionsä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>10.4.1 Collectionsä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><h5 id="1-æ’åºï¼š"><a href="#1-æ’åºï¼š" class="headerlink" title="1.æ’åºï¼š"></a>1.æ’åºï¼š</h5><ul><li>reverse(List)ï¼š<strong>åè½¬Listä¸­å…ƒç´ çš„é¡ºåº</strong></li><li>shuffle(List)ï¼šå¯¹<strong>Listé›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº</strong></li><li>sort(List)ï¼šæ ¹æ®<strong>å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®šListé›†åˆå…ƒç´ æŒ‰å‡åºæ’åº</strong></li><li>sort(List, Comparator)ï¼š<strong>æ ¹æ®æŒ‡å®šçš„Comparatoräº§ç”Ÿçš„é¡ºåºå¯¹List é›†åˆå…ƒç´ è¿›è¡Œæ’åº</strong></li><li>swap(List listï¼Œint iï¼Œint j)ï¼šå°†<strong>æŒ‡å®šlisté›†åˆä¸­çš„iå¤„å…ƒç´ å’Œjå¤„å…ƒç´ è¿›è¡Œäº¤æ¢</strong></li></ul><pre><code class="java">List list = new ArrayList();list.add(123);list.add(43);list.add(765);list.add(-97);list.add(0);System.out.println(list);//[123, 43, 765, -97, 0]//reverse(List)ï¼šåè½¬Listä¸­å…ƒç´ çš„é¡ºåºCollections.reverse(list);System.out.println(list);//[0, -97, 765, 43, 123]//shuffle(List)ï¼šå¯¹Listé›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åºCollections.shuffle(list);System.out.println(list);//ç¬¬ä¸€æ¬¡[0, 123, 43, -97, 765]  ç¬¬äºŒæ¬¡[123, 765, 43, -97, 0]//sort(List)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®šListé›†åˆå…ƒç´ æŒ‰å‡åºæ’åºCollections.sort(list);System.out.println(list);//[-97, 0, 43, 123, 765]//swap(List listï¼Œint iï¼Œint j)ï¼šå°†æŒ‡å®šlisté›†åˆä¸­çš„iå¤„å…ƒç´ å’Œjå¤„å…ƒç´ è¿›è¡Œäº¤æ¢Collections.swap(list,1,3);System.out.println(list);//[-97, 123, 43, 0, 765]</code></pre><h5 id="2-æŸ¥æ‰¾ã€æ›¿æ¢ï¼š"><a href="#2-æŸ¥æ‰¾ã€æ›¿æ¢ï¼š" class="headerlink" title="2.æŸ¥æ‰¾ã€æ›¿æ¢ï¼š"></a>2.æŸ¥æ‰¾ã€æ›¿æ¢ï¼š</h5><ul><li>Object max(Collection)ï¼šæ ¹æ®å…ƒç´ çš„<strong>è‡ªç„¶é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„<strong>æœ€å¤§å…ƒç´ </strong></li><li>Object max(Collectionï¼ŒComparator): æ ¹æ®<strong>ComparatoræŒ‡å®šçš„é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„<strong>æœ€å°å…ƒç´ </strong></li><li>Object min(Collection)ï¼šæ ¹æ®å…ƒç´ çš„<strong>è‡ªç„¶é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„<strong>æœ€å¤§å…ƒç´ </strong></li><li>Object min(Collectionï¼ŒComparator)ï¼šæ ¹æ®<strong>ComparatoræŒ‡å®šçš„é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„<strong>æœ€å°å…ƒç´ </strong></li><li>int frequency(Collection, Object)ï¼šè¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„<strong>å‡ºç°æ¬¡æ•°</strong></li><li>void copy(List dest,List src)ï¼š<strong>å°†srcä¸­çš„å†…å®¹å¤åˆ¶åˆ°destä¸­</strong></li><li>boolean replaceAll(List list, Object oldVal, Object newVal)ï¼š<strong>ä½¿ç”¨æ–°å€¼newValæ›¿æ¢Listå¯¹è±¡çš„æ‰€æœ‰æ—§å€¼oldVal</strong></li></ul><pre><code class="java">List list = new ArrayList();list.add(123);list.add(43);list.add(765);list.add(765);list.add(-97);list.add(765);list.add(0);System.out.println(list);//[123, 43, 765, 765, -97, 765, 0]//Object max(Collection)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ System.out.println(Collections.max(list));//765//Object min(Collection)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ System.out.println(Collections.min(list));//-97//int frequency(Collection, Object)ï¼šè¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°System.out.println(Collections.frequency(list, 765));//3//void copy(List dest,List src)ï¼šå°†srcä¸­çš„å†…å®¹å¤åˆ¶åˆ°destä¸­//é”™è¯¯å†™æ³•://List list1 = new ArrayList();//Collections.copy(list1,list);List list1 = Arrays.asList(new Object[list.size()]);Collections.copy(list1,list);System.out.println(list1);//[123, 43, 765, 765, -97, 765, 0]//boolean replaceAll(List list, Object oldVal, Object newVal)ï¼šä½¿ç”¨æ–°å€¼newValæ›¿æ¢Listå¯¹è±¡çš„æ‰€æœ‰æ—§å€¼oldValCollections.replaceAll(list,765,567);System.out.println(list);//[123, 43, 567, 567, -97, 567, 0]</code></pre><h5 id="3-è½¬æ¢ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆ"><a href="#3-è½¬æ¢ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆ" class="headerlink" title="3.è½¬æ¢ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆ"></a>3.è½¬æ¢ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆ</h5><p>Collectionsç±»ä¸­æä¾›äº†<strong>å¤šä¸ªsynchronizedXxx() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä½¿å°†æŒ‡å®šé›†åˆåŒ…è£…æˆçº¿ç¨‹åŒæ­¥çš„é›†åˆ</strong>ï¼Œä»è€Œå¯ä»¥<strong>è§£å†³å¤šçº¿ç¨‹å¹¶å‘è®¿é—®é›†åˆæ—¶çš„çº¿ç¨‹å®‰å…¨é—®é¢˜</strong></p><pre><code class="java">åœ¨Collectionsç±»ä¸­æœ‰å‡ ä¸ªå®šä¹‰çš„SynchronizedXxxçš„é™æ€å†…éƒ¨ç±»ï¼Œå½“è°ƒç”¨è¿™äº›SynchronizedXxx()æ–¹æ³•æ—¶ï¼Œä¼šåœ¨è¿™ä¸ªæ–¹æ³•å†…éƒ¨åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„çº¿ç¨‹å®‰å…¨çš„å†…éƒ¨ç±»å¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨è¿”å›çš„å¯¹è±¡è°ƒç”¨Listã€Setå’ŒMapç­‰çš„æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨åˆ°Collectionså®šä¹‰çš„å‡ ä¸ªé™æ€å†…éƒ¨ç±»ä¸­é‡å†™çš„ç›¸å¯¹åº”çš„æ–¹æ³•ï¼Œä»¥æ­¤æ¥ä¿è¯çº¿ç¨‹çš„å®‰å…¨æ€§//ä»¥Listä¸ºä¾‹List list = new ArrayList();List list1 = Collections.synchronizedList(list);//æ­¤æ—¶è¿”å›çš„listå³ä¸ºçº¿ç¨‹å®‰å…¨çš„//Collectionsä¸­çš„synchronizedList()æ–¹æ³•public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) &#123;    return (list instanceof RandomAccess ?            new SynchronizedRandomAccessList&lt;&gt;(list) :            new SynchronizedList&lt;&gt;(list));&#125;//å®šä¹‰çš„SynchronizedListé™æ€å†…éƒ¨ç±»ç±»static class SynchronizedList&lt;E&gt;    extends SynchronizedCollection&lt;E&gt;    implements List&lt;E&gt; &#123;    private static final long serialVersionUID = -7754090372962971524L;    final List&lt;E&gt; list;    SynchronizedList(List&lt;E&gt; list) &#123;        super(list);        this.list = list;    &#125;    SynchronizedList(List&lt;E&gt; list, Object mutex) &#123;        super(list, mutex);        this.list = list;    &#125;    public boolean equals(Object o) &#123;        if (this == o)            return true;        synchronized (mutex) &#123;return list.equals(o);&#125;    &#125;    public int hashCode() &#123;        synchronized (mutex) &#123;return list.hashCode();&#125;    &#125;    public E get(int index) &#123;        synchronized (mutex) &#123;return list.get(index);&#125;    &#125;    public E set(int index, E element) &#123;        synchronized (mutex) &#123;return list.set(index, element);&#125;    &#125;    public void add(int index, E element) &#123;        synchronized (mutex) &#123;list.add(index, element);&#125;    &#125;    public E remove(int index) &#123;        synchronized (mutex) &#123;return list.remove(index);&#125;    &#125;    public int indexOf(Object o) &#123;        synchronized (mutex) &#123;return list.indexOf(o);&#125;    &#125;    public int lastIndexOf(Object o) &#123;        synchronized (mutex) &#123;return list.lastIndexOf(o);&#125;    &#125;    public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123;        synchronized (mutex) &#123;return list.addAll(index, c);&#125;    &#125;    public ListIterator&lt;E&gt; listIterator() &#123;        return list.listIterator(); // Must be manually synched by user    &#125;    public ListIterator&lt;E&gt; listIterator(int index) &#123;        return list.listIterator(index); // Must be manually synched by user    &#125;    public List&lt;E&gt; subList(int fromIndex, int toIndex) &#123;        synchronized (mutex) &#123;            return new SynchronizedList&lt;&gt;(list.subList(fromIndex, toIndex),                                          mutex);        &#125;    &#125;    @Override    public void replaceAll(UnaryOperator&lt;E&gt; operator) &#123;        synchronized (mutex) &#123;list.replaceAll(operator);&#125;    &#125;    @Override    public void sort(Comparator&lt;? super E&gt; c) &#123;        synchronized (mutex) &#123;list.sort(c);&#125;    &#125;    /**         * SynchronizedRandomAccessList instances are serialized as         * SynchronizedList instances to allow them to be deserialized         * in pre-1.4 JREs (which do not have SynchronizedRandomAccessList).         * This method inverts the transformation.  As a beneficial         * side-effect, it also grafts the RandomAccess marker onto         * SynchronizedList instances that were serialized in pre-1.4 JREs.         *         * Note: Unfortunately, SynchronizedRandomAccessList instances         * serialized in 1.4.1 and deserialized in 1.4 will become         * SynchronizedList instances, as this method was missing in 1.4.         */    private Object readResolve() &#123;        return (list instanceof RandomAccess                ? new SynchronizedRandomAccessList&lt;&gt;(list)                : this);    &#125;&#125;</code></pre><h4 id="10-4-2-é›†åˆç»ƒä¹ é¢˜"><a href="#10-4-2-é›†åˆç»ƒä¹ é¢˜" class="headerlink" title="10.4.2 é›†åˆç»ƒä¹ é¢˜"></a>10.4.2 é›†åˆç»ƒä¹ é¢˜</h4><pre><code class="java">1.ä»é”®ç›˜éšæœºè¾“å…¥10ä¸ªæ•´æ•°ä¿å­˜åˆ°Listä¸­ï¼Œå¹¶æŒ‰å€’åºã€ä»å¤§åˆ°å°çš„é¡ºåºæ˜¾ç¤ºå‡ºæ¥2.æŠŠå­¦ç”Ÿåä¸è€ƒè¯•åˆ†æ•°å½•å…¥åˆ°é›†åˆä¸­ï¼Œå¹¶æŒ‰åˆ†æ•°æ˜¾ç¤ºå‰ä¸‰åæˆç»©å­¦å‘˜çš„åå­—ã€‚TreeSet(Student(name,score,id));3.å§“æ°ç»Ÿè®¡:ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­å­˜å‚¨ç€åŒ—äº¬æ‰€æœ‰é«˜æ ¡åœ¨æ ¡ç”Ÿçš„å§“åï¼Œæ ¼å¼å¦‚ä¸‹æ¯è¡Œä¸€ä¸ªåå­—ï¼Œå§“ä¸åä»¥ç©ºæ ¼åˆ†éš”:å¼   ä¸‰æ  å››ç‹  å°äº”ç°åœ¨æƒ³ç»Ÿè®¡æ‰€æœ‰çš„å§“æ°åœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œè¯·æè¿°ä¸€ä¸‹ä½ çš„è§£å†³æ–¹æ¡ˆ4.å¯¹ä¸€ä¸ªJavaæºæ–‡ä»¶ä¸­çš„å…³é”®å­—è¿›è¡Œè®¡æ•°æç¤º:Javaæºæ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªå•è¯ï¼Œéœ€è¦ç¡®å®šè¯¥å•è¯æ˜¯å¦æ˜¯ä¸€ä¸ªå…³é”®å­—ã€‚ä¸ºäº†é«˜æ•ˆå¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå°†æ‰€æœ‰çš„å…³é”®å­—ä¿å­˜åœ¨ä¸€ä¸ªHashSetä¸­ã€‚ç”¨contains()æ¥æµ‹è¯•File file = new File(&quot;Test.java&quot;);Scanner scanner = new Scanner(file);while(scanner.hasNext())&#123;    String word = scanner.next();    System.out.printIn(word);&#125;</code></pre><h2 id="åä¸€ã€Javaæ³›å‹"><a href="#åä¸€ã€Javaæ³›å‹" class="headerlink" title="åä¸€ã€Javaæ³›å‹"></a>åä¸€ã€Javaæ³›å‹</h2><p>é›†åˆå®¹å™¨ç±»åœ¨è®¾è®¡é˜¶æ®µ/å£°æ˜é˜¶æ®µä¸èƒ½ç¡®å®šè¿™ä¸ªå®¹å™¨åˆ°åº•å®é™…å­˜çš„æ˜¯ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨<strong>JDK1.5ä¹‹å‰åªèƒ½æŠŠå…ƒç´ ç±»å‹è®¾è®¡ä¸ºObjectï¼ŒJDK1.5ä¹‹åä½¿ç”¨æ³›å‹æ¥è§£å†³</strong>ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™é™¤äº†<strong>å…ƒç´ çš„ç±»å‹ä¸ç¡®å®šï¼Œå…¶ä»–çš„éƒ¨åˆ†æ˜¯ç¡®å®š</strong>çš„ï¼Œä¾‹å¦‚å…³äºè¿™ä¸ªå…ƒç´ å¦‚ä½•ä¿å­˜ï¼Œå¦‚ä½•ç®¡ç†ç­‰æ˜¯ç¡®å®šçš„ï¼Œå› æ­¤æ­¤æ—¶æŠŠ<strong>å…ƒç´ çš„ç±»å‹è®¾è®¡æˆä¸€ä¸ªå‚æ•°</strong>ï¼Œè¿™ä¸ªç±»å‹å‚æ•°å«åšæ³›å‹ã€‚<code>collection&lt;E&gt;</code>ï¼Œ<code>List&lt;E&gt;</code>ï¼Œ<code>ArrayList&lt;E&gt;</code>è¿™ä¸ª**<E>å°±æ˜¯ç±»å‹å‚æ•°ï¼Œå³æ³›å‹**</p><p>æ‰€è°“æ³›å‹ï¼Œå°±æ˜¯å…è®¸<strong>åœ¨å®šä¹‰ç±»ã€æ¥å£æ—¶é€šè¿‡ä¸€ä¸ªæ ‡è¯†è¡¨ç¤ºç±»ä¸­æŸä¸ªå±æ€§çš„ç±»å‹æˆ–è€…æ˜¯æŸä¸ªæ–¹æ³•çš„è¿”å›å€¼åŠå‚æ•°ç±»å‹</strong>ã€‚<strong>è¿™ä¸ªç±»å‹å‚æ•°å°†åœ¨ä½¿ç”¨æ—¶ï¼ˆä¾‹å¦‚ï¼Œç»§æ‰¿æˆ–å®ç°è¿™ä¸ªæ¥å£ï¼Œç”¨è¿™ä¸ªç±»å‹å£°æ˜å˜é‡ã€åˆ›å»ºå¯¹è±¡æ—¶ï¼‰ç¡®å®šï¼ˆå³ä¼ å…¥å®é™…çš„ç±»å‹å‚æ•°ï¼Œä¹Ÿç§°ä¸ºç±»å‹å®å‚)</strong></p><p>ä»JDK1.5ä»¥åï¼ŒJavaå¼•å…¥äº†â€œå‚æ•°åŒ–ç±»å‹( Parameterized type)â€çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨åˆ›å»ºé›†åˆæ—¶å†æŒ‡å®šé›†åˆå…ƒç´ çš„ç±»å‹ï¼Œæ­£å¦‚ï¼šList<String>ï¼Œè¿™è¡¨æ˜è¯¥Liståªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹çš„å¯¹è±¡</p><p>JDK1.5æ”¹å†™äº†é›†åˆæ¡†æ¶ä¸­çš„å…¨éƒ¨æ¥å£å’Œç±»ï¼Œä¸ºè¿™äº›æ¥å£ã€ç±»å¢åŠ äº†æ³›å‹æ”¯æŒä»è€Œ<strong>å¯ä»¥åœ¨å£°æ˜é›†åˆå˜é‡ã€åˆ›å»ºé›†åˆå¯¹è±¡æ—¶ä¼ å…¥ç±»å‹å®å‚</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643333.png' data-fancybox='default' data-caption='image-20210806095515537'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643333.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643333.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210806095515537"></a><span class='image-caption'>image-20210806095515537</span></div></div><h3 id="11-1-æ³›å‹çš„ä½¿ç”¨"><a href="#11-1-æ³›å‹çš„ä½¿ç”¨" class="headerlink" title="11.1 æ³›å‹çš„ä½¿ç”¨"></a>11.1 æ³›å‹çš„ä½¿ç”¨</h3><pre><code class="java">æ³›å‹çš„ä½¿ç”¨1.jdk 5.0æ–°å¢çš„ç‰¹æ€§2.åœ¨é›†åˆä¸­ä½¿ç”¨æ³›å‹:æ€»ç»“:â‘  é›†åˆæ¥å£æˆ–é›†åˆç±»åœ¨jdk5.0æ—¶éƒ½ä¿®æ”¹ä¸ºå¸¦æ³›å‹çš„ç»“æ„â‘¡ åœ¨å®ä¾‹åŒ–é›†åˆç±»æ—¶ï¼Œå¯ä»¥æŒ‡æ˜å…·ä½“çš„æ³›å‹ç±»å‹â‘¢ æŒ‡æ˜å®Œä»¥åï¼Œåœ¨é›†åˆç±»æˆ–æ¥å£ä¸­å‡¡æ˜¯å®šä¹‰ç±»æˆ–æ¥å£æ—¶ï¼Œå†…éƒ¨ç»“æ„ï¼ˆæ¯”å¦‚:æ–¹æ³•ã€æ„é€ å™¨ã€å±æ€§ç­‰ï¼‰ä½¿ç”¨åˆ°ç±»çš„æ³›å‹çš„ä½ç½®ï¼Œéƒ½æŒ‡å®šä¸ºå®ä¾‹åŒ–çš„æ³›å‹ç±»å‹ã€‚æ¯”å¦‚: add(E e) ---&gt; å®ä¾‹åŒ–ä»¥å: add(Integer e)â‘£ æ³¨æ„ç‚¹:æ³›å‹çš„ç±»å‹å¿…é¡»æ˜¯ç±»ï¼Œä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚éœ€è¦ç”¨åˆ°åŸºæœ¬æ•°æ®ç±»å‹çš„ä½ç½®ï¼Œæ‹¿åŒ…è£…ç±»æ›¿æ¢â‘¤ å¦‚æœå®ä¾‹åŒ–æ—¶ï¼Œæ²¡æœ‰æŒ‡æ˜æ³›å‹çš„ç±»å‹ã€‚é»˜è®¤ç±»å‹ä¸ºjava.lang.objectç±»å‹</code></pre><pre><code class="java">ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();list.add(78);list.add(87);list.add(99);list.add(65);//ç¼–è¯‘æ—¶ï¼Œå°±ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨//list.add(&quot;Tom&quot;);//éå†æ–¹å¼ä¸€ï¼šfor(Integer score : list)&#123;    //é¿å…äº†å¼ºè½¬æ“ä½œ    int stuScore = score;    System.out.println(stuScore);&#125;//éå†æ–¹å¼äºŒï¼šIterator&lt;Integer&gt; iterator = list.iterator();while (iterator.hasNext())&#123;    int stuScore1 = iterator.next();    System.out.println(stuScore1);&#125;</code></pre><pre><code class="java"> //ä»¥HashMapä¸ºä¾‹ Map&lt;String,Integer&gt; map = new HashMap&lt;String,Integer&gt;(); map.put(&quot;Tom&quot;,87); map.put(&quot;Jerry&quot;,87); map.put(&quot;Jack&quot;,87); //ç¼–è¯‘æŠ¥é”™ //map.put(123,&quot;Mary&quot;); //æ³›å‹çš„åµŒå¥— Set&lt;Map.Entry&lt;String,Integer&gt;&gt; entry = map.entrySet(); Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; iterator = entry.iterator(); while (iterator.hasNext())&#123;     Map.Entry&lt;String, Integer&gt; e = iterator.next();     String key = e.getKey();     Integer value = e.getValue();     System.out.println(key + &quot;  --&gt;  &quot; + value); &#125;</code></pre><h3 id="11-2-è‡ªå®šä¹‰æ³›å‹"><a href="#11-2-è‡ªå®šä¹‰æ³›å‹" class="headerlink" title="11.2 è‡ªå®šä¹‰æ³›å‹"></a>11.2 è‡ªå®šä¹‰æ³›å‹</h3><h4 id="11-2-1-è‡ªå®šä¹‰æ³›å‹ç±»å’Œæ¥å£"><a href="#11-2-1-è‡ªå®šä¹‰æ³›å‹ç±»å’Œæ¥å£" class="headerlink" title="11.2.1 è‡ªå®šä¹‰æ³›å‹ç±»å’Œæ¥å£"></a>11.2.1 è‡ªå®šä¹‰æ³›å‹ç±»å’Œæ¥å£</h4><p><strong>è‡ªèº«å®šä¹‰ä¸ºæ³›å‹ç±»ï¼ˆæ¥å£ï¼‰</strong></p><pre><code class="java">//å¦‚æœå®šä¹‰äº†æ³›å‹ç±»ï¼Œå®ä¾‹åŒ–æ²¡æœ‰æŒ‡æ˜ç±»çš„æ³›å‹ï¼Œåˆ™è®¤ä¸ºæ­¤æ³›å‹ç±»å‹ä¸ºObjectç±»å‹//è¦æ±‚:å¦‚æœå®šä¹‰äº†ç±»æ˜¯å¸¦æ³›å‹çš„ï¼Œå»ºè®®åœ¨å®ä¾‹åŒ–æ—¶è¦æŒ‡æ˜ç±»çš„æ³›å‹public class Order&lt;T&gt; &#123;    String orderName;    int orderId;    //ç±»çš„å†…éƒ¨ç»“æ„å¯ä»¥ä½¿ç”¨ç±»çš„æ³›å‹    T orderT;    public Order() &#123;    &#125;    public Order(String orderName, int orderId, T orderT) &#123;        this.orderName = orderName;        this.orderId = orderId;        this.orderT = orderT;    &#125;    public T getOrderT() &#123;        return orderT;    &#125;    public void setOrderT(T orderT) &#123;        this.orderT = orderT;    &#125;&#125;Order order = new Order();order.setOrderT(123);order.setOrderT(&quot;ABC&quot;);//å®ä¾‹åŒ–æ—¶æŒ‡æ˜ç±»çš„æ³›å‹Order&lt;String&gt; order1 = new Order&lt;String&gt;(&quot;orderAA&quot;,1001,&quot;order:AA&quot;);order1.setOrderT(&quot;AA:hello&quot;);//æ­¤æ—¶åªèƒ½è®¾ç½®Stringç±»å‹</code></pre><p><strong>å…¶ä»–ç±»ç»§æ‰¿æ³›å‹ç±»ï¼ˆå®ç°æ¥å£ï¼‰</strong></p><pre><code class="java">public class SubOrder extends Order&lt;Integer&gt;&#123;//éæ³›å‹ç±»&#125;public class SubOrder1&lt;T&gt; extends Order&lt;T&gt;&#123;//æ³›å‹ç±»&#125;SubOrder subOrder = new SubOrder();//ç”±äºå­ç±»åœ¨ç»§æ‰¿å¸¦æ³›å‹çš„çˆ¶ç±»æ—¶ï¼ŒæŒ‡æ˜äº†æ³›å‹ç±»å‹ã€‚åˆ™å®ä¾‹åŒ–å­ç±»å¯¹è±¡æ—¶ï¼Œä¸å†éœ€è¦æŒ‡æ˜æ³›å‹subOrder.setOrderT(1002);//æ­¤æ—¶ä¼ å…¥çš„ç±»å‹åªèƒ½æ˜¯ç»§æ‰¿Order&lt;Integer&gt;æ—¶æŒ‡æ˜çš„Integerç±»å‹ï¼Œè‹¥æ²¡æœ‰åƒå¦‚æ­¤æŒ‡æ˜ç±»å‹å³æ˜¯ç»§æ‰¿è‡ªOrder&lt;T&gt;ï¼Œåˆ™ä¼ å…¥çš„æ•°æ®ç±»å‹æ˜¯Objectç±»å‹SubOrder1&lt;String&gt; subOrder = new SubOrder1&lt;String&gt;();//æ˜¯æ³›å‹ç±»subOrder1.setOrderT(&quot;order2...&quot;);</code></pre><p><strong>è‡ªå®šä¹‰ç±»å’Œæ¥å£çš„æ³¨æ„ç‚¹ï¼š</strong></p><ol><li><p>æ³›å‹ç±»<strong>å¯èƒ½æœ‰å¤šä¸ªå‚æ•°</strong>ï¼Œæ­¤æ—¶åº”å°†<strong>å¤šä¸ªå‚æ•°ä¸€èµ·æ”¾åœ¨å°–æ‹¬å·å†…</strong>ã€‚æ¯”å¦‚ï¼š&lt;E1,E2,E3&gt;</p></li><li><p>æ³›å‹ç±»çš„æ„é€ å™¨å¦‚ä¸‹ï¼š**<code>public GenericClass()&#123;&#125;</code><strong>ã€‚è€Œä¸‹é¢æ˜¯é”™è¯¯çš„: public GenericClass<E>(){}ï¼Œè€Œ</strong>å®ä¾‹åŒ–æ—¶éœ€è¦<code>new Generic&lt;&gt;();</code>**</p></li><li><p><strong>å®ä¾‹åŒ–åï¼Œæ“ä½œåŸæ¥æ³›å‹ä½ç½®çš„ç»“æ„å¿…é¡»ä¸æŒ‡å®šçš„æ³›å‹ç±»å‹ä¸€è‡´</strong></p></li><li><p>æ³›å‹ä¸åŒçš„å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ã€‚å°½ç®¡åœ¨ç¼–è¯‘æ—¶<code>ArrayList&lt;String&gt;</code>å’Œ<code>ArrayList&lt;Integer&gt;</code>æ˜¯ä¸¤ç§ç±»å‹ï¼Œä½†æ˜¯ï¼Œåœ¨è¿è¡Œæ—¶åªæœ‰ä¸€ä¸ªArrayListè¢«åŠ è½½åˆ°JVMä¸­</p><pre><code class="java">ArrayList&lt;String&gt; list1 = nu1l;ArrayList&lt;Integer&gt; list2 = nul1;list1 = list2;//æ³›å‹ä¸åŒçš„å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼Person p1 = null;Person p2=null;p1 = p2;//è€Œè¿™ç§æ™®é€šå¼•ç”¨å¯ä»¥</code></pre></li><li><p><strong>æ³›å‹å¦‚æœä¸æŒ‡å®šï¼Œå°†è¢«æ“¦é™¤ï¼Œæ³›å‹å¯¹åº”çš„ç±»å‹å‡æŒ‰ç…§Objectå¤„ç†</strong>ï¼Œä½†ä¸ç­‰ä»·äºObjectã€‚ ç»éªŒï¼š<strong>æ³›å‹è¦ä½¿ç”¨ä¸€è·¯éƒ½ç”¨ã€‚è¦ä¸ç”¨ï¼Œä¸€è·¯éƒ½ä¸è¦ç”¨</strong></p></li><li><p>å¦‚æœ<strong>æ³›å‹ç»“æ„æ˜¯ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ï¼Œåˆ™ä¸å¯åˆ›å»ºæ³›å‹ç±»çš„å¯¹è±¡</strong></p></li><li><p>jdk1.7, æ³›å‹çš„ç®€åŒ–æ“ä½œ: <code>ArrayList&lt;Fruit&gt; flist = new ArrayList&lt;&gt;();</code></p></li><li><p>æ³›å‹çš„æŒ‡å®šä¸­<strong>ä¸èƒ½ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼Œå¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ›¿æ¢</p></li><li><p>åœ¨ç±»/æ¥å£ä¸Šå£°æ˜çš„æ³›å‹ï¼Œåœ¨<strong>æœ¬ç±»æˆ–æœ¬æ¥å£ä¸­å³ä»£è¡¨æŸç§ç±»å‹</strong>ï¼Œå¯ä»¥<strong>ä½œä¸ºéé™æ€å±æ€§çš„ç±»å‹ã€éé™æ€æ–¹æ³•çš„å‚æ•°ç±»å‹ã€éé™æ€æ–¹æ³•çš„è¿”å›å€¼ç±»å‹</strong>ã€‚ä½†<strong>åœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ç±»çš„æ³›å‹</strong></p><pre><code class="java">public static void show(T orderT)&#123;//ç¼–è¯‘æŠ¥é”™    Systrem.out.println(orderT);&#125;//å› ä¸ºæ³›å‹æ˜¯é’ˆå¯¹å®ä¾‹åŒ–å¯¹è±¡ä½¿ç”¨æ¥æŒ‡å®šç±»å‹çš„ï¼Œè€Œé™æ€æ–¹æ³•æ˜¯æ—©äºå®ä¾‹åŒ–å¯¹è±¡åˆ›å»ºï¼Œåœ¨æ²¡æœ‰å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¹Ÿè¦è¿›è¡Œåˆ›å»ºå’Œè°ƒç”¨</code></pre></li><li><p><strong>å¼‚å¸¸ç±»ä¸èƒ½æ˜¯æ³›å‹çš„</strong></p></li><li><p>ä¸èƒ½ä½¿ç”¨new E[]ã€‚ä½†æ˜¯å¯ä»¥: E[] elements = (E[])new Object[capacity];<br>å‚è€ƒ: ArrayListæºç ä¸­å£°æ˜: Object[] elementDataï¼Œè€Œéæ³›å‹å‚æ•°ç±»å‹æ•°ç»„</p></li><li><p><strong>çˆ¶ç±»æœ‰æ³›å‹ï¼Œå­ç±»å¯ä»¥é€‰æ‹©ä¿ç•™æ³›å‹ä¹Ÿå¯ä»¥é€‰æ‹©æŒ‡å®šæ³›å‹ç±»å‹</strong>:</p><ul><li>å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼šæŒ‰éœ€å®ç°<ul><li>æ²¡æœ‰ç±»å‹æ“¦é™¤</li><li>å…·ä½“ç±»å‹</li></ul></li><li>å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼šæ³›å‹å­ç±»<ul><li>å…¨éƒ¨ä¿ç•™</li><li>éƒ¨åˆ†ä¿ç•™</li></ul></li></ul><pre><code class="java">class Father&lt;T1, T2&gt; &#123;&#125;//å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹// 1)æ²¡æœ‰ç±»å‹ æ“¦é™¤class Son1 extends Father &#123;//ç­‰ä»·äºclass Son extends Father&lt;Object , 0bject&gt;&#123;&#125;// 2)å…·ä½“ç±»å‹class Son2 extends Father&lt;Integer, String&gt; &#123;&#125;//å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹// 1)å…¨éƒ¨ä¿ç•™class Son3&lt;T1, T2&gt; extends Father&lt;T1, T2&gt; &#123;&#125;// 2)éƒ¨åˆ†ä¿ç•™class Son4&lt;T2&gt; extends Father&lt;Integer, T2&gt; &#123;&#125;</code></pre><pre><code class="java">class Father&lt;T1, T2&gt; &#123;&#125;//å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹// 1)æ²¡æœ‰ç±»å‹æ“¦é™¤class Son&lt;A, B&gt; extends Father&#123;//ç­‰ä»·äºclass Son extends Father&lt;Object , 0bject&gt;&#123;&#125;// 2)å…·ä½“ç±»å‹class Son2&lt;A, B&gt; extends Father&lt;Integer, String&gt; &#123;&#125;//å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹// 1)å…¨éƒ¨ä¿ç•™class Son3&lt;T1, T2, A, B&gt; extends Father&lt;T1, T2&gt; &#123;&#125;// 2)éƒ¨åˆ†ä¿ç•™class Son4&lt;T2, A, B&gt; extends Father&lt;Integer, T2&gt; &#123;&#125;</code></pre></li><li><p>ç»“è®ºï¼šå­ç±»å¿…é¡»æ˜¯â€œå¯ŒäºŒä»£â€ï¼Œ<strong>å­ç±»é™¤äº†æŒ‡å®šæˆ–ä¿ç•™çˆ¶ç±»çš„æ³›å‹ï¼Œè¿˜å¯ä»¥å¢åŠ è‡ªå·±çš„æ³›å‹</strong></p></li></ol><h4 id="11-2-2-è‡ªå®šä¹‰æ³›å‹æ–¹æ³•"><a href="#11-2-2-è‡ªå®šä¹‰æ³›å‹æ–¹æ³•" class="headerlink" title="11.2.2 è‡ªå®šä¹‰æ³›å‹æ–¹æ³•"></a>11.2.2 è‡ªå®šä¹‰æ³›å‹æ–¹æ³•</h4><pre><code class="java">public T getOrderT() &#123;    return orderT;&#125;public void setOrderT(T orderT) &#123;    this.orderT = orderT;&#125;boolean add(E e);//ä»¥ä¸Šä¸‰ç§ä¸æ˜¯æ³›å‹æ–¹æ³•ï¼Œè€Œæ˜¯æ™®é€šæ–¹æ³•&lt;T&gt; T[] toArray(T[] a);//è¿™æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•//æ³›å‹æ–¹æ³•:åœ¨æ–¹æ³•ä¸­å‡ºç°äº†æ³›å‹çš„ç»“æ„ï¼Œæ³›å‹å‚æ•°ä¸ç±»çš„æ³›å‹å‚æ•°æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæ¢å¥è¯è¯´ï¼Œæ³›å‹æ–¹æ³•æ‰€å±çš„ç±»æ˜¯ä¸æ˜¯æ³›å‹ç±»éƒ½æ²¡æœ‰å…³ç³»ï¼Œæ‰€ä»¥åœ¨éæ³›å‹ç±»ä¸­ä¹Ÿå¯ä»¥å®šä¹‰ä½¿ç”¨ //æ³›å‹æ–¹æ³•ï¼Œå¯ä»¥å£°æ˜ä¸ºé™æ€çš„ã€‚åŸå› :æ³›å‹å‚æ•°æ˜¯åœ¨è°ƒç”¨æ–¹æ³•æ—¶ç¡®å®šçš„ï¼Œå¹¶éåœ¨å®ä¾‹åŒ–ç±»æ—¶ç¡®å®š//å®šä¹‰æ—¶éœ€è¦åœ¨å‰æ–¹åŠ ä¸Šç±»ä¼¼&lt;E&gt;çš„æ ‡è¯†æ¥å‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå…¶æ³›å‹å’Œç±»æ²¡æœ‰ä»»ä½•å…³ç³»public &lt;E&gt; List&lt;E&gt; copyFromArrayTolist(E[] arr)&#123;     ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();    for(E e : arr)&#123;    list.add(e);    return list;&#125;Order&lt;String&gt; order = new 0rder&lt;&gt;();Integer[] arr = new Integer[]&#123;1,2,3,4&#125;;List&lt;Integer&gt; list = order.copyFromArrayToList(arr);System.out.println(list);//[1,2,3,4]</code></pre><h3 id="11-3-æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°"><a href="#11-3-æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°" class="headerlink" title="11.3 æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°"></a>11.3 æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°</h3><p>è™½ç„¶ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼Œä½†æ˜¯G<A> å’ŒG<B> äºŒè€…ä¸å…·å¤‡å­çˆ¶ç±»å…³ç³»ï¼ŒäºŒè€…æ˜¯å¹¶åˆ—å…³ç³»</p><p>è¡¥å……ï¼šç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ŒA<G>æ˜¯B<G>çš„çˆ¶ç±»</p><pre><code class="java">Object obj = null;String str = null;obj = str;Object[] arr1 = null;String[] arr2 = null;arr1 = arr2;//ç¼–è¯‘ä¸é€šè¿‡//Date date = new Date();//str = date;List&lt;Object&gt; list1 = null;List&lt;String&gt; list2 = null;//æ­¤æ—¶çš„list1å’Œlist2çš„ç±»å‹ä¸å…·æœ‰çˆ¶å­å…³ç³»ï¼Œç¼–è¯‘ä¸é€šè¿‡//list1 = list2;/*    åè¯æ³•:    å‡è®¾list1 = list2;    list1.add(123);å¯¼è‡´æ··å…¥éStringçš„æ•°æ®ã€‚å‡ºé”™ã€‚*/</code></pre><h3 id="11-4-é€šé…ç¬¦çš„ä½¿ç”¨"><a href="#11-4-é€šé…ç¬¦çš„ä½¿ç”¨" class="headerlink" title="11.4 é€šé…ç¬¦çš„ä½¿ç”¨"></a>11.4 é€šé…ç¬¦çš„ä½¿ç”¨</h3><p>ä½¿ç”¨ç±»å‹é€šé…ç¬¦ï¼š<code>?</code>ï¼Œæ¯”å¦‚ï¼š<code>List&lt;?&gt;</code> ï¼Œ<code>Map&lt;?,?&gt;</code></p><p><code>List&lt;?&gt;</code>æ˜¯<code>List&lt;String&gt;</code>ã€ <code>List&lt;Object&gt;</code>ç­‰å„ç§æ³›å‹Listçš„çˆ¶ç±»ã€‚æ¯”å¦‚ï¼Œç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼Œä½†<code>G&lt;A&gt;</code>å’Œ<code>G&lt;B&gt;</code>æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼ŒäºŒè€…å…±åŒçš„çˆ¶ç±»æ˜¯<code>G&lt;?&gt;</code></p><h4 id="11-4-1-ä½¿ç”¨é€šé…ç¬¦åå¯¹æ•°æ®çš„å†™å…¥å’Œè¯»å–"><a href="#11-4-1-ä½¿ç”¨é€šé…ç¬¦åå¯¹æ•°æ®çš„å†™å…¥å’Œè¯»å–" class="headerlink" title="11.4.1 ä½¿ç”¨é€šé…ç¬¦åå¯¹æ•°æ®çš„å†™å…¥å’Œè¯»å–"></a>11.4.1 ä½¿ç”¨é€šé…ç¬¦åå¯¹æ•°æ®çš„å†™å…¥å’Œè¯»å–</h4><h5 id="1-å†™å…¥æ•°æ®"><a href="#1-å†™å…¥æ•°æ®" class="headerlink" title="1.å†™å…¥æ•°æ®"></a>1.å†™å…¥æ•°æ®</h5><p><strong>ä¸èƒ½</strong>å‘ä½¿ç”¨é€šé…ç¬¦åçš„é›†åˆ<strong>å†™å…¥æ•°æ®</strong>ã€‚å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“è¦æ·»åŠ çš„å…ƒç´ ç±»å‹ï¼Œå°±å‘å…¶ä¸­æ·»åŠ å¯¹è±¡</p><p>å°†ä»»æ„å…ƒç´ åŠ å…¥åˆ°å…¶ä¸­éƒ½ä¸æ˜¯ç±»å‹å®‰å…¨çš„ï¼š</p><pre><code class="java">Collection&lt;?&gt; c = new ArrayList&lt;String&gt;();c.add(new Object()); //ç¼–è¯‘æ—¶é”™è¯¯//addæ–¹æ³•æœ‰ç±»å‹å‚æ•°Eä½œä¸ºé›†åˆçš„å…ƒç´ ç±»å‹ï¼Œæˆ‘ä»¬ä¼ ç»™addçš„ä»»ä½•å‚æ•°éƒ½å¿…é¡»æ˜¯è¿™ä¸ªæœªçŸ¥ç±»å‹çš„å­ç±»ã€‚å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“cçš„å…ƒç´ ç±»å‹ï¼Œè‡ªç„¶ä¹Ÿå°±ä¸çŸ¥é“å…¶å­ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•æ·»åŠ ä»»ä½•ä¸œè¥¿è¿›å»//å”¯ä¸€çš„ä¾‹å¤–çš„æ˜¯nullï¼Œå®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„æˆå‘˜</code></pre><h5 id="2-è¯»å–æ•°æ®"><a href="#2-è¯»å–æ•°æ®" class="headerlink" title="2.è¯»å–æ•°æ®"></a>2.è¯»å–æ•°æ®</h5><p>æˆ‘ä»¬<strong>å¯ä»¥è¯»å–</strong>åˆ°ä½¿ç”¨é€šé…ç¬¦åçš„é›†åˆå¯¹è±¡ä¸­çš„æ•°æ®ã€‚æ¯”å¦‚ï¼Œè¯»å–List&lt;?&gt;çš„å¯¹è±¡listä¸­çš„å…ƒç´ æ—¶ï¼Œæ°¸è¿œæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬è°ƒç”¨get()æ–¹æ³•å¹¶å¾—åˆ°å…¶è¿”å›å€¼åï¼Œä¸ç®¡å…¶æ•°æ®çš„çœŸå®ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå®ƒéƒ½æ€»æ˜¯ä¸€ä¸ªObject</p><pre><code class="java">List&lt;String&gt; list1 = new ArrayList&lt;&gt;();List&lt;String&gt; list2 = new ArrayList&lt;&gt;();List&lt;?&gt; list = null;list = list1;//èƒ½èµ‹å€¼æˆåŠŸlist = list2;//èƒ½èµ‹å€¼æˆåŠŸList&lt;String&gt; list3 = new ArrayList&lt;&gt;();list3.add(&quot;AA&quot;);list3.add(&quot;BB&quot;);list3.add(&quot;CC&quot;);list = list3;//æ·»åŠ ï¼šå¯¹äºList&lt;?&gt;å°±ä¸èƒ½å‘å…¶å†…éƒ¨æ·»åŠ æ•°æ®ï¼Œé™¤äº†æ·»åŠ null//list.add(&quot;DD&quot;);//è·å–ï¼šå…è®¸è¯»å–æ•°æ®ï¼Œè¯»å–çš„æ•°æ®ç±»å‹ä¸ºObjectObject o =list.get(0);System.out.println(o);</code></pre><h4 id="11-4-2-æœ‰é™åˆ¶çš„é€šé…ç¬¦"><a href="#11-4-2-æœ‰é™åˆ¶çš„é€šé…ç¬¦" class="headerlink" title="11.4.2 æœ‰é™åˆ¶çš„é€šé…ç¬¦"></a>11.4.2 æœ‰é™åˆ¶çš„é€šé…ç¬¦</h4><ul><li><strong>&lt;?&gt;å…è®¸æ‰€æœ‰æ³›å‹çš„å¼•ç”¨è°ƒç”¨</strong></li><li>é€šé…ç¬¦æŒ‡å®šä¸Šé™ï¼Œ<strong>ä¸Šé™extends</strong>ï¼šä½¿ç”¨æ—¶<strong>æŒ‡å®šçš„ç±»å‹å¿…é¡»æ˜¯ç»§æ‰¿æŸä¸ªç±»ï¼Œæˆ–è€…å®ç°æŸä¸ªæ¥å£</strong>ï¼Œå³<code>&lt;=</code></li><li>é€šé…ç¬¦æŒ‡å®šä¸‹é™ï¼Œ<strong>ä¸‹é™super</strong>ï¼šä½¿ç”¨æ—¶<strong>æŒ‡å®šçš„ç±»å‹ä¸èƒ½å°äºæ“ä½œçš„ç±»</strong>ï¼Œå³<code>&gt;=</code></li><li>ä¸¾ä¾‹ï¼š<ul><li><? extends Number> (æ— ç©·å°ï¼ŒNumber] ï¼š**åªå…è®¸æ³›å‹ä¸ºNumberåŠNumberå­ç±»çš„å¼•ç”¨è°ƒç”¨**</li><li><? super Number> [Number ï¼Œæ— ç©·å¤§) ï¼š**åªå…è®¸æ³›å‹ä¸ºNumberåŠNumberçˆ¶ç±»çš„å¼•ç”¨è°ƒç”¨**</li><li><? extends Comparable> ï¼š**åªå…è®¸æ³›å‹ä¸ºå®ç°Comparableæ¥å£çš„å®ç°ç±»çš„å¼•ç”¨è°ƒç”¨**</li></ul></li></ul><pre><code class="java">//? extends A://        G&lt;? extends A&gt;å¯ä»¥ä½œä¸ºG&lt;A&gt;å’ŒG&lt;B&gt;çš„çˆ¶ç±»ï¼Œå…¶ä¸­Bæ˜¯Açš„å­ç±»//? super A://        G&lt;? super A&gt;å¯ä»¥ä½œä¸ºG&lt;A&gt;å’ŒG&lt;B&gt;çš„çˆ¶ç±»ï¼Œå…¶ä¸­Bæ˜¯Açš„çˆ¶ç±»List&lt;? extends Person&gt; list1 = null;List&lt;? super Person&gt; list2 = null;List&lt;Student&gt; list3 = null;List&lt;Person&gt; list4 = null;List&lt;Object&gt; list5 = null;list1 = list3;list1 = list4;//list1 = list5;//ç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºObjectæ˜¯Personçš„çˆ¶ç±»ï¼Œè€Œ? extends PersonæŒ‡æ˜çš„é›†åˆåªèƒ½ç”±PersonåŠå…¶å­ç±»å¯ä»¥è°ƒç”¨//list2 = list3;//ç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºStudentæ˜¯Personçš„å­ç±»ï¼Œè€Œ? super PersonæŒ‡æ˜çš„é›†åˆåªèƒ½ç”±PersonåŠå…¶çˆ¶ç±»å¯ä»¥è°ƒç”¨list2 = list4;list2 = list5;//è¯»å–æ•°æ®:list1 = list3;Person p = list1.get(0);//Object o = list1.get(0)ä¹Ÿå¯ä»¥è·å–ï¼Œä½†å£°æ˜çš„ç±»å‹æœ€å°åªèƒ½æ˜¯Personï¼Œä¸èƒ½æ˜¯Student//ç¼–è¯‘ä¸é€šè¿‡//Student s = list1.get(0);list2 = list4;//ç¼–è¯‘ä¸é€šè¿‡//Person p1 = list2.get(0);Object o = list2.get(0);//å¯ä»¥è·å–ï¼Œä½†å£°æ˜çš„ç±»å‹åªèƒ½æ˜¯Object//å†™å…¥æ•°æ®//ç¼–è¯‘ä¸é€šè¿‡//list1.add(new Person());//æ·»åŠ çš„Personç±»å‹æœ‰æ˜¯list1ä¸­æ•°æ®çš„ç±»å‹çš„çˆ¶ç±»çš„å¯èƒ½ï¼Œå³?æŒ‡çš„æ•°æ®ç±»å‹å¯èƒ½æ¯”Personæ›´å°//list1.add(new Student());//æ·»åŠ çš„Studentç±»å‹ä¹Ÿæœ‰æ˜¯list1ä¸­æ•°æ®çš„ç±»å‹çš„çˆ¶ç±»çš„å¯èƒ½ï¼Œå³?æŒ‡çš„æ•°æ®ç±»å‹å¯èƒ½æ¯”Studentæ›´å°//ç¼–è¯‘é€šè¿‡list2.add(new Person());//?æŒ‡çš„æ˜¯PersonåŠå…¶çˆ¶ç±»ï¼Œé‚£ä¹ˆlist2ä¸­å­˜çš„æ•°æ®ç±»å‹æœ€å°éƒ½æ˜¯Personç±»å‹å’Œå…¶å­ç±»ï¼Œæ‰€ä»¥Personç±»å‹å¯ä»¥æ·»åŠ list2.add(new Student());//Studentæ˜¯Personçš„å­ç±»ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ·»åŠ //list2.add(new Object());//ä¸èƒ½æ·»åŠ å› ä¸ºæœ‰å¯èƒ½?æŒ‡çš„æ˜¯Personå’ŒObjectä¹‹é—´çš„ç±»å‹ï¼Œé‚£ä¹ˆæ­¤æ—¶Objectå°±æ˜¯å…¶ä¸­æ•°æ®ç±»å‹çš„çˆ¶ç±»ï¼Œåˆ™æ·»åŠ ä¸æˆåŠŸ</code></pre><h3 id="11-5-ç»ƒä¹ "><a href="#11-5-ç»ƒä¹ " class="headerlink" title="11.5 ç»ƒä¹ "></a>11.5 ç»ƒä¹ </h3><pre><code class="java">å®šä¹‰ä¸ªæ³›å‹ç±»DAO&lt;T&gt;,åœ¨å…¶ä¸­å®šä¹‰ä¸€ä¸ªMapæˆå‘˜å˜é‡ï¼ŒMapçš„é”®ä¸ºStringç±»å‹ï¼Œå€¼ä¸ºTç±»å‹ã€‚åˆ†åˆ«åˆ›å»ºä»¥ä¸‹æ–¹æ³•: public void save(String id,T entity):ä¿å­˜Tç±»å‹çš„å¯¹è±¡åˆ°Mapæˆå‘˜å˜é‡ä¸­public T get(Stringid):ä»mapä¸­è·å–id å¯¹åº”çš„å¯¹è±¡public void update(String id,T entity):æ›¿æ¢mapä¸­keyä¸ºidçš„å†…å®¹ï¼Œæ”¹ä¸ºentityå¯¹è±¡public List&lt;T&gt; list():è¿”å›mapä¸­å­˜æ”¾çš„æ‰€æœ‰Tå¯¹è±¡public void delete(String id):åˆ é™¤æŒ‡å®šid å¯¹è±¡å®šä¹‰ä¸€ä¸ªUserç±»:è¯¥ç±»åŒ…å«: privateæˆå‘˜å˜é‡(intç±»å‹) id, age; (Stringç±»å‹) nameå®šä¹‰ä¸€ä¸ªæµ‹è¯•ç±»:åˆ›å»ºDAOç±»çš„å¯¹è±¡ï¼Œåˆ†åˆ«è°ƒç”¨å…¶saveã€getã€updateã€listã€ deleteæ–¹æ³•æ¥æ“ä½œUserå¯¹è±¡ä½¿ç”¨Junit å•å…ƒæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•</code></pre><pre><code class="java">public class DAO&lt;T&gt; &#123;    //ç”±äºå­˜å…¥mapçš„keyæ˜¯å•ç‹¬çš„Stringç±»å‹ï¼Œåˆ™key-valueçš„å­˜å‚¨ä½ç½®æ˜¯Stringç±»ä¸­çš„HashCode()å’Œequals()å†³å®š    // æ‰€ä»¥å°±æ²¡æœ‰å¿…è¦åœ¨Userä¸­é‡å†™HashCode()ï¼Œä½†æ˜¯equals()æœ‰å¿…è¦é‡å†™ï¼Œå› ä¸ºå¯èƒ½ä¼šæ¶‰åŠåˆ°åˆ¤æ–­keyå¯¹åº”çš„valueå€¼çš„ä¸€äº›æƒ…å†µ    public Map&lt;String,T&gt; map = new HashMap&lt;&gt;();    public void save(String id,T entity)&#123;        map.put(id,entity);    &#125;    public T get(String id)&#123;        return map.get(id);    &#125;    public void update(String id,T entity)&#123;        if (map.containsKey(id))&#123;            map.put(id,entity);        &#125;        //map.replace(id,entity);//æ–¹æ³•äºŒ    &#125;    public List&lt;T&gt; list()&#123;        //é”™è¯¯çš„        //Collection&lt;T&gt; values = map.values();        //return (List&lt;T&gt;)values;        //æ­£ç¡®çš„        ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();        Collection&lt;T&gt; values = map.values();        for (T value : values) &#123;            list.add(value);        &#125;        return list;    &#125;    public void delete(String id)&#123;        map.remove(id);    &#125;&#125;</code></pre><pre><code class="java">public class User &#123;    private int id;    private int age;    private String name;    public User() &#123;    &#125;    public User(int id, int age, String name) &#123;        this.id = id;        this.age = age;        this.name = name;    &#125;    public int getId() &#123;        return id;    &#125;    public void setId(int id) &#123;        this.id = id;    &#125;    public int getAge() &#123;        return age;    &#125;    public void setAge(int age) &#123;        this.age = age;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    @Override    public String toString() &#123;        return &quot;User&#123;&quot; +                &quot;id=&quot; + id +                &quot;, age=&quot; + age +                &quot;, name=&#39;&quot; + name + &#39;\&#39;&#39; +                &#39;&#125;&#39;;    &#125;    @Override    public boolean equals(Object o) &#123;        if (this == o) return true;        if (o == null || getClass() != o.getClass()) return false;        User user = (User) o;        if (id != user.id) return false;        if (age != user.age) return false;        return name.equals(user.name);    &#125;&#125;</code></pre><pre><code class="java">public class DAOTest &#123;    @Test    public void Test()&#123;        DAO&lt;User&gt; userDAO = new DAO&lt;&gt;();        User user1 = new User(1,10,&quot;Tom&quot;);        User user2 = new User(2,34,&quot;Jerry&quot;);        User user3 = new User(3,23,&quot;Jack&quot;);        User user4 = new User(4,14,&quot;Eric&quot;);        User user5 = new User(5,25,&quot;Mary&quot;);        userDAO.save(&quot;1001&quot;,user1);//saveæ–¹æ³•æµ‹è¯•        userDAO.save(&quot;1002&quot;,user2);        userDAO.save(&quot;1003&quot;,user3);        userDAO.save(&quot;1004&quot;,user4);        userDAO.save(&quot;1005&quot;,user5);        List&lt;User&gt; list = userDAO.list();//list()æ–¹æ³•æµ‹è¯•        list.forEach(System.out::println);        System.out.println(&quot;======================&quot;);        userDAO.update(&quot;1003&quot;,new User(3,25,&quot;Jack&quot;));//update()æ–¹æ³•æµ‹è¯•        List&lt;User&gt; list1 = userDAO.list();        list1.forEach(System.out::println);        System.out.println(&quot;======================&quot;);        User user = userDAO.get(&quot;1002&quot;);//get()æ–¹æ³•æµ‹è¯•        System.out.println(user);        System.out.println(&quot;======================&quot;);        userDAO.delete(&quot;1004&quot;);//delete()æ–¹æ³•æµ‹è¯•        List&lt;User&gt; list2 = userDAO.list();        list2.forEach(System.out::println);        //è¾“å‡ºç»“æœ:        /*            User&#123;id=5, age=25, name=&#39;Mary&#39;&#125;            User&#123;id=4, age=14, name=&#39;Eric&#39;&#125;            User&#123;id=3, age=23, name=&#39;Jack&#39;&#125;            User&#123;id=2, age=34, name=&#39;Jerry&#39;&#125;            User&#123;id=1, age=10, name=&#39;Tom&#39;&#125;            ======================            User&#123;id=5, age=25, name=&#39;Mary&#39;&#125;            User&#123;id=4, age=14, name=&#39;Eric&#39;&#125;            User&#123;id=3, age=25, name=&#39;Jack&#39;&#125;            User&#123;id=2, age=34, name=&#39;Jerry&#39;&#125;            User&#123;id=1, age=10, name=&#39;Tom&#39;&#125;            ======================            User&#123;id=2, age=34, name=&#39;Jerry&#39;&#125;            ======================            User&#123;id=5, age=25, name=&#39;Mary&#39;&#125;            User&#123;id=3, age=25, name=&#39;Jack&#39;&#125;            User&#123;id=2, age=34, name=&#39;Jerry&#39;&#125;            User&#123;id=1, age=10, name=&#39;Tom&#39;&#125;         */    &#125;&#125;</code></pre><h2 id="åäºŒã€Java-IOæµ"><a href="#åäºŒã€Java-IOæµ" class="headerlink" title="åäºŒã€Java IOæµ"></a>åäºŒã€Java IOæµ</h2><h3 id="12-1-Fileç±»çš„ä½¿ç”¨"><a href="#12-1-Fileç±»çš„ä½¿ç”¨" class="headerlink" title="12.1 Fileç±»çš„ä½¿ç”¨"></a>12.1 Fileç±»çš„ä½¿ç”¨</h3><p> java.io.Fileç±»ï¼š<strong>æ–‡ä»¶å’Œæ–‡ä»¶ç›®å½•è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼</strong>ï¼Œä¸å¹³å°æ— å…³ï¼Œ**Fileç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªæ–‡ä»¶ç›®å½•(**ä¿—ç§°ï¼šæ–‡ä»¶å¤¹)</p><p>File<strong>èƒ½æ–°å»ºã€åˆ é™¤ã€é‡å‘½åæ–‡ä»¶å’Œç›®å½•</strong>ï¼Œä½†File<strong>ä¸èƒ½è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«</strong>ã€‚å¦‚æœéœ€è¦<strong>è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«ï¼Œåˆ™éœ€è¦ä½¿ç”¨è¾“å…¥/è¾“å‡ºæµï¼ˆInput/Outputï¼‰</strong>ï¼Œåˆ°æ—¶<strong>Fileå¯¹è±¡ä¼šç»å¸¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™æµçš„æ„é€ å™¨</strong></p><p>æƒ³è¦åœ¨<strong>Javaç¨‹åºä¸­</strong>è¡¨ç¤º<strong>ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œé‚£ä¹ˆå¿…é¡»æœ‰ä¸€ä¸ªFileå¯¹è±¡</strong>ï¼Œä½†æ˜¯Javaç¨‹åºä¸­çš„<strong>ä¸€ä¸ªFileå¯¹è±¡ï¼Œå¯èƒ½æ²¡æœ‰ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•</strong></p><p>å½“ä¸€ä¸ªFileå¯¹è±¡æ˜¯å¦æœ‰åœ¨ç¡¬ä»¶ä¸­å¯¹åº”çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•å­˜åœ¨æˆ–ä¸å­˜åœ¨æ—¶ï¼š</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643400.png' data-fancybox='default' data-caption='image-20210807161256849'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643400.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201643400.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210807161256849"></a><span class='image-caption'>image-20210807161256849</span></div></div><h4 id="12-1-1-å¸¸ç”¨æ„é€ å™¨"><a href="#12-1-1-å¸¸ç”¨æ„é€ å™¨" class="headerlink" title="12.1.1 å¸¸ç”¨æ„é€ å™¨"></a>12.1.1 å¸¸ç”¨æ„é€ å™¨</h4><p>public File(String pathname)ï¼š<strong>ä»¥pathnameä¸ºè·¯å¾„åˆ›å»ºFileå¯¹è±¡</strong>ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼Œ<strong>å¦‚æœpathnameæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™é»˜è®¤çš„å½“å‰è·¯å¾„åœ¨ç³»ç»Ÿå±æ€§user.dirä¸­å­˜å‚¨</strong></p><ul><li>ç»å¯¹è·¯å¾„ï¼šæ˜¯ä¸€ä¸ªå›ºå®šçš„è·¯å¾„ï¼Œä»ç›˜ç¬¦å¼€å§‹</li><li>ç›¸å¯¹è·¯å¾„ï¼šæ˜¯ç›¸å¯¹äºæŸä¸ªä½ç½®å¼€å§‹</li></ul><p>public File(String parent,String child)ï¼š<strong>ä»¥parentä¸ºçˆ¶è·¯å¾„ï¼Œchildä¸ºå­è·¯å¾„åˆ›å»ºFileå¯¹è±¡</strong></p><p>public File(File parent,String child)ï¼š<strong>æ ¹æ®ä¸€ä¸ªçˆ¶Fileå¯¹è±¡å’Œå­æ–‡ä»¶è·¯å¾„åˆ›å»ºFileå¯¹è±¡</strong></p><pre><code class="java">//å®ä¾‹åŒ–ï¼šæ­¤æ—¶å®ä¾‹åŒ–å‡ºæ¥çš„Fileå¯¹è±¡éƒ½åªæ˜¯å†…å­˜å±‚é¢çš„ï¼Œè¿˜æ²¡æœ‰çœŸæ­£çš„åˆ›å»ºå‡ºä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•åˆ°ç¡¬ç›˜å±‚é¢//ç›¸å¯¹è·¯å¾„ï¼šç›¸è¾ƒäºæŸä¸ªè·¯å¾„ä¸‹ï¼ŒæŒ‡æ˜çš„è·¯å¾„//ç»å¯¹è·¯å¾„ï¼šåŒ…å«ç›˜ç¬¦åœ¨å†…çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„è·¯å¾„//åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡æ–¹å¼ä¸€:public File(String pathname)File file = new File(&quot;hello.txt&quot;);//ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹äºå½“å‰é¡¹ç›®æˆ–æ¨¡å—ä¸‹File file1 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\hello.txt&quot;);//ç»å¯¹è·¯å¾„System.out.println(file);//hello.txtSystem.out.println(file1);//E:\æ¡Œé¢æ–‡ä»¶\IOTest\hello.txt//åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡æ–¹å¼äºŒ:public File(String parent,String child)File file2 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest&quot;,&quot;IOHello&quot;);//parentè·¯å¾„æŒ‡çš„æ˜¯æˆ‘ä»¬è¦åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•åˆ°å“ªä¸ªæ–‡ä»¶ç›®å½•ä¸‹ï¼Œè€Œchildæ˜¯æˆ‘ä»¬è¦åˆ›å»ºçš„æ–‡ä»¶æˆ–ç›®å½•çš„åå­—System.out.println(file2);//E:\æ¡Œé¢æ–‡ä»¶\IOTest\IOHello//åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡æ–¹å¼ä¸‰:public File(File parent,String child)File file3 = new File(file2,&quot;hello.txt&quot;);//è¿™é‡Œçš„parentæ˜¯ä¸ªFileå¯¹è±¡ï¼Œè¯´æ˜æ˜¯æˆ‘ä»¬é¢„å…ˆåˆ›å»ºå¥½çš„ä¸€ä¸ªFileå¯¹è±¡ï¼Œç„¶ååœ¨è¿™ä¸ªå¯¹è±¡(ç›®å½•)ä¸‹å†åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶æˆ–ç›®å½•System.out.println(file3);//E:\æ¡Œé¢æ–‡ä»¶\IOTest\IOHello\hello.txt</code></pre><h4 id="12-1-2-è·¯å¾„åˆ†éš”ç¬¦"><a href="#12-1-2-è·¯å¾„åˆ†éš”ç¬¦" class="headerlink" title="12.1.2 è·¯å¾„åˆ†éš”ç¬¦"></a>12.1.2 è·¯å¾„åˆ†éš”ç¬¦</h4><p>è·¯å¾„ä¸­çš„æ¯çº§ç›®å½•ä¹‹é—´ç”¨ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦éš”å¼€ã€‚</p><p>è·¯å¾„åˆ†éš”ç¬¦å’Œç³»ç»Ÿæœ‰å…³ï¼š</p><ul><li><p>windowså’ŒDOSç³»ç»Ÿé»˜è®¤ä½¿ç”¨â€œ\â€ æ¥è¡¨ç¤º</p></li><li><p>UNIXå’ŒURLä½¿ç”¨â€œ/â€æ¥è¡¨ç¤º</p></li></ul><p>Javaç¨‹åºæ”¯æŒè·¨å¹³å°è¿è¡Œï¼Œå› æ­¤è·¯å¾„åˆ†éš”ç¬¦è¦æ…ç”¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªéšæ‚£ï¼ŒFileç±»æä¾›äº†ä¸€ä¸ªå¸¸é‡ï¼špublic static final String separatorã€‚<strong>æ ¹æ®æ“ä½œç³»ç»Ÿï¼ŒåŠ¨æ€çš„æä¾›åˆ†éš”ç¬¦</strong></p><p>ä¸¾ä¾‹ï¼š</p><pre><code class="java">File file1 = new File(&quot;d: \\atguigu\\info.txt&quot;);File file2 = new File(&quot;d:&quot; + File.separator + &quot;atguigu&quot; + File.separator + &quot;info.txt&quot;);File file3 = new File(&quot;d:/atguigu&quot;);</code></pre><h4 id="12-1-3-Fileç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#12-1-3-Fileç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="12.1.3 Fileç±»çš„å¸¸ç”¨æ–¹æ³•"></a>12.1.3 Fileç±»çš„å¸¸ç”¨æ–¹æ³•</h4><h5 id="1-Fileç±»çš„è·å–åŠŸèƒ½"><a href="#1-Fileç±»çš„è·å–åŠŸèƒ½" class="headerlink" title="1.Fileç±»çš„è·å–åŠŸèƒ½"></a>1.Fileç±»çš„è·å–åŠŸèƒ½</h5><ul><li>public String getAbsolutePath()ï¼š<strong>è·å–ç»å¯¹è·¯å¾„</strong></li><li>public String getPath()ï¼š<strong>è·å–è·¯å¾„</strong></li><li>public String getName()ï¼š<strong>è·å–åç§°</strong></li><li>public String getParent()ï¼š<strong>è·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„</strong>ã€‚è‹¥æ— ï¼Œè¿”å›null</li><li>public long length()ï¼š**è·å–æ–‡ä»¶é•¿åº¦(å³:å­—èŠ‚æ•°)**ã€‚ä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦</li><li>public long lastModified()ï¼š<strong>è·å–æœ€åæ¬¡çš„ä¿®æ”¹æ—¶é—´</strong>ï¼Œæ¯«ç§’å€¼</li><li>public String[] list()ï¼š<strong>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</strong>æˆ–è€…<strong>æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„</strong>ï¼ˆé€‚ç”¨äºæ–‡ä»¶ç›®å½•ï¼‰</li><li>public File[] listFiles()ï¼š<strong>è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</strong>æˆ–è€…<strong>æ–‡ä»¶ç›®å½•çš„Fileæ•°ç»„</strong>ï¼ˆé€‚ç”¨äºæ–‡ä»¶ç›®å½•ï¼‰</li></ul><pre><code class="java">File file1 = new File(&quot;hello.txt&quot;);//ç›¸å¯¹è·¯å¾„File file2 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\hello.txt&quot;);//ç»å¯¹è·¯å¾„//åœ¨æ²¡æœ‰åˆ›å»ºå®ä½“æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œlengthå’ŒlastModifiedéƒ½ä¸º0//public String getAbsolutePath()ï¼šè·å–ç»å¯¹è·¯å¾„System.out.println(file1.getAbsoluteFile());//E:\JavaProject\IDEAProject\è‡ªä¸»ç»ƒä¹ \Demo\hello.txt//public String getAbsolutePath()ï¼šè·å–ç»å¯¹è·¯å¾„System.out.println(file1.getPath());//hello.txt//public String getName()ï¼šè·å–åç§°System.out.println(file1.getName());//hello.txt//public String getParent()ï¼šè·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„ã€‚è‹¥æ— ï¼Œè¿”å›nullSystem.out.println(file1.getParent());//null//public long length()ï¼šè·å–æ–‡ä»¶é•¿åº¦(å³:å­—èŠ‚æ•°)ã€‚ä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦System.out.println(file1.length());//0//public long lastModified()ï¼šè·å–æœ€åæ¬¡çš„ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼System.out.println(file1.lastModified());//0System.out.println();System.out.println(file2.getAbsoluteFile());//E:\æ¡Œé¢æ–‡ä»¶\IOTest\hello.txtSystem.out.println(file2.getPath());//E:\æ¡Œé¢æ–‡ä»¶\IOTest\hello.txtSystem.out.println(file2.getName());//hello.txtSystem.out.println(file2.getParent());//E:\æ¡Œé¢æ–‡ä»¶\IOTestSystem.out.println(file2.length());//0System.out.println(file2.lastModified());//0</code></pre><pre><code class="java">File file = new File(&quot;E:\\JavaProject\\IDEAProject\\Exercises\\Demo\\src&quot;);//public String[] list()ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„String[] list = file.list();for (String s : list) &#123;    System.out.println(s);//Annotation array Collection CommonClass enumeration Generic IO oop Test Thread&#125;//public File[] listFiles()ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„Fileæ•°ç»„File[] files = file.listFiles();for (File file1 : files) &#123;    System.out.println(file1);    //E:\JavaProject\IDEAProject\Exercises\Demo\src\Annotation    //E:\JavaProject\IDEAProject\Exercises\Demo\src\array    //E:\JavaProject\IDEAProject\Exercises\Demo\src\Collection    //E:\JavaProject\IDEAProject\Exercises\Demo\src\CommonClass    //E:\JavaProject\IDEAProject\Exercises\Demo\src\enumeration    //E:\JavaProject\IDEAProject\Exercises\Demo\src\Generic    //E:\JavaProject\IDEAProject\Exercises\Demo\src\IO    //E:\JavaProject\IDEAProject\Exercises\Demo\src\oop    //E:\JavaProject\IDEAProject\Exercises\Demo\src\Test    //E:\JavaProject\IDEAProject\Exercises\Demo\src\Thread&#125;</code></pre><h5 id="2-Fileç±»çš„é‡å‘½ååŠŸèƒ½"><a href="#2-Fileç±»çš„é‡å‘½ååŠŸèƒ½" class="headerlink" title="2.Fileç±»çš„é‡å‘½ååŠŸèƒ½"></a>2.Fileç±»çš„é‡å‘½ååŠŸèƒ½</h5><p>public boolean renameTo(File dest)ï¼šæŠŠ<strong>æ–‡ä»¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</strong></p><pre><code class="java">//æ¯”å¦‚: file1.renameTo(file2)ä¸ºä¾‹://è¦æƒ³ä¿è¯è¿”å›true, éœ€è¦file1åœ¨ç¡¬ç›˜ä¸­æ˜¯å­˜åœ¨çš„ï¼Œè€Œfile2ä¸èƒ½åœ¨æŒ‡å®šè·¯å¾„çš„ç¡¬ç›˜ä¸­å·²ç»å­˜åœ¨//å½“file1.renameTo(file2)æˆåŠŸåï¼Œå†file2.renameTo(file1)ä¹Ÿèƒ½å°†æ–‡ä»¶é‡æ–°æ‹¿å›æ¥ï¼Œè¯´æ˜æ–‡ä»¶éœ€è¦è¢«å‰ªåˆ‡åˆ°åˆ°çš„ä½ç½®ä¹Ÿå¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„File file1 = new File(&quot;hello.txt&quot;);File file2 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\hi.txt&quot;);boolean b = file1.renameTo(file2);System.out.println(b);</code></pre><h5 id="3-Fileç±»çš„åˆ¤æ–­åŠŸèƒ½"><a href="#3-Fileç±»çš„åˆ¤æ–­åŠŸèƒ½" class="headerlink" title="3.Fileç±»çš„åˆ¤æ–­åŠŸèƒ½"></a>3.Fileç±»çš„åˆ¤æ–­åŠŸèƒ½</h5><ul><li>public boolean isDirectory()ï¼šåˆ¤æ–­<strong>æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•</strong></li><li>public boolean isFile()ï¼šåˆ¤æ–­<strong>æ˜¯å¦æ˜¯æ–‡ä»¶</strong></li><li>public boolean exists()ï¼šåˆ¤æ–­<strong>æ˜¯å¦å­˜åœ¨</strong></li><li>public boolean canRead()ï¼šåˆ¤æ–­<strong>æ˜¯å¦å¯è¯»</strong></li><li>public boolean canWrite()ï¼šåˆ¤æ–­<strong>æ˜¯å¦å¯å†™</strong></li><li>public boolean isHidden()ï¼šåˆ¤æ–­<strong>æ˜¯å¦éšè—</strong></li></ul><pre><code class="java">File file = new File(&quot;hello.txt&quot;);//public boolean isFile()ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•System.out.println(file.isDirectory());//false//public boolean isFile()ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶System.out.println(file.isFile());//true//public boolean exists()ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨System.out.println(file.exists());//true//public boolean canRead()ï¼šåˆ¤æ–­æ˜¯å¦å¯å†™System.out.println(file.canRead());//true//public boolean canWrite()ï¼šåˆ¤æ–­æ˜¯å¦å¯å†™System.out.println(file.canWrite());//true//public boolean isHidden()ï¼šåˆ¤æ–­æ˜¯å¦éšè—System.out.println(file.isHidden());//falseFile file1 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest&quot;);System.out.println(file1.isDirectory());//trueSystem.out.println(file1.isFile());//falseSystem.out.println(file1.exists());//trueSystem.out.println(file1.canRead());//trueSystem.out.println(file1.canWrite());//trueSystem.out.println(file1.isHidden());//false//public boolean isDirectory()ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•</code></pre><h5 id="4-Fileç±»çš„åˆ›å»ºåŠŸèƒ½"><a href="#4-Fileç±»çš„åˆ›å»ºåŠŸèƒ½" class="headerlink" title="4.Fileç±»çš„åˆ›å»ºåŠŸèƒ½"></a>4.Fileç±»çš„åˆ›å»ºåŠŸèƒ½</h5><ul><li>public boolean createNewFile()ï¼š<strong>åˆ›å»ºæ–‡ä»¶</strong>ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œ åˆ™ä¸åˆ›å»ºï¼Œè¿”å›false</li><li>public boolean mkdir()ï¼š<strong>åˆ›å»ºæ–‡ä»¶ç›®å½•</strong>ã€‚å¦‚æœæ­¤<strong>æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»º</strong>äº†ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•çš„<strong>ä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ï¼Œä¹Ÿä¸åˆ›å»º</strong></li><li>public boolean mkdirs()ï¼š<strong>åˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœä¸Šå±‚æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ï¼Œ ä¸€å¹¶åˆ›å»º</strong></li><li>æ³¨æ„äº‹é¡¹ï¼šå¦‚æœä½ <strong>åˆ›å»ºæ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•æ²¡æœ‰å†™ç›˜ç¬¦è·¯å¾„ï¼Œé‚£ä¹ˆï¼Œé»˜è®¤åœ¨é¡¹ç›®è·¯å¾„ä¸‹</strong></li></ul><h5 id="5-Fileç±»çš„åˆ é™¤åŠŸèƒ½"><a href="#5-Fileç±»çš„åˆ é™¤åŠŸèƒ½" class="headerlink" title="5.Fileç±»çš„åˆ é™¤åŠŸèƒ½"></a>5.Fileç±»çš„åˆ é™¤åŠŸèƒ½</h5><ul><li>public boolean delete()ï¼š<strong>åˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹</strong></li><li>åˆ é™¤æ³¨æ„äº‹é¡¹ï¼š<strong>Javaä¸­çš„åˆ é™¤ä¸èµ°å›æ”¶ç«™</strong></li><li>è¦<strong>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ç›®å½•</strong>ï¼Œè¯·æ³¨æ„<strong>è¯¥æ–‡ä»¶ç›®å½•å†…ä¸èƒ½åŒ…å«æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•</strong></li></ul><pre><code class="java">//æ–‡ä»¶åˆ›å»ºFile file = new File(&quot;hello.txt&quot;);if(!file.exists())&#123;//æ–‡ä»¶ä¸å­˜åœ¨    //public boolean createNewFile()ï¼šåˆ›å»ºæ–‡ä»¶    file.createNewFile();    System.out.println(&quot;åˆ›å»ºæˆåŠŸ&quot;);&#125;else&#123;//æ–‡ä»¶å­˜åœ¨    //public boolean delete()ï¼šåˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹    file.delete();    System.out.println(&quot;åˆ é™¤æˆåŠŸ&quot;);&#125;//æ–‡ä»¶ç›®å½•çš„åˆ›å»º//å½“è¦åˆ›å»ºçš„æ–‡ä»¶ç›®å½•çš„ä¸Šå±‚ç›®å½•å­˜åœ¨æ—¶ï¼Œmkdirå’Œmkdirsçš„ä½œç”¨æ•ˆæœéƒ½ä¸€æ ·//å½“è¦åˆ›å»ºçš„æ–‡ä»¶ç›®å½•çš„ä¸Šå±‚ç›®å½•ä¸å­˜åœ¨æ—¶ï¼Œåªæœ‰mkdirsèƒ½åˆ›å»ºæˆåŠŸFile file1 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\IOTest01&quot;);boolean mkdir = file1.mkdir();if (mkdir)&#123;    System.out.println(&quot;åˆ›å»ºæˆåŠŸ1&quot;);&#125;File file2 = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\IOTest02&quot;);boolean mkdir1 = file2.mkdirs();if(mkdir1)&#123;    System.out.println(&quot;åˆ›å»ºæˆåŠŸ2&quot;);&#125;</code></pre><h5 id="6-Fileç±»ç»ƒä¹ "><a href="#6-Fileç±»ç»ƒä¹ " class="headerlink" title="6.Fileç±»ç»ƒä¹ "></a>6.Fileç±»ç»ƒä¹ </h5><pre><code class="java">1.åˆ©ç”¨Fileæ„é€ å™¨ï¼Œnewä¸€ä¸ªæ–‡ä»¶ç›®å½•file1)åœ¨å…¶ä¸­åˆ›å»ºå¤šä¸ªæ–‡ä»¶å’Œç›®å½•2)ç¼–å†™æ–¹æ³•ï¼Œå®ç°åˆ é™¤fileä¸­æŒ‡å®šæ–‡ä»¶çš„æ“ä½œ2.åˆ¤æ–­æŒ‡å®šç›®å½•ä¸‹æ˜¯å¦æœ‰åç¼€åä¸º.jpgçš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œå°±è¾“å‡ºè¯¥æ–‡ä»¶åç§°3.éå†æŒ‡å®šç›®å½•æ‰€æœ‰æ–‡ä»¶åç§°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚æ‹“å±•1:å¹¶è®¡ç®—æŒ‡å®šç›®å½•å ç”¨ç©ºé—´çš„å¤§å°æ‹“å±•2:åˆ é™¤æŒ‡å®šæ–‡ä»¶ç›®å½•åŠå…¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</code></pre><h3 id="12-2-IOæµåŸç†åŠæµçš„åˆ†ç±»"><a href="#12-2-IOæµåŸç†åŠæµçš„åˆ†ç±»" class="headerlink" title="12.2 IOæµåŸç†åŠæµçš„åˆ†ç±»"></a>12.2 IOæµåŸç†åŠæµçš„åˆ†ç±»</h3><p>I/Oæ˜¯Input/Outputçš„ç¼©å†™ï¼ŒI/OæŠ€æœ¯æ˜¯éå¸¸å®ç”¨çš„æŠ€æœ¯ï¼Œ<strong>ç”¨äºå¤„ç†è®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“</strong>ã€‚å¦‚è¯»/å†™æ–‡ä»¶ï¼Œç½‘ç»œé€šè®¯ç­‰</p><p>Javaç¨‹åºä¸­ï¼Œå¯¹äº<strong>æ•°æ®çš„è¾“å…¥/è¾“å‡ºæ“ä½œä»¥â€œæµ(stream)â€çš„æ–¹å¼è¿›è¡Œ</strong></p><p>java.ioåŒ…ä¸‹æä¾›äº†<strong>å„ç§â€œæµâ€ç±»å’Œæ¥å£ï¼Œç”¨ä»¥è·å–ä¸åŒç§ç±»çš„æ•°æ®</strong>ï¼Œå¹¶<strong>é€šè¿‡æ ‡å‡†çš„æ–¹æ³•è¾“å…¥æˆ–è¾“å‡ºæ•°æ®</strong></p><h4 id="12-2-1-IOæµçš„åŸç†"><a href="#12-2-1-IOæµçš„åŸç†" class="headerlink" title="12.2.1 IOæµçš„åŸç†"></a>12.2.1 IOæµçš„åŸç†</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644370.png' data-fancybox='default' data-caption='image-20210807170244977'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644370.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644370.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210807170244977"></a><span class='image-caption'>image-20210807170244977</span></div></div><h4 id="12-2-2-æµçš„åˆ†ç±»"><a href="#12-2-2-æµçš„åˆ†ç±»" class="headerlink" title="12.2.2 æµçš„åˆ†ç±»"></a>12.2.2 æµçš„åˆ†ç±»</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644853.png' data-fancybox='default' data-caption='image-20210807170938002'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644853.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644853.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210807170938002"></a><span class='image-caption'>image-20210807170938002</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644344.png' data-fancybox='default' data-caption='image-20210807171355287'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644344.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201644344.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210807171355287"></a><span class='image-caption'>image-20210807171355287</span></div></div><h4 id="12-2-3-IOæµçš„ä½“ç³»ç»“æ„"><a href="#12-2-3-IOæµçš„ä½“ç³»ç»“æ„" class="headerlink" title="12.2.3 IOæµçš„ä½“ç³»ç»“æ„"></a>12.2.3 IOæµçš„ä½“ç³»ç»“æ„</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645856.png' data-fancybox='default' data-caption='image-20210807172114754'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645856.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645856.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210807172114754"></a><span class='image-caption'>image-20210807172114754</span></div></div><h3 id="12-3-èŠ‚ç‚¹æµ-æˆ–æ–‡ä»¶æµ"><a href="#12-3-èŠ‚ç‚¹æµ-æˆ–æ–‡ä»¶æµ" class="headerlink" title="12.3 èŠ‚ç‚¹æµ(æˆ–æ–‡ä»¶æµ)"></a>12.3 èŠ‚ç‚¹æµ(æˆ–æ–‡ä»¶æµ)</h3><h4 id="12-3-1-FileReaderç±»"><a href="#12-3-1-FileReaderç±»" class="headerlink" title="12.3.1 FileReaderç±»"></a>12.3.1 FileReaderç±»</h4><p>ä»ç¡¬ç›˜è¯»å…¥æ•°æ®åˆ°å†…å­˜</p><h5 id="1-ä½¿ç”¨FileReaderç±»read-å®ç°æ•°æ®çš„è¯»å…¥"><a href="#1-ä½¿ç”¨FileReaderç±»read-å®ç°æ•°æ®çš„è¯»å…¥" class="headerlink" title="1.ä½¿ç”¨FileReaderç±»read()å®ç°æ•°æ®çš„è¯»å…¥"></a>1.ä½¿ç”¨FileReaderç±»read()å®ç°æ•°æ®çš„è¯»å…¥</h5><pre><code class="java">//è¯´æ˜ç‚¹://1. read()çš„ç†è§£:è¿”å›è¯»å…¥çš„ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœè¾¾åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè¿”å›-1//2.å¼‚å¸¸çš„å¤„ç†:ä¸ºäº†ä¿è¯æµèµ„æºä¸€å®šå¯ä»¥æ‰§è¡Œå…³é—­æ“ä½œã€‚éœ€è¦ä½¿ç”¨try-catch-finallyå¤„ç†//3.è¯»å…¥çš„æ–‡ä»¶ä¸€å®šè¦å­˜åœ¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥FileNotFoundException@Testpublic void TestFileReader() &#123;    FileReader fileReader = null;    try &#123;        //1.å®ä¾‹åŒ–Fileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¦æ“ä½œçš„æ–‡ä»¶        File file = new File(&quot;hello.txt&quot;);        //2.æä¾›å…·ä½“çš„æµ        fileReader = new FileReader(file);        //3.æ•°æ®è¯»å…¥        //read():è¿”å›è¯»å…¥çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¾¾åˆ°æ–‡ä»¶å†…å®¹æœ«å°¾ï¼Œè¿”å›-1        //æ–¹å¼ä¸€ï¼š        //int data = fileReader.read();        //while (data != -1)&#123;        //    System.out.print((char) data);        //  data = fileReader.read();        //&#125;        //æ–¹å¼äºŒï¼š        int data;        while ((data = fileReader.read()) != -1)&#123;            System.out.print((char) data);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.æµçš„å…³é—­æ“ä½œ        //(1)ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ï¼šå…ˆæ‰“å¼€çš„åå…³é—­ï¼Œåæ‰“å¼€çš„å…ˆå…³é—­        //(2)å¦ä¸€ç§æƒ…å†µï¼šçœ‹ä¾èµ–å…³ç³»ï¼Œå¦‚æœæµaä¾èµ–æµbï¼Œåº”è¯¥å…ˆå…³é—­æµaï¼Œå†å…³é—­æµbã€‚ä¾‹å¦‚ï¼Œå¤„ç†æµaä¾èµ–èŠ‚ç‚¹æµbï¼Œåº”è¯¥å…ˆå…³é—­å¤„ç†æµaï¼Œå†å…³é—­èŠ‚ç‚¹æµb        //(3)å¯ä»¥åªå…³é—­å¤„ç†æµï¼Œä¸ç”¨å…³é—­èŠ‚ç‚¹æµã€‚å¤„ç†æµå…³é—­çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å…¶å¤„ç†çš„èŠ‚ç‚¹æµçš„å…³é—­æ–¹æ³•        try &#123;//æ­¤å¤„çš„ifå’Œtry-catchåµŒå¥—ï¼Œè°åœ¨å¤–é¢éƒ½è¡Œ            if(fileReader != null)                fileReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h5 id="2-ä½¿ç”¨FileReaderç±»read-char-cbuf-å®ç°æ•°æ®çš„è¯»å…¥"><a href="#2-ä½¿ç”¨FileReaderç±»read-char-cbuf-å®ç°æ•°æ®çš„è¯»å…¥" class="headerlink" title="2.ä½¿ç”¨FileReaderç±»read(char[] cbuf)å®ç°æ•°æ®çš„è¯»å…¥"></a>2.ä½¿ç”¨FileReaderç±»read(char[] cbuf)å®ç°æ•°æ®çš„è¯»å…¥</h5><pre><code class="java">//å¯¹read()æ“ä½œå‡çº§ï¼šä½¿ç”¨readé‡è½½æ–¹æ³•ï¼Œä¸€æ¬¡æ€§è¯»å–å‡ ä¸ªå­—ç¬¦å­˜å…¥æ•°ç»„@Testpublic void TestFileReader1()&#123;    FileReader fileReader = null;    try &#123;        //1.Fileç±»çš„å®ä¾‹åŒ–        File file = new File(&quot;hello.txt&quot;);        //2.FileReaderæµçš„å®ä¾‹åŒ–        fileReader = new FileReader(file);        //3.è¯»å…¥çš„æ“ä½œ        //read(char cbuf):è¿”å›æ¯æ¬¡è¯»å…¥cbufæ•°ç»„ä¸­çš„å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¦‚æœè¾¾åˆ°æ–‡ä»¶å†…å®¹æœ«å°¾ï¼Œåˆ™è¿”å›-1        char[] cbuffer = new char[5];        int len;        while ((len = fileReader.read(cbuffer)) != -1)&#123;            //æ–¹æ³•ä¸€ï¼š            for (int i = 0; i &lt; len; i++) &#123;//ä¸èƒ½å†™å¥½i&lt;cbuffer.lengthï¼Œå› ä¸ºæ¯æ¬¡è¯»å–æ•°ç»„ä¸­çš„å­—ç¬¦éƒ½ä¼šè¦†ç›–ä¸Šæ¬¡è¯»å–ï¼Œå½“æœ€åå‡ ä¸ªå­—ç¬¦çš„é•¿åº¦ä¸è¶³äºå¡«å……æ»¡æ•°ç»„ï¼Œé‚£ä¹ˆæœ€åä¸€æ¬¡éå†å°±ä¼šæŠŠæ²¡æœ‰è¢«è¦†ç›–æ‰çš„å‡ ä¸ªå­—ç¬¦ä¹Ÿè¾“å‡ºå‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è¯»å–å‡ ä¸ªå­—ç¬¦å°±éå†è¾“å‡ºå‡ ä¸ª                System.out.print(cbuffer[i]);            &#125;            //æ–¹æ³•äºŒï¼š            //String str = new String(cbuffer);            //System.out.println(str);//ä¹Ÿæ˜¯é”™è¯¯çš„,è·Ÿä¸Šæ–¹forå¾ªç¯i&lt;cbuffer.lengthä¸€æ ·çš„é€»è¾‘            String str = new String(cbuffer,0,len);            System.out.println(str);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.èµ„æºçš„å…³é—­        try &#123;        if (fileReader != null)            fileReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-2-FileWriterç±»"><a href="#12-3-2-FileWriterç±»" class="headerlink" title="12.3.2 FileWriterç±»"></a>12.3.2 FileWriterç±»</h4><p>ä»å†…å­˜å†™å‡ºæ•°æ®åˆ°ç¡¬ç›˜</p><pre><code class="java">//è¯´æ˜://1.è¾“å‡ºæ“ä½œï¼Œå¯¹åº”çš„Fileå¯ä»¥ä¸å­˜åœ¨çš„ã€‚ä¸ä¼šæŠ¥å¼‚å¸¸//2.Fileå¯¹åº”çš„ç¡¬ç›˜ä¸­çš„æ–‡ä»¶å¦‚æœä¸å­˜åœ¨ï¼Œåœ¨è¾“å‡ºçš„è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ­¤æ–‡ä»¶//Fileå¯¹åº”çš„ç¡¬ç›˜ä¸­çš„æ–‡ä»¶å¦‚æœå­˜åœ¨://        å¦‚æœæµä½¿ç”¨çš„æ„é€ å™¨æ˜¯:Filewriter(file,false)/Filewriter(file):å¯¹åŸæœ‰æ–‡ä»¶è¿›è¡Œè¦†ç›–//        å¦‚æœæµä½¿ç”¨çš„æ„é€ å™¨æ˜¯:Filewriter(file,true):ä¸ä¼šå¯¹åŸæœ‰æ–‡ä»¶è¦†ç›–ï¼Œè€Œæ˜¯åœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šè¿½åŠ å†…å®¹@Testpublic void TestFileWriter()&#123;    FileWriter fileWriter = null;    try &#123;        //1.å®ä¾‹åŒ–Fileç±»å¯¹è±¡        File file = new File(&quot;hello1.txt&quot;);        //2.å®ä¾‹åŒ–FileWriterå¯¹è±¡        fileWriter = new FileWriter(file);        //3.å†™å‡ºæ“ä½œ        fileWriter.write(&quot;I have a dream!\n&quot;);        fileWriter.write(&quot;you should have a dream,too!&quot;);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.å…³é—­æµ        try &#123;            if (fileWriter != null)                fileWriter.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-3-FileReaderå’ŒFileWriterå®ç°æ–‡æœ¬å†…å®¹çš„å¤åˆ¶"><a href="#12-3-3-FileReaderå’ŒFileWriterå®ç°æ–‡æœ¬å†…å®¹çš„å¤åˆ¶" class="headerlink" title="12.3.3 FileReaderå’ŒFileWriterå®ç°æ–‡æœ¬å†…å®¹çš„å¤åˆ¶"></a>12.3.3 FileReaderå’ŒFileWriterå®ç°æ–‡æœ¬å†…å®¹çš„å¤åˆ¶</h4><pre><code class="java">@Testpublic void TestFileReaderFileWriter()&#123;    FileReader fileReader = null;    FileWriter fileWriter = null;    try &#123;        //1.åˆ›å»ºFileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å…¥å’Œå†™å‡ºçš„æ–‡ä»¶        File in = new File(&quot;hello1.txt&quot;);        File out = new File(&quot;hello2.txt&quot;);        //2.åˆ›å»ºè¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡        fileReader = new FileReader(in);        fileWriter = new FileWriter(out);        //3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ        char[] input = new char[5];        int len;//è®°å½•æ¯æ¬¡è¯»å–åˆ°çš„å­—ç¬¦ä¸ªæ•°        while ((len = fileReader.read(input)) != -1)&#123;            String output = new String(input,0,len);            fileWriter.write(output);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.å…³é—­æµèµ„æº        //æ–¹æ³•ä¸€ï¼š        try &#123;            if (fileReader != null)                fileReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125; finally &#123;            try &#123;                if (fileWriter != null)                 fileWriter.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        //æ–¹æ³•äºŒï¼š        try &#123;            if (fileReader != null)                fileReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (fileWriter != null)                fileWriter.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-4-å­—ç¬¦æµä¸èƒ½å¤„ç†å›¾ç‰‡çš„æµ‹è¯•"><a href="#12-3-4-å­—ç¬¦æµä¸èƒ½å¤„ç†å›¾ç‰‡çš„æµ‹è¯•" class="headerlink" title="12.3.4 å­—ç¬¦æµä¸èƒ½å¤„ç†å›¾ç‰‡çš„æµ‹è¯•"></a>12.3.4 å­—ç¬¦æµä¸èƒ½å¤„ç†å›¾ç‰‡çš„æµ‹è¯•</h4><pre><code class="java">@Testpublic void TestCopyImage()&#123;    //æµ‹è¯•å¤±è´¥ï¼Œæ–‡ä»¶èƒ½å¤åˆ¶ï¼Œä½†ä¸èƒ½æ‰“å¼€ã€‚ä¸èƒ½ç”¨å­—ç¬¦æµæ¥å¤„ç†å›¾ç‰‡ç­‰çš„å­—èŠ‚æ•°æ®    FileReader fileReader = null;    FileWriter fileWriter = null;    try &#123;        //1.åˆ›å»ºFileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å…¥å’Œå†™å‡ºçš„å›¾ç‰‡        File in = new File(&quot;TestImage.jpg&quot;);        File out = new File(&quot;TestImage1.jpg&quot;);        //2.åˆ›å»ºè¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡        fileReader = new FileReader(in);        fileWriter = new FileWriter(out);        //3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ        char[] input = new char[5];        int len;//è®°å½•æ¯æ¬¡è¯»å–åˆ°çš„å­—ç¬¦ä¸ªæ•°        while ((len = fileReader.read(input)) != -1)&#123;            String output = new String(input,0,len);            fileWriter.write(output);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (fileReader != null)                fileReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (fileWriter != null)                fileWriter.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-5-FileInputStreamä¸èƒ½è¯»å–æ–‡æœ¬çš„æµ‹è¯•"><a href="#12-3-5-FileInputStreamä¸èƒ½è¯»å–æ–‡æœ¬çš„æµ‹è¯•" class="headerlink" title="12.3.5 FileInputStreamä¸èƒ½è¯»å–æ–‡æœ¬çš„æµ‹è¯•"></a>12.3.5 FileInputStreamä¸èƒ½è¯»å–æ–‡æœ¬çš„æµ‹è¯•</h4><pre><code class="java">//ç»“è®º:å¯ä»¥ä½¿ç”¨å­—èŠ‚æµFileInputstreamå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œä½†å¯èƒ½ä¼šå‡ºç°ä¸­æ–‡ä¹±ç //1ï¼å¯¹äºæ–‡æœ¬æ–‡ä»¶( .txt,.java,.c,.cpp)ï¼Œä½¿ç”¨å­—ç¬¦æµå¤„ç†ï¼ˆå»ºè®®ï¼‰//2ï¼å¯¹äºéæ–‡æœ¬æ–‡ä»¶(.jpg,.mp3 , .mp4,.avi,.doc,.ppt,. . .)ï¼Œä½¿ç”¨å­—èŠ‚æµå¤„ç†ï¼ˆå¿…é¡»ï¼‰@Testpublic void TestFileInputStreamText()&#123;    FileInputStream fileInputStream = null;    try &#123;        //1.åˆ›å»ºFileå¯¹è±¡        File file = new File(&quot;hello.txt&quot;);        //2.åˆ›å»ºFileInputStreamå¯¹è±¡        fileInputStream = new FileInputStream(file);        //3.è¯»å–æ•°æ®        byte[] data = new byte[5];        int len;//è®°å½•è¯»å–çš„å­—èŠ‚ä¸ªæ•°        while ((len = fileInputStream.read(data)) != -1)&#123;            String str = new String(data,0,len);            System.out.print(str);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.å…³é—­æµ        try &#123;            if (fileInputStream != null)                fileInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-6-FileInputStreamå’ŒFileOutputStreamè¯»å†™éæ–‡æœ¬æ–‡ä»¶"><a href="#12-3-6-FileInputStreamå’ŒFileOutputStreamè¯»å†™éæ–‡æœ¬æ–‡ä»¶" class="headerlink" title="12.3.6 FileInputStreamå’ŒFileOutputStreamè¯»å†™éæ–‡æœ¬æ–‡ä»¶"></a>12.3.6 FileInputStreamå’ŒFileOutputStreamè¯»å†™éæ–‡æœ¬æ–‡ä»¶</h4><pre><code class="java">//èƒ½å¤åˆ¶æˆåŠŸ@Testpublic void TestFileInputOutputStream()&#123;    //å®ç°å›¾ç‰‡çš„å¤åˆ¶    FileInputStream fileInputStream = null;    FileOutputStream fileOutputStream = null;    try &#123;        //1.åˆ›å»ºFileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å…¥å’Œå†™å‡ºçš„å›¾ç‰‡        File in = new File(&quot;TestImage.jpg&quot;);        File out = new File(&quot;TestImage1.jpg&quot;);        //2.åˆ›å»ºè¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡        fileInputStream = new FileInputStream(in);        fileOutputStream = new FileOutputStream(out);        //3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ        byte[] input = new byte[5];        int len;//è®°å½•æ¯æ¬¡è¯»å–åˆ°çš„å­—ç¬¦ä¸ªæ•°        while ((len = fileInputStream.read(input)) != -1)&#123;            fileOutputStream.write(input,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (fileInputStream != null)                fileInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (fileOutputStream != null)                fileOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-3-7-FileInputStreamå’ŒFileOutputStreamå¤åˆ¶æ–‡ä»¶çš„æ–¹æ³•æµ‹è¯•"><a href="#12-3-7-FileInputStreamå’ŒFileOutputStreamå¤åˆ¶æ–‡ä»¶çš„æ–¹æ³•æµ‹è¯•" class="headerlink" title="12.3.7 FileInputStreamå’ŒFileOutputStreamå¤åˆ¶æ–‡ä»¶çš„æ–¹æ³•æµ‹è¯•"></a>12.3.7 FileInputStreamå’ŒFileOutputStreamå¤åˆ¶æ–‡ä»¶çš„æ–¹æ³•æµ‹è¯•</h4><pre><code class="java">//æ­¤æ—¶ï¼Œå¤åˆ¶æˆåŠŸçš„æ–‡æœ¬ï¼Œç‚¹å¼€æ–‡ä»¶æŸ¥çœ‹ä¸ä¼šä¹±ç //è€Œåœ¨12.3.5ä¸­ä½¿ç”¨FileInputStreamè¯»å…¥æ–‡æœ¬å†…å®¹å‡ºç°ä¹±ç æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨è¯»å–æ•°æ®åè¾“å‡ºåˆ°æ§åˆ¶å°è¿›è¡ŒæŸ¥çœ‹ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸­æ–‡å­—ç¬¦çš„å­—èŠ‚è¢«æˆªæ–­ï¼Œè€Œç°åœ¨æˆ‘ä»¬æ˜¯åœ¨æ–‡æœ¬æ•°æ®å®Œæ•´åœ°è¯»å–å’Œå†™å‡ºè¿‡ååœ¨æ–‡ä»¶ä¸­æŸ¥çœ‹ï¼Œæ­¤æ—¶ä¸­æ–‡å­—ç¬¦çš„å­—èŠ‚å°±ä¸ä¼šè¢«æˆªæ–­ï¼Œæ‰€ä»¥å°±ä¸ä¼šå‡ºç°ä¹±ç public void copy(String srcPath,String destPath)&#123;    FileInputStream fileInputStream = null;    FileOutputStream fileOutputStream = null;    try &#123;        //1.åˆ›å»ºFileç±»çš„å¯¹è±¡ï¼ŒæŒ‡æ˜è¯»å…¥å’Œå†™å‡ºçš„å›¾ç‰‡        File in = new File(srcPath);        File out = new File(destPath);        //2.åˆ›å»ºè¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡        fileInputStream = new FileInputStream(in);        fileOutputStream = new FileOutputStream(out);        //3.æ•°æ®çš„è¯»å…¥å’Œå†™å‡ºæ“ä½œ        byte[] input = new byte[1024];        int len;//è®°å½•æ¯æ¬¡è¯»å–åˆ°çš„å­—ç¬¦ä¸ªæ•°        while ((len = fileInputStream.read(input)) != -1)&#123;            fileOutputStream.write(input,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (fileInputStream != null)                fileInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (fileOutputStream != null)                fileOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;@Testpublic void TestCopy()&#123;    String srcPath = &quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\[ä¹’ä¹“çƒ].ts&quot;;    String destPath = &quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\[ä¹’ä¹“çƒå¤åˆ¶ç‰ˆ].ts&quot;;    long start = System.currentTimeMillis();    copy(srcPath,destPath);    long end = System.currentTimeMillis();    System.out.println(&quot;å¤åˆ¶ç”¨æ—¶ï¼š&quot; + (end - start));&#125;</code></pre><h3 id="12-4-ç¼“å†²æµ-å¤„ç†æµä¹‹ä¸€"><a href="#12-4-ç¼“å†²æµ-å¤„ç†æµä¹‹ä¸€" class="headerlink" title="12.4 ç¼“å†²æµ(å¤„ç†æµä¹‹ä¸€)"></a>12.4 ç¼“å†²æµ(å¤„ç†æµä¹‹ä¸€)</h3><p>ä½œç”¨ï¼š<strong>æé«˜æµçš„è¯»å–ã€å†™å…¥é€Ÿåº¦</strong></p><p>ç”±äºç¼“å†²æµæ˜¯ä½œç”¨äºèŠ‚ç‚¹æµä¸Šçš„ï¼Œåªæ˜¯å°†èŠ‚ç‚¹æµè¯»å–çš„æ•°æ®æ”¾å…¥äº†ä¸€ä¸ªç¼“å­˜æ•°ç»„ä¸­ï¼Œæ‰€ä»¥åœ¨ç¼“å†²æµä¸­æœ‰ä¸€ä¸ª<strong>flush()<strong>æ–¹æ³•æ¥</strong>åˆ·æ–°ç¼“å†²åŒº</strong>ï¼Œä½†æˆ‘ä»¬ä¸ç”¨æ˜¾ç¤ºåœ°è°ƒç”¨flushæ¥è¿›è¡Œåˆ·æ–°ï¼Œå› ä¸ºåœ¨æºç ä¸­å®ƒå·²ç»è°ƒç”¨æ­¤æ–¹æ³•æ¥è¿›è¡Œè‡ªåŠ¨åˆ·æ–°</p><h4 id="12-4-1-å­—èŠ‚æµå‹"><a href="#12-4-1-å­—èŠ‚æµå‹" class="headerlink" title="12.4.1 å­—èŠ‚æµå‹"></a>12.4.1 å­—èŠ‚æµå‹</h4><pre><code class="java">//ç»è¿‡æµ‹è¯•ï¼Œç¼“å†²æµå¯¹æ–‡ä»¶çš„å¤åˆ¶çš„ç¡®æ¯”èŠ‚ç‚¹æµçš„é€Ÿåº¦å¿«@Testpublic void TestBuffer()&#123;    BufferedInputStream bis = null;    BufferedOutputStream bos = null;    try &#123;        //1.å®ä¾‹åŒ–File        File srcFile = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\[ä¹’ä¹“çƒ].ts&quot;);        File destFile = new File(&quot;E:\\æ¡Œé¢æ–‡ä»¶\\IOTest\\[ä¹’ä¹“çƒç¼“å†²æµå¤åˆ¶ç‰ˆ].ts&quot;);        //2.å®ä¾‹åŒ–æµå¯¹è±¡ï¼šå…ˆå®ä¾‹åŒ–å†…å±‚çš„æµï¼Œå†å®ä¾‹åŒ–å¤–å±‚çš„æµ        //2.1 å®ä¾‹åŒ–èŠ‚ç‚¹æµ        FileInputStream fileInputStream = new FileInputStream(srcFile);        FileOutputStream fileOutputStream = new FileOutputStream(destFile);        //2.2 å®ä¾‹åŒ–ç¼“å†²æµ        bis = new BufferedInputStream(fileInputStream);        bos = new BufferedOutputStream(fileOutputStream);        //3.æ–‡ä»¶çš„èµ‹å€¼        byte[] buffer = new byte[1024];        int len;        while ((len = bis.read(buffer)) != -1)&#123;            bos.write(buffer,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //4.èµ„æºå…³é—­        //è¦æ±‚ï¼šå…ˆå…³é—­å¤–å±‚çš„æµï¼Œå†å…³é—­å†…å±‚çš„æµ        //è¯´æ˜ï¼šå…³é—­å¤–å±‚æµçš„åŒæ—¶ï¼Œå†…å±‚æµä¹Ÿä¼šè‡ªåŠ¨çš„è¿›è¡Œå…³é—­ã€‚å…³äºå†…å±‚æµçš„å…³é—­ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥        try &#123;            if (bis != null)                bis.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (bos != null)                bos.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-4-2-å­—ç¬¦æµå‹"><a href="#12-4-2-å­—ç¬¦æµå‹" class="headerlink" title="12.4.2 å­—ç¬¦æµå‹"></a>12.4.2 å­—ç¬¦æµå‹</h4><pre><code class="java">@Testpublic void TestBufferReaderWriter()&#123;    BufferedReader br = null;    BufferedWriter bw = null;    try &#123;        //1.å®ä¾‹åŒ–æµå’Œæ–‡ä»¶å¯¹è±¡        br = new BufferedReader(new FileReader(new File(&quot;hello1.txt&quot;)));        bw = new BufferedWriter(new FileWriter(new File(&quot;hello2.txt&quot;)));        //2.å¤åˆ¶æ–‡ä»¶        //æ–¹å¼ä¸€ï¼šä½¿ç”¨char[]æ•°ç»„        //char[] cbuf = new char[1024];        //int len;        //while ((len = br.read(cbuf)) != -1)&#123;        //    bw.write(cbuf,0,len);        //   //bw.flush();        //&#125;        //æ–¹å¼äºŒï¼šä½¿ç”¨String        String data;        while ((data = br.readLine()) != null)&#123;            bw.write(data + &quot;\n&quot;);//dataä¸åŒ…å«æ¢è¡Œç¬¦            //ä¹Ÿå¯ä»¥è°ƒç”¨bw.newLine()è¿›è¡Œæ¢è¡Œ        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //3.å…³é—­èµ„æº        try &#123;            if (br != null)                br.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (bw != null)                bw.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-4-3-ç¼“å†²æµç»ƒä¹ "><a href="#12-4-3-ç¼“å†²æµç»ƒä¹ " class="headerlink" title="12.4.3 ç¼“å†²æµç»ƒä¹ "></a>12.4.3 ç¼“å†²æµç»ƒä¹ </h4><pre><code class="java">1.åˆ†åˆ«ä½¿ç”¨èŠ‚ç‚¹æµ:FilelnputStreamã€FileOutputStreamå’Œç¼“å†²æµ:BufferedInputStreamã€BufferedOutputStreamå®ç°æ–‡æœ¬/æ–‡ä»¶/å›¾ç‰‡/è§†é¢‘æ–‡ä»¶çš„å¤åˆ¶ã€‚å¹¶æ¯”è¾ƒäºŒè€…åœ¨æ•°æ®å¤åˆ¶æ–¹é¢çš„æ•ˆç‡2.å®ç°å›¾ç‰‡åŠ å¯†æ“ä½œã€‚æç¤º:int b = 0;while((b = fis.read()) != -1)&#123;    fos.write(b ^ 5);&#125;3.è·å–æ–‡æœ¬ä¸Šæ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°æç¤º:éå†æ–‡æœ¬çš„æ¯ä¸€ä¸ªå­—ç¬¦;å­—ç¬¦åŠå‡ºç°çš„æ¬¡æ•°ä¿å­˜åœ¨Mapä¸­;å°†Mapä¸­æ•°æ®å†™å…¥æ–‡ä»¶</code></pre><h3 id="12-5-è½¬æ¢æµ-å¤„ç†æµä¹‹äºŒ"><a href="#12-5-è½¬æ¢æµ-å¤„ç†æµä¹‹äºŒ" class="headerlink" title="12.5 è½¬æ¢æµ(å¤„ç†æµä¹‹äºŒ)"></a>12.5 è½¬æ¢æµ(å¤„ç†æµä¹‹äºŒ)</h3><p>è½¬æ¢æµæä¾›äº†åœ¨<strong>å­—èŠ‚æµå’Œå­—ç¬¦æµä¹‹é—´çš„è½¬æ¢</strong></p><p>Java APIæä¾›äº†ä¸¤ä¸ªè½¬æ¢æµï¼š</p><ul><li><strong>lnputStreamReaderï¼šå°†lnputStreamè½¬æ¢ä¸ºReader</strong></li><li><strong>OutputStreamWriter:å°†Writerè½¬æ¢ä¸ºOutputStream</strong></li></ul><p>å­—èŠ‚æµä¸­çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦æ—¶ï¼Œè½¬æˆå­—ç¬¦æµæ“ä½œæ›´é«˜æ•ˆ</p><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨<strong>è½¬æ¢æµæ¥å¤„ç†æ–‡ä»¶ä¹±ç </strong>é—®é¢˜ã€‚<strong>å®ç°ç¼–ç å’Œè§£ç çš„åŠŸèƒ½</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645264.png' data-fancybox='default' data-caption='image-20210808140840759'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645264.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645264.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210808140840759"></a><span class='image-caption'>image-20210808140840759</span></div></div><h4 id="12-5-1-InputStreamReader"><a href="#12-5-1-InputStreamReader" class="headerlink" title="12.5.1 InputStreamReader"></a>12.5.1 InputStreamReader</h4><pre><code class="java">//å¤„ç†æµä¹‹äºŒ:è½¬æ¢æµçš„ä½¿ç”¨//1.è½¬æ¢æµ:å±äºå­—ç¬¦æµ//  InputStreamReader:å°†ä¸€ä¸ªå­—èŠ‚çš„è¾“å…¥æµè½¬æ¢ä¸ºå­—ç¬¦çš„è¾“å…¥æµ//  OutputStreamWriter:å°†ä¸€ä¸ªå­—ç¬¦çš„è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚çš„è¾“å‡ºæµ//2.ä½œç”¨:æä¾›å­—èŠ‚æµä¸å­—ç¬¦æµä¹‹é—´çš„è½¬æ¢//3.è§£ç :å­—èŠ‚ã€å­—èŠ‚æ•°ç»„---&gt;å­—ç¬¦æ•°ç»„ã€å­—ç¬¦ä¸²//  ç¼–ç :å­—ç¬¦æ•°ç»„ã€å­—ç¬¦ä¸²---&gt;å­—èŠ‚ã€å­—èŠ‚æ•°ç»„//4.å­—ç¬¦é›†@Testpublic void TestInputStreamReader()&#123;    InputStreamReader inputStreamReader = null;    try &#123;        FileInputStream fileInputStream = new FileInputStream(&quot;hello1.txt&quot;);        //å‚æ•°2æŒ‡æ˜äº†å­—ç¬¦é›†ï¼Œå…·ä½“ä½¿ç”¨å“ªä¸ªå­—ç¬¦é›†ï¼Œå–å†³äºè¯»å…¥æ–‡ä»¶ä¿å­˜æ—¶ä½¿ç”¨çš„å­—ç¬¦é›†        //InputStreamReader inputStreamReader = new InputStreamReader(fileInputStream);//ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„å­—ç¬¦é›†        inputStreamReader = new InputStreamReader(fileInputStream,&quot;UTF-8&quot;);        char[] cbuf = new char[20];        int len;        while ((len = inputStreamReader.read(cbuf)) != -1)&#123;            String str = new String(cbuf,0,len);            System.out.println(str);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (inputStreamReader != null)                inputStreamReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-5-2-OutputStreamWriter"><a href="#12-5-2-OutputStreamWriter" class="headerlink" title="12.5.2 OutputStreamWriter"></a>12.5.2 OutputStreamWriter</h4><pre><code class="java">//InputStreamReaderå’ŒOutputStreamWriterå®ç°æ–‡ä»¶çš„è¯»å…¥å’Œå†™å‡º//æ–‡ä»¶ä»¥UTF-8æ ¼å¼è¯»å…¥ï¼Œä»¥GBKå½¢å¼å†™å‡º@Testpublic void TestOutputStreamWriter()&#123;    InputStreamReader inputStreamReader = null;    OutputStreamWriter outputStreamWriter = null;    try &#123;        FileInputStream fileInputStream = new FileInputStream(new File(&quot;hello2(UTF-8).txt&quot;));        FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;hello2(GBK).txt&quot;));        inputStreamReader = new InputStreamReader(fileInputStream,&quot;UTF-8&quot;);        outputStreamWriter = new OutputStreamWriter(fileOutputStream,&quot;GBK&quot;);        //æ•°æ®è¯»å†™        char[] cbuf = new char[1024];        int len;        while ((len = inputStreamReader.read(cbuf)) != -1)&#123;            outputStreamWriter.write(cbuf,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if(inputStreamReader != null)                inputStreamReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (outputStreamWriter != null)                outputStreamWriter.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="12-5-3-å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜"><a href="#12-5-3-å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜" class="headerlink" title="12.5.3 å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜"></a>12.5.3 å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜</h4><p><strong>ç¼–ç è¡¨çš„ç”±æ¥</strong></p><p>è®¡ç®—æœºåªèƒ½è¯†åˆ«äºŒè¿›åˆ¶æ•°æ®ï¼Œæ—©æœŸç”±æ¥æ˜¯ç”µä¿¡å·ã€‚ä¸ºäº†æ–¹ä¾¿åº”ç”¨è®¡ç®—æœºï¼Œè®©å®ƒå¯ä»¥è¯†åˆ«å„ä¸ªå›½å®¶çš„æ–‡å­—ã€‚å°±å°†å„ä¸ªå›½å®¶çš„æ–‡å­—ç”¨æ•°å­—æ¥è¡¨ç¤ºï¼Œå¹¶ä¸€ä¸€å¯¹åº”ï¼Œå½¢æˆä¸€å¼ è¡¨ã€‚è¿™å°±æ˜¯ç¼–ç è¡¨</p><p><strong>å¸¸è§çš„ç¼–ç è¡¨</strong></p><ul><li>ASCIIï¼š<strong>ç¾å›½æ ‡å‡†ä¿¡æ¯äº¤æ¢ç </strong>ã€‚ç”¨<strong>ä¸€ä¸ªå­—èŠ‚çš„7ä½å¯ä»¥è¡¨ç¤º</strong></li><li>ISO8859-1ï¼š<strong>æ‹‰ä¸ç è¡¨</strong>ã€‚æ¬§æ´²ç è¡¨ã€‚ç”¨<strong>ä¸€ä¸ªå­—èŠ‚çš„8ä½è¡¨ç¤º</strong></li><li>GB2312ï¼š<strong>ä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨</strong>ã€‚<strong>æœ€å¤šä¸¤ä¸ªå­—èŠ‚</strong>ç¼–ç æ‰€æœ‰å­—ç¬¦</li><li>GBKï¼š<strong>ä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨</strong>å‡çº§ï¼Œèåˆäº†æ›´å¤šçš„ä¸­æ–‡æ–‡å­—ç¬¦å·ã€‚<strong>æœ€å¤šä¸¤ä¸ªå­—èŠ‚ç¼–ç </strong></li><li>Unicodeï¼š<strong>å›½é™…æ ‡å‡†ç </strong>ï¼Œèåˆäº†<strong>ç›®å‰äººç±»ä½¿ç”¨çš„æ‰€æœ‰å­—ç¬¦</strong>ã€‚ä¸ºæ¯ä¸ªå­—ç¬¦åˆ†é…å”¯ä¸€çš„å­—ç¬¦ç ã€‚<strong>æ‰€æœ‰çš„æ–‡å­—éƒ½ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤º</strong></li><li>UTF-8ï¼š<strong>å˜é•¿çš„ç¼–ç æ–¹å¼</strong>ï¼Œ<strong>å¯ç”¨1-4ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦</strong></li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645521.png' data-fancybox='default' data-caption='image-20210808152050497'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645521.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645521.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210808152050497"></a><span class='image-caption'>image-20210808152050497</span></div></div><p>Unicodeä¸å®Œç¾ï¼Œè¿™é‡Œå°±æœ‰ä¸‰ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ<strong>è‹±æ–‡å­—æ¯åªç”¨ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºå°±å¤Ÿäº†</strong>ï¼Œç¬¬äºŒä¸ªé—®é¢˜æ˜¯å¦‚ä½•æ‰èƒ½<strong>åŒºåˆ«Unicodeå’ŒASCII</strong>?è®¡ç®—æœº<strong>æ€ä¹ˆçŸ¥é“ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œè€Œä¸æ˜¯åˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªç¬¦å·</strong>å‘¢?ç¬¬ä¸‰ä¸ªï¼Œ<strong>å¦‚æœå’ŒGBKç­‰åŒå­—èŠ‚ç¼–ç æ–¹å¼ä¸€æ ·ï¼Œç”¨æœ€é«˜ä½æ˜¯1æˆ–0è¡¨ç¤ºä¸¤ä¸ªå­—èŠ‚å’Œä¸€ä¸ªå­—èŠ‚ï¼Œå°±å°‘äº†å¾ˆå¤šå€¼æ— æ³•ç”¨äºè¡¨ç¤ºå­—ç¬¦</strong>ï¼Œä¸å¤Ÿè¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ã€‚Unicodeåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æ— æ³•æ¨å¹¿ï¼Œç›´åˆ°äº’è”ç½‘çš„å‡ºç°</p><p>é¢å‘ä¼ è¾“çš„ä¼—å¤šUTFï¼ˆUCS Transfer Formatï¼‰æ ‡å‡†å‡ºç°äº†ï¼Œé¡¾åæ€ä¹‰ï¼Œ<strong>UTF-8å°±æ˜¯æ¯æ¬¡8ä¸ªä½ä¼ è¾“æ•°æ®</strong>ï¼Œè€Œ<strong>UTF-16å°±æ˜¯æ¯æ¬¡16ä¸ªä½</strong>ã€‚è¿™æ˜¯ä¸ºä¼ è¾“è€Œè®¾è®¡çš„ç¼–ç ï¼Œå¹¶ä½¿ç¼–ç æ— å›½ç•Œï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºå…¨ä¸–ç•Œä¸Šæ‰€æœ‰æ–‡åŒ–çš„å­—ç¬¦äº†</p><p><strong>Unicodeåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªåºå¤§çš„ã€å…¨çƒé€šç”¨çš„å­—ç¬¦é›†</strong>ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦è§„å®šäº†å”¯ä¸€ç¡®å®šçš„ç¼–å·ï¼Œå…·ä½“<strong>å­˜å‚¨æˆä»€ä¹ˆæ ·çš„å­—èŠ‚æµï¼Œå–å†³äºå­—ç¬¦ç¼–ç æ–¹æ¡ˆ</strong>ã€‚<strong>æ¨èçš„Unicodeç¼–ç æ˜¯UTF-8å’ŒUTF-16</strong></p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645177.png' data-fancybox='default' data-caption='image-20210808151906856'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645177.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201645177.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210808151906856"></a><span class='image-caption'>image-20210808151906856</span></div></div><p>è¯´æ˜ï¼šåœ¨æ ‡å‡†UTF-8ç¼–ç ä¸­ï¼Œè¶…å‡ºåŸºæœ¬å¤šè¯­è¨€èŒƒå›´(BMP-Basic Multilinqual Plane)çš„å­—ç¬¦è¢«ç¼–ç ä¸º4å­—èŠ‚æ ¼å¼ï¼Œä½†åœ¨ä¿®æ­£çš„UTF-8ç¼–ç ä¸­ï¼Œä»–ä»¬ç”±ä»£ç†ç¼–ç å¯¹( surrogatepairs )è¡¨ç¤ºï¼Œç„¶åè¿™äº›ä»£ç†ç¼–ç å¯¹åœ¨åºåˆ—ä¸­åˆ†åˆ«é‡æ–°ç¼–ç ã€‚ç»“æœæ ‡å‡†UTF-8ç¼–ç ä¸­éœ€è¦4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼Œåœ¨ä¿®æ­£åçš„UTF-8ç¼–ç ä¸­å°†éœ€è¦6ä¸ªå­—èŠ‚</p><h3 id="12-6-æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµï¼ˆå¤„ç†æµä¹‹ä¸‰ï¼‰"><a href="#12-6-æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµï¼ˆå¤„ç†æµä¹‹ä¸‰ï¼‰" class="headerlink" title="12.6 æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµï¼ˆå¤„ç†æµä¹‹ä¸‰ï¼‰"></a>12.6 æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµï¼ˆå¤„ç†æµä¹‹ä¸‰ï¼‰</h3><p>System.inå’ŒSystem.out<strong>åˆ†åˆ«ä»£è¡¨äº†ç³»ç»Ÿæ ‡å‡†çš„è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡</strong></p><p>é»˜è®¤è¾“å…¥è®¾å¤‡æ˜¯ï¼šé”®ç›˜ï¼Œè¾“å‡ºè®¾å¤‡æ˜¯ï¼šæ˜¾ç¤ºå™¨</p><p><strong>System.inçš„ç±»å‹æ˜¯InputStream</strong>ï¼›<strong>System.outçš„ç±»å‹æ˜¯PrintStream</strong>ï¼Œå…¶<strong>æ˜¯OutputStreamçš„å­ç±»FilterOutputStreamçš„å­ç±»</strong></p><p>é‡å®šå‘ï¼šé€šè¿‡Systemç±»çš„setInï¼ŒsetOutæ–¹æ³•<strong>å¯¹é»˜è®¤è®¾å¤‡è¿›è¡Œæ”¹å˜</strong></p><ul><li>public static void setln(InputStream in)</li><li>public static void setOut(PrintStream out)</li></ul><pre><code class="java">//1.æ ‡å‡†çš„è¾“å…¥ã€è¾“å‡ºæµ//system.in:æ ‡å‡†çš„è¾“å…¥æµï¼Œé»˜è®¤ä»é”®ç›˜è¾“å…¥//system.out:æ ‡å‡†çš„è¾“å‡ºæµï¼Œé»˜è®¤ä»æ§åˆ¶å°è¾“å‡ºpublic static void main(String[] args) &#123;    //ä»é”®ç›˜è¾“å…¥å­—ç¬¦ä¸²ï¼Œè¦æ±‚å°†è¯»å–åˆ°çš„æ•´è¡Œå­—ç¬¦ä¸²è½¬æˆå¤§å†™è¾“å‡ºã€‚ç„¶åç»§ç»­è¿›è¡Œè¾“å…¥æ“ä½œï¼Œç›´è‡³å½“è¾“å…¥â€œeâ€æˆ–è€…â€œexitâ€æ—¶ï¼Œé€€å‡ºç¨‹åº    //æ–¹æ³•ä¸€ï¼šä½¿ç”¨Scannerï¼Œè°ƒç”¨next()    //æ–¹æ³•äºŒï¼šä½¿ç”¨System.inã€‚System.in --&gt; è½¬æ¢æµ --&gt; BufferReaderçš„readLine()    BufferedReader bufferedReader = null;//å°†èŠ‚ç‚¹æµçš„å­—ç¬¦æµè¿›è¡ŒåŒ…è£…ï¼Œå˜æˆç¼“å†²æµ    try &#123;        InputStreamReader inputStreamReader = new InputStreamReader(System.in);//å°†æ ‡å‡†è¾“å…¥æµè½¬æ¢æˆå­—ç¬¦æµ        bufferedReader = new BufferedReader(inputStreamReader);//å°†å­—ç¬¦æµä¼ å…¥å¾—åˆ°ä¸€ä¸ªç¼“å†²å­—ç¬¦æµ        while (true)&#123;            System.out.print(&quot;è¯·è¾“å…¥æ•°æ®ï¼š&quot;);            String data = bufferedReader.readLine();//è°ƒç”¨ç¼“å†²å­—ç¬¦æµçš„readLine()æ–¹æ³•è¯»å–ä¸€è¡Œæ•°æ®            if (&quot;e&quot;.equalsIgnoreCase(data) || &quot;exit&quot;.equalsIgnoreCase(data))&#123;//åˆ¤æ–­æ˜¯å¦é€€å‡º                System.out.println(&quot;ç¨‹åºç»“æŸ&quot;);                break;            &#125;            String upperData = data.toUpperCase();//å°†æ•°æ®è½¬æ¢æˆå¤§å†™            System.out.println(upperData);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (bufferedReader != null)                bufferedReader.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h3 id="12-7-æ‰“å°æµ-å¤„ç†æµä¹‹å››"><a href="#12-7-æ‰“å°æµ-å¤„ç†æµä¹‹å››" class="headerlink" title="12.7 æ‰“å°æµ(å¤„ç†æµä¹‹å››)"></a>12.7 æ‰“å°æµ(å¤„ç†æµä¹‹å››)</h3><p><strong>å®ç°å°†åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®æ ¼å¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸²è¾“å‡º</strong></p><p>æ‰“å°æµ(åªæœ‰è¾“å‡ºæµ)ï¼šPrintStreamå’ŒPrintWriter</p><ul><li>æä¾›äº†ä¸€ç³»åˆ—<strong>é‡è½½çš„print()å’Œprintln()æ–¹æ³•ï¼Œç”¨äºå¤šç§æ•°æ®ç±»å‹çš„è¾“å‡º</strong></li><li>PrintStreamå’ŒPrintWriterçš„è¾“å‡º<strong>ä¸ä¼šæŠ›å‡ºlOExceptionå¼‚å¸¸</strong></li><li>PrintStreamå’ŒPrintWriteræœ‰<strong>è‡ªåŠ¨flushåŠŸèƒ½</strong></li><li>PrintStream<strong>æ‰“å°çš„æ‰€æœ‰å­—ç¬¦éƒ½ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦ç¼–ç è½¬æ¢ä¸ºå­—èŠ‚</strong>ã€‚åœ¨éœ€è¦<strong>å†™å…¥å­—ç¬¦è€Œä¸æ˜¯å†™å…¥å­—èŠ‚çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨PrintWriter ç±»</strong></li><li><strong>System.outè¿”å›çš„æ˜¯PrintStreamçš„å®ä¾‹</strong></li></ul><pre><code class="java">@Testpublic void TestPrintStreamWriter()&#123;    PrintStream ps = null;    try &#123;        FileOutputStream fos = new FileOutputStream(new File(&quot;hello3.txt&quot;));        //åˆ›å»ºæ‰“å°è¾“å‡ºæµï¼Œè®¾ç½®ä¸ºè‡ªåŠ¨åˆ·æ–°æ¨¡å¼(å†™å…¥æ¢è¡Œç¬¦æˆ–å­—èŠ‚â€˜\nâ€™æ—¶éƒ½ä¼šåˆ·æ–°è¾“å‡ºç¼“å†²åŒº)        ps = new PrintStream(fos,true);        if (ps != null) &#123;//æŠŠæ ‡å‡†è¾“å‡ºæµ(æ§åˆ¶å°è¾“å‡º)æ”¹æˆæ–‡ä»¶            System.setOut(ps);        &#125;        for (int i = 0; i &lt;= 255; i++) &#123; //è¾“å‡ºASCIIå­—ç¬¦            System.out.print((char) i);            if (i % 50 == 0) &#123;//æ¯50ä¸ªæ•°æ®ä¸€è¡Œ                System.out.println(); //æ¢è¡Œ            &#125;        &#125;    &#125; catch (FileNotFoundException e) &#123;        e.printStackTrace();    &#125; finally &#123;        if (ps != null)            ps.close();    &#125;&#125;</code></pre><h3 id="12-8-æ•°æ®æµ-å¤„ç†æµä¹‹äº”"><a href="#12-8-æ•°æ®æµ-å¤„ç†æµä¹‹äº”" class="headerlink" title="12.8 æ•°æ®æµ(å¤„ç†æµä¹‹äº”)"></a>12.8 æ•°æ®æµ(å¤„ç†æµä¹‹äº”)</h3><p>ä¸ºäº†æ–¹ä¾¿åœ°<strong>æ“ä½œJavaè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®æµ</strong></p><p>æ•°æ®æµæœ‰ä¸¤ä¸ªç±»ï¼š(<strong>ç”¨äºè¯»å–å’Œå†™å‡ºåŸºæœ¬æ•°æ®ç±»å‹ã€Stringç±»çš„æ•°æ®</strong>)</p><ul><li><strong>DatalnputStreamå’Œ DataOutputStream</strong></li><li>åˆ†åˆ«â€œå¥—æ¥â€åœ¨ InputStreamå’Œl OutputStreamå­ç±»çš„æµä¸Š</li></ul><p>DatalnputStreamä¸­çš„æ–¹æ³•ï¼š</p><ul><li>boolean readBoolean()</li><li>byte readByte()</li><li>char readChar()</li><li>float readFloat()</li><li>double readDouble()</li><li>short readShort()</li><li>long readLong()</li><li>int readlnt()</li><li>String readUTF()</li><li>void readFully(byte[] b)</li></ul><p>DataOutputStreamä¸­çš„æ–¹æ³•ï¼šå°†ä¸Šè¿°çš„æ–¹æ³•çš„readæ”¹ä¸ºç›¸åº”çš„writeå³å¯</p><pre><code class="java">@Testpublic void TestDataOutputStream()&#123;    //å°†å†…å­˜ä¸­çš„å­—ç¬¦ä¸²ã€åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡å†™å‡ºåˆ°æ–‡ä»¶å¤¹ä¸­    DataOutputStream dataOutputStream = null;    try &#123;        dataOutputStream = new DataOutputStream(new FileOutputStream(&quot;data.txt&quot;));        dataOutputStream.writeUTF(&quot;å¼ ä¸‰&quot;);        dataOutputStream.flush();//åˆ·æ–°æ“ä½œï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶        dataOutputStream.writeInt(23);        dataOutputStream.flush();        dataOutputStream.writeBoolean(true);        dataOutputStream.flush();    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (dataOutputStream != null)                dataOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;@Testpublic void TestDataInputStream() &#123;    //å°†æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²ã€åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®è¯»å–åˆ°åˆ°å†…å­˜ä¸­    //æ³¨æ„ç‚¹ï¼šè¯»å–æ–‡ä»¶æ•°æ®çš„é¡ºåºå¿…é¡»å’Œä¿å­˜æ•°æ®çš„é¡ºåºä¸€è‡´    DataInputStream dataInputStream = null;    try &#123;        dataInputStream = new DataInputStream(new FileInputStream(&quot;data.txt&quot;));        String name = dataInputStream.readUTF();        int age = dataInputStream.readInt();        boolean sex = dataInputStream.readBoolean();        System.out.println(&quot;name = &quot; + name);        System.out.println(&quot;age = &quot; + age);        System.out.println(&quot;sex&quot; + sex);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (dataInputStream != null)                dataInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h3 id="12-9-å¯¹è±¡æµ-å¤„ç†æµä¹‹å…­"><a href="#12-9-å¯¹è±¡æµ-å¤„ç†æµä¹‹å…­" class="headerlink" title="12.9 å¯¹è±¡æµ(å¤„ç†æµä¹‹å…­)"></a>12.9 å¯¹è±¡æµ(å¤„ç†æµä¹‹å…­)</h3><p>ObjectInputStreamå’ŒOjbectOutputSteamï¼š<strong>ç”¨äºå­˜å‚¨å’Œè¯»å–åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„å¤„ç†æµ</strong>ã€‚å®ƒçš„å¼ºå¤§ä¹‹å¤„å°±æ˜¯<strong>å¯ä»¥æŠŠJavaä¸­çš„å¯¹è±¡å†™å…¥åˆ°æ•°æ®æºä¸­</strong>ï¼Œä¹Ÿ<strong>èƒ½æŠŠå¯¹è±¡ä»æ•°æ®æºä¸­è¿˜åŸå›æ¥</strong></p><p>åºåˆ—åŒ–ï¼š<strong>ç”¨ObjectOutputStreamç±»ä¿å­˜åŸºæœ¬ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</strong></p><p>ååºåˆ—åŒ–ï¼š<strong>ç”¨ObjectInputStreamç±»è¯»å–åŸºæœ¬ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</strong></p><p>ObjectOutputStreamå’ŒObjectInputStream<strong>ä¸èƒ½åºåˆ—åŒ–staticå’Œltransientä¿®é¥°çš„æˆå‘˜å˜é‡</strong></p><h4 id="12-9-1-å¯¹è±¡çš„åºåˆ—åŒ–"><a href="#12-9-1-å¯¹è±¡çš„åºåˆ—åŒ–" class="headerlink" title="12.9.1 å¯¹è±¡çš„åºåˆ—åŒ–"></a>12.9.1 å¯¹è±¡çš„åºåˆ—åŒ–</h4><p>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶å…è®¸æŠŠå†…å­˜ä¸­çš„<strong>Javaå¯¹è±¡è½¬æ¢æˆå¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµ</strong>ï¼Œä»è€Œå…è®¸æŠŠè¿™ç§äºŒè¿›åˆ¶æµæŒä¹…åœ°ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œå°†è¿™ç§äºŒè¿›åˆ¶æµä¼ è¾“åˆ°å¦ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ã€‚å½“<strong>å…¶å®ƒç¨‹åºè·å–äº†è¿™ç§äºŒè¿›åˆ¶æµï¼Œå°±å¯ä»¥æ¢å¤æˆåŸæ¥çš„Javaå¯¹è±¡</strong></p><p>åºåˆ—åŒ–çš„å¥½å¤„åœ¨äº<strong>å¯å°†ä»»ä½•å®ç°äº†Serializableæ¥å£çš„å¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚æ•°æ®</strong>ï¼Œä½¿å…¶åœ¨<strong>ä¿å­˜å’Œä¼ è¾“æ—¶å¯è¢«è¿˜åŸ</strong></p><p>åºåˆ—åŒ–æ˜¯RMI(Remote Method lnvoke - è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰è¿‡ç¨‹çš„å‚æ•°å’Œè¿”å›å€¼éƒ½å¿…é¡»å®ç°çš„æœºåˆ¶ï¼Œè€ŒRMIæ˜¯JavaEEçš„åŸºç¡€ã€‚å› æ­¤<strong>åºåˆ—åŒ–æœºåˆ¶æ˜¯JavaEE å¹³å°çš„åŸºç¡€</strong></p><p>å¦‚æœéœ€è¦<strong>è®©æŸä¸ªå¯¹è±¡æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œåˆ™å¿…é¡»è®©å¯¹è±¡æ‰€å±çš„ç±»åŠå…¶å±æ€§æ˜¯å¯åºåˆ—åŒ–çš„</strong>ï¼Œä¸ºäº†<strong>è®©æŸä¸ªç±»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œè¯¥ç±»å¿…é¡»å®ç°å¦‚ä¸‹ä¸¤ä¸ªæ¥å£ä¹‹ä¸€</strong>ã€‚å¦åˆ™ï¼Œä¼šæŠ›å‡ºNotSerializableExceptionå¼‚å¸¸</p><ul><li><strong>Serializable</strong></li><li><strong>Externalizable</strong></li></ul><h4 id="12-9-2-æµ‹è¯•ObjectOutputStreamå’ŒObjectInputStream"><a href="#12-9-2-æµ‹è¯•ObjectOutputStreamå’ŒObjectInputStream" class="headerlink" title="12.9.2 æµ‹è¯•ObjectOutputStreamå’ŒObjectInputStream"></a>12.9.2 æµ‹è¯•ObjectOutputStreamå’ŒObjectInputStream</h4><pre><code class="java">@Testpublic void TestObjectOutputStream() &#123;    //åºåˆ—åŒ–è¿‡ç¨‹:å°†å†…å­˜ä¸­çš„javaå¯¹è±¡ä¿å­˜åˆ°ç£ç›˜ä¸­æˆ–é€šè¿‡ç½‘ç»œä¼ è¾“å‡ºå‡ºå»:ä½¿ç”¨ObjectOutputStreamå®ç°    ObjectOutputStream objectOutputStream = null;    try &#123;        objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;Object.dat&quot;));        objectOutputStream.writeObject(new String(&quot;æˆ‘çˆ±åŒ—äº¬å¤©å®‰é—¨&quot;));        objectOutputStream.flush();//åˆ·æ–°æ“ä½œ    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if(objectOutputStream != null)                objectOutputStream.close();//å…³é—­        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;@Testpublic void TestObjectInputStream()&#123;    //ååºåˆ—åŒ–è¿‡ç¨‹:å°†ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶ä¸­çš„å¯¹è±¡è¿˜åŸä¸ºå†…å­˜ä¸­çš„javaå¯¹è±¡:ä½¿ç”¨ObjectInputStreamå®ç°    ObjectInputStream objectInputStream = null;    try &#123;        objectInputStream = new ObjectInputStream(new FileInputStream(&quot;Object.dat&quot;));        Object o = objectInputStream.readObject();        String str = (String) o;        System.out.println(str);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; catch (ClassNotFoundException e) &#123;        e.printStackTrace();    &#125; finally &#123;        if(objectInputStream != null) &#123;            try &#123;                objectInputStream.close();//å…³é—­            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;</code></pre><h4 id="12-9-3-è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ"><a href="#12-9-3-è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ" class="headerlink" title="12.9.3 è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ"></a>12.9.3 è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ</h4><p>è‡ªå®šä¹‰ç±»èƒ½è¢«åºåˆ—åŒ–çš„è¦æ±‚ï¼š</p><ol><li>è‡ªå®šä¹‰ç±»éœ€è¦<strong>å®ç°Serializableæ¥å£å’ŒExternalizableæ¥å£ä¹‹ä¸€</strong></li><li>å½“å‰ç±»<strong>æä¾›ä¸€ä¸ªå…¨å±€å¸¸é‡: serialVersionUID</strong></li><li>é™¤äº†å½“å‰Personç±»éœ€è¦å®ç°Serializableæ¥å£ä¹‹å¤–ï¼Œè¿˜å¿…é¡»<strong>ä¿è¯å…¶å†…éƒ¨æ‰€æœ‰å±æ€§(å±æ€§çš„ç±»å‹ä¹Ÿå®ç°æ¥å£)ä¹Ÿå¿…é¡»æ˜¯å¯åºåˆ—åŒ–</strong>çš„(é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹éƒ½å¯åºåˆ—åŒ–)</li></ol><pre><code class="java">public class Person implements Serializable &#123;    public static final long serialVersionUID = 79275029514L;//éšä¾¿èµ‹å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡è¯†    private String name;    private int age;    public Person() &#123;    &#125;    public Person(String name, int age) &#123;        this.name = name;        this.age = age;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public int getAge() &#123;        return age;    &#125;    public void setAge(int age) &#123;        this.age = age;    &#125;    @Override    public String toString() &#123;        return &quot;Person&#123;&quot; +                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +                &quot;, age=&quot; + age +                &#39;&#125;&#39;;    &#125;&#125;</code></pre><pre><code class="java">@Testpublic void TestCustomizeObject()&#123;    //å°†javaå¯¹è±¡åºåˆ—åŒ–    ObjectOutputStream objectOutputStream = null;    try &#123;        objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;Object.dat&quot;));        objectOutputStream.writeObject(new Person(&quot;å¼ ä¸‰&quot;,20));        objectOutputStream.flush();//åˆ·æ–°æ“ä½œ    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if(objectOutputStream != null)                objectOutputStream.close();//å…³é—­        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><pre><code class="java">@Testpublic void TestCustomizeObject()&#123;    //å°†javaå¯¹è±¡ååºåˆ—åŒ–    ObjectInputStream objectInputStream = null;        try &#123;            objectInputStream = new ObjectInputStream(new FileInputStream(&quot;Object.dat&quot;));            Object obj = objectInputStream.readObject();            Person p = (Person) obj;            System.out.println(p);        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125; catch (ClassNotFoundException e) &#123;            e.printStackTrace();        &#125; finally &#123;            if(objectInputStream != null) &#123;                try &#123;                    objectInputStream.close();                &#125; catch (IOException e) &#123;                    e.printStackTrace();                &#125;            &#125;        &#125;&#125;</code></pre><h4 id="12-9-4-åºåˆ—åŒ–æ—¶serialVersionUIDçš„ç†è§£"><a href="#12-9-4-åºåˆ—åŒ–æ—¶serialVersionUIDçš„ç†è§£" class="headerlink" title="12.9.4 åºåˆ—åŒ–æ—¶serialVersionUIDçš„ç†è§£"></a>12.9.4 åºåˆ—åŒ–æ—¶serialVersionUIDçš„ç†è§£</h4><p>å‡¡æ˜¯å®ç°Serializableæ¥å£çš„ç±»éƒ½æœ‰ä¸€ä¸ª<strong>è¡¨ç¤ºåºåˆ—åŒ–ç‰ˆæœ¬æ ‡è¯†ç¬¦çš„é™æ€å˜é‡ï¼šprivate static final long serialVersionUID</strong></p><ul><li>serialVersionUIDç”¨æ¥<strong>è¡¨æ˜ç±»çš„ä¸åŒç‰ˆæœ¬é—´çš„å…¼å®¹æ€§</strong>ã€‚ç®€è¨€ä¹‹ï¼Œå…¶<strong>ç›®çš„æ˜¯ä»¥åºåˆ—åŒ–å¯¹è±¡è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œæœ‰å…³å„ç‰ˆæœ¬ååºåˆ—åŒ–æ—¶æ˜¯å¦å…¼å®¹</strong></li><li>å¦‚æœç±»æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰è¿™ä¸ªé™æ€å¸¸é‡ï¼Œå®ƒçš„å€¼æ˜¯Javaè¿è¡Œæ—¶ç¯å¢ƒæ ¹æ®ç±»çš„å†…éƒ¨ç»†èŠ‚è‡ªåŠ¨ç”Ÿæˆçš„ã€‚è‹¥ç±»çš„å®ä¾‹å˜é‡åšäº†ä¿®æ”¹ï¼ŒserialVersionUIDå¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚æ•…<strong>å»ºè®®ï¼Œæ˜¾å¼å£°æ˜</strong></li></ul><p>ç®€å•æ¥è¯´ï¼Œ<strong>Javaçš„åºåˆ—åŒ–æœºåˆ¶æ˜¯é€šè¿‡åœ¨è¿è¡Œæ—¶åˆ¤æ–­ç±»çš„serialVersionUIDæ¥éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§çš„</strong>ã€‚åœ¨<strong>è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVMä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„serialVersionUIDä¸æœ¬åœ°ç›¸åº”å®ä½“ç±»çš„serialVersionUIDè¿›è¡Œæ¯”è¾ƒ</strong>ï¼Œå¦‚æœç›¸åŒå°±è®¤ä¸ºæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¿›è¡Œååºåˆ—åŒ–ï¼Œå¦åˆ™å°±ä¼šå‡ºç°<strong>åºåˆ—åŒ–ç‰ˆæœ¬ä¸ä¸€è‡´çš„å¼‚å¸¸(InvalidCastException)</strong></p><p>ï¼ˆè‡ªå·±çš„ç†è§£ï¼‰é¦–å…ˆå‡è®¾Personç±»çš„serialVersionUIDè¢«æ˜¾å¼å£°æ˜ï¼Œæ­¤æ—¶å¯¹Personç±»çš„personå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼Œç„¶åæˆ‘ä»¬å¯¹è¿™ä¸ªPersonç±»å†…éƒ¨è¿›è¡Œä¸€äº›æ¯”å¦‚å±æ€§ä¸ªæ•°å¢åŠ ï¼Œæ–¹æ³•å¢å¤šï¼Œå±æ€§å€¼å˜åŒ–ç­‰çš„ä¿®æ”¹ï¼Œç„¶åæˆ‘ä»¬å¯¹å¯¹è±¡personè¿›è¡Œååºåˆ—åŒ–ï¼Œæ­¤æ—¶ç”±äºserialVersionUIDçš„æ˜¾å¼å£°æ˜ï¼Œå³è¢«å”¯ä¸€ç¡®å®šï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¾ç„¶èƒ½æºå¸¦ç€è¢«ä¿®æ”¹çš„éƒ¨åˆ†è¢«è¿˜åŸï¼›å†å‡è®¾Personç±»çš„serialVersionUIDæ²¡æœ‰è¢«æ˜¾å¼å£°æ˜ï¼Œåˆ™personå¯¹è±¡åœ¨è¿›è¡Œåºåˆ—åŒ–æ—¶Javaè¿è¡Œç¯å¢ƒä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªserialVersionUIDï¼Œä½†å½“æˆ‘ä»¬åšäº†ä¸€äº›ä¿®æ”¹åï¼ŒJavaè¿è¡Œç¯å¢ƒä¸ºPersonç±»è‡ªåŠ¨ç”Ÿæˆçš„serialVersionUIDå°±å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVMå°±ä¼šå› ä¸ºserialVersionUIDçš„ä¸åŒæ— æ³•åˆ¤æ–­è¢«åºåˆ—åŒ–çš„å¯¹è±¡personæ˜¯å“ªä¸ªç±»çš„å¯¹è±¡ï¼Œä»è€Œå°±æ— æ³•è¿˜åŸ</p><h3 id="12-10-éšæœºå­˜å–æ–‡ä»¶æµ"><a href="#12-10-éšæœºå­˜å–æ–‡ä»¶æµ" class="headerlink" title="12.10 éšæœºå­˜å–æ–‡ä»¶æµ"></a>12.10 éšæœºå­˜å–æ–‡ä»¶æµ</h3><p>RandomAccessFileå£°æ˜åœ¨java.ioåŒ…ä¸‹ï¼Œä½†<strong>ç›´æ¥ç»§æ‰¿äºjava.lang.Objectç±»</strong>ã€‚å¹¶ä¸”å®ƒ<strong>å®ç°äº†Datalnputã€DataOutputè¿™ä¸¤ä¸ªæ¥å£</strong>ï¼Œä¹Ÿå°±æ„å‘³ç€<strong>è¿™ä¸ªç±»æ—¢å¯ä»¥è¯»ä¹Ÿå¯ä»¥å†™</strong></p><p>RandomAccessFileç±»<strong>æ”¯æŒâ€œéšæœºè®¿é—®â€çš„æ–¹å¼</strong>ï¼Œç¨‹åºå¯ä»¥ç›´æ¥<strong>è·³åˆ°æ–‡ä»¶çš„ä»»æ„åœ°æ–¹æ¥è¯»ã€å†™æ–‡ä»¶</strong></p><ul><li><strong>æ”¯æŒåªè®¿é—®æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹</strong></li><li><strong>å¯ä»¥å‘å·²å­˜åœ¨çš„æ–‡ä»¶åè¿½åŠ å†…å®¹</strong></li></ul><p>RandomAccessFileå¯¹è±¡<strong>åŒ…å«ä¸€ä¸ªè®°å½•æŒ‡é’ˆï¼Œç”¨ä»¥æ ‡ç¤ºå½“å‰è¯»å†™å¤„çš„ä½ç½®</strong></p><p>RandomAccessFile ç±»<strong>å¯¹è±¡å¯ä»¥è‡ªç”±ç§»åŠ¨è®°å½•æŒ‡é’ˆ</strong>ï¼š</p><ul><li>long getFilePointer()ï¼š<strong>è·å–æ–‡ä»¶è®°å½•æŒ‡é’ˆçš„å½“å‰ä½ç½®</strong></li><li>void seek(long pos)ï¼š<strong>å°†æ–‡ä»¶è®°å½•æŒ‡é’ˆå®šä½åˆ°posä½ç½®</strong></li></ul><p><strong>æ„é€ å™¨:</strong></p><ul><li>public RandomAccessFile(File file, String mode)</li><li>public RandomAccessFile(String name, String mode)</li></ul><p><strong>åˆ›å»ºRandomAccessFileç±»å®ä¾‹éœ€è¦æŒ‡å®šä¸€ä¸ªmodeå‚æ•°</strong>ï¼Œè¯¥å‚æ•°<strong>æŒ‡å®šRandomAccessFileçš„è®¿é—®æ¨¡å¼</strong>ï¼š</p><ul><li>rï¼š<strong>ä»¥åªè¯»æ–¹å¼æ‰“å¼€</strong></li><li>rwï¼š<strong>æ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥</strong></li><li>rwdï¼š<strong>æ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹çš„æ›´æ–°</strong></li><li>rwsï¼š<strong>æ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹å’Œå…ƒæ•°æ®çš„æ›´æ–°</strong></li></ul><p>å¦‚æœæ¨¡å¼ä¸º<strong>åªè¯»r</strong>ï¼Œåˆ™<strong>ä¸ä¼šåˆ›å»ºæ–‡ä»¶</strong>ï¼Œè€Œæ˜¯ä¼šå»<strong>è¯»å–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶</strong>ï¼Œå¦‚æœ<strong>è¯»å–çš„æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå‡ºç°å¼‚å¸¸</strong></p><p>å¦‚æœæ¨¡å¼ä¸º<strong>rwè¯»å†™</strong>ã€‚å¦‚æœ<strong>æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå»åˆ›å»ºæ–‡ä»¶</strong>ï¼›å¦‚æœ<strong>å­˜åœ¨åˆ™ä¸ä¼šåˆ›å»º</strong>ï¼Œä½†æ˜¯<strong>ä¼šå¯¹åŸæœ‰æ–‡ä»¶çš„å†…å®¹è¿›è¡Œè¦†ç›–</strong>(é»˜è®¤ä»å¤´è¦†ç›–)</p><p>è¡¥å……ï¼šJDK1.6ä¸Šé¢å†™çš„æ¯æ¬¡writeæ•°æ®æ—¶ï¼Œ**â€rwâ€æ¨¡å¼ï¼Œæ•°æ®ä¸ä¼šç«‹å³å†™åˆ°ç¡¬ç›˜ä¸­<strong>ï¼›è€Œ</strong>â€œrwdâ€ï¼Œæ•°æ®ä¼šè¢«ç«‹å³å†™å…¥ç¡¬ç›˜<strong>ã€‚å¦‚æœå†™æ•°æ®è¿‡ç¨‹å‘ç”Ÿå¼‚å¸¸ï¼Œ</strong>â€œrwdâ€æ¨¡å¼ä¸­å·²è¢«witeçš„æ•°æ®è¢«ä¿å­˜åˆ°ç¡¬ç›˜<strong>ï¼Œè€Œ</strong>â€œrwâ€åˆ™å…¨éƒ¨ä¸¢å¤±**</p><h4 id="12-10-1-RandomAccessFileçš„ä½¿ç”¨"><a href="#12-10-1-RandomAccessFileçš„ä½¿ç”¨" class="headerlink" title="12.10.1 RandomAccessFileçš„ä½¿ç”¨"></a>12.10.1 RandomAccessFileçš„ä½¿ç”¨</h4><h5 id="1-RandomAccessFileå¯¹æ–‡ä»¶æ•°æ®çš„è¯»å–å’Œå†™å…¥"><a href="#1-RandomAccessFileå¯¹æ–‡ä»¶æ•°æ®çš„è¯»å–å’Œå†™å…¥" class="headerlink" title="1.RandomAccessFileå¯¹æ–‡ä»¶æ•°æ®çš„è¯»å–å’Œå†™å…¥"></a>1.RandomAccessFileå¯¹æ–‡ä»¶æ•°æ®çš„è¯»å–å’Œå†™å…¥</h5><pre><code class="java">//RandomAccessFiLeçš„ä½¿ç”¨//1.RandomAccessFileç›´æ¥ç»§æ‰¿äºjava.Lang.objectç±»ï¼Œå®ç°äº†DataInputå’ŒDataOutputæ¥å£//2.RandomAccessFileæ—¢å¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å…¥æµï¼Œåˆå¯ä»¥ä½œä¸ºä¸€ä¸ªè¾“å‡ºæµ@Testpublic void TestRandomAccessFile()&#123;    //å¯¹æ•°æ®è¿›è¡Œè¯»å–å’Œå†™å…¥ï¼ˆå¤åˆ¶ï¼‰    RandomAccessFile randomAccessFile1 = null;    RandomAccessFile randomAccessFile2 = null;    try &#123;        randomAccessFile1 = new RandomAccessFile(new File(&quot;TestImage.jpg&quot;),&quot;r&quot;);        randomAccessFile2 = new RandomAccessFile(new File(&quot;TestImage2.jpg&quot;),&quot;rw&quot;);        byte[] buffer = new byte[1024];        int len;        while ((len = randomAccessFile1.read(buffer)) != -1)&#123;            randomAccessFile2.write(buffer,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        if (randomAccessFile1 != null) &#123;            try &#123;                randomAccessFile1.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        if (randomAccessFile2 != null) &#123;            try &#123;                randomAccessFile2.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;</code></pre><h5 id="2-RandomAccessFileå¯¹æ–‡ä»¶åŸæœ‰æ•°æ®çš„è¦†ç›–æ•ˆæœ"><a href="#2-RandomAccessFileå¯¹æ–‡ä»¶åŸæœ‰æ•°æ®çš„è¦†ç›–æ•ˆæœ" class="headerlink" title="2.RandomAccessFileå¯¹æ–‡ä»¶åŸæœ‰æ•°æ®çš„è¦†ç›–æ•ˆæœ"></a>2.RandomAccessFileå¯¹æ–‡ä»¶åŸæœ‰æ•°æ®çš„è¦†ç›–æ•ˆæœ</h5><pre><code class="java">@Testpublic void Test()&#123;    //å‘æ–‡ä»¶æ·»åŠ æ–°æ•°æ®æ—¶é»˜è®¤ä»å¤´å¼€å§‹è¦†ç›–åŸæœ‰å†…å®¹    RandomAccessFile randomAccessFile = null;    try &#123;        randomAccessFile = new RandomAccessFile(new File(&quot;hello.txt&quot;),&quot;rw&quot;);        randomAccessFile.write(&quot;xyz&quot;.getBytes());//writeå±•ç¤ºå‡ºçš„æ•ˆæœæ˜¯å¯¹åŸæœ‰å†…å®¹çš„è¦†ç›–    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (randomAccessFile != null)                randomAccessFile.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h5 id="3-RandomAccessFileå®ç°å¯¹æ–‡ä»¶æ•°æ®çš„æ’å…¥"><a href="#3-RandomAccessFileå®ç°å¯¹æ–‡ä»¶æ•°æ®çš„æ’å…¥" class="headerlink" title="3.RandomAccessFileå®ç°å¯¹æ–‡ä»¶æ•°æ®çš„æ’å…¥"></a>3.RandomAccessFileå®ç°å¯¹æ–‡ä»¶æ•°æ®çš„æ’å…¥</h5><pre><code class="java">//å®ç°æ•°æ®çš„æ’å…¥@Testpublic void TestRandomAccessFileInsert() throws FileNotFoundException &#123;    RandomAccessFile randomAccessFile = null;    try &#123;        randomAccessFile = new RandomAccessFile(new File(&quot;hello.txt&quot;),&quot;rw&quot;);        randomAccessFile.seek(3);//å°†è§’æ ‡ç§»åŠ¨åˆ°3çš„ä½ç½®(è§’æ ‡ä»0å¼€å§‹)        //å°†æŒ‡é’ˆ3åé¢çš„æ•°æ®å†…å®¹ä¿å­˜åˆ°StringBuilderä¸­        StringBuilder builder = new StringBuilder((int) new File(&quot;hello.txt&quot;).length());        byte[] buffer = new byte[20];        int len;        while ((len = randomAccessFile.read(buffer)) != -1)&#123;            builder.append(new String(buffer,0,len));        &#125;        //å°†æŒ‡é’ˆé‡æ–°å®šä½åˆ°3å¤„        randomAccessFile.seek(3);        randomAccessFile.write(&quot;abc&quot;.getBytes());        //å°†StringBuilderä¸­æ•°æ®å†™å…¥æ–‡ä»¶ä¸­        randomAccessFile.write(builder.toString().getBytes());    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (randomAccessFile != null)                randomAccessFile.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;//æ€è€ƒï¼šå°†StringBuilderæ›¿æ¢ä¸ºByteArrayOutputStream</code></pre><h3 id="12-11-NIO-2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨"><a href="#12-11-NIO-2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨" class="headerlink" title="12.11 NIO.2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨"></a>12.11 NIO.2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨</h3><h4 id="12-11-1-NIOçš„ä»‹ç»"><a href="#12-11-1-NIOçš„ä»‹ç»" class="headerlink" title="12.11.1 NIOçš„ä»‹ç»"></a>12.11.1 NIOçš„ä»‹ç»</h4><p>Java NlO (New lOï¼ŒNon-Blocking lO)æ˜¯ä»Java 1.4ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€å¥—æ–°çš„IO APlï¼Œå¯ä»¥æ›¿ä»£æ ‡å‡†çš„Java lO APIã€‚NIOä¸åŸæ¥çš„IOæœ‰åŒæ ·çš„ä½œç”¨å’Œç›®çš„ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ–¹å¼å®Œå…¨ä¸åŒï¼Œ<strong>NIOæ”¯æŒé¢å‘ç¼“å†²åŒºçš„(IOæ˜¯é¢å‘æµçš„)ã€åŸºäºé€šé“çš„IOæ“ä½œ</strong>ã€‚NIOå°†ä»¥<strong>æ›´åŠ é«˜æ•ˆ</strong>çš„æ–¹å¼è¿›è¡Œæ–‡ä»¶çš„è¯»å†™æ“ä½œ</p><p>JavaAPIä¸­æä¾›äº†ä¸¤å¥—NIOï¼Œ<strong>ä¸€å¥—æ˜¯é’ˆå¯¹æ ‡å‡†è¾“å…¥è¾“å‡ºNIOï¼Œå¦ä¸€å¥—å°±æ˜¯ç½‘ç»œç¼–ç¨‹NIO</strong></p><ul><li>java.nio.channels.Channel<ul><li>FileChannelï¼š<strong>å¤„ç†æœ¬åœ°æ–‡ä»¶</strong></li><li>SocketChannelï¼š<strong>TCPç½‘ç»œç¼–ç¨‹çš„å®¢æˆ·ç«¯çš„Channel</strong></li><li>ServerSocketChannelï¼š<strong>TCPç½‘ç»œç¼–ç¨‹çš„æœåŠ¡å™¨ç«¯çš„Channel</strong></li><li>DatagramChannelï¼š<strong>UDPç½‘ç»œç¼–ç¨‹ä¸­å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„Channel</strong></li></ul></li></ul><p>éšç€JDK7çš„å‘å¸ƒï¼ŒJavaå¯¹NIOè¿›è¡Œäº†æå¤§çš„æ‰©å±•ï¼Œ<strong>å¢å¼ºäº†å¯¹æ–‡ä»¶å¤„ç†å’Œæ–‡ä»¶ç³»ç»Ÿç‰¹æ€§çš„æ”¯æŒ</strong>ï¼Œä»¥è‡³äºæˆ‘ä»¬ç§°ä»–ä»¬ä¸ºNIO.2ã€‚å› ä¸ºNIOæä¾›çš„ä¸€äº›åŠŸèƒ½ï¼ŒNIOå·²ç»æˆä¸ºæ–‡ä»¶å¤„ç†ä¸­è¶Šæ¥è¶Šé‡è¦çš„éƒ¨åˆ†</p><h4 id="12-11-2-Pathã€Pathsã€Filesæ ¸å¿ƒAPI"><a href="#12-11-2-Pathã€Pathsã€Filesæ ¸å¿ƒAPI" class="headerlink" title="12.11.2 Pathã€Pathsã€Filesæ ¸å¿ƒAPI"></a>12.11.2 Pathã€Pathsã€Filesæ ¸å¿ƒAPI</h4><p>æ—©æœŸçš„Javaåªæä¾›äº†ä¸€ä¸ªFileç±»æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œä½†Fileç±»çš„åŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œæ‰€æä¾›çš„æ–¹æ³•æ€§èƒ½ä¹Ÿä¸é«˜ã€‚è€Œä¸”ï¼Œå¤§å¤šæ•°æ–¹æ³•åœ¨å‡ºé”™æ—¶ä»…è¿”å›å¤±è´¥ï¼Œå¹¶ä¸ä¼šæä¾›å¼‚å¸¸ä¿¡æ¯</p><p>NIO. 2ä¸ºäº†å¼¥è¡¥è¿™ç§ä¸è¶³ï¼Œ<strong>å¼•å…¥äº†Pathæ¥å£ï¼Œ ä»£è¡¨ä¸€ä¸ªå¹³å°æ— å…³çš„å¹³å°è·¯å¾„ï¼Œæè¿°äº†ç›®å½•ç»“æ„ä¸­æ–‡ä»¶çš„ä½ç½®</strong>ã€‚Pathå¯ä»¥çœ‹æˆæ˜¯Fileç±»çš„å‡çº§ç‰ˆæœ¬ï¼Œ <strong>å®é™…å¼•ç”¨çš„èµ„æºä¹Ÿå¯ä»¥ä¸å­˜åœ¨</strong></p><p>åœ¨ä»¥å‰IOæ“ä½œéƒ½æ˜¯è¿™æ ·å†™çš„ï¼š<br><code>import java.io.File;</code><br><code>File file = new File(&quot;index.html&quot;);</code><br>ä½†åœ¨Java7ä¸­ï¼Œå¯ä»¥è¿™æ ·å†™:<br><code>import java.nio.file.Path;</code><br><code>import java.nio.file.Paths;</code><br><code>Path path = Paths.get(&quot;index.html&quot;);</code></p><p>åŒæ—¶ï¼ŒNIO.2åœ¨java.nio.fileåŒ…ä¸‹è¿˜æä¾›äº†Filesã€Paths å·¥å…·ç±»ï¼Œ<strong>FilesåŒ…å«äº†å¤§é‡é™æ€çš„å·¥å…·æ–¹æ³•æ¥æ“ä½œæ–‡ä»¶</strong>; <strong>Pathsåˆ™åŒ…å«äº†ä¸¤ä¸ªè¿”å›Pathçš„é™æ€å·¥å‚æ–¹æ³•</strong></p><p>Pathsç±»æä¾›çš„é™æ€get()æ–¹æ³•ç”¨æ¥è·å–Pathå¯¹è±¡ï¼š</p><ul><li>static Path get(String first, Stringâ€¦more)ï¼š<strong>ç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²ä¸²è¿æˆè·¯å¾„</strong></li><li>static Path get(URI uri)ï¼š<strong>è¿”å›æŒ‡å®šuriå¯¹åº”çš„Pathè·¯å¾„</strong></li></ul><h5 id="1-Pathæ¥å£"><a href="#1-Pathæ¥å£" class="headerlink" title="1.Pathæ¥å£"></a>1.Pathæ¥å£</h5><p><strong>Pathå¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>String toString()ï¼š<strong>è¿”å›è°ƒç”¨Pathå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</strong></li><li>boolean startsWith(String path)ï¼š<strong>åˆ¤æ–­æ˜¯å¦ä»¥pathè·¯å¾„å¼€å§‹</strong></li><li>boolean endsWith(String path)ï¼š<strong>åˆ¤æ–­æ˜¯å¦ä»¥pathè·¯å¾„ç»“æŸ</strong></li><li>boolean isAbsolute()ï¼š<strong>åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</strong></li><li>Path getParent()ï¼š<strong>è¿”å›Pathå¯¹è±¡åŒ…å«æ•´ä¸ªè·¯å¾„ï¼Œä¸åŒ…å«Pathå¯¹è±¡æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</strong></li><li>Path getRoot()ï¼š<strong>è¿”å›è°ƒç”¨Pathå¯¹è±¡çš„æ ¹è·¯å¾„</strong></li><li>Path getFileName()ï¼š<strong>è¿”å›ä¸è°ƒç”¨Pathå¯¹è±¡å…³è”çš„æ–‡ä»¶å</strong></li><li>int getNameCount()ï¼š<strong>è¿”å›Pathæ ¹ç›®å½•åé¢å…ƒç´ çš„æ•°é‡</strong></li><li>Path getName(int idx)ï¼š<strong>è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®idxçš„è·¯å¾„åç§°</strong></li><li>Path toAbsolutePath()ï¼š<strong>ä½œä¸ºç»å¯¹è·¯å¾„è¿”å›è°ƒç”¨Path å¯¹è±¡</strong></li><li>Path resolve(Path p)ï¼š<strong>åˆå¹¶ä¸¤ä¸ªè·¯å¾„ï¼Œè¿”å›åˆå¹¶åçš„è·¯å¾„å¯¹åº”çš„Pathå¯¹è±¡</strong></li><li>File toFile()ï¼š<strong>å°†Pathè½¬åŒ–ä¸ºFileç±»çš„å¯¹è±¡</strong></li></ul><h5 id="2-Filesç±»"><a href="#2-Filesç±»" class="headerlink" title="2.Filesç±»"></a>2.Filesç±»</h5><p>java.nio.file.Files<strong>ç”¨äºæ“ä½œæ–‡ä»¶æˆ–ç›®å½•çš„å·¥å…·ç±»</strong></p><p><strong>Fileså¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>Path copy(Path src, Path dest, CopyOptionâ€¦how)ï¼š<strong>æ–‡ä»¶çš„å¤åˆ¶</strong></li><li>Path createDirectory(Path path, FileAttribute&lt;?&gt;â€¦attr)ï¼š<strong>åˆ›å»ºä¸€ä¸ªç›®å½•</strong></li><li>Path createFile(Path path, FileAttribute&lt;?&gt;â€¦arr)ï¼š<strong>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</strong></li><li>void delete(Path path)ï¼š<strong>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶/ç›®å½•</strong>ï¼Œå¦‚æœ<strong>ä¸å­˜åœ¨ï¼Œæ‰§è¡ŒæŠ¥é”™</strong></li><li>void deletelfExists(Path path)ï¼š<strong>Pathå¯¹åº”çš„æ–‡ä»¶/ç›®å½•å¦‚æœå­˜åœ¨ï¼Œæ‰§è¡Œåˆ é™¤</strong></li><li>Path move(Path src, Path dest, CopyOptionâ€¦how)ï¼š<strong>å°†srcç§»åŠ¨åˆ°destä½ç½®</strong></li><li>long size(Path path)ï¼š<strong>è¿”å›pathæŒ‡å®šæ–‡ä»¶çš„å¤§å°</strong></li></ul><p><strong>ç”¨äºåˆ¤æ–­ï¼š</strong></p><ul><li><p>boolean exists(Path path, LinkOptionâ€¦opts)ï¼š<strong>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</strong></p></li><li><p>boolean isDirectory(Path path, LinkOptionâ€¦opts)ï¼š<strong>åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</strong></p></li><li><p>boolean isRegularFile(Path path, LinkOptionâ€¦opts)ï¼š<strong>åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</strong></p></li><li><p>boolean isHidden(Path path)ï¼š<strong>åˆ¤æ–­æ˜¯å¦æ˜¯éšè—æ–‡ä»¶</strong></p></li><li><p>boolean isReadable(Path path)ï¼š<strong>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯è¯»</strong></p></li><li><p>boolean isWritable(Path path)ï¼š<strong>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯å†™</strong></p></li><li><p>boolean notExists(Path path, LinkOptionâ€¦opts)ï¼š<strong>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸å­˜åœ¨</strong></p></li></ul><p><strong>ç”¨äºæ“ä½œå†…å®¹ï¼š</strong></p><ul><li>SeekableByteChannel newByteChannel(Path path, OpenOptionâ€¦how)ï¼š<strong>è·å–ä¸æŒ‡å®šæ–‡ä»¶çš„è¿æ¥,howæŒ‡å®šæ‰“å¼€æ–¹å¼</strong></li><li>DirectoryStream<Path> newDirectoryStream(Path path)ï¼š<strong>æ‰“å¼€pathæŒ‡å®šçš„ç›®å½•</strong></li><li>InputStream newlnputStream(Path path, OpenOptionâ€¦ how)ï¼š<strong>è·å–InputStream å¯¹è±¡</strong></li><li>OutputStream newOutputStream(Path path, OpenOptinâ€¦ how)ï¼š<strong>è·å–OutputStreamå¯¹è±¡</strong></li></ul><h2 id="åä¸‰ã€Javaç½‘ç»œç¼–ç¨‹"><a href="#åä¸‰ã€Javaç½‘ç»œç¼–ç¨‹" class="headerlink" title="åä¸‰ã€Javaç½‘ç»œç¼–ç¨‹"></a>åä¸‰ã€Javaç½‘ç»œç¼–ç¨‹</h2><h3 id="13-1-ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"><a href="#13-1-ç½‘ç»œç¼–ç¨‹æ¦‚è¿°" class="headerlink" title="13.1 ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"></a>13.1 ç½‘ç»œç¼–ç¨‹æ¦‚è¿°</h3><p>Javaæ˜¯Internetä¸Šçš„è¯­è¨€ï¼Œå®ƒä»è¯­è¨€çº§ä¸Š<strong>æä¾›äº†å¯¹ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ”¯æŒ</strong>ï¼Œç¨‹åºå‘˜èƒ½å¤Ÿå¾ˆå®¹æ˜“å¼€å‘å¸¸è§çš„ç½‘ç»œåº”ç”¨ç¨‹åº</p><p>Javaæä¾›çš„ç½‘ç»œç±»åº“ï¼Œå¯ä»¥å®ç°æ— ç—›(ä¸ç”¨å…³æ³¨åº•å±‚)çš„ç½‘ç»œè¿æ¥ï¼Œè”ç½‘çš„åº•å±‚ç»†èŠ‚è¢«éšè—åœ¨Javaçš„æœ¬æœºå®‰è£…ç³»ç»Ÿé‡Œï¼Œç”±JVMè¿›è¡Œæ§åˆ¶ã€‚å¹¶ä¸”Javaå®ç°äº†ä¸€ä¸ªè·¨å¹³å°çš„ç½‘ç»œåº“ï¼Œ<strong>ç¨‹åºå‘˜é¢å¯¹çš„æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œç¼–ç¨‹ç¯å¢ƒ</strong></p><h4 id="13-1-1-ç½‘ç»œåŸºç¡€"><a href="#13-1-1-ç½‘ç»œåŸºç¡€" class="headerlink" title="13.1.1 ç½‘ç»œåŸºç¡€"></a>13.1.1 ç½‘ç»œåŸºç¡€</h4><p>è®¡ç®—æœºç½‘ç»œï¼š<strong>æŠŠåˆ†å¸ƒåœ¨ä¸åŒåœ°ç†åŒºåŸŸçš„è®¡ç®—æœºä¸ä¸“é—¨çš„å¤–éƒ¨è®¾å¤‡ç”¨é€šä¿¡çº¿è·¯äº’è¿æˆä¸€ä¸ªè§„æ¨¡å¤§ã€åŠŸèƒ½å¼ºçš„ç½‘ç»œç³»ç»Ÿï¼Œä»è€Œä½¿ä¼—å¤šçš„è®¡ç®—æœºå¯ä»¥æ–¹ä¾¿åœ°äº’ç›¸ä¼ é€’ä¿¡æ¯ã€å…±äº«ç¡¬ä»¶ã€è½¯ä»¶ã€æ•°æ®ä¿¡æ¯ç­‰èµ„æº</strong></p><p>ç½‘ç»œç¼–ç¨‹çš„ç›®çš„ï¼š<strong>ç›´æ¥æˆ–é—´æ¥åœ°é€šè¿‡ç½‘ç»œåè®®ä¸å…¶å®ƒè®¡ç®—æœºå®ç°æ•°æ®äº¤æ¢ï¼Œè¿›è¡Œé€šè®¯</strong></p><p>ç½‘ç»œç¼–ç¨‹ä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„é—®é¢˜ï¼šâ‘ <strong>å¦‚ä½•å‡†ç¡®åœ°å®šä½ç½‘ç»œä¸Šä¸€å°æˆ–å¤šå°ä¸»æœºï¼›å®šä½ä¸»æœºä¸Šçš„ç‰¹å®šçš„åº”ç”¨</strong>â‘¡<strong>æ‰¾åˆ°ä¸»æœºåå¦‚ä½•å¯é é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®ä¼ è¾“</strong></p><h4 id="13-1-2-å¦‚ä½•å®ç°ç½‘ç»œä¸­çš„ä¸»æœºäº’ç›¸é€šä¿¡-ç½‘ç»œç¼–ç¨‹çš„ä¸¤ä¸ªè¦ç´ "><a href="#13-1-2-å¦‚ä½•å®ç°ç½‘ç»œä¸­çš„ä¸»æœºäº’ç›¸é€šä¿¡-ç½‘ç»œç¼–ç¨‹çš„ä¸¤ä¸ªè¦ç´ " class="headerlink" title="13.1.2 å¦‚ä½•å®ç°ç½‘ç»œä¸­çš„ä¸»æœºäº’ç›¸é€šä¿¡(ç½‘ç»œç¼–ç¨‹çš„ä¸¤ä¸ªè¦ç´ )"></a>13.1.2 å¦‚ä½•å®ç°ç½‘ç»œä¸­çš„ä¸»æœºäº’ç›¸é€šä¿¡(ç½‘ç»œç¼–ç¨‹çš„ä¸¤ä¸ªè¦ç´ )</h4><p><strong>é€šä¿¡åŒæ–¹åœ°å€</strong>ï¼š</p><ul><li><strong>IP</strong></li><li><strong>ç«¯å£å·</strong></li></ul><p>ä¸€å®šçš„è§„åˆ™(å³ï¼š<strong>ç½‘ç»œé€šä¿¡åè®®</strong>ã€‚æœ‰ä¸¤å¥—å‚è€ƒæ¨¡å‹)</p><ul><li><strong>OSIå‚è€ƒæ¨¡å‹ï¼šæ¨¡å‹è¿‡äºç†æƒ³åŒ–</strong>ï¼Œæœªèƒ½åœ¨å› ç‰¹ç½‘ä¸Šè¿›è¡Œå¹¿æ³›æ¨å¹¿</li><li>**TCP/IPå‚è€ƒæ¨¡å‹(æˆ–TCP/IPåè®®)**ï¼šäº‹å®ä¸Šçš„å›½é™…æ ‡å‡†</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646631.png' data-fancybox='default' data-caption='image-20210809110936920'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646631.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646631.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210809110936920"></a><span class='image-caption'>image-20210809110936920</span></div></div><h5 id="1-TCP-IPå‚è€ƒæ¨¡å‹å„å±‚çš„ä½œç”¨"><a href="#1-TCP-IPå‚è€ƒæ¨¡å‹å„å±‚çš„ä½œç”¨" class="headerlink" title="1.TCP/IPå‚è€ƒæ¨¡å‹å„å±‚çš„ä½œç”¨"></a>1.TCP/IPå‚è€ƒæ¨¡å‹å„å±‚çš„ä½œç”¨</h5><p><strong>åº”ç”¨å±‚ï¼šæä¾›åº”ç”¨ç¨‹åºçš„ç½‘ç»œæ¥å£</strong></p><p><strong>ä¼ è¾“å±‚ï¼š</strong>ä¸º<strong>ä¸¤å°ä¸»æœºé—´çš„åº”ç”¨ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡</strong>ã€‚ä¼ è¾“å±‚<strong>ä»åº”ç”¨å±‚æ¥å—æ•°æ®</strong>ï¼Œå¹¶ä¸”åœ¨å¿…è¦çš„æ—¶å€™<strong>æŠŠå®ƒåˆ†æˆè¾ƒå°çš„å•å…ƒ</strong>ï¼Œ<strong>ä¼ é€’ç»™ç½‘ç»œå±‚</strong>ï¼Œå¹¶<strong>ç¡®ä¿åˆ°è¾¾å¯¹æ–¹çš„å„æ®µä¿¡æ¯æ­£ç¡®æ— è¯¯</strong></p><p><strong>ç½‘ç»œå±‚ï¼š</strong>ä¸»è¦åè®®æœ‰IP (Internet protocol) ã€ICMP (Internet Control Message Protocol ï¼Œäº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®)ã€IGMP ( Internet Group Management Protocolï¼Œäº’è”ç½‘ç»„ç®¡ç†åè®®)ã€ARP (Address Resolution Protocol ,åœ°å€è§£æåè®®)å’ŒRARP (Reverse Address Resolution Protocol ï¼Œåå‘åœ°å€è§£æåè®®)ç­‰ã€‚<strong>æ¶‰åŠå¯»å€å’Œè·¯ç”±é€‰æ‹©</strong></p><p><strong>ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚ï¼šæ¶‰åŠç‰©ç†ä»‹è´¨è®¿é—®å’ŒäºŒè¿›åˆ¶æ•°æ®æµä¼ è¾“</strong></p><h5 id="2-å„å±‚æ¶‰åŠåˆ°çš„å…·ä½“åè®®ï¼š"><a href="#2-å„å±‚æ¶‰åŠåˆ°çš„å…·ä½“åè®®ï¼š" class="headerlink" title="2.å„å±‚æ¶‰åŠåˆ°çš„å…·ä½“åè®®ï¼š"></a>2.å„å±‚æ¶‰åŠåˆ°çš„å…·ä½“åè®®ï¼š</h5><p><strong>TCP/IPæ˜¯åŸºäºTCPå’ŒIPè¿™ä¸¤ä¸ªæœ€åˆçš„åè®®ä¹‹ä¸Šçš„ä¸åŒçš„é€šä¿¡åè®®çš„å¤§é›†åˆ</strong>ã€‚åˆç§°ä¸º<strong>TCP/IPåè®®ç°‡</strong></p><table><thead><tr><th>åè®®åç§°</th><th>åè®®ä½œç”¨</th></tr></thead><tbody><tr><td>TCP-ä¼ è¾“æ§åˆ¶åè®®</td><td>TCPç”¨äºä»åº”ç”¨ç¨‹åºåˆ°ç½‘ç»œçš„æ•°æ®ä¼ è¾“æ§åˆ¶<br/>TCPè´Ÿè´£åœ¨æ•°æ®ä¼ é€ä¹‹å‰å°†å®ƒä»¬åˆ†å‰²ä¸ºIPåŒ…ï¼Œç„¶ååœ¨å®ƒä»¬åˆ°è¾¾çš„æ—¶å€™å°†å®ƒä»¬é‡ç»„</td></tr><tr><td>IP-ç½‘é™…åè®®</td><td>IPè´Ÿè´£è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡<br/>IPè´Ÿè´£åœ¨å› ç‰¹ç½‘ä¸Šå‘é€å’Œæ¥æ”¶æ•°æ®åŒ…</td></tr><tr><td>HTTP-è¶…æ–‡æœ¬ä¼ è¾“åè®®</td><td>HTTPè´Ÿè´£webæœåŠ¡å™¨ä¸webæµè§ˆå™¨ä¹‹é—´é—´çš„é€šä¿¡<br/>HTTPç”¨äºä»webå®¢æˆ·ç«¯(æµè§ˆå™¨)ä¸webæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶ä»webæœåŠ¡å™¨å‘webå®¢æˆ·ç«¯è¿”å›å†…å®¹(ç½‘é¡µ)</td></tr><tr><td>HTTPS-å®‰å…¨çš„HTTP</td><td>HTTPSè´Ÿè´£åœ¨webæœåŠ¡å™¨å’Œwebæµè§ˆå™¨ä¹‹é—´çš„å®‰å…¨é€šä¿¡<br/>ä½œä¸ºæœ‰ä»£è¡¨æ€§çš„åº”ç”¨, HTTPSä¼šç”¨äºå¤„ç†ä¿¡ç”¨å¡äº¤æ˜“å’Œå…¶ä»–çš„æ•æ„Ÿæ•°æ®</td></tr><tr><td>SSL-å®‰å…¨å¥—æ¥å­—å±‚</td><td>SSLåè®®ç”¨äºä¸ºå®‰å…¨æ•°æ®ä¼ è¾“åŠ å¯†æ•°æ®</td></tr><tr><td>SMTP-ç®€æ˜“é‚®ä»¶ä¼ è¾“åè®®</td><td>SMTPç”¨äºç”µå­é‚®ä»¶çš„ä¼ è¾“</td></tr><tr><td>MIME-å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•</td><td>MIMEåè®®ä½¿SMTPæœ‰èƒ½åŠ›é€šè¿‡TCP/IPç½‘ç»œä¼ è¾“å¤šåª’ä½“æ–‡ä»¶ ï¼ŒåŒ…æ‹¬å£°éŸ³ã€ è§†é¢‘å’ŒäºŒè¿›åˆ¶æ•°æ®</td></tr><tr><td>IMAP-å› ç‰¹ç½‘æ¶ˆæ¯è®¿é—®åè®®</td><td>IMAPç”¨äºå­˜å‚¨å’Œå–å›ç”µå­é‚®ä»¶</td></tr><tr><td>POP-é‚®å±€åè®®</td><td>POPç”¨äºä»ç”µå­é‚®ä»¶æœåŠ¡å™¨å‘ä¸ªäººç”µè„‘ä¸‹è½½ç”µå­é‚®ä»¶</td></tr><tr><td>FTP-æ–‡ä»¶ä¼ è¾“åè®®</td><td>FTPè´Ÿè´£è®¡ç®—æœºä¹‹é—´çš„æ–‡ä»¶ä¼ è¾“</td></tr><tr><td>NTP-ç½‘ç»œæ—¶é—´åè®®</td><td>NTPç”¨äºåœ¨è®¡ç®—æœºä¹‹é—´åŒæ­¥æ—¶é—´(é’Ÿ)</td></tr><tr><td>DHCP-åŠ¨æ€ä¸»æœºé…ç½®åè®®</td><td>DHCPç”¨äºå‘ç½‘ç»œä¸­çš„è®¡ç®—æœºåˆ†é…åŠ¨æ€IPåœ°å€</td></tr><tr><td>SNMP-ç®€å•ç½‘ç»œç®¡ç†åè®®</td><td>SNMPç”¨äºè®¡ç®—æœºç½‘ç»œçš„ç®¡ç†</td></tr><tr><td>LDAP-è½»é‡çº§çš„ç›®å½•è®¿é—®åè®®</td><td>LDAPç”¨äºä»å› ç‰¹ç½‘æœé›†å…³äºç”¨æˆ·å’Œç”µå­é‚®ä»¶åœ°å€çš„ä¿¡æ¯</td></tr><tr><td>ICMP-å› ç‰¹ç½‘æ¶ˆæ¯æ§åˆ¶åè®®</td><td>ICMPè´Ÿè´£ç½‘ç»œä¸­çš„é”™è¯¯å¤„ç†</td></tr><tr><td>ARP-Address Resolution Protocol</td><td>ARP-ç”¨äºé€šè¿‡IPæ¥æŸ¥æ‰¾åŸºäºIPåœ°å€çš„è®¡ç®—æœºç½‘å¡çš„ç¡¬ä»¶åœ°å€</td></tr><tr><td>BOOTP-Boot Protocol</td><td>BOOTPç”¨äºä»ç½‘ç»œå¯åŠ¨è®¡ç®—æœº</td></tr><tr><td>PPTP-ç‚¹å¯¹ç‚¹éš§é“åè®®</td><td>PPTPç”¨äºç§äººç½‘ç»œä¹‹é—´çš„è¿æ¥(éš§é“)</td></tr></tbody></table><h5 id="3-ç½‘ç»œé€šä¿¡ç¤ºä¾‹å›¾"><a href="#3-ç½‘ç»œé€šä¿¡ç¤ºä¾‹å›¾" class="headerlink" title="3.ç½‘ç»œé€šä¿¡ç¤ºä¾‹å›¾"></a>3.ç½‘ç»œé€šä¿¡ç¤ºä¾‹å›¾</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646935.png' data-fancybox='default' data-caption='image-20210809114126991'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646935.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646935.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210809114126991"></a><span class='image-caption'>image-20210809114126991</span></div></div><h3 id="13-2-é€šä¿¡è¦ç´ 1ï¼šIPå’Œç«¯å£å·"><a href="#13-2-é€šä¿¡è¦ç´ 1ï¼šIPå’Œç«¯å£å·" class="headerlink" title="13.2 é€šä¿¡è¦ç´ 1ï¼šIPå’Œç«¯å£å·"></a>13.2 é€šä¿¡è¦ç´ 1ï¼šIPå’Œç«¯å£å·</h3><h4 id="13-2-1-IPåœ°å€"><a href="#13-2-1-IPåœ°å€" class="headerlink" title="13.2.1 IPåœ°å€"></a>13.2.1 IPåœ°å€</h4><p>IPåœ°å€ï¼šInetAddressï¼ˆJavaä¸­ä¸€ä¸ªInetAddresså¯¹è±¡å°±ä»£è¡¨ä¸€ä¸ªIPåœ°å€ï¼‰</p><ul><li><strong>å”¯ä¸€çš„æ ‡è¯†Internetä¸Šçš„è®¡ç®—æœº</strong>(é€šä¿¡å®ä½“)</li><li><strong>æœ¬åœ°å›ç¯åœ°å€(hostAddress)ï¼š127.0.0.1      ä¸»æœºå(hostName)ï¼šlocalhost</strong></li><li>IPåœ°å€åˆ†ç±»æ–¹å¼1: IPV4 å’ŒIPV6<ul><li>IPV4ï¼š<strong>4ä¸ªå­—èŠ‚ç»„æˆ</strong>ï¼Œ4ä¸ª0-255ã€‚ å¤§æ¦‚42äº¿ï¼Œ30äº¿éƒ½åœ¨åŒ—ç¾ï¼Œäºšæ´²4äº¿ã€‚2011å¹´åˆå·²ç»ç”¨å°½ã€‚ä»¥ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºï¼Œå¦‚192.168.0.1</li><li>VIPV6ï¼š128ä½(16ä¸ªå­—èŠ‚)ï¼Œ<strong>å†™æˆ8ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°ç”¨å››ä¸ªåå…­è¿›åˆ¶ä½è¡¨ç¤º</strong>ï¼Œæ•°ä¹‹é—´ç”¨å†’å·(:)åˆ†å¼€ï¼Œå¦‚: 3ffe:3201:1401:1280:c8ff.fe4d:db39:1984</li></ul></li><li>IPåœ°å€åˆ†ç±»æ–¹å¼2ï¼š**å…¬ç½‘åœ°å€(ä¸‡ç»´ç½‘ä½¿ç”¨)<strong>å’Œ</strong>ç§æœ‰åœ°å€(å±€åŸŸç½‘ä½¿ç”¨)**ã€‚192.168.å¼€å¤´çš„å°±æ˜¯ç§æœ‰å€å€ï¼ŒèŒƒå›´å³ä¸º192.168.0.0â€”â€”192.168.255.255ï¼Œä¸“é—¨ä¸ºç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨</li><li>ç‰¹ç‚¹ï¼šä¸æ˜“è®°å¿†</li></ul><h5 id="1-é€šè¿‡åŸŸåè®¿é—®å¯¹åº”çš„IPåœ°å€çš„ç½‘å€"><a href="#1-é€šè¿‡åŸŸåè®¿é—®å¯¹åº”çš„IPåœ°å€çš„ç½‘å€" class="headerlink" title="1.é€šè¿‡åŸŸåè®¿é—®å¯¹åº”çš„IPåœ°å€çš„ç½‘å€"></a>1.é€šè¿‡åŸŸåè®¿é—®å¯¹åº”çš„IPåœ°å€çš„ç½‘å€</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646648.png' data-fancybox='default' data-caption='image-20210809144629029'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646648.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646648.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210809144629029"></a><span class='image-caption'>image-20210809144629029</span></div></div><h5 id="2-InetAddressç±»çš„ä½¿ç”¨"><a href="#2-InetAddressç±»çš„ä½¿ç”¨" class="headerlink" title="2.InetAddressç±»çš„ä½¿ç”¨"></a>2.InetAddressç±»çš„ä½¿ç”¨</h5><pre><code class="java">//å¦‚ä½•å®ä¾‹åŒ–InetAddress:ä¸¤ä¸ªæ–¹æ³•getByName(String host)ã€getLocalHost()//ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•:getHostName()ã€getHostAddress()InetAddress address = InetAddress.getByName(&quot;192.168.9.59&quot;);//é€šè¿‡å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªIPåœ°å€System.out.println(address);///192.168.9.59InetAddress address1 = InetAddress.getByName(&quot;www.baidu.com&quot;);//é€šè¿‡åŸŸåç„¶åå†…éƒ¨è§£æåç”Ÿæˆä¸€ä¸ªIPåœ°å€System.out.println(address1);//www.baidu.com/14.215.177.39System.out.println(address1.getHostName());//è·å–ä¸»æœºåå­—System.out.println(address1.getHostAddress());//è·å–ä¸»æœºåœ°å€InetAddress address2 = InetAddress.getByName(&quot;127.0.0.1&quot;);//é€šè¿‡å­—ç¬¦ä¸²è·å–æœ¬æœºIPåœ°å€System.out.println(address2);InetAddress address3 = InetAddress.getLocalHost();//å¦ä¸€ç§è·å–æœ¬æœºIPåœ°å€çš„æ–¹æ³•System.out.println(address3);</code></pre><h4 id="13-2-2-ç«¯å£å·"><a href="#13-2-2-ç«¯å£å·" class="headerlink" title="13.2.2 ç«¯å£å·"></a>13.2.2 ç«¯å£å·</h4><p><strong>ç«¯å£å·æ ‡è¯†æ­£åœ¨è®¡ç®—æœºä¸Šè¿è¡Œçš„è¿›ç¨‹(ç¨‹åº)</strong></p><ul><li><strong>ä¸åŒçš„è¿›ç¨‹æœ‰ä¸åŒçš„ç«¯å£å·</strong></li><li>è¢«è§„å®šä¸ºä¸€ä¸ª<strong>16ä½çš„æ•´æ•°0~65535</strong></li><li>ç«¯å£åˆ†ç±»ï¼š<ul><li><strong>å…¬è®¤ç«¯å£ï¼š0~1023</strong>ã€‚ è¢«<strong>é¢„å…ˆå®šä¹‰çš„æœåŠ¡é€šä¿¡å ç”¨</strong>(å¦‚: HTTPå ç”¨ç«¯å£<br>  80ï¼ŒFTPå ç”¨ç«¯å£21ï¼ŒTelnetå ç”¨ç«¯å£23)</li><li><strong>æ³¨å†Œç«¯å£ï¼š1024~49151</strong>ã€‚ <strong>åˆ†é…ç»™ç”¨æˆ·è¿›ç¨‹æˆ–åº”ç”¨ç¨‹åº</strong>ã€‚( å¦‚: Tomcatå <br>  ç”¨ç«¯å£8080ï¼ŒMySQLå ç”¨ç«¯å£3306ï¼ŒOracle å ç”¨ç«¯å£1521ç­‰)</li><li><strong>åŠ¨æ€/ç§æœ‰ç«¯å£ï¼š49152~65535</strong></li></ul></li></ul><p><strong>ç«¯å£å·ä¸IPåœ°å€çš„ç»„åˆå¾—å‡ºä¸€ä¸ªç½‘ç»œå¥—æ¥å­—ï¼šSocket</strong></p><h5 id="1-ä¸¤å°ä¸»æœºé—´åŒä¸€åº”ç”¨çš„é€šä¿¡ï¼š"><a href="#1-ä¸¤å°ä¸»æœºé—´åŒä¸€åº”ç”¨çš„é€šä¿¡ï¼š" class="headerlink" title="1.ä¸¤å°ä¸»æœºé—´åŒä¸€åº”ç”¨çš„é€šä¿¡ï¼š"></a>1.ä¸¤å°ä¸»æœºé—´åŒä¸€åº”ç”¨çš„é€šä¿¡ï¼š</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646269.png' data-fancybox='default' data-caption='image-20210809150824749'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646269.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646269.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210809150824749"></a><span class='image-caption'>image-20210809150824749</span></div></div><h3 id="13-3-é€šä¿¡è¦ç´ 2ï¼šç½‘ç»œé€šä¿¡åè®®"><a href="#13-3-é€šä¿¡è¦ç´ 2ï¼šç½‘ç»œé€šä¿¡åè®®" class="headerlink" title="13.3 é€šä¿¡è¦ç´ 2ï¼šç½‘ç»œé€šä¿¡åè®®"></a>13.3 é€šä¿¡è¦ç´ 2ï¼šç½‘ç»œé€šä¿¡åè®®</h3><p>ç½‘ç»œé€šä¿¡åè®®ï¼šè®¡ç®—æœºç½‘ç»œä¸­å®ç°é€šä¿¡å¿…é¡»æœ‰ä¸€äº›çº¦å®šï¼Œå³é€šä¿¡åè®®ï¼Œ<strong>å¯¹é€Ÿç‡ã€ä¼ è¾“ä»£ç ã€ä»£ç ç»“æ„ã€ä¼ è¾“æ§åˆ¶æ­¥éª¤ã€å‡ºé”™æ§åˆ¶ç­‰åˆ¶å®šæ ‡å‡†</strong></p><p>è®¡ç®—æœºç½‘ç»œé€šä¿¡æ¶‰åŠå†…å®¹å¾ˆå¤šï¼Œæ¯”å¦‚æŒ‡å®šæºåœ°å€å’Œç›®æ ‡åœ°å€ï¼ŒåŠ å¯†è§£å¯†ï¼Œå‹ç¼©è§£å‹ç¼©ï¼Œå·®é”™æ§åˆ¶ï¼Œæµé‡æ§åˆ¶ï¼Œè·¯ç”±æ§åˆ¶ï¼Œè¿™å°±äº§ç”Ÿäº†å¦‚ä½•å®ç°å¦‚æ­¤å¤æ‚çš„ç½‘ç»œåè®®çš„é—®é¢˜</p><p><strong>é€šä¿¡åè®®åˆ†å±‚çš„æ€æƒ³</strong>ï¼šåœ¨åˆ¶å®šåè®®æ—¶ï¼ŒæŠŠ<strong>å¤æ‚æˆä»½åˆ†è§£æˆä¸€äº›ç®€å•çš„æˆä»½ï¼Œå†å°†å®ƒä»¬å¤åˆèµ·æ¥</strong>ã€‚æœ€å¸¸ç”¨çš„å¤åˆæ–¹å¼æ˜¯å±‚æ¬¡æ–¹å¼ï¼Œå³<strong>åŒå±‚é—´å¯ä»¥é€šä¿¡ã€ä¸Šä¸€å±‚å¯ä»¥è°ƒç”¨ä¸‹ä¸€å±‚ï¼Œè€Œä¸å†ä¸‹ä¸€å±‚ä¸å‘ç”Ÿå…³ç³»</strong>ã€‚<strong>å„å±‚äº’ä¸å½±å“ï¼Œåˆ©äºç³»ç»Ÿçš„å¼€å‘å’Œæ‰©å±•</strong></p><h4 id="13-3-1-TCP-IPåè®®ç°‡"><a href="#13-3-1-TCP-IPåè®®ç°‡" class="headerlink" title="13.3.1 TCP/IPåè®®ç°‡"></a>13.3.1 TCP/IPåè®®ç°‡</h4><p>æ¶‰åŠåˆ°<strong>ä¼ è¾“å±‚å’Œç½‘ç»œå±‚</strong>çš„åè®®</p><p><strong>ä¼ è¾“å±‚åè®®</strong>ä¸­æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„åè®®:</p><ul><li><strong>ä¼ è¾“æ§åˆ¶åè®®TCP</strong>(Transmission Control Protocol)</li><li><strong>ç”¨æˆ·æ•°æ®æŠ¥åè®®UDP</strong>(User Datagram Protocol)</li></ul><p><strong>TCP/IPä»¥å…¶ä¸¤ä¸ªä¸»è¦åè®®ï¼šä¼ è¾“æ§åˆ¶åè®®(TCP)å’Œç½‘ç»œäº’è”åè®®(IP)<strong>è€Œå¾—åï¼Œå®é™…ä¸Šæ˜¯ä¸€ç»„åè®®ï¼Œ</strong>åŒ…æ‹¬å¤šä¸ªå…·æœ‰ä¸åŒåŠŸèƒ½ä¸”äº’ä¸ºå…³è”çš„åè®®</strong></p><ul><li>IP(Internet Protocol)åè®®æ˜¯<strong>ç½‘ç»œå±‚</strong>çš„ä¸»è¦åè®®ï¼Œ<strong>æ”¯æŒç½‘é—´äº’è¿çš„æ•°æ®é€šä¿¡</strong></li><li>TCP/IPåè®®æ¨¡å‹ä»æ›´å®ç”¨çš„è§’åº¦å‡ºå‘ï¼Œ<strong>å½¢æˆäº†é«˜æ•ˆçš„å››å±‚ä½“ç³»ç»“æ„ï¼Œå³ç‰©ç†é“¾è·¯å±‚ã€IPå±‚ã€ä¼ è¾“å±‚å’Œåº”ç”¨å±‚</strong></li></ul><h4 id="13-3-2-ä¼ è¾“å±‚çš„TCPå’ŒUDPåè®®ä¸»è¦åŒºåˆ«"><a href="#13-3-2-ä¼ è¾“å±‚çš„TCPå’ŒUDPåè®®ä¸»è¦åŒºåˆ«" class="headerlink" title="13.3.2 ä¼ è¾“å±‚çš„TCPå’ŒUDPåè®®ä¸»è¦åŒºåˆ«"></a>13.3.2 ä¼ è¾“å±‚çš„TCPå’ŒUDPåè®®ä¸»è¦åŒºåˆ«</h4><p>TCPåè®®ï¼š</p><ul><li><strong>ä½¿ç”¨TCPåè®®å‰ï¼Œé¡»å…ˆå»ºç«‹TCPè¿æ¥</strong>ï¼Œå½¢æˆä¼ è¾“æ•°æ®é€šé“</li><li>ä¼ è¾“å‰ï¼Œ<strong>é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€æ–¹å¼ï¼Œç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œæ˜¯å¯é çš„</strong></li><li>TCPåè®®è¿›è¡Œé€šä¿¡çš„ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹ï¼š<strong>å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯</strong></li><li>åœ¨è¿æ¥ä¸­å¯è¿›è¡Œ<strong>å¤§æ•°æ®é‡çš„ä¼ è¾“</strong></li><li>ä¼ è¾“å®Œæ¯•ï¼Œ<strong>éœ€é‡Šæ”¾å·²å»ºç«‹çš„è¿æ¥ï¼Œæ•ˆç‡ä½</strong></li></ul><p>UDPåè®®ï¼š</p><ul><li>å°†æ•°æ®ã€æºã€ç›®çš„å°è£…æˆæ•°æ®åŒ…ï¼Œ<strong>ä¸éœ€è¦å»ºç«‹è¿æ¥</strong></li><li><strong>æ¯ä¸ªæ•°æ®æŠ¥çš„å¤§å°é™åˆ¶åœ¨64Kå†…</strong></li><li>å‘é€ä¸ç®¡å¯¹æ–¹æ˜¯å¦å‡†å¤‡å¥½ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°ä¹Ÿä¸ç¡®è®¤ï¼Œæ•…æ˜¯<strong>ä¸å¯é çš„</strong></li><li><strong>å¯ä»¥å¹¿æ’­å‘é€</strong></li><li>å‘é€æ•°æ®ç»“æŸæ—¶<strong>æ— éœ€é‡Šæ”¾èµ„æºï¼Œå¼€é”€å°ï¼Œé€Ÿåº¦å¿«</strong></li></ul><p>TCPç”Ÿæ´»æ¡ˆä¾‹ï¼šæ‰“ç”µè¯<br>UDPç”Ÿæ´»æ¡ˆä¾‹ï¼šå‘é€çŸ­ä¿¡ã€å‘ç”µæŠ¥</p><h5 id="1-TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"><a href="#1-TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="1.TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"></a>1.TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</h5><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646649.png' data-fancybox='default' data-caption='undefined'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646649.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646649.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a><span></span></div></div><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€SYNåŒ…ï¼ˆseq=xï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰</p><p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·ç«¯çš„SYNï¼ˆack=x+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆseq=yï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€</p><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1)ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹</p><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646957.png' data-fancybox='default' data-caption='image-20210809153742315'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646957.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201646957.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210809153742315"></a><span class='image-caption'>image-20210809153742315</span></div></div><p>å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å‡å¯ä¸»åŠ¨å‘èµ·æŒ¥æ‰‹åŠ¨ä½œï¼Œåœ¨socketç¼–ç¨‹ä¸­ï¼Œä»»ä½•ä¸€æ–¹æ‰§è¡Œclose0æ“ä½œå³å¯äº§ç”ŸæŒ¥æ‰‹æ“ä½œ</p><p>(1)å®¢æˆ·ç«¯Aå‘é€ä¸ªFINï¼Œç”¨æ¥å…³é—­å®¢æˆ·Aåˆ°æœåŠ¡å™¨Bçš„æ•°æ®ä¼ é€</p><p>(2)æœåŠ¡å™¨Bæ”¶åˆ°è¿™ä¸ªFINï¼Œå®ƒå‘å›ä¸ªACKï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·åŠ 1å’ŒSYNä¸€æ ·ï¼Œä¸€ä¸ªFINå°†å ç”¨ä¸€ä¸ªåºå·</p><p>(3)æœåŠ¡å™¨Bå…³é—­ä¸å®¢æˆ·ç«¯Açš„è¿æ¥ï¼Œå‘é€ä¸ªFINç»™å®¢æˆ·ç«¯A</p><p>(4)å®¢æˆ·ç«¯Aå‘å›ACKæŠ¥æ–‡ç¡®è®¤,å¹¶å°†ç¡®è®¤åºå·è®¾ç½®ä¸ºæ”¶åˆ°åºå·åŠ 1</p><h3 id="13-4-TCPç½‘ç»œç¼–ç¨‹"><a href="#13-4-TCPç½‘ç»œç¼–ç¨‹" class="headerlink" title="13.4 TCPç½‘ç»œç¼–ç¨‹"></a>13.4 TCPç½‘ç»œç¼–ç¨‹</h3><h4 id="13-4-1-å®ä¾‹1ï¼šå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°"><a href="#13-4-1-å®ä¾‹1ï¼šå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°" class="headerlink" title="13.4.1 å®ä¾‹1ï¼šå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°"></a>13.4.1 å®ä¾‹1ï¼šå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°</h4><pre><code class="java">//å®ç°TCPç½‘ç»œç¼–ç¨‹//å®ä¾‹1:å®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°//æµ‹è¯•ç¨‹åºæ—¶è¦å…ˆå¯åŠ¨æœåŠ¡å™¨ç«¯ç­‰å¾…å®¢æˆ·ç«¯å‘¼å«@Testpublic void Client()&#123;//å®¢æˆ·ç«¯    Socket socket = null;    OutputStream outputStream = null;    try &#123;        //1.åˆ›å»ºIPåœ°å€å¯¹è±¡        InetAddress address = InetAddress.getByName(&quot;127.0.0.1&quot;);//æœåŠ¡å™¨IPåœ°å€ï¼Œç”±äºæ˜¯è‡ªå·±æµ‹è¯•ï¼Œæ‰€ä»¥ç”¨æœ¬æœºIP        //2.åˆ›å»ºSocketå¯¹è±¡ï¼ŒæŒ‡æ˜æœåŠ¡å™¨ç«¯çš„ipå’Œç«¯å£å·        socket = new Socket(address,8899);//åˆ©ç”¨è¦ä¼ è¾“åˆ°çš„IPåœ°å€å’Œä¼ è¾“åˆ°çš„ç«¯å£å·åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—Socketå¯¹è±¡        //3.è·å–ä¸€ä¸ªè¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºæ•°æ®        outputStream = socket.getOutputStream();//é€šè¿‡è¿™ä¸ªå¯¹è±¡è·å–ä¸€ä¸ªè¾“å‡ºæµ        //4.è¾“å‡ºæ•°æ®        outputStream.write(&quot;ä½ å¥½ï¼Œæˆ‘æ˜¯å®¢æˆ·ç«¯&quot;.getBytes());//è¾“å‡ºå†…å®¹åˆ°æœåŠ¡ç«¯    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;//5.å…³é—­èµ„æº        if (outputStream != null) &#123;            try &#123;                outputStream.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        if (socket != null) &#123;            try &#123;                socket.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;@Testpublic void Server()&#123;//æœåŠ¡å™¨ç«¯    ServerSocket serverSocket = null;    Socket socket = null;    InputStream inputStream = null;    ByteArrayOutputStream byteArrayOutputStream = null;    try &#123;        //1.åˆ›å»ºServerSocketå¯¹è±¡ï¼ŒæŒ‡æ˜è‡ªå·±çš„ç«¯å£å·        serverSocket = new ServerSocket(8899);        //2.è°ƒç”¨accept()æ–¹æ³•æ¥æ¥æ”¶å®¢æˆ·ç«¯ä¼ è¾“è¿‡æ¥çš„socket        socket = serverSocket.accept();        //3.è·å–ä¸€ä¸ªè¾“å…¥æµæ¥è¯»å–æ•°æ®        inputStream = socket.getInputStream();        //è¿™æ ·å†™å¯èƒ½ä¼šä¹±ç ï¼Œå¦‚æœä¼ è¿‡æ¥çš„ä¿¡æ¯çš„å­—èŠ‚æµå› ä¸ºbufferæ•°ç»„çš„å®¹é‡ä¸å¤Ÿå¤§ï¼Œè¯»å–çš„æ—¶å€™è¢«æ‹†æ•£å¼€ï¼Œé‚£ä¹ˆåœ¨è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ—¶å€™å°±å¯èƒ½ä¼šå‡ºç°ä¹±ç         //æ¯”å¦‚å®¢æˆ·ç«¯ä¼ è¿‡æ¥ä¸€æ®µä¸­æ–‡ï¼Œbufferæ•°ç»„çš„å®¹é‡åˆä¸º5ï¼Œå³ä¸€æ¬¡æ€§åªèƒ½è¯»å–5ä¸ªå­—èŠ‚ï¼Œè€Œä¸€ä¸ªä¸­æ–‡å­—ç¬¦å¦‚æœå 3ä¸ªå­—èŠ‚ï¼Œ        //é‚£ä¹ˆç¬¬äºŒä¸ªä¸­æ–‡å­—ç¬¦çš„å­—èŠ‚å°±ä¼šè¢«æ‹†æ•£å¼€ï¼Œåœ¨å¦ä¸€éƒ¨åˆ†å­—èŠ‚è¢«è¯»å–ä¹‹å‰ï¼Œæˆ‘ä»¬åˆéœ€è¦æŠŠå·²è¯»å–çš„å­—èŠ‚è½¬æ¢æˆå­—ç¬¦ä¸²è¾“å‡ºå‡ºæ¥ï¼Œè¿™æ—¶å€™å°±å¯èƒ½ä¼šå‡ºç°ä¹±ç         //byte[] buffer = new byte[20];        //int len;        //while ((len = inputStream.read(buffer)) != -1)&#123;        //    String str = new String(buffer,0,len);        //    System.out.println(str);        //&#125;        //4.è¯»å–è¾“å…¥æµä¸­æ•°æ®        byteArrayOutputStream = new ByteArrayOutputStream();        //5.å¯¹æ•°æ®è¿›è¡Œæ“ä½œ        byte[] buffer = new byte[5];        int len;        while ((len = inputStream.read(buffer)) != -1)&#123;            byteArrayOutputStream.write(buffer,0,len);        &#125;        System.out.println(byteArrayOutputStream.toString());        System.out.println(&quot;æ”¶åˆ°æ¥è‡ª&quot; + socket.getInetAddress().getHostAddress() + &quot;çš„æ¶ˆæ¯&quot;);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;//6.å…³é—­èµ„æº        if ((socket != null)) &#123;            try &#123;                socket.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        if (serverSocket != null) &#123;            try &#123;                serverSocket.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        if (inputStream != null) &#123;            try &#123;                inputStream.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;        if (byteArrayOutputStream != null) &#123;            try &#123;                byteArrayOutputStream.close();            &#125; catch (IOException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;</code></pre><h4 id="13-4-2-å®ä¾‹2ï¼šå®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°"><a href="#13-4-2-å®ä¾‹2ï¼šå®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°" class="headerlink" title="13.4.2 å®ä¾‹2ï¼šå®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°"></a>13.4.2 å®ä¾‹2ï¼šå®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°</h4><pre><code class="java">//å®ä¾‹2:å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°@Testpublic void Client()&#123;//å®¢æˆ·ç«¯    Socket socket = null;    OutputStream outputStream = null;    FileInputStream fileInputStream = null;    try &#123;        //1.åˆ›å»ºIPåœ°å€å¯¹è±¡        InetAddress address = InetAddress.getByName(&quot;127.0.0.1&quot;);        //2.åˆ›å»ºSocketå¯¹è±¡        socket = new Socket(address,9090);        //3.è·å–è¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºæ•°æ®åˆ°æœåŠ¡å™¨ç«¯        outputStream = socket.getOutputStream();        //4.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼Œè¯»å–æ–‡ä»¶åˆ°æ•°ç»„bufferä¸­è®©è¾“å‡ºæµè¾“å‡º        fileInputStream = new FileInputStream(new File(&quot;TestImage.jpg&quot;));        byte[] buffer = new byte[1024];        int len;        while ((len = fileInputStream.read(buffer)) != -1)&#123;            outputStream.write(buffer,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;//5.å…³é—­èµ„æº        try &#123;            if (fileInputStream != null)                fileInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (outputStream != null)                outputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (socket != null)                socket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;@Testpublic void Server()&#123;//æœåŠ¡å™¨ç«¯    ServerSocket serverSocket = null;    Socket socket = null;    InputStream inputStream = null;    FileOutputStream fileOutputStream = null;    try &#123;        //1.åˆ›å»ºServerSocketå¯¹è±¡        serverSocket = new ServerSocket(9090);        //2.è°ƒç”¨ServerSocketçš„accept()æ–¹æ³•è·å–å®¢æˆ·ç«¯çš„å¥—æ¥å­—å¯¹è±¡ä»¥è¿›è¡Œé€šä¿¡        socket = serverSocket.accept();        //3.è·å–ä¸€ä¸ªè¾“å…¥æµæ¥è¯»å–å®¢æˆ·ç«¯çš„æ•°æ®        inputStream = socket.getInputStream();        //4.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµï¼ŒæŠŠå®¢æˆ·ç«¯çš„æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°        fileOutputStream = new FileOutputStream(new File(&quot;SocketImage.jpg&quot;));        //5.ç”¨è¾“å…¥æµè¯»å–å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå†è®©æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµè¾“å‡ºæ•°æ®ä¿å­˜åˆ°æœ¬åœ°        byte[] buffer = new byte[1024];        int len;        while ((len = inputStream.read(buffer)) != -1)&#123;            fileOutputStream.write(buffer,0,len);        &#125;    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        try &#123;            if (fileOutputStream != null)                fileOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (inputStream != null)                inputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (socket != null)                socket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (serverSocket != null)                serverSocket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="13-4-3-å®ä¾‹3ï¼šä»å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¹¶è¿”å›â€œå‘é€æˆåŠŸâ€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶å…³é—­ç›¸åº”çš„è¿æ¥"><a href="#13-4-3-å®ä¾‹3ï¼šä»å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¹¶è¿”å›â€œå‘é€æˆåŠŸâ€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶å…³é—­ç›¸åº”çš„è¿æ¥" class="headerlink" title="13.4.3 å®ä¾‹3ï¼šä»å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¹¶è¿”å›â€œå‘é€æˆåŠŸâ€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶å…³é—­ç›¸åº”çš„è¿æ¥"></a>13.4.3 å®ä¾‹3ï¼šä»å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¹¶è¿”å›â€œå‘é€æˆåŠŸâ€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶å…³é—­ç›¸åº”çš„è¿æ¥</h4><pre><code class="java">//3.ä»å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜åˆ°æœ¬åœ°,å¹¶è¿”å›â€œå‘é€æˆåŠŸâ€ç»™å®¢æˆ·ç«¯,å¹¶å…³é—­ç›¸åº”çš„è¿æ¥@Testpublic void Client()&#123;    Socket socket = null;    OutputStream outputStream = null;    FileInputStream fileInputStream = null;    InputStream inputStream = null;    ByteArrayOutputStream byteArrayOutputStream = null;    try &#123;        //1.åˆ›å»ºIPåœ°å€å¯¹è±¡        InetAddress address = InetAddress.getByName(&quot;127.0.0.1&quot;);        //2.åˆ›å»ºSocketå¯¹è±¡        socket = new Socket(address,9090);        //3.è·å–è¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºæ•°æ®åˆ°æœåŠ¡å™¨ç«¯        outputStream = socket.getOutputStream();        //4.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼Œè¯»å–æ–‡ä»¶åˆ°æ•°ç»„bufferä¸­è®©è¾“å‡ºæµè¾“å‡º        fileInputStream = new FileInputStream(new File(&quot;TestImage.jpg&quot;));        byte[] buffer = new byte[1024];        int len;        while ((len = fileInputStream.read(buffer)) != -1)&#123;            outputStream.write(buffer,0,len);        &#125;        //æ³¨æ„ï¼Œæ­¤å¤„éœ€è¦åˆ©ç”¨socketå¯¹è±¡å…³é—­è¾“å‡ºæµæ¥å‘Šè¯‰æœåŠ¡å™¨ç«¯ä¼ è¾“å·²å®Œæˆï¼Œå¦åˆ™æœåŠ¡å™¨ç«¯å°±ä¼šä¸€ç›´ç­‰å¾…å®¢æˆ·ç«¯çš„ä¸‹ä¸€æ¬¡ä¼ è¾“è€Œä¸æ‰§è¡Œä¸‹æ–¹çš„åé¦ˆä»£ç         socket.shutdownOutput();        //5.è·å–ä¸€ä¸ªè¾“å…¥æµï¼Œç”¨äºè¯»å–æ¥è‡ªæœåŠ¡å™¨ç«¯çš„æ•°æ®        inputStream = socket.getInputStream();        //6.åˆ›å»ºå­—èŠ‚æ•°ç»„è¾“å‡ºæµï¼Œç”¨äºå°†è¾“å…¥æµè¯»å–çš„æœåŠ¡å™¨ç«¯æ•°æ®è¾“å‡º        byteArrayOutputStream = new ByteArrayOutputStream();        byte[] buffer1 = new byte[20];//å­˜å‚¨è¯»å–åˆ°çš„æ•°æ®        int len1;        while ((len1 = inputStream.read(buffer1)) != -1)&#123;            byteArrayOutputStream.write(buffer1,0,len1);//å°†è¯»å–åˆ°çš„æ•°æ®å†™åˆ°è‡ªèº«ç±»å®šä¹‰çš„æ•°ç»„ä¸­        &#125;        System.out.println(byteArrayOutputStream.toString());//å°†æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²è¾“å‡ºåˆ°æ§åˆ¶å°    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;//7.å…³é—­èµ„æº        try &#123;            if (fileInputStream != null)                fileInputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (outputStream != null)                outputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (socket != null)                socket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (inputStream != null)                inputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (byteArrayOutputStream != null)                byteArrayOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;@Testpublic void Server()&#123;    ServerSocket serverSocket = null;    Socket socket = null;    InputStream inputStream = null;    FileOutputStream fileOutputStream = null;    OutputStream outputStream = null;    try &#123;        //1.åˆ›å»ºServerSocketå¯¹è±¡        serverSocket = new ServerSocket(9090);        //2.è°ƒç”¨ServerSocketçš„accept()æ–¹æ³•è·å–å®¢æˆ·ç«¯çš„å¥—æ¥å­—å¯¹è±¡ä»¥è¿›è¡Œé€šä¿¡        socket = serverSocket.accept();        //3.è·å–ä¸€ä¸ªè¾“å…¥æµæ¥è¯»å–å®¢æˆ·ç«¯çš„æ•°æ®        inputStream = socket.getInputStream();        //4.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµï¼ŒæŠŠå®¢æˆ·ç«¯çš„æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°        fileOutputStream = new FileOutputStream(new File(&quot;SocketImage1.jpg&quot;));        //5.ç”¨è¾“å…¥æµè¯»å–å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå†è®©æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµè¾“å‡ºæ•°æ®ä¿å­˜åˆ°æœ¬åœ°        byte[] buffer = new byte[1024];        int len;        while ((len = inputStream.read(buffer)) != -1)&#123;            fileOutputStream.write(buffer,0,len);        &#125;        System.out.println(&quot;æ¥æ”¶æ•°æ®å®Œæˆ&quot;);        //6.è·å–ä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡ï¼Œç”¨äºç»™å®¢æˆ·ç«¯åé¦ˆ        outputStream = socket.getOutputStream();        outputStream.write(&quot;æœåŠ¡å™¨ç«¯å·²æ”¶åˆ°æ–‡ä»¶&quot;.getBytes());    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;//7.å…³é—­èµ„æº        try &#123;            if (fileOutputStream != null)                fileOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (inputStream != null)                inputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (socket != null)                socket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (serverSocket != null)                serverSocket.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (outputStream != null)                outputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><h4 id="13-4-4-å®ä¾‹4ï¼šæœåŠ¡ç«¯è¯»å–å›¾ç‰‡å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°"><a href="#13-4-4-å®ä¾‹4ï¼šæœåŠ¡ç«¯è¯»å–å›¾ç‰‡å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°" class="headerlink" title="13.4.4 å®ä¾‹4ï¼šæœåŠ¡ç«¯è¯»å–å›¾ç‰‡å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°"></a>13.4.4 å®ä¾‹4ï¼šæœåŠ¡ç«¯è¯»å–å›¾ç‰‡å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°</h4><h4 id="13-4-5-å®ä¾‹5ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€æ–‡æœ¬ï¼ŒæœåŠ¡ç«¯ä¼šå°†æ–‡æœ¬è½¬æˆå¤§å†™åœ¨è¿”å›ç»™å®¢æˆ·ç«¯"><a href="#13-4-5-å®ä¾‹5ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€æ–‡æœ¬ï¼ŒæœåŠ¡ç«¯ä¼šå°†æ–‡æœ¬è½¬æˆå¤§å†™åœ¨è¿”å›ç»™å®¢æˆ·ç«¯" class="headerlink" title="13.4.5 å®ä¾‹5ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€æ–‡æœ¬ï¼ŒæœåŠ¡ç«¯ä¼šå°†æ–‡æœ¬è½¬æˆå¤§å†™åœ¨è¿”å›ç»™å®¢æˆ·ç«¯"></a>13.4.5 å®ä¾‹5ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€æ–‡æœ¬ï¼ŒæœåŠ¡ç«¯ä¼šå°†æ–‡æœ¬è½¬æˆå¤§å†™åœ¨è¿”å›ç»™å®¢æˆ·ç«¯</h4><h3 id="13-5-UDPç½‘ç»œç¼–ç¨‹"><a href="#13-5-UDPç½‘ç»œç¼–ç¨‹" class="headerlink" title="13.5 UDPç½‘ç»œç¼–ç¨‹"></a>13.5 UDPç½‘ç»œç¼–ç¨‹</h3><p><strong>ç±» DatagramSocketå’ŒDatagramPacketå®ç°äº†åŸºäºUDPåè®®ç½‘ç»œç¨‹åº</strong></p><p>UDPæ•°æ®æŠ¥é€šè¿‡æ•°æ®æŠ¥<strong>å¥—æ¥å­—DatagramSocket</strong>å‘é€å’Œæ¥æ”¶ï¼Œç³»ç»Ÿä¸<strong>ä¿è¯UDPæ•°æ®æŠ¥ä¸€å®šèƒ½å¤Ÿå®‰å…¨é€åˆ°ç›®çš„åœ°ï¼Œä¹Ÿä¸èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™å¯ä»¥æŠµè¾¾</strong></p><p>DatagramPacketå¯¹è±¡å°è£…äº†UDPæ•°æ®æŠ¥ï¼Œåœ¨<strong>æ•°æ®æŠ¥ä¸­åŒ…å«äº†å‘é€ç«¯çš„IPåœ°å€å’Œç«¯å£å·ä»¥åŠæ¥æ”¶ç«¯çš„IPåœ°å€å’Œç«¯å£å·</strong></p><p>UDPåè®®ä¸­æ¯ä¸ªæ•°æ®æŠ¥éƒ½ç»™å‡ºäº†å®Œæ•´çš„åœ°å€ä¿¡æ¯ï¼Œå› æ­¤<strong>æ— é¡»å»ºç«‹å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è¿æ¥</strong>ã€‚å¦‚åŒå‘å¿«é€’åŒ…è£¹ä¸€æ ·</p><pre><code class="java">//UDPç½‘ç»œç¼–ç¨‹//UDPè¦ä¼ è¾“çš„æ•°æ®ã€ä¼ è¾“åˆ°çš„ä¸»æœºIPåŠç«¯å£éƒ½æ‰“åŒ…åœ¨æ•°æ®æŠ¥ä¸­ï¼Œæ‰€ä»¥socketåªæ˜¯ä¸€ä¸ªæ ¹æ®æ•°æ®æŠ¥ä¸­çš„IPå’Œç«¯å£è¿›è¡Œå‘é€æ•°æ®æŠ¥å’Œæ¥æ”¶æ•°æ®æŠ¥çš„ä½œç”¨@Testpublic void Send() throws IOException &#123;//å‘é€ç«¯    //1.åˆ›å»ºæ•°æ®æŠ¥å¥—æ¥å­—DatagramSocketå¯¹è±¡ï¼Œç”¨äºä¼ è¾“æ•°æ®    DatagramSocket socket = new DatagramSocket();    String str = &quot;æˆ‘æ˜¯UDPå‘é€ç«¯&quot;;//è¦ä¼ è¾“çš„æ•°æ®    byte[] data = str.getBytes();    //2.è·å–è¦å‘é€åˆ°çš„IPåœ°å€å¯¹è±¡    InetAddress address = InetAddress.getByName(&quot;127.0.0.1&quot;);    //3.åˆ›å»ºå‘é€ç«¯çš„æ•°æ®æŠ¥å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«è¦ä¼ è¾“çš„æ•°æ®ã€è¦ä¼ è¾“åˆ°çš„ä¸»æœºçš„IPåœ°å€åŠç«¯å£    DatagramPacket packet = new DatagramPacket(data,0,data.length,address,9090);    //4.å‘é€æ‰“åŒ…å¥½çš„æ•°æ®æŠ¥    socket.send(packet);    //5.å…³é—­socket    socket.close();&#125;@Testpublic void Receiver() throws IOException &#123;//æ¥æ”¶ç«¯    //1.åˆ›å»ºæ•°æ®æŠ¥å¥—æ¥å­—DatagramSocketå¯¹è±¡ï¼Œç”¨äºæ¥æ”¶ä¼ å…¥çš„ç«¯å£å‚æ•°ä¸­çš„æ•°æ®    DatagramSocket socket = new DatagramSocket(9090);    byte[] buffer = new byte[100];//å­˜å‚¨æ•°æ®çš„æ•°ç»„    //2.åˆ›å»ºæ¥æ”¶ç«¯çš„æ•°æ®æŠ¥å¯¹è±¡ï¼Œæ¥æ¥æ”¶ä¿å­˜ä¼ æ¥çš„æ•°æ®æŠ¥    DatagramPacket packet = new DatagramPacket(buffer,0,buffer.length);    //3.æ¥æ”¶å‘é€ç«¯çš„æ•°æ®æŠ¥    socket.receive(packet);    System.out.println(new String(packet.getData(),0,packet.getLength()));//å¯¹æ•°æ®è¿›è¡Œå¤„ç†æ“ä½œ    //4.å…³é—­socket    socket.close();&#125;</code></pre><h3 id="13-6-URLç¼–ç¨‹"><a href="#13-6-URLç¼–ç¨‹" class="headerlink" title="13.6 URLç¼–ç¨‹"></a>13.6 URLç¼–ç¨‹</h3><p><strong>URL(Uniform Resource Locator)ï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œå®ƒè¡¨ç¤ºInternetä¸ŠæŸä¸€èµ„æºçš„åœ°å€</strong></p><p>å®ƒæ˜¯ä¸€ç§å…·ä½“çš„URIï¼Œå³<strong>URLå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½•locateè¿™ä¸ªèµ„æº</strong></p><p>é€šè¿‡URLæˆ‘ä»¬å¯ä»¥è®¿é—®Internetä¸Šçš„å„ç§ç½‘ç»œèµ„æºï¼Œæ¯”å¦‚æœ€å¸¸è§çš„ wwwï¼Œftpç«™ç‚¹ã€‚æµè§ˆå™¨é€šè¿‡è§£æç»™å®šçš„URLå¯ä»¥åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾ç›¸åº”çš„æ–‡ä»¶æˆ–å…¶ä»–èµ„æº</p><p>URLçš„åŸºæœ¬ç»“æ„ç”±5éƒ¨åˆ†ç»„æˆï¼š<br><code>&lt;ä¼ è¾“åè®®&gt;://&lt;ä¸»æœºå&gt;:&lt;ç«¯å£å·&gt;/&lt;æ–‡ä»¶å&gt;#ç‰‡æ®µå?å‚æ•°åˆ—è¡¨&gt;</code></p><p>ä¾‹å¦‚ï¼š<code>http://192.168.1.100:8080/helloworld/index.jsp#a?username=shkstart&amp;password=123&gt;</code></p><p><strong>#ç‰‡æ®µåï¼šå³é”šç‚¹</strong>ï¼Œä¾‹å¦‚çœ‹å°è¯´ï¼Œç›´æ¥å®šä½åˆ°ç« èŠ‚</p><p><strong>å‚æ•°åˆ—è¡¨æ ¼å¼ï¼šå‚æ•°å=å‚æ•°å€¼&amp;å‚æ•°å=å‚æ•°å€¼â€¦</strong></p><h4 id="13-6-1-æ„é€ å™¨"><a href="#13-6-1-æ„é€ å™¨" class="headerlink" title="13.6.1 æ„é€ å™¨"></a>13.6.1 æ„é€ å™¨</h4><p>ä¸ºäº†è¡¨ç¤ºURLï¼Œjava.netä¸­å®ç°äº†ç±»URLã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ„é€ å™¨æ¥åˆå§‹åŒ–ä¸€ä¸ªURLå¯¹è±¡ï¼š</p><ul><li>public URL(String spec)ï¼š<strong>é€šè¿‡ä¸€ä¸ªè¡¨ç¤ºURLåœ°å€çš„å­—ç¬¦ä¸²å¯ä»¥æ„é€ ä¸€ä¸ªURLå¯¹è±¡</strong>ã€‚ä¾‹å¦‚ï¼š<code>URL url = new URL (&quot;http://www.baidu.com&quot;);</code></li><li>public URL(URL contextï¼ŒString spec)ï¼š<strong>é€šè¿‡åŸºURLå’Œç›¸å¯¹URLæ„é€ ä¸€ä¸ªURLå¯¹è±¡</strong>ã€‚ä¾‹å¦‚ï¼š<code>URL downloadUrl = new URL(url, &quot;download.html&quot;);</code></li><li>public URL(String protocol, String host, String file)ï¼›ä¾‹å¦‚ï¼š<code>new URL(&quot;http&quot;,&quot;www.baidu.com&quot;,&quot;download.html&quot;);</code></li><li>public URL(String protocol, String host, int port, String file)ï¼›ä¾‹å¦‚ï¼š<code>URL gamelan = new URL(&quot;http&quot;, &quot;www.baidu.com&quot;, 80, &quot;download.html&quot;);</code></li></ul><p>URLç±»çš„æ„é€ å™¨éƒ½å£°æ˜æŠ›å‡º<strong>éè¿è¡Œæ—¶å¼‚å¸¸</strong>ï¼Œå¿…é¡»è¦å¯¹è¿™ä¸€å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œé€šå¸¸æ˜¯<strong>ç”¨try-catchè¯­å¥è¿›è¡Œæ•è·</strong></p><h4 id="13-6-2-å¸¸ç”¨æ–¹æ³•"><a href="#13-6-2-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="13.6.2 å¸¸ç”¨æ–¹æ³•"></a>13.6.2 å¸¸ç”¨æ–¹æ³•</h4><p>ä¸€ä¸ªURLå¯¹è±¡ç”Ÿæˆåï¼Œå…¶å±æ€§æ˜¯ä¸èƒ½è¢«æ”¹å˜çš„ï¼Œä½†å¯ä»¥é€šè¿‡å®ƒç»™å®šçš„æ–¹æ³•æ¥è·å–è¿™äº›å±æ€§ï¼š</p><ul><li>public String getProtocol( )ï¼š<strong>è·å–è¯¥URLçš„åè®®å</strong></li><li>public String getHost( )ï¼š<strong>è·å–è¯¥URLçš„ä¸»æœºå</strong></li><li>public String getPort( )ï¼š<strong>è·å–è¯¥URLçš„ç«¯å£å·</strong></li><li>public String getPath( )ï¼š<strong>è·å–è¯¥URLçš„æ–‡ä»¶è·¯å¾„</strong></li><li>public String getFile( )ï¼š<strong>è·å–è¯¥URLçš„æ–‡ä»¶å</strong></li><li>public String getQuery( )ï¼š<strong>è·å–è¯¥URLçš„æŸ¥è¯¢å</strong></li></ul><pre><code class="java">//URLç½‘ç»œç¼–ç¨‹//1.URL:ç»Ÿâ€”èµ„æºå®šä½ç¬¦ï¼Œå¯¹åº”ç€äº’è”ç½‘çš„æŸâ€”èµ„æºåœ°å€2.æ ¼å¼://http://Localhost:8080/TestImage.jpg?username=Tom// åè®®     ä¸»æœºå   ç«¯å£å·  èµ„æºåœ°å€        å‚æ•°åˆ—è¡¨@Testpublic void TestURL()&#123;    URL url = null;    try &#123;        url = new URL(&quot;http://Localhost:8080/examples/TestImage.jpg?username=Tom&quot;);        //public String getProtocol()ï¼šè·å–è¯¥URLçš„åè®®å        System.out.println(url.getProtocol());// http        //public String getHost()ï¼šè·å–è¯¥URLçš„ä¸»æœºå        System.out.println(url.getHost());// Localhost        //public String getPort()ï¼šè·å–è¯¥URLçš„ç«¯å£å·        System.out.println(url.getPort());// 8080        //public String getPath()ï¼šè·å–è¯¥URLçš„æ–‡ä»¶è·¯å¾„        System.out.println(url.getPath());// /TestImage.jpg        //public String getFile()ï¼šè·å–è¯¥URLçš„æ–‡ä»¶å        System.out.println(url.getFile());// /TestImage.jpg?username=Tom        //public String getQuery()ï¼šè·å–è¯¥URLçš„æŸ¥è¯¢å        System.out.println(url.getQuery());// username=Tom    &#125; catch (MalformedURLException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><pre><code class="java">//URLå®ç°TomcatæœåŠ¡å™¨ç«¯èµ„æºä¸‹è½½@Testpublic void TestURLDownload()&#123;    HttpURLConnection urlConnection = null;    InputStream inputStream = null;    FileOutputStream fileOutputStream = null;    try &#123;        //1.åˆ›å»ºä¸€ä¸ªURLå¯¹è±¡ï¼Œç¡®å®šè¦è®¿é—®çš„åœ°å€å’Œèµ„æº        URL url = new URL(&quot;http://Localhost:8080/examples/TestImage.jpg&quot;);        //2.è·å–Httpè¿æ¥        urlConnection = (HttpURLConnection) url.openConnection();//ç”¨äºè·å–è·ŸæœåŠ¡å™¨çš„è¿æ¥        //3.è¿æ¥åˆ°ç›®çš„åœ°å€        urlConnection.connect();        //4.è·å–ä¸€ä¸ªè¾“å…¥æµå¯¹è±¡ï¼Œç”¨æ¥è¯»å…¥èµ„æº        inputStream = urlConnection.getInputStream();        //5.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµå¯¹è±¡ï¼Œç”¨æ¥å°†è¾“å…¥æµè¯»å–çš„èµ„æºä¿å­˜åˆ°æœ¬åœ°        fileOutputStream = new FileOutputStream(&quot;URLImage.jpg&quot;);        byte[] buffer = new byte[1024];        int len;        while ((len = inputStream.read(buffer)) != -1)&#123;            fileOutputStream.write(buffer,0,len);        &#125;        System.out.println(&quot;ä¸‹è½½å®Œæˆ&quot;);    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125; finally &#123;        //6.å…³é—­èµ„æºå’Œè¿æ¥        try &#123;            if (fileOutputStream != null)                fileOutputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        try &#123;            if (inputStream != null)                inputStream.close();        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        if (urlConnection != null)            urlConnection.disconnect();    &#125;&#125;</code></pre><h2 id="åå››ã€Javaåå°„æœºåˆ¶"><a href="#åå››ã€Javaåå°„æœºåˆ¶" class="headerlink" title="åå››ã€Javaåå°„æœºåˆ¶"></a>åå››ã€Javaåå°„æœºåˆ¶</h2><h3 id="14-1-Javaåå°„æœºåˆ¶æ¦‚è¿°"><a href="#14-1-Javaåå°„æœºåˆ¶æ¦‚è¿°" class="headerlink" title="14.1 Javaåå°„æœºåˆ¶æ¦‚è¿°"></a>14.1 Javaåå°„æœºåˆ¶æ¦‚è¿°</h3><p>Reflection(åå°„ï¼‰æ˜¯è¢«è§†ä¸º<strong>åŠ¨æ€è¯­è¨€çš„å…³é”®</strong>ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨<strong>æ‰§è¡ŒæœŸ</strong>å€ŸåŠ©äºReflection APIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½<strong>ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•</strong></p><p>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ˆ<strong>ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</strong>ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬<strong>å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„</strong>ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸ºï¼šåå°„</p><p>æ­£å¸¸æ–¹å¼ï¼šå¼•å…¥éœ€è¦çš„â€œåŒ…ç±»â€åç§° â€”&gt; é€šè¿‡newå®ä¾‹åŒ– â€”&gt; å–å¾—å®ä¾‹åŒ–å¯¹è±¡<br>åå°„æ–¹å¼ï¼šå®ä¾‹åŒ–å¯¹è±¡ â€”&gt; getClass()æ–¹æ³• â€”&gt; å¾—åˆ°å®Œæ•´çš„â€œåŒ…ç±»â€åç§°</p><h4 id="14-1-1-åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€"><a href="#14-1-1-åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€" class="headerlink" title="14.1.1 åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€"></a>14.1.1 åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€</h4><p>1ã€åŠ¨æ€è¯­è¨€</p><p>æ˜¯ä¸€ç±»åœ¨<strong>è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€</strong>ï¼šä¾‹å¦‚<strong>æ–°çš„å‡½æ•°ã€å¯¹è±¡ã€ç”šè‡³ä»£ç å¯ä»¥è¢«å¼•è¿›</strong>ï¼Œ<strong>å·²æœ‰çš„å‡½æ•°å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å…¶ä»–ç»“æ„ä¸Šçš„å˜åŒ–</strong>ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯åœ¨è¿è¡Œæ—¶ä»£ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ªèº«ç»“æ„<br>ä¸»è¦åŠ¨æ€è¯­è¨€ï¼šObject-Cã€C#ã€JavaSriptã€PHPã€Pythonã€Erlang</p><p>2ã€é™æ€è¯­è¨€</p><p>ä¸åŠ¨æ€è¯­è¨€ç›¸å¯¹åº”çš„ï¼Œ<strong>è¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€</strong>ã€‚å¦‚Javaã€Cã€C++<br>Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†Javaå¯ä»¥ç§°ä¹‹ä¸ºâ€œå‡†åŠ¨æ€è¯­è¨€â€ã€‚å³<strong>Javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§</strong>ï¼Œæˆ‘ä»¬å¯ä»¥<strong>åˆ©ç”¨åå°„æœºåˆ¶ã€å­—èŠ‚ç æ“ä½œè·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§</strong>ï¼ŒJavaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´åŠ çµæ´»</p><h4 id="14-1-2-Javaåå°„æœºåˆ¶ç ”ç©¶åŠåº”ç”¨"><a href="#14-1-2-Javaåå°„æœºåˆ¶ç ”ç©¶åŠåº”ç”¨" class="headerlink" title="14.1.2 Javaåå°„æœºåˆ¶ç ”ç©¶åŠåº”ç”¨"></a>14.1.2 Javaåå°„æœºåˆ¶ç ”ç©¶åŠåº”ç”¨</h4><p>Javaåå°„æœºåˆ¶æä¾›çš„<strong>åŠŸèƒ½ï¼š</strong></p><ul><li>åœ¨<strong>è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»</strong></li><li>åœ¨<strong>è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</strong></li><li>åœ¨<strong>è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</strong></li><li>åœ¨<strong>è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯</strong></li><li>åœ¨<strong>è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</strong></li><li>åœ¨<strong>è¿è¡Œæ—¶å¤„ç†æ³¨è§£</strong></li><li><strong>ç”ŸæˆåŠ¨æ€ä»£ç†</strong></li></ul><h4 id="14-1-3-åå°„ç›¸å…³çš„API"><a href="#14-1-3-åå°„ç›¸å…³çš„API" class="headerlink" title="14.1.3 åå°„ç›¸å…³çš„API"></a>14.1.3 åå°„ç›¸å…³çš„API</h4><ul><li>java.lang.Classï¼šä»£è¡¨ä¸€ä¸ªç±»(æ‰€æœ‰çš„ç±»éƒ½ç›¸å½“äºæ˜¯Classçš„å¯¹è±¡)</li><li>java.lang.reflect.Methodï¼šä»£è¡¨ç±»çš„æ–¹æ³•</li><li>java.lang.reflect.Fieldï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡</li><li>java.lang.reflect.Constructorï¼šä»£è¡¨ç±»çš„æ„é€ å™¨</li><li>â€¦â€¦</li></ul><h4 id="14-1-4-åå°„å‰åå¯¹ä¸€ä¸ªç±»çš„æ“ä½œå¯¹æ¯”"><a href="#14-1-4-åå°„å‰åå¯¹ä¸€ä¸ªç±»çš„æ“ä½œå¯¹æ¯”" class="headerlink" title="14.1.4 åå°„å‰åå¯¹ä¸€ä¸ªç±»çš„æ“ä½œå¯¹æ¯”"></a>14.1.4 åå°„å‰åå¯¹ä¸€ä¸ªç±»çš„æ“ä½œå¯¹æ¯”</h4><pre><code class="java">//åå°„ä¹‹å‰ï¼Œå¯¹äºPersonç±»çš„æ“ä½œ@Testpublic void TestBeforeReflection()&#123;    //1.åˆ›å»ºPersonå¯¹è±¡    Person p1 = new Person(&quot;Tom&quot;,12);    //2.é€šè¿‡å¯¹è±¡ï¼Œè°ƒç”¨å…¶å†…éƒ¨çš„å±æ€§ã€æ–¹æ³•    p1.age = 10;    System.out.println(p1.toString());    p1.show();    //åœ¨Personç±»å¤–éƒ¨ï¼Œä¸å¯ä»¥é€šè¿‡Personç±»çš„å¯¹è±¡è°ƒç”¨å…¶å†…éƒ¨ç§æœ‰ç»“æ„    //æ¯”å¦‚ï¼Œnameã€showNation()ã€Person(String name)&#125;//ä½¿ç”¨åå°„ä¹‹å@Testpublic void TestAfterReflection() throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException, NoSuchFieldException &#123;    Class clazz = Person.class;    //1.é€šè¿‡åå°„åˆ›å»ºPersonç±»çš„å¯¹è±¡    Constructor constructor = clazz.getConstructor(String.class, int.class);    Object tom = constructor.newInstance(&quot;Tom&quot;, 12);    Person p1 = (Person) tom;    System.out.println(p1.toString());//Person&#123;name=&#39;Tom&#39;, age=12&#125;    //2.é€šè¿‡åå°„ï¼Œè°ƒç”¨å¯¹è±¡æŒ‡å®šçš„å±æ€§ã€æ–¹æ³•    //è°ƒç”¨å±æ€§    Field age = clazz.getDeclaredField(&quot;age&quot;);    age.set(p1,10);    System.out.println(p1.toString());//Person&#123;name=&#39;Tom&#39;, age=10&#125;    //è°ƒç”¨æ–¹æ³•    Method show = clazz.getDeclaredMethod(&quot;show&quot;);    show.invoke(p1);//è¿™æ˜¯Personç±»    //é€šè¿‡åå°„ï¼Œè¿˜å¯ä»¥è°ƒç”¨Personç±»çš„ç§æœ‰ç»“æ„çš„ã€‚æ¯”å¦‚:ç§æœ‰çš„æ„é€ å™¨ã€æ–¹æ³•ã€å±æ€§    //ç§æœ‰æ„é€ å™¨    Constructor constructor1 = clazz.getDeclaredConstructor(String.class);    constructor1.setAccessible(true);    Person jerry = (Person) constructor1.newInstance(&quot;Jerry&quot;);    System.out.println(jerry);//Person&#123;name=&#39;Jerry&#39;, age=0&#125;    //ç§æœ‰å±æ€§    Field name = clazz.getDeclaredField(&quot;name&quot;);    name.setAccessible(true);    name.set(jerry,&quot;Mary&quot;);    System.out.println(jerry);//Person&#123;name=&#39;Mary&#39;, age=0&#125;    //ç§æœ‰æ–¹æ³•    Method showNation = clazz.getDeclaredMethod(&quot;showNation&quot;, String.class);    showNation.setAccessible(true);    String nation = (String) showNation.invoke(jerry,&quot;ä¸­å›½&quot;);//ç›¸å½“äºString nation = jerry.showNation(&quot;ä¸­å›½&quot;)   æˆ‘çš„å›½ç±æ˜¯ä¸­å›½    System.out.println(nation);//ä¸­å›½&#125;</code></pre><h3 id="14-2-Classç±»çš„ç†è§£åŠè·å–Classå®ä¾‹"><a href="#14-2-Classç±»çš„ç†è§£åŠè·å–Classå®ä¾‹" class="headerlink" title="14.2 Classç±»çš„ç†è§£åŠè·å–Classå®ä¾‹"></a>14.2 Classç±»çš„ç†è§£åŠè·å–Classå®ä¾‹</h3><h4 id="14-2-1-Classç±»çš„ç†è§£"><a href="#14-2-1-Classç±»çš„ç†è§£" class="headerlink" title="14.2.1 Classç±»çš„ç†è§£"></a>14.2.1 Classç±»çš„ç†è§£</h4><p>å…³äºjava.Lang.classç±»çš„ç†è§£ï¼š</p><p>1.ç±»çš„åŠ è½½è¿‡ç¨‹:</p><p>ç¨‹åºç»è¿‡javac.exeå‘½ä»¤ä»¥åï¼Œä¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ç æ–‡ä»¶(.classç»“å°¾)<br>æ¥ç€æˆ‘ä»¬ä½¿ç”¨java.exeå‘½ä»¤<strong>å¯¹æŸä¸ªå­—èŠ‚ç æ–‡ä»¶è¿›è¡Œè§£é‡Šè¿è¡Œ</strong>ï¼Œ<strong>ç›¸å½“äºå°†æŸä¸ªå­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­</strong>ã€‚æ­¤è¿‡ç¨‹å°±ç§°ä¸ºç±»çš„åŠ è½½ã€‚<strong>åŠ è½½åˆ°å†…å­˜ä¸­çš„ç±»ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºè¿è¡Œæ—¶ç±»</strong>ï¼Œ<strong>æ­¤è¿è¡Œæ—¶ç±»ï¼Œå°±ä½œä¸ºClassçš„ä¸€ä¸ªå®ä¾‹</strong></p><p>æ¯”å¦‚ï¼Œä¸Šæ–¹çš„Personç±»è¢«ç¼–å†™æˆPerson.classæ–‡ä»¶è¿˜ä¸æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç±»ï¼Œå°±ä¸æ˜¯Classçš„å®ä¾‹ï¼›è€Œå½“æˆ‘ä»¬å°†Person.classåŠ è½½åˆ°å†…å­˜(æˆ–æ˜¯è¯´JVM)ä¸­è¿›è¡Œè§£é‡Šè¿è¡Œæ—¶ï¼Œæ­¤æ—¶è¿™ä¸ªPersonç±»æ‰ç§°å¾—ä¸Šæ˜¯Classçš„å®ä¾‹</p><p>2.æ¢å¥è¯è¯´ï¼Œ<strong>Classçš„å®ä¾‹å°±å¯¹åº”ç€ä¸€ä¸ªè¿è¡Œæ—¶ç±»</strong></p><p>3.åŠ è½½åˆ°å†…å­˜ä¸­çš„è¿è¡Œæ—¶ç±»ï¼Œä¼šç¼“å­˜ä¸€å®šçš„æ—¶é—´ã€‚åœ¨æ­¤æ—¶é—´ä¹‹å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼æ¥è·å–æ­¤è¿è¡Œæ—¶ç±»</p><h4 id="14-2-2-è·å–Classç±»çš„å®ä¾‹"><a href="#14-2-2-è·å–Classç±»çš„å®ä¾‹" class="headerlink" title="14.2.2 è·å–Classç±»çš„å®ä¾‹"></a>14.2.2 è·å–Classç±»çš„å®ä¾‹</h4><pre><code class="java">//è·å–Classå®ä¾‹çš„å››ç§æ–¹å¼(å‰ä¸‰ç§éœ€è¦æŒæ¡)@Testpublic void getClassExample() throws ClassNotFoundException &#123;    //1.æ–¹å¼ä¸€ï¼šè°ƒç”¨è¿è¡Œæ—¶ç±»çš„å±æ€§.class    Class&lt;Person&gt; clazz1 = Person.class;    System.out.println(clazz1);//class Reflection.Person    //æ–¹å¼äºŒï¼šé€šè¿‡è¿è¡Œæ—¶ç±»çš„å¯¹è±¡è°ƒç”¨getClass()æ–¹æ³•    Person p = new Person();    Class clazz2 = p.getClass();    System.out.println(clazz2);//class Reflection.Person    //æ–¹å¼ä¸‰ï¼šè°ƒç”¨Classçš„é™æ€æ–¹æ³•:forName(String classPath)  ä½¿ç”¨æœ€å¤š    Class clazz3 = Class.forName(&quot;Reflection.Person&quot;);    System.out.println(clazz3);//class Reflection.Person    System.out.println(clazz1 == clazz2);//true    System.out.println(clazz1 == clazz3);//true    System.out.println(clazz2 == clazz3);//true    //æ–¹å¼å››ï¼šä½¿ç”¨ç±»çš„åŠ è½½å™¨:ClassLoader(äº†è§£)    ClassLoader classLoader = ReflectionTest02.class.getClassLoader();    Class clazz4 = classLoader.loadClass(&quot;Reflection.Person&quot;);    System.out.println(clazz4);//class Reflection.Person    System.out.println(clazz1 == clazz4);//true&#125;</code></pre><h4 id="14-2-3-å“ªäº›ç±»å‹å¯ä»¥ä½œä¸ºClasså¯¹è±¡"><a href="#14-2-3-å“ªäº›ç±»å‹å¯ä»¥ä½œä¸ºClasså¯¹è±¡" class="headerlink" title="14.2.3 å“ªäº›ç±»å‹å¯ä»¥ä½œä¸ºClasså¯¹è±¡"></a>14.2.3 å“ªäº›ç±»å‹å¯ä»¥ä½œä¸ºClasså¯¹è±¡</h4><p>(1) classï¼š<strong>å¤–éƒ¨ç±»ï¼Œæˆå‘˜(æˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»)ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»</strong></p><p>(2) interfaceï¼š<strong>æ¥å£</strong></p><p>(3 []ï¼š<strong>æ•°ç»„</strong></p><p>(4) enumï¼š<strong>æšä¸¾</strong></p><p>(5) annotationï¼š<strong>æ³¨è§£</strong>@interface</p><p>(6) primitive typeï¼š<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong></p><p>(7) <strong>void</strong></p><pre><code class="java">@Testpublic void Test()&#123;    Class c1 = Object.class;//å¯¹è±¡    Class c2 = Comparable.class;//æ¥å£    Class c3 = String[].class;//ä¸€ç»´æ•°ç»„    Class c4 = int[][].class;//äºŒç»´æ•°ç»„    Class c5 = ElementType.class;//æšä¸¾ç±»    Class c6 = Override.class;//æ³¨è§£    Class c7 = int.class;//åŸºæœ¬æ•°æ®ç±»å‹    Class c8 = void.class;//void    Class c9 = Class.class;//Classæœ¬èº«    int[] a = new int[10];    int[] b = new int[100];    Class c10 = a.getClass();    Class c11 = b.getClass();    //åªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·ï¼Œå°±æ˜¯åŒä¸€ä¸ªClass    System.out.println(c10 == c11);//true&#125;</code></pre><h3 id="14-3-ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£"><a href="#14-3-ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£" class="headerlink" title="14.3 ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£"></a>14.3 ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£</h3><h4 id="14-3-1-ç±»çš„åŠ è½½è¿‡ç¨‹"><a href="#14-3-1-ç±»çš„åŠ è½½è¿‡ç¨‹" class="headerlink" title="14.3.1 ç±»çš„åŠ è½½è¿‡ç¨‹"></a>14.3.1 ç±»çš„åŠ è½½è¿‡ç¨‹</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647502.png' data-fancybox='default' data-caption='image-20210810202245961'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647502.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647502.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210810202245961"></a><span class='image-caption'>image-20210810202245961</span></div></div><p>åŠ è½½ï¼š</p><ul><li><strong>å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­</strong>ï¼Œå¹¶å°†è¿™äº›<strong>é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„</strong>ï¼Œç„¶å<strong>ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡</strong>ï¼Œ<strong>ä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£</strong>ï¼ˆå³å¼•ç”¨åœ°å€ï¼‰ã€‚æ‰€æœ‰éœ€è¦è®¿é—®å’Œä½¿ç”¨ç±»æ•°æ®åªèƒ½é€šè¿‡è¿™ä¸ªClasså¯¹è±¡ã€‚è¿™ä¸ªåŠ è½½çš„è¿‡ç¨‹éœ€è¦ç±»åŠ è½½å™¨å‚ä¸</li></ul><p>é“¾æ¥ï¼š<strong>å°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹</strong></p><ul><li>éªŒè¯ï¼š<strong>ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒ</strong>ï¼Œä¾‹å¦‚ï¼šä»¥cafeå¼€å¤´ï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜</li><li>å‡†å¤‡ï¼šæ­£å¼ä¸º<strong>ç±»å˜é‡(staticï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼</strong>çš„é˜¶æ®µï¼Œè¿™äº›<strong>å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…</strong></li><li>è§£æï¼šè™šæ‹Ÿæœº<strong>å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰</strong>çš„è¿‡ç¨‹</li></ul><p>åˆå§‹åŒ–ï¼š</p><ul><li><strong>æ‰§è¡Œç±»æ„é€ å™¨<clinit>()æ–¹æ³•çš„è¿‡ç¨‹</strong>ã€‚ç±»æ„é€ å™¨<clinit>()æ–¹æ³•<strong>æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„</strong>ï¼ˆ<strong>ç±»æ„é€ å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨</strong>ï¼‰</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶<strong>çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–</strong>ï¼Œåˆ™éœ€è¦<strong>å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–</strong></li><li>è™šæ‹Ÿæœºä¼š****</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647317.png' data-fancybox='default' data-caption='image-20210810203452201'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647317.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647317.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210810203452201"></a><span class='image-caption'>image-20210810203452201</span></div></div><h4 id="14-3-2-ç†è§£ç±»åŠ è½½å™¨ClassLoader"><a href="#14-3-2-ç†è§£ç±»åŠ è½½å™¨ClassLoader" class="headerlink" title="14.3.2 ç†è§£ç±»åŠ è½½å™¨ClassLoader"></a>14.3.2 ç†è§£ç±»åŠ è½½å™¨ClassLoader</h4><h5 id="1-ç±»åŠ è½½å™¨çš„ä½œç”¨ï¼š"><a href="#1-ç±»åŠ è½½å™¨çš„ä½œç”¨ï¼š" class="headerlink" title="1.ç±»åŠ è½½å™¨çš„ä½œç”¨ï¼š"></a>1.ç±»åŠ è½½å™¨çš„ä½œç”¨ï¼š</h5><ul><li><strong>ç±»åŠ è½½çš„ä½œç”¨</strong>ï¼š<strong>å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­</strong>ï¼Œå¹¶å°†è¿™äº›<strong>é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„</strong>ï¼Œç„¶å<strong>åœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡</strong>ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£</li><li><strong>ç±»ç¼“å­˜ï¼š</strong>æ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†ä¸€æ—¦æŸ<strong>ä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´æŒåŠ è½½ï¼ˆç¼“å­˜ï¼‰ä¸€æ®µæ—¶é—´</strong>ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡</li></ul><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647633.png' data-fancybox='default' data-caption='image-20210810204715392'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647633.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647633.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210810204715392"></a><span class='image-caption'>image-20210810204715392</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647211.png' data-fancybox='default' data-caption='image-20210810205237266'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647211.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201647211.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210810205237266"></a><span class='image-caption'>image-20210810205237266</span></div></div><h5 id="2-è·å–ä¸‰ç§ç±»åŠ è½½å™¨"><a href="#2-è·å–ä¸‰ç§ç±»åŠ è½½å™¨" class="headerlink" title="2.è·å–ä¸‰ç§ç±»åŠ è½½å™¨"></a>2.è·å–ä¸‰ç§ç±»åŠ è½½å™¨</h5><pre><code class="java">@Testpublic void TestClassLoader()&#123;    //å¯¹äºè‡ªå®šä¹‰ç±»ï¼Œä½¿ç”¨ç³»ç»Ÿç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½    ClassLoader classLoader = ReflectionTest03.class.getClassLoader();//è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨    System.out.println(classLoader);//sun.misc.Launcher$AppClassLoader@18b4aac2    //è°ƒç”¨ç³»ç»Ÿç±»åŠ è½½å™¨çš„getParent()ï¼šè·å–æ‰©å±•ç±»åŠ è½½å™¨    ClassLoader classLoader1 = classLoader.getParent();    System.out.println(classLoader1);//sun.misc.Launcher$ExtClassLoader@1f32e575ï¼Œè·å–åˆ°çš„æ‰©å±•ç±»åŠ è½½å™¨    //è°ƒç”¨æ‰©å±•ç±»åŠ è½½å™¨çš„getParent()ï¼šæ— æ³•è·å–å¼•å¯¼ç±»åŠ è½½å™¨    //å¼•å¯¼ç±»åŠ è½½å™¨ä¸»è¦è´Ÿè´£javaçš„æ ¸å¿ƒç±»åº“ï¼Œæ— æ³•åŠ è½½è‡ªå®šä¹‰ç±»    ClassLoader classLoader2 = classLoader1.getParent();    System.out.println(classLoader2);//nullï¼Œä¸èƒ½ç›´æ¥è·å–å¼•å¯¼ç±»åŠ è½½å™¨    ClassLoader classLoader3 = String.class.getClassLoader();    System.out.println(classLoader3);//null,è¯´æ˜Stringç±»æ˜¯å¼•å¯¼ç±»åŠ è½½çš„&#125;</code></pre><h5 id="3-ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶"><a href="#3-ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶" class="headerlink" title="3.ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶"></a>3.ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶</h5><pre><code class="java">@Testpublic void TestLoadProperty() throws IOException &#123;    Properties pros = new Properties();//ç”¨æ¥è¯»å–é…ç½®æ–‡ä»¶    //è¯»å–é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸€ï¼šæ­¤æ—¶çš„é…ç½®æ–‡ä»¶é»˜è®¤åœ¨å½“å‰é¡¹ç›®(æˆ–Module)ä¸‹    //FileInputStream fileInputStream = new FileInputStream(&quot;jdbc.properties&quot;);    //pros.load(fileInputStream);    //è¯»å–é…ç½®æ–‡ä»¶çš„æ–¹å¼äºŒï¼šæ­¤æ—¶çš„é…ç½®æ–‡ä»¶é»˜è®¤åœ¨å½“å‰é¡¹ç›®(æˆ–Module)çš„srcä¸‹    ClassLoader classLoader = ReflectionTest03.class.getClassLoader();    InputStream inputStream = classLoader.getResourceAsStream(&quot;jdbc1.properties&quot;);    pros.load(inputStream);    String name = pros.getProperty(&quot;name&quot;);    String password = pros.getProperty(&quot;password&quot;);    System.out.println(&quot;name = &quot; + name + &quot;, password = &quot; + password);//æ–¹å¼ä¸€ï¼šname = Tom, password = abc123            æ–¹å¼äºŒï¼šname = Mary, password = 123&#125;</code></pre><h3 id="14-4-åˆ›å»ºè¿è¡Œæ—¶å¯¹è±¡"><a href="#14-4-åˆ›å»ºè¿è¡Œæ—¶å¯¹è±¡" class="headerlink" title="14.4 åˆ›å»ºè¿è¡Œæ—¶å¯¹è±¡"></a>14.4 åˆ›å»ºè¿è¡Œæ—¶å¯¹è±¡</h3><h4 id="14-4-1-é€šè¿‡åå°„åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡"><a href="#14-4-1-é€šè¿‡åå°„åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡" class="headerlink" title="14.4.1 é€šè¿‡åå°„åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡"></a>14.4.1 é€šè¿‡åå°„åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡</h4><pre><code class="java">//é€šè¿‡åå°„ï¼Œåˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡/*newInstance():è°ƒç”¨æ­¤æ–¹æ³•ï¼Œåˆ›å»ºå¯¹åº”çš„è¿è¡Œæ—¶ç±»çš„å¯¹è±¡è¦æƒ³æ­¤æ–¹æ³•æ­£å¸¸çš„åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡ï¼Œè¦æ±‚:1.è¿è¡Œæ—¶ç±»å¿…é¡»æä¾›ç©ºå‚çš„æ„é€ å™¨2.ç©ºå‚çš„æ„é€ å™¨çš„è®¿é—®æƒé™å¾—å¤Ÿã€‚é€šå¸¸ï¼Œè®¾ç½®ä¸ºpublicï¼Œå¦‚æœæƒ³è®¿é—®privateæ„é€ å™¨ï¼Œéœ€è¦è°ƒç”¨setAccessible()æ–¹æ³•è®¾ç½®å¯è°ƒç”¨æ€§åœ¨javabeanä¸­è¦æ±‚æä¾›ä¸€ä¸ªpublicçš„ç©ºå‚æ„é€ å™¨ã€‚åŸå› :1.ä¾¿äºé€šè¿‡åå°„ï¼Œåˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡2.ä¾¿äºå­ç±»ç»§æ‰¿æ­¤è¿è¡Œæ—¶ç±»æ—¶ï¼Œé»˜è®¤è°ƒç”¨super()æ—¶ï¼Œä¿è¯çˆ¶ç±»æœ‰æ­¤æ„é€ å™¨*/Class clazz = Person.class;Person p1 = (Person) clazz.newInstance();System.out.println(p1);/*æˆ–è€…Class&lt;Person&gt; clazz = Person.class;*/</code></pre><h4 id="14-4-2-ä½“ä¼šåå°„çš„åŠ¨æ€æ€§"><a href="#14-4-2-ä½“ä¼šåå°„çš„åŠ¨æ€æ€§" class="headerlink" title="14.4.2 ä½“ä¼šåå°„çš„åŠ¨æ€æ€§"></a>14.4.2 ä½“ä¼šåå°„çš„åŠ¨æ€æ€§</h4><pre><code class="java">//ä½“ä¼šåå°„çš„åŠ¨æ€æ€§//åˆ›å»ºä¸€ä¸ªæŒ‡å®šç±»çš„å¯¹è±¡ã€‚classPathæŒ‡å®šç±»çš„å…¨ç±»åpublic Object getInstance(String classPath) throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123;    Class clazz = Class.forName(classPath);    return clazz.newInstance();&#125;@Testpublic void TestDynamic()&#123;    int num = new Random().nextInt(3);//0ã€1ã€2    String classPath = &quot;&quot;;    switch (num)&#123;        case 0:            classPath = &quot;java.util.Date&quot;;            break;        case 1:            classPath = &quot;java.lang.Object&quot;;            break;        case 2:            classPath = &quot;Reflection.Reflection03&quot;;            break;    &#125;    try &#123;        Object obj = getInstance(classPath);        System.out.println(obj);    &#125; catch (ClassNotFoundException e) &#123;        e.printStackTrace();    &#125; catch (InstantiationException e) &#123;        e.printStackTrace();    &#125; catch (IllegalAccessException e) &#123;        e.printStackTrace();    &#125;&#125;</code></pre><h3 id="14-5-è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„"><a href="#14-5-è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„" class="headerlink" title="14.5 è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„"></a>14.5 è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„</h3><h4 id="14-5-1-æä¾›ä¸€ä¸ªç»“æ„ä¸°å¯Œçš„è‡ªå®šä¹‰ç±»Person"><a href="#14-5-1-æä¾›ä¸€ä¸ªç»“æ„ä¸°å¯Œçš„è‡ªå®šä¹‰ç±»Person" class="headerlink" title="14.5.1 æä¾›ä¸€ä¸ªç»“æ„ä¸°å¯Œçš„è‡ªå®šä¹‰ç±»Person"></a>14.5.1 æä¾›ä¸€ä¸ªç»“æ„ä¸°å¯Œçš„è‡ªå®šä¹‰ç±»Person</h4><pre><code class="java">//è‡ªå®šä¹‰ç±»@MyAnnotationpublic class Person1 extends Creature&lt;String&gt; implements Comparable&lt;String&gt;,MyInterface&#123;    private String name;    int age;    public int id;    public Person1() &#123;    &#125;    @MyAnnotation(value = &quot;constructor&quot;)    private Person1(String name) &#123;        this.name = name;    &#125;    Person1(String name,int age)&#123;        this.name = name;        this.age = age;    &#125;    @MyAnnotation(value = &quot;nation&quot;)    private String show(String nation)&#123;        System.out.println(&quot;æˆ‘çš„å›½ç±æ˜¯&quot; + nation);        return nation;    &#125;    public String display(String interest,int age) throws NullPointerException,ClassCastException&#123;        return interest + age;    &#125;    @Override    public void Info() &#123;        System.out.println(&quot;è¿™æ˜¯ä¸€ä¸ªäºº&quot;);    &#125;    @Override    public int compareTo(String o) &#123;        return 0;    &#125;        private static void showDesc()&#123;        System.out.println(&quot;æˆ‘æ˜¯Person1ç±»çš„é™æ€æ–¹æ³•&quot;);    &#125;        @Override    public String toString() &#123;        return &quot;Person1&#123;&quot; +                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +                &quot;, age=&quot; + age +                &quot;, id=&quot; + id +                &#39;&#125;&#39;;    &#125;&#125;</code></pre><pre><code class="java">//è‡ªå®šä¹‰ç±»çš„çˆ¶ç±»public class Creature&lt;T&gt; implements Serializable &#123;    private char gender;    public double weight;    private void breath()&#123;        System.out.println(&quot;ç”Ÿç‰©å‘¼å¸&quot;);    &#125;    public void eat()&#123;        System.out.println(&quot;ç”Ÿç‰©åƒä¸œè¥¿&quot;);    &#125;&#125;//è‡ªå®šä¹‰ç±»çš„æ³¨è§£@Target(&#123;TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR, LOCAL_VARIABLE&#125;)@Retention(RetentionPolicy.SOURCE)public @interface MyAnnotation &#123;    String value() default &quot;hello&quot;;&#125;//è‡ªå®šä¹‰ç±»å®ç°çš„æ¥å£public interface MyInterface &#123;    void Info();&#125;</code></pre><h4 id="14-5-2-è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„"><a href="#14-5-2-è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„" class="headerlink" title="14.5.2 è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„"></a>14.5.2 è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„</h4><pre><code class="java">//è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„@Testpublic void TestGetField()&#123;    Class&lt;Person1&gt; clazz = Person1.class;    //è·å–å±æ€§ç»“æ„    //getFields():è·å–å½“å‰è¿è¡Œæ—¶ç±»åŠå…¶çˆ¶ç±»ä¸­å£°æ˜ä¸ºpublicè®¿é—®æƒé™çš„å±æ€§    Field[] fields = clazz.getFields();    for (Field field : fields) &#123;        System.out.println(field);        //public int Reflection.Person1.id        // public double Reflection.Creature.weight    &#125;     System.out.println(&quot;*********************&quot;);    //getDeclaredFields():è·å–å½“å‰è¿è¡Œæ—¶ç±»ä¸­å£°æ˜çš„æ‰€æœ‰å±æ€§ï¼ˆä¸åŒ…å«çˆ¶ç±»ä¸­å£°æ˜çš„å±æ€§ï¼‰    Field[] declaredFields = clazz.getDeclaredFields();    for (Field declaredField : declaredFields) &#123;        System.out.println(declaredField);        //private java.lang.String Reflection.Person1.name        // int Reflection.Person1.age        // public int Reflection.Person1.id    &#125;    System.out.println(&quot;*********************&quot;);        //è·å–å±æ€§çš„æƒé™ä¿®é¥°ç¬¦ï¼Œæ•°æ®ç±»å‹ï¼Œå˜é‡å    for (Field declaredField : declaredFields) &#123;        //æƒé™ä¿®é¥°ç¬¦        int modifier = declaredField.getModifiers();        System.out.print(Modifier.toString(modifier) + &quot;\t&quot;);        //æ•°æ®ç±»å‹        Class type = declaredField.getType();        System.out.print(type + &quot;\t&quot;);        //å˜é‡å        String name = declaredField.getName();        System.out.println(name);        //private    class java.lang.String    name        //    int    age        //public    int    id    &#125;&#125;</code></pre><h4 id="14-5-3-è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„"><a href="#14-5-3-è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„" class="headerlink" title="14.5.3 è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„"></a>14.5.3 è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„</h4><pre><code class="java">//è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„@Testpublic void TestGetMethod()&#123;    Class&lt;Person1&gt; clazz = Person1.class;    //getMethods():è·å–å½“å‰è¿è¡Œæ—¶ç±»åŠå…¶æ‰€æœ‰çˆ¶ç±»ä¸­å£°æ˜ä¸ºpublicæƒé™çš„æ–¹æ³•    Method[] methods = clazz.getMethods();    for (Method method : methods) &#123;        System.out.println(method);        //public int Reflection.Person1.compareTo(java.lang.String)        //public int Reflection.Person1.compareTo(java.lang.Object)        //public void Reflection.Person1.Info()        //public java.lang.String Reflection.Person1.display(java.lang.String,int) throws java.lang.NullPointerException,java.lang.ClassCastException        //public void Reflection.Creature.eat()        //public final void java.lang.Object.wait() throws java.lang.InterruptedException        //public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException        //public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException        //public boolean java.lang.Object.equals(java.lang.Object)        //public java.lang.String java.lang.Object.toString()        //public native int java.lang.Object.hashCode()        //public final native java.lang.Class java.lang.Object.getClass()        //public final native void java.lang.Object.notify()        //public final native void java.lang.Object.notifyAll()    &#125;    System.out.println(&quot;************************&quot;);    //getDeclaredMethods():è·å–å½“å‰è¿è¡Œæ—¶ç±»ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•(ä¸åŒ…å«çˆ¶ç±»ä¸­çš„æ–¹æ³•)    Method[] declaredMethods = clazz.getDeclaredMethods();    for (Method declaredMethod : declaredMethods) &#123;        System.out.println(declaredMethod);        //public int Reflection.Person1.compareTo(java.lang.String)        //public int Reflection.Person1.compareTo(java.lang.Object)        //public void Reflection.Person1.Info()        //public java.lang.String Reflection.Person1.display(java.lang.String,int) throws java.lang.NullPointerException,java.lang.ClassCastException        //private java.lang.String Reflection.Person1.show(java.lang.String)    &#125;    System.out.println(&quot;*************************&quot;);    //è·å–æ–¹æ³•çš„å†…éƒ¨ç»“æ„    // @Xxx(æ³¨è§£)    // æƒé™ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å (å‚æ•°å€¼ç±»å‹1 å½¢å‚å1) throws XxxException &#123;&#125;    for (Method declaredMethod : declaredMethods) &#123;        //1.è·å–æ–¹æ³•å£°æ˜çš„æ³¨è§£        Annotation[] annotations = declaredMethod.getAnnotations();        for (Annotation annotation : annotations) &#123;            System.out.println(annotation);//@Reflection.MyAnnotation(value=nation)            //èƒ½è¢«è·å–åˆ°çš„æ³¨è§£å…¶å…ƒæ³¨è§£Retentionçš„å€¼éœ€è¦æ˜¯RUNTIME        &#125;        //2.è·å–æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦        System.out.print(Modifier.toString(declaredMethod.getModifiers()) + &quot;\t&quot;);        //3.è·å–æ–¹æ³•çš„è¿”å›å€¼ç±»å‹        System.out.print(declaredMethod.getReturnType().getName() + &quot;\t&quot;);        //4.è·å–æ–¹æ³•å        System.out.print(declaredMethod.getName());        //5.è·å–å½¢å‚åˆ—è¡¨        //æ–¹æ³•ä¸€ï¼š        System.out.print(&quot;(&quot;);        Class[] parameterTypes = declaredMethod.getParameterTypes();//è·å–åˆ°å½¢å‚åˆ—è¡¨çš„æ‰€æœ‰å‚æ•°ç±»å‹        if(!(parameterTypes == null || parameterTypes.length == 0))&#123;//åˆ¤æ–­æ˜¯å¦ä¸ºç©º            for (int i = 0;i &lt; parameterTypes.length;i++) &#123;//éå†å½¢å‚åˆ—è¡¨                if (i == parameterTypes.length-1)&#123;//åˆ¤æ–­æ˜¯å¦ä¸ºå½¢å‚åˆ—è¡¨æœ€åä¸€ä¸ªå‚æ•°ï¼Œè‹¥æ˜¯å°±ä¸ç”¨åŠ &quot;,&quot;ï¼Œç„¶åè·³å‡ºéå†å¾ªç¯                    System.out.print(parameterTypes[i].getName() + &quot; &quot; + &quot;arg_&quot; + i);                    break;                &#125;                System.out.print(parameterTypes[i].getName() + &quot; &quot; + &quot;arg_&quot; + i + &quot;,&quot;);            &#125;        &#125;        System.out.print(&quot;)&quot;);        //æ–¹æ³•äºŒï¼š        System.out.print(&quot;(&quot;);        Parameter[] parameters = declaredMethod.getParameters();        if (!(parameters == null || parameters.length == 0))&#123;            for (int i = 0;i &lt; parameters.length;i++) &#123;                if (i == parameters.length - 1)&#123;                    System.out.print(parameters[i]);                    break;                &#125;                System.out.print(parameters[i] + &quot;,&quot;);            &#125;        &#125;        System.out.print(&quot;)&quot;);        //6.è·å–æŠ›å‡ºçš„å¼‚å¸¸        Class[] exceptionTypes = declaredMethod.getExceptionTypes();        if (!(exceptionTypes == null || exceptionTypes.length == 0))&#123;            System.out.print(&quot; throws &quot;);            for (int i = 0; i &lt; exceptionTypes.length; i++) &#123;                if (i == exceptionTypes.length - 1)&#123;                    System.out.print(exceptionTypes[i].getName());                    break;                &#125;                System.out.print(exceptionTypes[i].getName() + &quot;,&quot;);            &#125;        &#125;        System.out.println();        //public    int    compareTo(java.lang.String arg_0)        //public volatile    int    compareTo(java.lang.Object arg_0)        //public    void    Info()        //public    java.lang.String    display(java.lang.String arg_0,int arg_1) throws java.lang.NullPointerException,java.lang.ClassCastException        //@Reflection.MyAnnotation(value=nation)        //private    java.lang.String    show(java.lang.String arg_0)    &#125;&#125;</code></pre><h4 id="14-5-4-è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„"><a href="#14-5-4-è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„" class="headerlink" title="14.5.4 è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„"></a>14.5.4 è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„</h4><pre><code class="java">//è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„@Testpublic void TestGetConstructor()&#123;    Class&lt;Person1&gt; clazz = Person1.class;    //getConstructor():è·å–å½“å‰è¿è¡Œæ—¶ç±»ä¸­å£°æ˜ä¸ºpublicçš„æ„é€ å™¨(ä¸åŒ…å«çˆ¶ç±»æ„é€ å™¨)    Constructor[] constructors = clazz.getConstructors();    for (Constructor constructor : constructors) &#123;        System.out.println(constructor);//public Reflection.Person1()    &#125;    //getDeclaredConstructors():è·å–å½“å‰è¿è¡Œæ—¶ç±»ä¸­å£°æ˜çš„æ‰€æœ‰æ„é€ å™¨    Constructor&lt;?&gt;[] declaredConstructors = clazz.getDeclaredConstructors();    for (Constructor&lt;?&gt; declaredConstructor : declaredConstructors) &#123;        System.out.println(declaredConstructor);        //Reflection.Person1(java.lang.String,int)        //private Reflection.Person1(java.lang.String)        //public Reflection.Person1()    &#125;    //è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨å†…éƒ¨ç»“æ„è·Ÿæ–¹æ³•ä¸€æ ·ï¼Œä½¿ç”¨è·å–åˆ°çš„æ„é€ å™¨å†è°ƒç”¨ç›¸åº”çš„è·å–ä¿®é¥°ç¬¦ã€æ„é€ å™¨åå­—ã€å‚æ•°ç±»å‹ã€å‚æ•°åçš„æ–¹æ³•å³å¯&#125;</code></pre><h4 id="14-5-5-è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»æ³›å‹"><a href="#14-5-5-è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»æ³›å‹" class="headerlink" title="14.5.5 è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»æ³›å‹"></a>14.5.5 è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»æ³›å‹</h4><pre><code class="java">//è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»æ³›å‹@Testpublic void TestGetParent()&#123;    Class&lt;Person1&gt; clazz = Person1.class;    //getSuperClass():è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»    Class superclass = clazz.getSuperclass();    System.out.println(superclass);//class Reflection.Creature    //getGenericSuperClass():è·å–è¿è¡Œæ—¶ç±»çš„å¸¦æ³›å‹çš„çˆ¶ç±»    Type genericSuperclass = clazz.getGenericSuperclass();    System.out.println(genericSuperclass);//Reflection.Creature&lt;java.lang.String&gt;    //getActualTypeArguments():è·å–è¿è¡Œæ—¶ç±»çš„å¸¦æ³›å‹çš„çˆ¶ç±»çš„æ³›å‹    ParameterizedType paramType = (ParameterizedType) genericSuperclass;//å°†æ³›å‹çˆ¶ç±»å¯¹è±¡è½¬æ¢æˆå¸¦æ³›å‹å‚æ•°çš„çˆ¶ç±»å¯¹è±¡    Type[] actualTypeArguments = paramType.getActualTypeArguments();//è·å–å…·ä½“æ³›å‹å‚æ•°ç±»å‹    for (Type actualTypeArgument : actualTypeArguments) &#123;        System.out.println(actualTypeArgument.getTypeName());//java.lang.String    &#125;&#125;</code></pre><h4 id="14-5-6-è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰"><a href="#14-5-6-è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰" class="headerlink" title="14.5.6 è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰"></a>14.5.6 è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰</h4><pre><code class="java">//è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰@Testpublic void TestGetOther()&#123;    Class&lt;Person1&gt; clazz = Person1.class;    //getInterfaces():è·å–è¿è¡Œæ—¶ç±»å®ç°çš„æ¥å£    Class[] interfaces = clazz.getInterfaces();    for (Class anInterface : interfaces) &#123;        System.out.println(anInterface);//interface java.lang.Comparable   interface Reflection.MyInterface    &#125;    //è·å–è¿è¡Œæ—¶ç±»çˆ¶ç±»å®ç°çš„æ¥å£    Class[] interfaces1 = clazz.getSuperclass().getInterfaces();    for (Class aClass : interfaces1) &#123;        System.out.println(aClass);//interface java.io.Serializable    &#125;    //è·å–è¿è¡Œæ—¶ç±»æ‰€åœ¨çš„åŒ…    Package aPackage = clazz.getPackage();    System.out.println(aPackage);//package Reflection    //è·å–è¿è¡Œæ—¶ç±»çš„æ³¨è§£    Annotation[] annotations = clazz.getAnnotations();    for (Annotation annotation : annotations) &#123;        System.out.println(annotation);//@Reflection.MyAnnotation(value=hello)    &#125;&#125;</code></pre><h3 id="14-6-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„"><a href="#14-6-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„" class="headerlink" title="14.6 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„"></a>14.6 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„</h3><h4 id="14-6-1-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šå±æ€§"><a href="#14-6-1-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šå±æ€§" class="headerlink" title="14.6.1 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šå±æ€§"></a>14.6.1 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šå±æ€§</h4><pre><code class="java">//è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šå±æ€§ -- éœ€è¦æŒæ¡@Testpublic void TestTransferField() throws InstantiationException, IllegalAccessException, NoSuchFieldException &#123;    Class&lt;Person1&gt; clazz = Person1.class;    //åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡    Person1 person = clazz.newInstance();    //getField()è·å–æŒ‡å®šçš„å±æ€§:è¦æ±‚è¿è¡Œæ—¶ç±»ä¸­å±æ€§å£°æ˜ä¸ºpublic    Field id = clazz.getField(&quot;id&quot;);    //è®¾ç½®å½“å‰å±æ€§çš„å€¼   set():å‚æ•°1æŒ‡æ˜å“ªä¸ªå¯¹è±¡çš„å±æ€§   å‚æ•°2å°†æ­¤å±æ€§å€¼è®¾ç½®ä¸ºå¤šå°‘    id.set(person,1001);    //è·å–å½“å‰å±æ€§çš„å€¼   get():å‚æ•°1è·å–å“ªä¸ªå¯¹è±¡çš„å½“å‰å±æ€§å€¼    int pId = (int) id.get(person);    System.out.println(pId);//1001    //getDeclaredField(String fieldName)è·å–è¿è¡Œæ—¶ç±»ä¸­æŒ‡å®šå˜é‡åçš„å±æ€§    Field name = clazz.getDeclaredField(&quot;name&quot;);    name.setAccessible(true);//ä¿è¯å½“å‰å±æ€§æ˜¯å¯è®¿é—®çš„    //è·å–ã€è®¾ç½®å½“å‰å¯¹è±¡çš„å±æ€§å€¼    name.set(person,&quot;Tom&quot;);    System.out.println(name.get(person));//Tom&#125;</code></pre><h4 id="14-6-2-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ–¹æ³•"><a href="#14-6-2-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ–¹æ³•" class="headerlink" title="14.6.2 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ–¹æ³•"></a>14.6.2 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ–¹æ³•</h4><pre><code class="java">//è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ–¹æ³•@Testpublic void TestTransferMethod() throws InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException &#123;    Class&lt;Person1&gt; clazz = Person1.class;    //åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡    Person1 person = clazz.newInstance();    //è·å–æŒ‡å®šçš„æŸä¸ªæ–¹æ³•(è°ƒç”¨éé™æ€æ–¹æ³•)    //getDeclaredMethod():å‚æ•°1âˆ¶æŒ‡æ˜è·å–çš„æ–¹æ³•çš„åç§°ï¹‘å‚æ•°2:æŒ‡æ˜è·å–çš„æ–¹æ³•çš„å½¢å‚åˆ—è¡¨    Method show = clazz.getDeclaredMethod(&quot;show&quot;, String.class);    show.setAccessible(true);//ä¿è¯å½“å‰æ–¹æ³•å¯è®¿é—®    //invoke():å‚æ•°1:æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œå‚æ•°2:ç»™æ–¹æ³•å½¢å‚èµ‹å€¼çš„å®å‚ï¼Œå…¶è¿”å›å€¼ä¸ºå¯¹åº”ç±»ä¸­è°ƒç”¨è¯¥æ–¹æ³•çš„è¿”å›å€¼    Object chn = show.invoke(person, &quot;CHN&quot;);//ç±»ä¼¼äºString chn = person.show(&quot;CHN&quot;);    System.out.println(chn);//CHN    //è°ƒç”¨é™æ€æ–¹æ³•    Method showDesc = clazz.getDeclaredMethod(&quot;showDesc&quot;);    showDesc.setAccessible(true);    Object invoke = showDesc.invoke(Person.class);//ç±»ä¼¼äºPerson.showDesc()    System.out.println(invoke);//nullï¼Œæ–¹æ³•æ²¡æœ‰è¿”å›å€¼åˆ™invokeè¿”å›null&#125;</code></pre><h4 id="14-6-3-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ„é€ å™¨"><a href="#14-6-3-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ„é€ å™¨" class="headerlink" title="14.6.3 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ„é€ å™¨"></a>14.6.3 è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ„é€ å™¨</h4><pre><code class="java">//è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šæ„é€ å™¨@Testpublic void TestTransferConstructor() throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;    //ä¸€èˆ¬æƒ…å†µéƒ½ç”¨newInstance()æ–¹æ³•è°ƒç”¨ç©ºå‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡    Class&lt;Person1&gt; clazz = Person1.class;    //è°ƒç”¨æŒ‡å®šæ„é€ å™¨    //getDeclaredConstructor():å‚æ•°:æŒ‡æ˜è¦è°ƒç”¨çš„æ„é€ å™¨çš„å‚æ•°åˆ—è¡¨    Constructor&lt;Person1&gt; constructor = clazz.getDeclaredConstructor(String.class);    constructor.setAccessible(true);//ä¿è¯å½“å‰æ„é€ å™¨å¯è®¿é—®    //è°ƒç”¨æ­¤æ„é€ å™¨åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡    Person1 person = constructor.newInstance(&quot;Tom&quot;);    System.out.println(person);//Person1&#123;name=&#39;Tom&#39;, age=0, id=0&#125;&#125;</code></pre><h3 id="14-7-åå°„çš„åº”ç”¨ï¼šåŠ¨æ€ä»£ç†"><a href="#14-7-åå°„çš„åº”ç”¨ï¼šåŠ¨æ€ä»£ç†" class="headerlink" title="14.7 åå°„çš„åº”ç”¨ï¼šåŠ¨æ€ä»£ç†"></a>14.7 åå°„çš„åº”ç”¨ï¼šåŠ¨æ€ä»£ç†</h3><p>ä»£ç†è®¾è®¡æ¨¡å¼çš„åŸç†ï¼š</p><p><strong>ä½¿ç”¨ä¸€ä¸ªä»£ç†å°†å¯¹è±¡åŒ…è£…èµ·æ¥</strong>,ç„¶å<strong>ç”¨è¯¥ä»£ç†å¯¹è±¡å–ä»£åŸå§‹å¯¹è±¡</strong>ã€‚ä»»ä½•å¯¹åŸå§‹å¯¹è±¡çš„è°ƒç”¨éƒ½è¦é€šè¿‡ä»£ç†ã€‚<strong>ä»£ç†å¯¹è±¡å†³å®šæ˜¯å¦ä»¥åŠä½•æ—¶å°†æ–¹æ³•è°ƒç”¨è½¬åˆ°åŸå§‹å¯¹è±¡ä¸Š</strong></p><p>ä¹‹å‰5.6.2æ¥å£ä¸­æåˆ°çš„ä»£ç†æœºåˆ¶çš„æ“ä½œï¼Œå±äº<strong>é™æ€ä»£ç†</strong>ï¼Œç‰¹å¾æ˜¯<strong>ä»£ç†ç±»å’Œç›®æ ‡å¯¹è±¡çš„ç±»éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šä¸‹æ¥ï¼Œä¸åˆ©äºç¨‹åºçš„æ‰©å±•</strong>ã€‚åŒæ—¶ï¼Œæ¯ä¸€ä¸ªä»£ç†ç±»åªèƒ½ä¸ºä¸€ä¸ªæ¥å£æœåŠ¡ï¼Œè¿™æ ·ä¸€æ¥ç¨‹åºå¼€å‘ä¸­å¿…ç„¶äº§ç”Ÿè¿‡å¤šçš„ä»£ç†ã€‚<strong>æœ€å¥½å¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†ç±»å®Œæˆå…¨éƒ¨çš„ä»£ç†åŠŸèƒ½</strong></p><h4 id="14-7-1-åŠ¨æ€ä»£ç†"><a href="#14-7-1-åŠ¨æ€ä»£ç†" class="headerlink" title="14.7.1 åŠ¨æ€ä»£ç†"></a>14.7.1 åŠ¨æ€ä»£ç†</h4><p>åŠ¨æ€ä»£ç†æ˜¯<strong>æŒ‡å®¢æˆ·é€šè¿‡ä»£ç†ç±»æ¥è°ƒç”¨å…¶å®ƒå¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€åˆ›å»ºç›®æ ‡ç±»çš„ä»£ç†å¯¹è±¡</strong></p><p>åŠ¨æ€ä»£ç†<strong>ä½¿ç”¨åœºåˆï¼š</strong></p><ul><li><strong>è°ƒè¯•</strong></li><li><strong>è¿œç¨‹æ–¹æ³•è°ƒç”¨</strong></li></ul><p>åŠ¨æ€ä»£ç†ç›¸æ¯”äºé™æ€ä»£ç†çš„<strong>ä¼˜ç‚¹ï¼š</strong><br><strong>æŠ½è±¡è§’è‰²ä¸­ï¼ˆæ¥å£ï¼‰å£°æ˜çš„æ‰€æœ‰æ–¹æ³•éƒ½è¢«è½¬ç§»åˆ°è°ƒç”¨å¤„ç†å™¨ä¸€ä¸ªé›†ä¸­çš„æ–¹æ³•ä¸­å¤„ç†</strong>ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ çµæ´»å’Œç»Ÿä¸€çš„å¤„ç†ä¼—å¤šçš„æ–¹æ³•</p><h4 id="14-7-2-é™æ€ä»£ç†å®ä¾‹"><a href="#14-7-2-é™æ€ä»£ç†å®ä¾‹" class="headerlink" title="14.7.2 é™æ€ä»£ç†å®ä¾‹"></a>14.7.2 é™æ€ä»£ç†å®ä¾‹</h4><pre><code class="java">//é™æ€ä»£ç†æµ‹è¯•//ç‰¹ç‚¹ï¼šä»£ç†ç±»å’Œè¢«ä»£ç†ç±»åœ¨ç¼–è¯‘æœŸé—´å°±ç¡®å®šä¸‹æ¥äº†public class StaticProxyTest &#123;    public static void main(String[] args) &#123;        //åˆ›å»ºè¢«ä»£ç†ç±»å¯¹è±¡        ClothFactory nike = new NikeClothFactory();        //ç”¨è¢«ä»£ç†ç±»å¯¹è±¡åˆ›å»ºä»£ç†ç±»å¯¹è±¡        ProxyClothFactory proxyClothFactory = new ProxyClothFactory(nike);        //è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•        proxyClothFactory.produceCloth();    &#125;&#125;interface ClothFactory&#123;    void produceCloth();&#125;//ä»£ç†ç±»class ProxyClothFactory implements ClothFactory&#123;    private ClothFactory factory;    public ProxyClothFactory(ClothFactory factory)&#123;        this.factory = factory;    &#125;    @Override    public void produceCloth() &#123;        System.out.println(&quot;ä»£ç†å·¥å‚åšå‡†å¤‡å·¥ä½œ&quot;);        factory.produceCloth();        System.out.println(&quot;ä»£ç†å·¥å‚åšåç»­æ”¶å°¾å·¥ä½œ&quot;);    &#125;&#125;//è¢«ä»£ç†ç±»class NikeClothFactory implements ClothFactory&#123;    @Override    public void produceCloth() &#123;        System.out.println(&quot;Nikeå·¥å‚ç”Ÿäº§è¿åŠ¨æœ&quot;);    &#125;&#125;</code></pre><h4 id="14-7-3-åŠ¨æ€ä»£ç†å®ä¾‹"><a href="#14-7-3-åŠ¨æ€ä»£ç†å®ä¾‹" class="headerlink" title="14.7.3 åŠ¨æ€ä»£ç†å®ä¾‹"></a>14.7.3 åŠ¨æ€ä»£ç†å®ä¾‹</h4><pre><code class="java">//åŠ¨æ€ä»£ç†æµ‹è¯•//è¦æƒ³å®ç°åŠ¨æ€ä»£ç†ï¼Œéœ€è¦è§£å†³çš„é—®é¢˜?//é—®é¢˜ä¸€:å¦‚ä½•æ ¹æ®åŠ è½½åˆ°å†…å­˜ä¸­çš„è¢«ä»£ç†ç±»ï¼ŒåŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªä»£ç†ç±»åŠå…¶å¯¹è±¡(åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒ)//é—®é¢˜äºŒ:å½“é€šè¿‡ä»£ç†ç±»çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•aæ—¶ï¼Œå¦‚ä½•åŠ¨æ€çš„å»è°ƒç”¨è¢«ä»£ç†ç±»ä¸­çš„åŒåæ–¹æ³•apublic class DynamicProxyTest &#123;    public static void main(String[] args) &#123;        //åˆ›å»ºè¢«ä»£ç†ç±»å¯¹è±¡        SuperMan superMan = new SuperMan();        //åˆ›å»ºä»£ç†ç±»å¯¹è±¡        //å› ä¸ºä»£ç†ç±»å’Œè¢«ä»£ç†ç±»éƒ½ä¼šå®ç°ç›¸åŒçš„æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥å°†ä»£ç†ç±»è½¬æ¢æˆæ¥å£å¯¹è±¡        Human proxyInstance = (Human) ProxyFactor.getProxyInstance(superMan);//æ­¤æ—¶çš„proxyInstanceå°±æ˜¯ä»£ç†ç±»çš„å¯¹è±¡        //å½“é€šè¿‡ä»£ç†ç±»å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¢«ä»£ç†ç±»ä¸­åŒåçš„æ–¹æ³•        String belief = proxyInstance.getBelief();        System.out.println(belief);        proxyInstance.eat(&quot;å››å·éº»è¾£çƒ«&quot;);        System.out.println(&quot;***********************&quot;);        NikeClothFactory nikeClothFactory = new NikeClothFactory();        ClothFactory proxyClothFactory = (ClothFactory) ProxyFactor.getProxyInstance(nikeClothFactory);        proxyClothFactory.produceCloth();    &#125;&#125;interface Human&#123;    String getBelief();    void eat(String food);&#125;//è¢«ä»£ç†ç±»class SuperMan implements Human&#123;    @Override    public String getBelief() &#123;        return &quot;I believe I can fly!&quot;;    &#125;    @Override    public void eat(String food) &#123;        System.out.println(&quot;æˆ‘å–œæ¬¢åƒ&quot; + food);    &#125;&#125;//ä¸‹æ–¹ä¸¤ä¸ªç±»çš„ä¸ªäººç†è§£:ä»£ç†ç±»åˆ›å»ºå®ä¾‹çš„æ­¥éª¤å’Œè°ƒç”¨ä»£ç†ç±»ä¸­ä¸è¢«ä»£ç†ç±»ä¸­çš„åŒåæ–¹æ³•çš„æ­¥éª¤è¢«åˆ†æˆä¸¤ä¸ªç±»å•ç‹¬å¤„ç†ï¼Œç”±äºè¢«ä»£ç†ç±»çš„ä¸ç¡®å®šæ€§ï¼Œåˆ™åˆ›å»ºå‡ºçš„ä»£ç†ç±»çš„å¯¹è±¡ä¹Ÿå…·æœ‰ä¸ç¡®å®šæ€§ï¼Œæ‰€ä»¥å°±ä½“ç°å‡ºäº†åŠ¨æ€ä»£ç†çš„åŠ¨æ€æ€§//æ ¹æ®è¢«ä»£ç†ç±»åˆ›å»ºä»£ç†ç±»çš„å·¥å‚class ProxyFactor&#123;    //è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªä»£ç†ç±»çš„å¯¹è±¡    public static Object getProxyInstance(Object obj)&#123;//obj:è¢«ä»£ç†ç±»å¯¹è±¡        MyInvocationHandler handler = new MyInvocationHandler();        handler.bind(obj);        return Proxy.newProxyInstance(obj.getClass().getClassLoader(),obj.getClass().getInterfaces(),handler);        //newProxyInstance()ä¸­çš„å‚æ•°ï¼š        //ClassLoader loader:ç±»åŠ è½½å™¨å®šä¹‰ä»£ç†ç±»        //ç±»&lt;?&gt;[] interfaces:ä»£ç†ç±»éœ€è¦å®ç°çš„æ¥å£        //InvocationHandler h:è°ƒç”¨è¢«ä»£ç†ç±»çš„æ–¹æ³•çš„å…·ä½“å¤„ç†ç±»çš„å¯¹è±¡        //newProxyInstance()æ ¹æ®ä¼ å…¥çš„è¢«ä»£ç†ç±»çš„æ„é€ å™¨ã€ä»£ç†ç±»éœ€è¦å®ç°å“ªäº›æ¥å£ã€ä»£ç†ç±»å®ä¾‹è°ƒç”¨è¢«ä»£ç†ç±»æ–¹æ³•çš„å…·ä½“å¤„ç†ç±»çš„å¯¹è±¡æ¥åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªä»£ç†ç±»å¯¹è±¡    &#125;&#125;//ä»£ç†ç±»å®ä¾‹è°ƒç”¨ä»£ç†ç±»ä¸­ä¸è¢«ä»£ç†ç±»ä¸­è¢«è°ƒç”¨çš„åŒåæ–¹æ³•çš„å…·ä½“ç±»class MyInvocationHandler implements InvocationHandler&#123;    private Object obj;//éœ€è¦ä½¿ç”¨è¢«ä»£ç†ç±»çš„å¯¹è±¡è¿›è¡Œèµ‹å€¼    public void bind(Object obj)&#123;        this.obj = obj;    &#125;    //å½“æˆ‘ä»¬é€šè¿‡ä»£ç†ç±»å¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•aæ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å¦‚ä¸‹çš„æ–¹æ³•ï¼šinvoke()    //å°†è¢«ä»£ç†ç±»è¦æ‰§è¡Œçš„æ–¹æ³•açš„åŠŸèƒ½å°±å£°æ˜åœ¨invoke()ä¸­    @Override    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;//ç›¸å½“äºæ˜¯è°ƒç”¨ä»£ç†ç±»ä¸­çš„methodæ–¹æ³•ï¼Œç„¶åå†åœ¨é‡Œé¢è°ƒç”¨è¢«ä»£ç†ç±»çš„åŒåæ–¹æ³•        //proxy:è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç†å®ä¾‹        //method:å³ä¸ºä»£ç†ç±»å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¹Ÿå°±ä½œä¸ºäº†è¢«ä»£ç†ç±»å¯¹è±¡è¦è°ƒç”¨çš„æ–¹æ³•        //args:è¢«è°ƒç”¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨        //obj:è¢«ä»£ç†ç±»å¯¹è±¡        Object returnValue = method.invoke(obj, args);//ç±»ä¼¼obj.method(args)        //ä¸Šè¿°æ–¹æ³•çš„è¿”å›å€¼å°±ä½œä¸ºå½“å‰ç±»ä¸­çš„invoke()çš„è¿”å›å€¼        return returnValue;    &#125;&#125;</code></pre><h4 id="14-7-4-åŠ¨æ€ä»£ç†ä¸AOP"><a href="#14-7-4-åŠ¨æ€ä»£ç†ä¸AOP" class="headerlink" title="14.7.4 åŠ¨æ€ä»£ç†ä¸AOP"></a>14.7.4 åŠ¨æ€ä»£ç†ä¸AOP</h4><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648255.png' data-fancybox='default' data-caption='image-20210812132140133'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648255.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648255.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210812132140133"></a><span class='image-caption'>image-20210812132140133</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648307.png' data-fancybox='default' data-caption='image-20210812132406550'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648307.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648307.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210812132406550"></a><span class='image-caption'>image-20210812132406550</span></div></div><div galleryFlag itemscope itemtype="http://schema.org/ImageGallery" class="gallery " data-group='default'><div class='fancybox'><a class='fancybox' pjax-fancybox itemscope itemtype="http://schema.org/ImageObject" itemprop="url" href='https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648947.png' data-fancybox='default' data-caption='image-20210812132428676'><img fancybox itemprop="contentUrl" src="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648947.png" class="lazyload" data-srcset="https://rainvex-1305747533.cos.ap-chengdu.myqcloud.com/images/202109201648947.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20210812132428676"></a><span class='image-caption'>image-20210812132428676</span></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;JavaSEå­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#JavaSEå­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;JavaSEå­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;JavaSEå­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;p&gt;JDK8å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ï¼š&lt;a href=&quot;https://docs.oracl</summary>
      
    
    
    
    <category term="åç«¯" scheme="http://rainvex.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ç¬”è®°" scheme="http://rainvex.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Java" scheme="http://rainvex.com/tags/Java/"/>
    
    <category term="åç«¯" scheme="http://rainvex.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
  </entry>
  
</feed>
